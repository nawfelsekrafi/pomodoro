(self.webpackChunkpomoguru=self.webpackChunkpomoguru||[]).push([[179],{8255:Qe=>{function De(F){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+F+"'");throw g.code="MODULE_NOT_FOUND",g})}De.keys=()=>[],De.resolve=De,De.id=8255,Qe.exports=De},3018:(Qe,De,F)=>{"use strict";F.d(De,{deG:()=>il,tb:()=>bD,AFp:()=>ny,ip1:()=>Kf,CZH:()=>Nd,hGG:()=>np,z2F:()=>Jf,sBO:()=>Rm,Sil:()=>Sc,_Vd:()=>rd,EJc:()=>TD,SBq:()=>ai,qLn:()=>vl,vpe:()=>hs,gxx:()=>Ml,tBr:()=>Cs,XFs:()=>xe,OlP:()=>pn,zs3:()=>xn,ZZ4:()=>so,aQg:()=>Cf,soG:()=>Md,YKP:()=>D0,v3s:()=>$E,h0i:()=>Pt,PXZ:()=>BE,R0b:()=>ci,FiY:()=>ss,Lbi:()=>iy,g9A:()=>CD,Qsj:()=>_0,FYo:()=>sd,JOm:()=>Zs,Tiy:()=>Tm,q3G:()=>An,tp0:()=>Gs,EAV:()=>Zx,Rgc:()=>ad,dDg:()=>sy,DyG:()=>Na,q4F:()=>gc,GfV:()=>Sm,s_b:()=>er,ifc:()=>on,eFA:()=>jD,G48:()=>OE,Gpc:()=>ie,X6Q:()=>ay,_c5:()=>r1,VLi:()=>Vx,c2e:()=>DD,zSh:()=>Ol,wAp:()=>rt,vHH:()=>Te,EiD:()=>i_,mCW:()=>Ro,qzn:()=>P,JVY:()=>Re,pB0:()=>In,eBb:()=>ct,L6k:()=>Ke,LAX:()=>Ct,cg1:()=>Jv,Tjo:()=>t1,kL8:()=>Kl,yhl:()=>re,dqk:()=>j,sIi:()=>Bo,CqO:()=>Ho,QGY:()=>Dv,F4k:()=>Ob,RDi:()=>_o,AaK:()=>K,z3N:()=>x,qOj:()=>kg,TTD:()=>zc,_Bn:()=>oI,xp6:()=>EC,uIk:()=>sv,ekj:()=>$o,Suo:()=>Wm,Xpm:()=>Ie,lG2:()=>qt,Yz7:()=>Yt,cJS:()=>Jr,oAB:()=>Cn,Yjl:()=>Si,Y36:()=>Wh,_UZ:()=>Iv,qZA:()=>oc,TgZ:()=>bv,EpF:()=>ac,n5z:()=>Lp,Ikx:()=>lc,LFG:()=>bn,$8M:()=>mi,NdJ:()=>Wg,CRH:()=>Zm,kcU:()=>el,O4$:()=>Ea,oxw:()=>Sv,Q6J:()=>Zh,iGM:()=>xd,MAs:()=>dv,CHM:()=>Du,LSH:()=>zs,kYT:()=>Tn,YNc:()=>mb,_uU:()=>cc,Oqu:()=>Fv,Gf:()=>Ff});var g=F(9765),B=F(5319),V=F(7574),fe=F(6682),ve=F(2441);var de=F(1307);function Y(){return new g.xQ}function L(s){for(let o in s)if(s[o]===L)return o;throw Error("Could not find renamed property on target object.")}function X(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function K(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(K).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function J(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const me=L({__forward_ref__:L});function ie(s){return s.__forward_ref__=ie,s.toString=function(){return K(this())},s}function te(s){return Le(s)?s():s}function Le(s){return"function"==typeof s&&s.hasOwnProperty(me)&&s.__forward_ref__===ie}class Te extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function Ve(s){return"string"==typeof s?s:null==s?"":String(s)}function bt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ve(s)}function ye(s,o){const u=o?` in ${o}`:"";throw new Te("201",`No provider for ${bt(s)} found${u}`)}function pt(s,o){null==s&&function(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Jr(s){return{providers:s.providers||[],imports:s.imports||[]}}function nr(s){return Xr(s,Vt)||Xr(s,Ji)}function Xr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qi(s){return s&&(s.hasOwnProperty(rr)||s.hasOwnProperty(ot))?s[rr]:null}const Vt=L({\u0275prov:L}),rr=L({\u0275inj:L}),Ji=L({ngInjectableDef:L}),ot=L({ngInjectorDef:L});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let zt;function sn(s){const o=zt;return zt=s,o}function $t(s,o,u){const l=nr(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&xe.Optional?null:void 0!==o?o:void ye(K(s),"Injector")}function ze(s){return{toString:s}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),on=(()=>((on=on||{})[on.Emulated=0]="Emulated",on[on.None=2]="None",on[on.ShadowDom=3]="ShadowDom",on))();const Wt="undefined"!=typeof globalThis&&globalThis,ys="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,j=Wt||H||ys||$,qe={},Ue=[],kt=L({\u0275cmp:L}),dn=L({\u0275dir:L}),On=L({\u0275pipe:L}),qn=L({\u0275mod:L}),Nt=L({\u0275loc:L}),ne=L({\u0275fac:L}),G=L({__NG_ELEMENT_ID__:L});let W=0;function Ie(s){return ze(()=>{const u={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||on.Emulated,id:"c",styles:s.styles||Ue,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,y=s.pipes;return l.id+=W++,l.inputs=ir(s.inputs,u),l.outputs=ir(s.outputs),f&&f.forEach(E=>E(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(at):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(Mt):null,l})}function at(s){return Sn(s)||function(s){return s[dn]||null}(s)}function Mt(s){return function(s){return s[On]||null}(s)}const Gt={};function Cn(s){return ze(()=>{const o={type:s.type,bootstrap:s.bootstrap||Ue,declarations:s.declarations||Ue,imports:s.imports||Ue,exports:s.exports||Ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Gt[s.id]=s.type),o})}function Tn(s,o){return ze(()=>{const u=Vr(s,!0);u.declarations=o.declarations||Ue,u.imports=o.imports||Ue,u.exports=o.exports||Ue})}function ir(s,o){if(null==s)return qe;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=l,o&&(o[d]=f)}return u}const qt=Ie;function Si(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Sn(s){return s[kt]||null}function Vr(s,o){const u=s[qn]||null;if(!u&&!0===o)throw new Error(`Type ${K(s)} does not have '\u0275mod' property.`);return u}function or(s){return Array.isArray(s)&&"object"==typeof s[1]}function yn(s){return Array.isArray(s)&&!0===s[1]}function Wd(s){return 0!=(8&s.flags)}function ti(s){return 2==(2&s.flags)}function $c(s){return 1==(1&s.flags)}function ni(s){return null!==s.template}function Ay(s){return 0!=(512&s[2])}function yo(s,o){return s.hasOwnProperty(ne)?s[ne]:null}class Yd{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function zc(){return Br}function Br(s){return s.type.prototype.ngOnChanges&&(s.setInput=Aw),Ny}function Ny(){const s=da(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===qe)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Aw(s,o,u,l){const d=da(s)||function(s,o){return s[Qd]=o}(s,{previous:qe,current:null}),f=d.current||(d.current={}),y=d.previous,E=this.declaredInputs[u],b=y[E];f[E]=new Yd(b&&b.currentValue,o,y===qe),s[l]=o}zc.ngInherit=!0;const Qd="__ngSimpleChanges__";function da(s){return s[Qd]||null}const Wc="http://www.w3.org/2000/svg";let Ns;function _o(s){Ns=s}function _n(s){return!!s.listen}const wu={createRenderer:(s,o)=>void 0!==Ns?Ns:"undefined"!=typeof document?document:void 0};function vn(s){for(;Array.isArray(s);)s=s[0];return s}function ha(s,o){return vn(o[s])}function Ni(s,o){return vn(o[s.index])}function fa(s,o){return s.data[o]}function fr(s,o){const u=o[s];return or(u)?u:u[0]}function Yc(s){return 4==(4&s[2])}function pa(s){return 128==(128&s[2])}function Xi(s,o){return null==o?null:s[o]}function Cp(s){s[18]=0}function Cu(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const gt={lFrame:Ly(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function bu(){return gt.bindingsEnabled}function Se(){return gt.lFrame.lView}function Ft(){return gt.lFrame.tView}function Du(s){return gt.lFrame.contextLView=s,s[8]}function Pn(){let s=Ip();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ip(){return gt.lFrame.currentTNode}function es(s,o){const u=gt.lFrame;u.currentTNode=s,u.isParent=o}function Tu(){return gt.lFrame.isParent}function Ms(){return gt.isInCheckNoChangesMode}function _a(s){gt.isInCheckNoChangesMode=s}function va(){return gt.lFrame.bindingIndex++}function Jc(s,o){const u=gt.lFrame;u.bindingIndex=u.bindingRootIndex=s,rh(o)}function rh(s){gt.lFrame.currentDirectiveIndex=s}function ih(){return gt.lFrame.currentQueryIndex}function Tp(s){gt.lFrame.currentQueryIndex=s}function ky(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Fy(s,o,u){if(u&xe.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&xe.Host||(d=ky(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const l=gt.lFrame=Sp();return l.currentTNode=o,l.lView=s,!0}function Au(s){const o=Sp(),u=s[1];gt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Sp(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?Ly(s):o}function Ly(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ap(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Rw=Ap;function xp(){const s=Ap();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function jr(){return gt.lFrame.selectedIndex}function ns(s){gt.lFrame.selectedIndex=s}function en(){const s=gt.lFrame;return fa(s.tView,s.selectedIndex)}function Ea(){gt.lFrame.currentNamespace=Wc}function el(){gt.lFrame.currentNamespace=null}function wa(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:S}=f;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=S&&(s.destroyHooks||(s.destroyHooks=[])).push(u,S)}}function tl(s,o,u){Rp(s,o,3,u)}function Ca(s,o,u,l){(3&s[2])===u&&Rp(s,o,u,l)}function oh(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Rp(s,o,u,l){const f=null!=l?l:-1,y=o.length-1;let E=0;for(let b=void 0!==l?65535&s[18]:0;b<y;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=l&&E>=l)break}else o[b]<0&&(s[18]+=65536),(E<f||-1==f)&&(jy(s,u,o,b),s[18]=(4294901760&s[18])+b+2),b++}function jy(s,o,u,l){const d=u[l]<0,f=u[l+1],E=s[d?-u[l]:u[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class nl{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function Ia(s,o,u){const l=_n(s);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const y=u[d++],E=u[d++],b=u[d++];l?s.setAttribute(o,E,b,y):o.setAttributeNS(y,E,b)}else{const y=f,E=u[++d];Mp(y)?l&&s.setProperty(o,y,E):l?s.setAttribute(o,y,E):o.setAttribute(y,E),d++}}return d}function xu(s){return 3===s||4===s||6===s}function Mp(s){return 64===s.charCodeAt(0)}function Ru(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||Gy(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function Gy(s,o,u,l,d){let f=0,y=s.length;if(-1===o)y=-1;else for(;f<s.length;){const E=s[f++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=f-1;break}}}for(;f<s.length;){const E=s[f];if("number"==typeof E)break;if(E===u){if(null===l)return void(null!==d&&(s[f+1]=d));if(l===s[f+1])return void(s[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==y&&(s.splice(y,0,o),f=y+1),s.splice(f++,0,u),null!==l&&s.splice(f++,0,l),null!==d&&s.splice(f++,0,d)}function Op(s){return-1!==s}function Da(s){return 32767&s}function ks(s,o){let u=function(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let ah=!0;function wo(s){const o=ah;return ah=s,o}let it=0;function Ta(s,o){const u=Nu(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Sr(l.data,s),Sr(o,null),Sr(l.blueprint,null));const d=Sa(s,o),f=s.injectorIndex;if(Op(d)){const y=Da(d),E=ks(d,o),b=E[1].data;for(let T=0;T<8;T++)o[f+T]=E[y+T]|b[y+T]}return o[f+8]=d,f}function Sr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Nu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Sa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){const f=d[1],y=f.type;if(l=2===y?f.declTNode:1===y?d[6]:null,null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function Ar(s,o,u){!function(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(G)&&(l=u[G]),null==l&&(l=u[G]=it++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function ch(s,o,u){if(u&xe.Optional)return s;ye(o,"NodeInjector")}function Pp(s,o,u,l){if(u&xe.Optional&&void 0===l&&(l=null),0==(u&(xe.Self|xe.Host))){const d=s[9],f=sn(void 0);try{return d?d.get(o,l,u&xe.Optional):$t(o,l,u&xe.Optional)}finally{sn(f)}}return ch(l,o,u)}function ii(s,o,u,l=xe.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(G)?s[G]:void 0;return"number"==typeof o?o>=0?255&o:lh:o}(u);if("function"==typeof f){if(!Fy(o,s,l))return l&xe.Host?ch(d,u,l):Pp(o,u,l,d);try{const y=f(l);if(null!=y||l&xe.Optional)return y;ye(u)}finally{Rw()}}else if("number"==typeof f){let y=null,E=Nu(s,o),b=-1,T=l&xe.Host?o[16][6]:null;for((-1===E||l&xe.SkipSelf)&&(b=-1===E?Sa(s,o):o[E+8],-1!==b&&Fs(l,!1)?(y=o[1],E=Da(b),o=ks(b,o)):E=-1);-1!==E;){const S=o[1];if(Zy(f,E,S.data)){const N=Fp(E,o,u,y,l,T);if(N!==kp)return N}b=o[E+8],-1!==b&&Fs(l,o[1].data[E+8]===T)&&Zy(f,E,o)?(y=S,E=Da(b),o=ks(b,o)):E=-1}}}return Pp(o,u,l,d)}const kp={};function lh(){return new Es(Pn(),Se())}function Fp(s,o,u,l,d,f){const y=o[1],E=y.data[s+8],S=Mu(E,y,u,null==l?ti(E)&&ah:l!=y&&0!=(3&E.type),d&xe.Host&&f===E);return null!==S?Aa(o,y,S,E):kp}function Mu(s,o,u,l,d){const f=s.providerIndexes,y=o.data,E=1048575&f,b=s.directiveStart,S=f>>20,M=d?E+S:s.directiveEnd;for(let U=l?E:E+S;U<M;U++){const z=y[U];if(U<b&&u===z||U>=b&&z.type===u)return U}if(d){const U=y[b];if(U&&ni(U)&&U.type===u)return b}return null}function Aa(s,o,u,l){let d=s[u];const f=o.data;if(function(s){return s instanceof nl}(d)){const y=d;y.resolving&&function(s,o){throw new Te("200",`Circular dependency in DI detected for ${s}`)}(bt(f[u]));const E=wo(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?sn(y.injectImpl):null;Fy(s,l,xe.Default);try{d=s[u]=y.factory(void 0,f,s,l),o.firstCreatePass&&u>=l.directiveStart&&function(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(l){const y=Br(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==b&&sn(b),wo(E),y.resolving=!1,Rw()}}return d}function Zy(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Fs(s,o){return!(s&xe.Self||s&xe.Host&&o)}class Es{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return ii(this._tNode,this._lView,o,void 0,u)}}function Lp(s){return ze(()=>{const o=s.prototype.constructor,u=o[ne]||Ou(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const f=d[ne]||Ou(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Ou(s){return Le(s)?()=>{const o=Ou(te(s));return o&&o()}:yo(s)}function mi(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const f=u[d];if(xu(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(Pn(),s)}const xa="__parameters__";function Ls(s,o,u){return ze(()=>{const l=function(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...f){if(this instanceof d)return l.apply(this,f),this;const y=new d(...f);return E.annotation=y,E;function E(b,T,S){const N=b.hasOwnProperty(xa)?b[xa]:Object.defineProperty(b,xa,{value:[]})[xa];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(y),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class pn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Yt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const il=new pn("AnalyzeForEntryComponents"),Na=Function;function Hr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),Hr(l,o)):o!==s&&o.push(l)}return o}function Pi(s,o){s.forEach(u=>Array.isArray(u)?Pi(u,o):o(u))}function Oa(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function bo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Rr(s,o,u){let l=$r(s,o);return l>=0?s[1|l]=u:(l=~l,function(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Pu(s,o){const u=$r(s,o);if(u>=0)return s[1|u]}function $r(s,o){return function(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const f=l+(d-l>>1),y=s[f<<u];if(o===y)return f<<u;y>o?d=f:l=f+1}return~(d<<u)}(s,o,1)}const Fu={},Lu="__NG_DI_FLAG__",Bs="ngTempTokenPath",gh=/\n/gm,mh="__source",Vu=L({provide:String,useValue:L});let js;function ka(s){const o=js;return js=s,o}function $p(s,o=xe.Default){if(void 0===js)throw new Error("inject() must be called from an injection context");return null===js?$t(s,void 0,o):js.get(s,o&xe.Optional?null:void 0,o)}function bn(s,o=xe.Default){return(zt||$p)(te(s),o)}function Hs(s){const o=[];for(let u=0;u<s.length;u++){const l=te(s[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=xe.Default;for(let y=0;y<l.length;y++){const E=l[y],b=Bw(E);"number"==typeof b?-1===b?d=E.token:f|=b:d=E}o.push(bn(d,f))}else o.push(bn(l))}return o}function $s(s,o){return s[Lu]=o,s.prototype[Lu]=o,s}function Bw(s){return s[Lu]}function Zn(s,o,u,l){const d=s[Bs];throw o[mh]&&d.unshift(o[mh]),s.message=function(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=K(o);if(Array.isArray(o))d=o.map(K).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];f.push(y+":"+("string"==typeof E?JSON.stringify(E):K(E)))}d=`{${f.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(gh,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[Bs]=null,s}const Cs=$s(Ls("Inject",s=>({token:s})),-1),ss=$s(Ls("Optional"),8),Gs=$s(Ls("SkipSelf"),4);let Ao;function qs(s){var o;return(null===(o=function(){if(void 0===Ao&&(Ao=null,j.trustedTypes))try{Ao=j.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ao}())||void 0===o?void 0:o.createHTML(s))||s}class xo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gw extends xo{getTypeName(){return"HTML"}}class C extends xo{getTypeName(){return"Style"}}class _ extends xo{getTypeName(){return"Script"}}class v extends xo{getTypeName(){return"URL"}}class I extends xo{getTypeName(){return"ResourceURL"}}function x(s){return s instanceof xo?s.changingThisBreaksApplicationSecurity:s}function P(s,o){const u=re(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function re(s){return s instanceof xo&&s.getTypeName()||null}function Re(s){return new Gw(s)}function Ke(s){return new C(s)}function ct(s){return new _(s)}function Ct(s){return new v(s)}function In(s){return new I(s)}class Vi{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(qs(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Zu{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=qs(o),u;const l=this.inertDocument.createElement("body");return l.innerHTML=qs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const y=u.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const fl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ro(s){return(s=String(s)).match(fl)||s.match(pl)?s:"unsafe:"+s}function _i(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function No(...s){const o={};for(const u of s)for(const l in u)u.hasOwnProperty(l)&&(o[l]=!0);return o}const Eh=_i("area,br,col,hr,img,wbr"),Yp=_i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mo=_i("rp,rt"),Qp=No(Eh,No(Yp,_i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),No(Mo,_i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),No(Mo,Yp)),n_=_i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wh=_i("srcset"),zw=No(n_,wh,_i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ww=_i("script,style,template");class Jp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Qp.hasOwnProperty(u))return this.sanitizedSomething=!0,!Ww.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=o.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),y=f.name,E=y.toLowerCase();if(!zw.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=f.value;n_[E]&&(b=Ro(b)),wh[E]&&(s=b,b=(s=String(s)).split(",").map(o=>Ro(o.trim())).join(", ")),this.buf.push(" ",y,'="',Zw(b),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Qp.hasOwnProperty(u)&&!Eh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Zw(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const MT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r_=/([^\#-~ |!])/g;function Zw(s){return s.replace(/&/g,"&amp;").replace(MT,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(r_,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ch;function i_(s,o){let u=null;try{Ch=Ch||function(s){const o=new Zu(s);return function(){try{return!!(new window.DOMParser).parseFromString(qs(""),"text/html")}catch(s){return!1}}()?new Vi(o):o}(s);let l=o?String(o):"";u=Ch.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=u.innerHTML,u=Ch.getInertBodyElement(l)}while(l!==f);return qs((new Jp).sanitizeChildren(s_(u)||u))}finally{if(u){const l=s_(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function s_(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var An=(()=>((An=An||{})[An.NONE=0]="NONE",An[An.HTML=1]="HTML",An[An.STYLE=2]="STYLE",An[An.SCRIPT=3]="SCRIPT",An[An.URL=4]="URL",An[An.RESOURCE_URL=5]="RESOURCE_URL",An))();function zs(s){const o=function(){const s=Se();return s&&s[12]}();return o?o.sanitize(An.URL,s)||"":P(s,"URL")?x(s):Ro(Ve(s))}const tg="__ngContext__";function un(s,o){s[tg]=o}function ng(s){const o=function(s){return s[tg]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function sg(s){return s.ngOriginalError}function l_(s,...o){s.error(...o)}class vl{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),l=this._findContext(o),d=(s=o)&&s.ngErrorLogger||l_;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(o){return o?o.ngDebugContext||this._findContext(sg(o)):null}_findOriginalError(o){let u=o&&sg(o);for(;u&&sg(u);)u=sg(u);return u||null}}const sC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Ws(s){return s instanceof Function?s():s}var Zs=(()=>((Zs=Zs||{})[Zs.Important=1]="Important",Zs[Zs.DashCase=2]="DashCase",Zs))();function h_(s,o){return undefined(s,o)}function wl(s){const o=s[3];return yn(o)?o[3]:o}function cg(s){return uC(s[13])}function g_(s){return uC(s[4])}function uC(s){for(;null!==s&&!yn(s);)s=s[4];return s}function Cl(s,o,u,l,d){if(null!=l){let f,y=!1;yn(l)?f=l:or(l)&&(y=!0,l=l[0]);const E=vn(l);0===s&&null!==u?null==d?hg(o,u,E):Ks(o,u,E,d||null,!0):1===s&&null!==u?Ks(o,u,E,d||null,!0):2===s?function(s,o,u){const l=pg(s,o);l&&function(s,o,u,l){_n(s)?s.removeChild(o,u,l):o.removeChild(u)}(s,l,o,u)}(o,E,y):3===s&&o.destroyNode(E),null!=f&&function(s,o,u,l,d){const f=u[7];f!==vn(u)&&Cl(o,s,l,f,d);for(let E=10;E<u.length;E++){const b=u[E];Sh(b[1],b,s,o,l,f)}}(o,s,f,u,d)}}function y_(s,o,u){return _n(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function lC(s,o){const u=s[9],l=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Cu(d,-1)),u.splice(l,1)}function v_(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const d=l[17];null!==d&&d!==s&&lC(d,l),o>0&&(s[u-1][4]=l[4]);const f=bo(s,10+o);!function(s,o){Sh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function dC(s,o){if(!(256&o[2])){const u=o[11];_n(u)&&u.destroyNode&&Sh(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return dg(s[1],s);for(;o;){let u=null;if(or(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)or(o)&&dg(o[1],o),o=o[3];null===o&&(o=s),or(o)&&dg(o[1],o),u=o&&o[4]}o=u}}(o)}}function dg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof nl)){const f=u[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const E=d[f[y]],b=f[y+1];try{b.call(E)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,l=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const y=u[f+1],E="function"==typeof y?y(o):vn(o[y]),b=l[d=u[f+2]],T=u[f+3];"boolean"==typeof T?E.removeEventListener(u[f],b,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),f+=2}else{const y=l[d=u[f+1]];u[f].call(y)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();o[7]=null}}(s,o),1===o[1].type&&_n(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&yn(o[3])){u!==o[3]&&lC(u,o);const l=o[19];null!==l&&l.detachView(s)}}}function si(s,o,u){return function(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===on.None||d===on.Emulated)return null}return Ni(l,u)}(s,o.parent,u)}function Ks(s,o,u,l,d){_n(s)?s.insertBefore(o,u,l,d):o.insertBefore(u,l,d)}function hg(s,o,u){_n(s)?s.appendChild(o,u):o.appendChild(u)}function fg(s,o,u,l,d){null!==l?Ks(s,o,u,l,d):hg(s,o,u)}function pg(s,o){return _n(s)?s.parentNode(o):o.parentNode}let w_=function(s,o,u){return 40&s.type?Ni(s,u):null};function Th(s,o,u,l){const d=si(s,l,o),f=o[11],E=function(s,o,u){return w_(s,o,u)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)fg(f,d,u[b],E,!1);else fg(f,d,u,E,!1)}function Dl(s,o){if(null!==o){const u=o.type;if(3&u)return Ni(o,s);if(4&u)return Oo(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return Dl(s,l);{const d=s[o.index];return yn(d)?Oo(-1,d):vn(d)}}if(32&u)return h_(o,s)()||vn(s[o.index]);{const l=iS(s,o);return null!==l?Array.isArray(l)?l[0]:Dl(wl(s[16]),l):Dl(s,o.next)}}return null}function iS(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Oo(s,o){const u=10+s+1;if(u<o.length){const l=o[u],d=l[1].firstChild;if(null!==d)return Dl(l,d)}return o[7]}function D_(s,o,u,l,d,f,y){for(;null!=u;){const E=l[u.index],b=u.type;if(y&&0===o&&(E&&un(vn(E),l),u.flags|=4),64!=(64&u.flags))if(8&b)D_(s,o,u.child,l,d,f,!1),Cl(o,s,d,E,f);else if(32&b){const T=h_(u,l);let S;for(;S=T();)Cl(o,s,d,S,f);Cl(o,s,d,E,f)}else 16&b?T_(s,o,l,u,d,f):Cl(o,s,d,E,f);u=y?u.projectionNext:u.next}}function Sh(s,o,u,l,d,f){D_(u,l,s.firstChild,o,d,f,!1)}function T_(s,o,u,l,d,f){const y=u[16],b=y[6].projection[l.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)Cl(o,s,d,b[T],f);else D_(s,o,b,y[3],d,f,!0)}function pC(s,o,u){_n(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function gg(s,o,u){_n(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function gC(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===l||s.charCodeAt(d+f)<=32)return d}u=d+1}}const mC="ng-template";function S_(s,o,u){let l=0;for(;l<s.length;){let d=s[l++];if(u&&"class"===d){if(d=s[l],-1!==gC(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function yC(s){return 4===s.type&&s.value!==mC}function uS(s,o,u){return o===(4!==s.type||u?s.value:mC)}function _C(s,o,u){let l=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(xu(s[o]))return o;return s.length}(d);let y=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!y)if(4&l){if(l=2|1&l,""!==b&&!uS(s,b,u)||""===b&&1===o.length){if(Is(l))return!1;y=!0}}else{const T=8&l?b:o[++E];if(8&l&&null!==s.attrs){if(!S_(s.attrs,T,u)){if(Is(l))return!1;y=!0}continue}const N=X1(8&l?"class":b,d,yC(s),u);if(-1===N){if(Is(l))return!1;y=!0;continue}if(""!==T){let M;M=N>f?"":d[N+1].toLowerCase();const U=8&l?M:null;if(U&&-1!==gC(U,T,0)||2&l&&T!==M){if(Is(l))return!1;y=!0}}}}else{if(!y&&!Is(l)&&!Is(b))return!1;if(y&&Is(b))continue;y=!1,l=b|1&l}}return Is(l)||y}function Is(s){return 0==(1&s)}function X1(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let f=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function vC(s,o,u=!1){for(let l=0;l<o.length;l++)if(_C(s,o[l],u))return!0;return!1}function A_(s,o){return s?":not("+o.trim()+")":o}function Yu(s){let o=s[0],u=1,l=2,d="",f=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&l){const E=s[++u];d+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!Is(y)&&(o+=A_(f,d),d=""),l=y,f=f||!Is(l);u++}return""!==d&&(o+=A_(f,d)),o}const _t={};function EC(s){wC(Ft(),Se(),jr()+s,Ms())}function wC(s,o,u,l){if(!l)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&tl(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Ca(o,f,0,u)}ns(u)}function yg(s,o){return s<<17|o<<2}function Nr(s){return s>>17&32767}function mr(s){return 2|s}function zr(s){return(131068&s)>>2}function x_(s,o){return-131069&s|o<<2}function _g(s){return 1|s}function IS(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],f=u[l+1];if(-1!==f){const y=s.data[f];Tp(d),y.contentQueries(2,o[f],f)}}}function Va(s,o,u,l,d,f,y,E,b,T){const S=o.blueprint.slice();return S[0]=d,S[2]=140|l,Cp(S),S[3]=S[15]=s,S[8]=u,S[10]=y||s&&s[10],S[11]=E||s&&s[11],S[12]=b||s&&s[12]||null,S[9]=T||s&&s[9]||null,S[6]=f,S[16]=2==o.type?s[16]:S,S}function Js(s,o,u,l,d){let f=s.data[o];if(null===f)f=function(s,o,u,l,d){const f=Ip(),y=Tu(),b=s.data[o]=function(s,o,u,l,d,f){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=b),null!==f&&(y?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(s,o,u,l,d),gt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=l,f.attrs=d;const y=function(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return es(f,!0),f}function Fo(s,o,u,l){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Nh(s,o,u){Au(o);try{const l=s.viewQuery;null!==l&&W_(1,l,u);const d=s.template;null!==d&&RC(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&IS(s,o),s.staticViewQueries&&W_(2,s.viewQuery,u);const f=s.components;null!==f&&function(s,o){for(let u=0;u<o.length;u++)NS(s,o[u])}(o,f)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,xp()}}function Ua(s,o,u,l){const d=o[2];if(256==(256&d))return;Au(o);const f=Ms();try{Cp(o),function(s){gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&RC(s,o,u,2,l);const y=3==(3&d);if(!f)if(y){const T=s.preOrderCheckHooks;null!==T&&tl(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Ca(o,T,0,null),oh(o,0)}if(function(s){for(let o=cg(s);null!==o;o=g_(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const d=u[l],f=d[3];0==(1024&d[2])&&Cu(f,1),d[2]|=1024}}}(o),function(s){for(let o=cg(s);null!==o;o=g_(o))for(let u=10;u<o.length;u++){const l=o[u],d=l[1];pa(l)&&Ua(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&IS(s,o),!f)if(y){const T=s.contentCheckHooks;null!==T&&tl(o,T)}else{const T=s.contentHooks;null!==T&&Ca(o,T,1),oh(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)ns(~d);else{const f=d,y=u[++l],E=u[++l];Jc(y,f),E(2,o[f])}}}finally{ns(-1)}}(s,o);const E=s.components;null!==E&&function(s,o){for(let u=0;u<o.length;u++)RS(s,o[u])}(o,E);const b=s.viewQuery;if(null!==b&&W_(2,b,l),!f)if(y){const T=s.viewCheckHooks;null!==T&&tl(o,T)}else{const T=s.viewHooks;null!==T&&Ca(o,T,2),oh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Cu(o[3],-1))}finally{xp()}}function Cg(s,o,u,l){const d=o[10],f=!Ms(),y=Yc(o);try{f&&!y&&d.begin&&d.begin(),y&&Nh(s,o,l),Ua(s,o,u,l)}finally{f&&!y&&d.end&&d.end()}}function RC(s,o,u,l,d){const f=jr(),y=2&l;try{ns(-1),y&&o.length>20&&wC(s,o,20,Ms()),u(l,d)}finally{ns(f)}}function bg(s,o,u){!bu()||(function(s,o,u,l){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||Ta(u,o),un(l,o);const y=u.initialInputs;for(let E=d;E<f;E++){const b=s.data[E],T=ni(b);T&&cR(o,u,b);const S=Aa(o,s,E,u);un(S,o),null!==y&&BC(0,E-d,S,b,0,y),T&&(fr(u.index,o)[8]=S)}}(s,o,u,Ni(u,o)),128==(128&u.flags)&&function(s,o,u){const l=u.directiveStart,d=u.directiveEnd,y=u.index,E=gt.lFrame.currentDirectiveIndex;try{ns(y);for(let b=l;b<d;b++){const T=s.data[b],S=o[b];rh(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&VC(T,S)}}finally{ns(-1),rh(E)}}(s,o,u))}function F_(s,o,u=Ni){const l=o.localNames;if(null!==l){let d=o.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],E=-1===y?u(o,s):s[y];s[d++]=E}}}function L_(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ig(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ig(s,o,u,l,d,f,y,E,b,T){const S=20+l,N=S+d,M=function(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:_t);return u}(S,N),U="function"==typeof T?T():T;return M[1]={type:s,blueprint:M,template:u,queries:null,viewQuery:E,declTNode:o,data:M.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:U,incompleteFirstPass:!1}}function V_(s,o,u,l){const d=Rg(o);null===u?d.push(l):(d.push(u),s.firstCreatePass&&GC(s).push(l,d.length-1))}function Mh(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,d):u[l]=[o,d]}return u}function Wr(s,o,u,l,d,f,y,E){const b=Ni(o,u);let S,T=o.inputs;!E&&null!=T&&(S=T[l])?(qC(s,u,S,l,d),ti(o)&&function(s,o){const u=fr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(l=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=y?y(d,o.value||"",l):d,_n(f)?f.setProperty(b,l,d):Mp(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function kh(s,o,u,l){let d=!1;if(bu()){const f=function(s,o,u){const l=s.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];vC(u,y.selectors,!1)&&(d||(d=[]),Ar(Ta(u,o),s,y.type),ni(y)?(Rl(s,u),d.unshift(y)):d.push(y))}return d}(s,o,u),y=null===l?null:{"":-1};if(null!==f){d=!0,SS(u,s.data.length,f.length);for(let S=0;S<f.length;S++){const N=f[S];N.providersResolver&&N.providersResolver(N)}let E=!1,b=!1,T=Fo(s,o,f.length,null);for(let S=0;S<f.length;S++){const N=f[S];u.mergedAttrs=Ru(u.mergedAttrs,N.hostAttrs),AS(s,u,o,T,N),UC(T,N,y),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const M=N.type.prototype;!E&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!b&&(M.ngOnChanges||M.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),T++}!function(s,o){const l=o.directiveEnd,d=s.data,f=o.attrs,y=[];let E=null,b=null;for(let T=o.directiveStart;T<l;T++){const S=d[T],N=S.inputs,M=null===f||yC(o)?null:xS(N,f);y.push(M),E=Mh(N,T,E),b=Mh(S.outputs,T,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=E,o.outputs=b}(s,u)}y&&function(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Te("301",`Export of name '${o[d+1]}' not found!`);l.push(o[d],f)}}}(u,l,y)}return u.mergedAttrs=Ru(u.mergedAttrs,u.attrs),d}function Dg(s,o,u,l,d,f){const y=f.hostBindings;if(y){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const b=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=b&&E.push(b),E.push(l,d,y)}}function VC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Rl(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function UC(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;ni(o)&&(u[""]=s)}}function SS(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function AS(s,o,u,l,d){s.data[l]=d;const f=d.factory||(d.factory=yo(d.type)),y=new nl(f,ni(d),null);s.blueprint[l]=y,u[l]=y,Dg(s,o,0,l,Fo(s,u,d.hostVars,_t),d)}function cR(s,o,u){const l=Ni(o,s),d=L_(u),f=s[10],y=Lh(s,Va(s,d,null,u.onPush?64:16,l,o,f,f.createRenderer(l,u),null,null));s[o.index]=y}function Lo(s,o,u,l,d,f){const y=Ni(s,o);!function(s,o,u,l,d,f,y){if(null==f)_n(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const E=null==y?Ve(f):y(f,l||"",d);_n(s)?s.setAttribute(o,d,E,u):u?o.setAttributeNS(u,d,E):o.setAttribute(d,E)}}(o[11],y,f,s.value,u,l,d)}function BC(s,o,u,l,d,f){const y=f[o];if(null!==y){const E=l.setInput;for(let b=0;b<y.length;){const T=y[b++],S=y[b++],N=y[b++];null!==E?l.setInput(u,N,T,S):u[S]=N}}}function xS(s,o){let u=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return u}function $_(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function RS(s,o){const u=fr(o,s);if(pa(u)){const l=u[1];80&u[2]?Ua(l,u,l.template,u[8]):u[5]>0&&Sg(u)}}function Sg(s){for(let l=cg(s);null!==l;l=g_(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const y=f[1];Ua(y,f,y.template,f[8])}else f[5]>0&&Sg(f)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=fr(u[l],s);pa(d)&&d[5]>0&&Sg(d)}}function NS(s,o){const u=fr(o,s),l=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),Nh(l,u,u[8])}function Lh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function q_(s){for(;s;){s[2]|=64;const o=wl(s);if(Ay(s)&&!o)return s;s=o}return null}function Ag(s,o,u){const l=o[10];l.begin&&l.begin();try{Ua(s,o,s.template,u)}catch(d){throw Z_(o,d),d}finally{l.end&&l.end()}}function xg(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],l=ng(u),d=l[1];Cg(d,l,d.template,u)}}(s[8])}function W_(s,o,u){Tp(0),o(s,u)}const OS=(()=>Promise.resolve(null))();function Rg(s){return s[7]||(s[7]=[])}function GC(s){return s.cleanup||(s.cleanup=[])}function Z_(s,o){const u=s[9],l=u?u.get(vl,null):null;l&&l.handleError(o)}function qC(s,o,u,l,d){for(let f=0;f<u.length;){const y=u[f++],E=u[f++],b=o[y],T=s.data[y];null!==T.setInput?T.setInput(b,d,l,E):b[E]=d}}function Xs(s,o,u){const l=ha(o,s);!function(s,o,u){_n(s)?s.setValue(o,u):o.textContent=u}(s[11],l,u)}function Mg(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?f=E:1==f?d=J(d,E):2==f&&(l=J(l,E+": "+o[++y]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}const Ml=new pn("INJECTOR",-1);class ZC{get(o,u=Fu){if(u===Fu){const l=new Error(`NullInjectorError: No provider for ${K(o)}!`);throw l.name="NullInjectorError",l}return u}}const Ol=new pn("Set Injector scope."),Vh={},dR={};let Uh;function KC(){return void 0===Uh&&(Uh=new ZC),Uh}function K_(s,o=null,u=null,l){return new kS(s,u,o||KC(),l)}class kS{constructor(o,u,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&Pi(u,E=>this.processProvider(E,o,u)),Pi([o],E=>this.processInjectorType(E,[],f)),this.records.set(Ml,Pl(void 0,this));const y=this.records.get(Ol);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof o?null:K(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Fu,l=xe.Default){this.assertNotDestroyed();const d=ka(this),f=sn(void 0);try{if(!(l&xe.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=("function"==typeof(s=o)||"object"==typeof s&&s instanceof pn)&&nr(o);E=b&&this.injectableDefInScope(b)?Pl(Og(o),Vh):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&xe.Self?KC():this.parent).get(o,u=l&xe.Optional&&u===Fu?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Bs]=y[Bs]||[]).unshift(K(o)),d)throw y;return Zn(y,o,"R3InjectorError",this.source)}throw y}finally{sn(f),ka(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(K(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,l){if(!(o=te(o)))return!1;let d=Qi(o);const f=null==d&&o.ngModule||void 0,y=void 0===f?o:f,E=-1!==l.indexOf(y);if(void 0!==f&&(d=Qi(f)),null==d)return!1;if(null!=d.imports&&!E){let S;l.push(y);try{Pi(d.imports,N=>{this.processInjectorType(N,u,l)&&(void 0===S&&(S=[]),S.push(N))})}finally{}if(void 0!==S)for(let N=0;N<S.length;N++){const{ngModule:M,providers:U}=S[N];Pi(U,z=>this.processProvider(z,M,U||Ue))}}this.injectorDefTypes.add(y);const b=yo(y)||(()=>new y);this.records.set(y,Pl(b,Vh));const T=d.providers;if(null!=T&&!E){const S=o;Pi(T,N=>this.processProvider(N,S,T))}return void 0!==f&&void 0!==o.providers}processProvider(o,u,l){let d=Xu(o=te(o))?o:te(o&&o.provide);const f=Ju(s=o)?Pl(void 0,s.useValue):Pl(JC(s),Vh);var s;if(Xu(o)||!0!==o.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=Pl(void 0,Vh,!0),y.factory=()=>Hs(y.multi),this.records.set(d,y)),d=o,y.multi.push(o)}this.records.set(d,f)}hydrate(o,u){return u.value===Vh&&(u.value=dR,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=te(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Og(s){const o=nr(s),u=null!==o?o.factory:yo(s);if(null!==u)return u;if(s instanceof pn)throw new Error(`Token ${K(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const l=function(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${K(s)}: (${l.join(", ")}).`)}const u=function(s){const o=s&&(s[Vt]||s[Ji]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function JC(s,o,u){let l;if(Xu(s)){const d=te(s);return yo(d)||Og(d)}if(Ju(s))l=()=>te(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Hs(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))l=()=>bn(te(s.useExisting));else{const d=te(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return yo(d)||Og(d);l=()=>new d(...Hs(s.deps))}return l}function Pl(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Ju(s){return null!==s&&"object"==typeof s&&Vu in s}function Xu(s){return"function"==typeof s}const BS=function(s,o,u){return function(s,o=null,u=null,l){const d=K_(s,o,u,l);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};let xn=(()=>{class s{static create(u,l){return Array.isArray(u)?BS(u,l,""):BS(u.providers,u.parent,u.name||"")}}return s.THROW_IF_NOT_FOUND=Fu,s.NULL=new ZC,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>bn(Ml)}),s.__NG_ELEMENT_ID__=-1,s})();function JS(s,o){wa(ng(s)[1],Pn())}function kg(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(ni(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){l.push(d);const y=s;y.inputs=Ba(s.inputs),y.declaredInputs=Ba(s.declaredInputs),y.outputs=Ba(s.outputs);const E=d.hostBindings;E&&At(s,E);const b=d.viewQuery,T=d.contentQueries;if(b&&Fg(s,b),T&&ec(s,T),X(s.inputs,d.inputs),X(s.declaredInputs,d.declaredInputs),X(s.outputs,d.outputs),ni(d)&&d.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const E=f[y];E&&E.ngInherit&&E(s),E===kg&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Ru(d.hostAttrs,u=Ru(u,d.hostAttrs))}}(l)}function Ba(s){return s===qe?{}:s===Ue?[]:s}function Fg(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function ec(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,f)=>{o(l,d,f),u(l,d,f)}:o}function At(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}let Vl=null;function ht(){if(!Vl){const s=j.Symbol;if(s&&s.iterator)Vl=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Vl=l)}}}return Vl}function Bo(s){return!!iv(s)&&(Array.isArray(s)||!(s instanceof Map)&&ht()in s)}function iv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qt(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function sv(s,o,u,l){const d=Se();return Qt(d,va(),o)&&(Ft(),Lo(en(),d,s,o,u,l)),sv}function mb(s,o,u,l,d,f,y,E){const b=Se(),T=Ft(),S=s+20,N=T.firstCreatePass?function(s,o,u,l,d,f,y,E,b){const T=o.consts,S=Js(o,s,4,y||null,Xi(T,E));kh(o,u,S,Xi(T,b)),wa(o,S);const N=S.tViews=Ig(2,S,l,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,S),N.queries=o.queries.embeddedTView(S)),S}(S,T,b,o,u,l,d,f,y):T.data[S];es(N,!1);const M=b[11].createComment("");Th(T,b,M,N),un(M,b),Lh(b,b[S]=$_(M,b,M,N)),$c(N)&&bg(T,b,N),null!=y&&F_(b,N,E)}function dv(s){return function(s,o){return s[o]}(gt.lFrame.contextLView,20+s)}function Wh(s,o=xe.Default){const u=Se();return null===u?bn(s,o):ii(Pn(),u,te(s),o)}function Zh(s,o,u){const l=Se();return Qt(l,va(),o)&&Wr(Ft(),en(),l,s,o,l[11],u,!1),Zh}function Kh(s,o,u,l,d){const y=d?"class":"style";qC(s,u,o.inputs[y],y,l)}function bv(s,o,u,l){const d=Se(),f=Ft(),y=20+s,E=d[11],b=d[y]=y_(E,o,gt.lFrame.currentNamespace),T=f.firstCreatePass?function(s,o,u,l,d,f,y){const E=o.consts,T=Js(o,s,2,d,Xi(E,f));return kh(o,u,T,Xi(E,y)),null!==T.attrs&&Mg(T,T.attrs,!1),null!==T.mergedAttrs&&Mg(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,f,d,0,o,u,l):f.data[y];es(T,!0);const S=T.mergedAttrs;null!==S&&Ia(E,b,S);const N=T.classes;null!==N&&gg(E,b,N);const M=T.styles;null!==M&&pC(E,b,M),64!=(64&T.flags)&&Th(f,d,b,T),0===gt.lFrame.elementDepthCount&&un(b,d),gt.lFrame.elementDepthCount++,$c(T)&&(bg(f,d,T),function(s,o,u){if(Wd(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const y=s.data[f];y.contentQueries&&y.contentQueries(1,u[f],f)}}}(f,T,d)),null!==l&&F_(d,T)}function oc(){let s=Pn();Tu()?gt.lFrame.isParent=!1:(s=s.parent,es(s,!1));const o=s;gt.lFrame.elementDepthCount--;const u=Ft();u.firstCreatePass&&(wa(u,s),Wd(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Kh(u,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Kh(u,o,Se(),o.stylesWithoutHost,!1)}function Iv(s,o,u,l){bv(s,o,u,l),oc()}function ac(){return Se()}function Dv(s){return!!s&&"function"==typeof s.then}function Ob(s){return!!s&&"function"==typeof s.subscribe}const Ho=Ob;function Wg(s,o,u,l){const d=Se(),f=Ft(),y=Pn();return function(s,o,u,l,d,f,y,E){const b=$c(l),S=s.firstCreatePass&&GC(s),N=o[8],M=Rg(o);let U=!0;if(3&l.type||E){const ee=Ni(l,o),Me=E?E(ee):ee,le=M.length,Xe=E?lt=>E(vn(lt[l.index])):l.index;if(_n(u)){let lt=null;if(!E&&b&&(lt=function(s,o,u,l){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===u&&d[f+1]===l){const E=o[7],b=d[f+2];return E.length>b?E[b]:null}"string"==typeof y&&(f+=2)}return null}(s,o,d,l.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=f,lt.__ngLastListenerFn__=f,U=!1;else{f=Or(l,o,N,f,!1);const Bt=u.listen(Me,d,f);M.push(f,Bt),S&&S.push(d,Xe,le,le+1)}}else f=Or(l,o,N,f,!0),Me.addEventListener(d,f,y),M.push(f),S&&S.push(d,Xe,le,y)}else f=Or(l,o,N,f,!1);const z=l.outputs;let ce;if(U&&null!==z&&(ce=z[d])){const ee=ce.length;if(ee)for(let Me=0;Me<ee;Me+=2){const dr=o[ce[Me]][ce[Me+1]].subscribe(f),ms=M.length;M.push(f,dr),S&&S.push(d,l.index,ms,-(ms+1))}}}(f,d,d[11],y,s,o,!!u,l),Wg}function Tv(s,o,u,l){try{return!1!==u(l)}catch(d){return Z_(s,d),!1}}function Or(s,o,u,l,d){return function f(y){if(y===Function)return l;const E=2&s.flags?fr(s.index,o):o;0==(32&o[2])&&q_(E);let b=Tv(o,0,l,y),T=f.__ngNextListenerFn__;for(;T;)b=Tv(o,0,T,y)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Sv(s=1){return function(s){return(gt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function tm(s,o,u,l,d){const f=s[u+1],y=null===o;let E=l?Nr(f):zr(f),b=!1;for(;0!==E&&(!1===b||y);){const S=s[E+1];Fb(s[E],o)&&(b=!0,s[E+1]=l?_g(S):mr(S)),E=l?Nr(S):zr(S)}b&&(s[u+1]=l?mr(f):_g(f))}function Fb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&$r(s,o)>=0}function $o(s,o){return function(s,o,u,l){const d=Se(),f=Ft(),y=function(s){const o=gt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function(s,o,u,l){const d=s.data;if(null===d[u+1]){const f=d[jr()],y=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(f,l)&&null===o&&!y&&(o=!1),o=function(s,o,u,l){const d=function(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=sf(u=sm(null,s,o,u,l),o.attrs,l),f=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(u=sm(d,s,o,u,l),null===f){let b=function(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==zr(l))return s[Nr(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=sm(null,s,o,b[1],l),b=sf(b,o.attrs,l),function(s,o,u,l){s[Nr(u?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else f=function(s,o,u){let l;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)l=sf(l,s[f].hostAttrs,u);return sf(l,o.attrs,u)}(s,o,l)}return void 0!==f&&(l?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,l),function(s,o,u,l,d,f){let y=f?o.classBindings:o.styleBindings,E=Nr(y),b=zr(y);s[l]=u;let S,T=!1;if(Array.isArray(u)){const N=u;S=N[1],(null===S||$r(N,S)>0)&&(T=!0)}else S=u;if(d)if(0!==b){const M=Nr(s[E+1]);s[l+1]=yg(M,E),0!==M&&(s[M+1]=x_(s[M+1],l)),s[E+1]=function(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=yg(E,0),0!==E&&(s[E+1]=x_(s[E+1],l)),E=l;else s[l+1]=yg(b,0),0===E?E=l:s[b+1]=x_(s[b+1],l),b=l;T&&(s[l+1]=mr(s[l+1])),tm(s,S,l,!0),tm(s,S,l,!1),function(s,o,u,l,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&$r(f,o)>=0&&(u[l+1]=_g(u[l+1]))}(o,S,s,l,f),y=yg(E,b),f?o.classBindings=y:o.styleBindings=y}(d,f,o,u,y,l)}}(f,s,y,l),o!==_t&&Qt(d,y,o)&&function(s,o,u,l,d,f,y,E){if(!(3&o.type))return;const b=s.data,T=b[E+1];of(function(s){return 1==(1&s)}(T)?Go(b,o,u,d,zr(T),y):void 0)||(of(f)||function(s){return 2==(2&s)}(T)&&(f=Go(b,null,u,d,E,y)),function(s,o,u,l,d){const f=_n(s);if(o)d?f?s.addClass(u,l):u.classList.add(l):f?s.removeClass(u,l):u.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Zs.DashCase;if(null==d)f?s.removeStyle(u,l,y):u.style.removeProperty(l);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),y|=Zs.Important),f?s.setStyle(u,l,d,y):u.style.setProperty(l,d,E?"important":"")}}}(l,y,ha(jr(),u),d,f))}(f,f.data[jr()],d,d[11],s,d[y+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=K(x(s)))),s}(o,u),l,y)}(s,o,null,!0),$o}function sm(s,o,u,l,d){let f=null;const y=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<y&&(f=o[E],l=sf(l,f.hostAttrs,d),f!==s);)E++;return null!==s&&(u.directiveStylingLast=E),l}function sf(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?d=y:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Rr(s,y,!!u||o[++f]))}return void 0===s?null:s}function Go(s,o,u,l,d,f){const y=null===o;let E;for(;d>0;){const b=s[d],T=Array.isArray(b),S=T?b[1]:b,N=null===S;let M=u[d+1];M===_t&&(M=N?Ue:void 0);let U=N?Pu(M,l):S===l?M:void 0;if(T&&!of(U)&&(U=Pu(b,l)),of(U)&&(E=U,y))return E;const z=s[d+1];d=y?Nr(z):zr(z)}if(null!==o){let b=f?o.residualClasses:o.residualStyles;null!=b&&(E=Pu(b,l))}return E}function of(s){return void 0!==s}function cc(s,o=""){const u=Se(),l=Ft(),d=s+20,f=l.firstCreatePass?Js(l,d,1,o,null):l.data[d],y=u[d]=function(s,o){return _n(s)?s.createText(o):s.createTextNode(o)}(u[11],o);Th(l,u,y,f),es(f,!1)}function Fv(s){return Lv("",s,""),Fv}function Lv(s,o,u){const l=Se(),d=function(s,o,u,l){return Qt(s,va(),u)?o+Ve(u)+l:_t}(l,s,o,u);return d!==_t&&Xs(l,jr(),d),Lv}function lc(s,o,u){const l=Se();return Qt(l,va(),o)&&Wr(Ft(),en(),l,s,o,l[11],u,!0),lc}const qo=void 0;var qb=["en",[["a","p"],["AM","PM"],qo],[["AM","PM"],qo,qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qo,"{1} 'at' {0}",qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let qa={};function Jv(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Xv(o);if(u)return u;const l=o.split("-")[0];if(u=Xv(l),u)return u;if("en"===l)return qb;throw new Error(`Missing locale data for the locale "${s}".`)}function Kl(s){return Jv(s)[rt.PluralCase]}function Xv(s){return s in qa||(qa[s]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[s]),qa[s]}var rt=(()=>((rt=rt||{})[rt.LocaleId=0]="LocaleId",rt[rt.DayPeriodsFormat=1]="DayPeriodsFormat",rt[rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",rt[rt.DaysFormat=3]="DaysFormat",rt[rt.DaysStandalone=4]="DaysStandalone",rt[rt.MonthsFormat=5]="MonthsFormat",rt[rt.MonthsStandalone=6]="MonthsStandalone",rt[rt.Eras=7]="Eras",rt[rt.FirstDayOfWeek=8]="FirstDayOfWeek",rt[rt.WeekendRange=9]="WeekendRange",rt[rt.DateFormat=10]="DateFormat",rt[rt.TimeFormat=11]="TimeFormat",rt[rt.DateTimeFormat=12]="DateTimeFormat",rt[rt.NumberSymbols=13]="NumberSymbols",rt[rt.NumberFormats=14]="NumberFormats",rt[rt.CurrencyCode=15]="CurrencyCode",rt[rt.CurrencySymbol=16]="CurrencySymbol",rt[rt.CurrencyName=17]="CurrencyName",rt[rt.Currencies=18]="Currencies",rt[rt.Directionality=19]="Directionality",rt[rt.PluralCase=20]="PluralCase",rt[rt.ExtraData=21]="ExtraData",rt))();const df="en-US";let t0=df;function Yl(s){pt(s,"Expected localeId to be defined"),"string"==typeof s&&(t0=s.toLowerCase().replace(/_/g,"-"))}function p0(s,o,u,l,d){if(s=te(s),Array.isArray(s))for(let f=0;f<s.length;f++)p0(s[f],o,u,l,d);else{const f=Ft(),y=Se();let E=Xu(s)?s:te(s.provide),b=JC(s);const T=Pn(),S=1048575&T.providerIndexes,N=T.directiveStart,M=T.providerIndexes>>20;if(Xu(s)||!s.multi){const U=new nl(b,d,Wh),z=g0(E,o,d?S:S+M,N);-1===z?(Ar(Ta(T,y),f,E),Cm(f,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(U),y.push(U)):(u[z]=U,y[z]=U)}else{const U=g0(E,o,S+M,N),z=g0(E,o,S,S+M),ce=U>=0&&u[U],ee=z>=0&&u[z];if(d&&!ee||!d&&!ce){Ar(Ta(T,y),f,E);const Me=function(s,o,u,l,d){const f=new nl(s,u,Wh);return f.multi=[],f.index=o,f.componentProviders=0,nd(f,d,l&&!u),f}(d?Im:bm,u.length,d,l,b);!d&&ee&&(u[z].providerFactory=Me),Cm(f,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Me),y.push(Me)}else Cm(f,s,U>-1?U:z,nd(u[d?z:U],b,!d&&l));!d&&l&&ee&&u[z].componentProviders++}}}function Cm(s,o,u,l){const d=Xu(o);if(d||function(s){return!!s.useClass}(o)){const y=(o.useClass||o).prototype.ngOnDestroy;if(y){const E=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const b=E.indexOf(u);-1===b?E.push(u,[l,y]):E[b+1].push(l,y)}else E.push(u,y)}}}function nd(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function g0(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function bm(s,o,u,l){return Pr(this.multi,[])}function Im(s,o,u,l){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Aa(u,u[1],this.providerFactory.index,l);f=E.slice(0,y),Pr(d,f);for(let b=y;b<E.length;b++)f.push(E[b])}else f=[],Pr(d,f);return f}function Pr(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function oI(s,o=[]){return u=>{u.providersResolver=(l,d)=>function(s,o,u){const l=Ft();if(l.firstCreatePass){const d=ni(s);p0(u,l.data,l.blueprint,d,!0),p0(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class aI{}const uI="ngComponent";class LA{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${K(s)}. Did you add it to @NgModule.entryComponents?`);return o[uI]=s,o}(o)}}let rd=(()=>{class s{}return s.NULL=new LA,s})();function Wo(...s){}function pc(s,o){return new ai(Ni(s,o))}const lI=function(){return pc(Pn(),Se())};let ai=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=lI,s})();function vf(s){return s instanceof ai?s.nativeElement:s}class sd{}let _0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>cs(),s})();const cs=function(){const s=Se(),u=fr(Pn().index,s);return function(s){return s[11]}(or(u)?u:s)};let Tm=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class Sm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const gc=new Sm("12.2.7");class E0{constructor(){}supports(o){return Bo(o)}create(o){return new hI(o)}}const UA=(s,o)=>o;class hI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||UA}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,f=null;for(;u||l;){const y=!l||u&&u.currentIndex<gI(l,d,f)?u:l,E=gI(y,d,f),b=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(u=u._next,null==y.previousIndex)d++;else{f||(f=[]);const T=E-d,S=b-d;if(T!=S){for(let M=0;M<T;M++){const U=M<f.length?f[M]:f[M]=0,z=U+M;S<=z&&z<T&&(f[M]=U+1)}f[y.previousIndex]=S-T}}E!==b&&o(y,E,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Bo(o))throw new Error(`Error trying to diff '${K(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,y,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)f=o[E],y=this._trackByFn(E,f),null!==u&&Object.is(u.trackById,y)?(l&&(u=this._verifyReinsertion(u,f,y,E)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,y,E),l=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ht()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,E=>{y=this._trackByFn(d,E),null!==u&&Object.is(u.trackById,y)?(l&&(u=this._verifyReinsertion(u,E,y,d)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,y,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new fI(u,l),f,d),o}_verifyReinsertion(o,u,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new pI),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class fI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Am{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class pI{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new Am,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gI(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class w0{constructor(){}supports(o){return o instanceof Map||iv(o)}create(){return new od}}class od{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||iv(o)))throw new Error(`Error trying to diff '${K(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const l=new mc(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class mc{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C0(){return new so([new E0])}let so=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||C0()),deps:[[s,new Gs,new ss]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:C0}),s})();function yc(){return new Cf([new w0])}let Cf=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||yc()),deps:[[s,new Gs,new ss]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:yc}),s})();function bf(s,o,u,l,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&l.push(vn(f)),yn(f))for(let E=10;E<f.length;E++){const b=f[E],T=b[1].firstChild;null!==T&&bf(b[1],b,T,l)}const y=u.type;if(8&y)bf(s,o,u.child,l);else if(32&y){const E=h_(u,o);let b;for(;b=E();)l.push(b)}else if(16&y){const E=iS(o,u);if(Array.isArray(E))l.push(...E);else{const b=wl(o[16]);bf(b[1],b,E,l,!0)}}u=d?u.projectionNext:u.next}return l}class Zo{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return bf(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(yn(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(v_(o,l),bo(u,l))}this._attachedToViewContainer=!1}dC(this._lView[1],this._lView)}onDestroy(o){V_(this._lView[1],this._lView,null,o)}markForCheck(){q_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ag(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){_a(!0);try{Ag(s,o,u)}finally{_a(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Sh(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class jA extends Zo{constructor(o){super(o),this._view=o}detectChanges(){xg(this._view)}checkNoChanges(){!function(s){_a(!0);try{xg(s)}finally{_a(!1)}}(this._view)}get context(){return null}}const xm=function(s){return function(s,o,u){if(ti(s)&&!u){const l=fr(s.index,o);return new Zo(l,l)}return 47&s.type?new Zo(o[16],o):null}(Pn(),Se(),16==(16&s))};let Rm=(()=>{class s{}return s.__NG_ELEMENT_ID__=xm,s})();const GA=[new w0],_I=new so([new E0]),If=new Cf(GA),vI=function(){return Nn(Pn(),Se())};let ad=(()=>{class s{}return s.__NG_ELEMENT_ID__=vI,s})();const Df=ad,I0=class extends Df{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o){const u=this._declarationTContainer.tViews,l=Va(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(u)),Nh(u,l,o),new Zo(l)}};function Nn(s,o){return 4&s.type?new I0(o,s,pc(s,o)):null}class Pt{}class D0{}const Nm=function(){return Mm(Pn(),Se())};let er=(()=>{class s{}return s.__NG_ELEMENT_ID__=Nm,s})();const wI=er,CI=class extends wI{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const o=Sa(this._hostTNode,this._hostLView);if(Op(o)){const u=ks(o,this._hostLView),l=Da(o);return new Es(u[1].data[l+8],u)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=$i(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){const d=o.createEmbeddedView(u||{});return this.insert(d,l),d}createComponent(o,u,l,d,f){const y=l||this.parentInjector;if(!f&&null==o.ngModule&&y){const b=y.get(Pt,null);b&&(f=b)}const E=o.create(y,d,void 0,f);return this.insert(E.hostView,u),E}insert(o,u){const l=o._lView,d=l[1];if(yn(l[3])){const S=this.indexOf(o);if(-1!==S)this.detach(S);else{const N=l[3],M=new CI(N,N[6],N[3]);M.detach(M.indexOf(o))}}const f=this._adjustIndex(u),y=this._lContainer;!function(s,o,u,l){const d=10+l,f=u.length;l>0&&(u[d-1][4]=o),l<f-10?(o[4]=u[d],Oa(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,l,y,f);const E=Oo(f,y),b=l[11],T=pg(b,y[7]);return null!==T&&function(s,o,u,l,d,f){l[0]=d,l[6]=o,Sh(s,l,u,1,d,f)}(d,y[6],b,l,T,E),o.attachToViewContainerRef(),Oa(T0(y),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=$i(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=v_(this._lContainer,u);l&&(bo(T0(this._lContainer),u),dC(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=v_(this._lContainer,u);return l&&null!=bo(T0(this._lContainer),u)?new Zo(l):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function $i(s){return s[8]}function T0(s){return s[8]||(s[8]=[])}function Mm(s,o){let u;const l=o[s.index];if(yn(l))u=l;else{let d;if(8&s.type)d=vn(l);else{const f=o[11];d=f.createComment("");const y=Ni(s,o);Ks(f,pg(f,y),d,function(s,o){return _n(s)?s.nextSibling(o):o.nextSibling}(f,y),!1)}o[s.index]=u=$_(l,o,d,s),Lh(o,u)}return new CI(u,s,o)}const Wi={};class Jo extends rd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Sn(o);return new HI(u,this.ngModule)}}function nu(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const jI=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>sC});class HI extends aI{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(Yu).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return nu(this.componentDef.inputs)}get outputs(){return nu(this.componentDef.outputs)}create(o,u,l,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(u,l,d)=>{const f=s.get(u,Wi,d);return f!==Wi||l===Wi?f:o.get(u,l,d)}}}(o,d.injector):o,y=f.get(sd,wu),E=f.get(Tm,null),b=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=l?function(s,o,u){if(_n(s))return s.selectRootElement(o,u===on.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(b,l,this.componentDef.encapsulation):y_(y.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?Wc:"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,M=function(s,o){return{components:[],scheduler:s||sC,clean:OS,playerHandler:o||null,flags:0}}(),U=Ig(0,null,null,1,0,null,null,null,null,null),z=Va(null,U,M,N,null,null,y,b,E,f);let ce,ee;Au(z);try{const Me=function(s,o,u,l,d,f){const y=u[1];u[20]=s;const b=Js(y,20,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(Mg(b,T,!0),null!==s&&(Ia(d,s,T),null!==b.classes&&gg(d,s,b.classes),null!==b.styles&&pC(d,s,b.styles)));const S=l.createRenderer(s,o),N=Va(u,L_(o),null,o.onPush?64:16,u[20],b,l,S,f||null,null);return y.firstCreatePass&&(Ar(Ta(b,u),y,o.type),Rl(y,b),SS(b,u.length,1)),Lh(u,N),u[20]=N}(S,this.componentDef,z,y,b);if(S)if(l)Ia(b,S,["ng-version",gc.full]);else{const{attrs:le,classes:Xe}=function(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let f=s[l];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++l]):8===d&&u.push(f);else{if(!Is(d))break;d=f}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);le&&Ia(b,S,le),Xe&&Xe.length>0&&gg(b,S,Xe.join(" "))}if(ee=fa(U,20),void 0!==u){const le=ee.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const lt=u[Xe];le.push(null!=lt?Array.from(lt):null)}}ce=function(s,o,u,l,d){const f=u[1],y=function(s,o,u){const l=Pn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),AS(s,l,o,Fo(s,o,1,null),u));const d=Aa(o,s,l.directiveStart,l);un(d,o);const f=Ni(l,o);return f&&un(f,o),d}(f,u,o);if(l.components.push(y),s[8]=y,d&&d.forEach(b=>b(y,o)),o.contentQueries){const b=Pn();o.contentQueries(1,y,b.directiveStart)}const E=Pn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ns(E.index),Dg(u[1],E,0,E.directiveStart,E.directiveEnd,o),VC(o,y)),y}(Me,this.componentDef,z,M,[JS]),Nh(U,z,null)}finally{xp()}return new jm(this.componentType,ce,pc(ee,z),z,ee)}}class jm extends class{}{constructor(o,u,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new jA(d),this.componentType=o}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Ic=new Map;class ux extends Pt{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jo(this);const l=Vr(o),d=o[Nt]||null;d&&Yl(d),this._bootstrapComponents=Ws(l.bootstrap),this._r3Injector=K_(o,u,[{provide:Pt,useValue:this},{provide:rd,useValue:this.componentFactoryResolver}],K(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=xn.THROW_IF_NOT_FOUND,l=xe.Default){return o===xn||o===Pt||o===Ml?this:this._r3Injector.get(o,u,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Hm extends D0{constructor(o){super(),this.moduleType=o,null!==Vr(o)&&function(s){const o=new Set;!function u(l){const d=Vr(l,!0),f=d.id;null!==f&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${K(o)} vs ${K(o.name)}`)}(f,Ic.get(f),l),Ic.set(f,l));const y=Ws(d.imports);for(const E of y)o.has(E)||(o.add(E),u(E))}(s)}(o)}create(o){return new ux(this.moduleType,o)}}function eE(s){return o=>{setTimeout(s,void 0,o)}}const hs=class extends g.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){var d,f,y;let E=o,b=u||(()=>null),T=l;if(o&&"object"==typeof o){const N=o;E=null===(d=N.next)||void 0===d?void 0:d.bind(N),b=null===(f=N.error)||void 0===f?void 0:f.bind(N),T=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(b=eE(b),E&&(E=eE(E)),T&&(T=eE(T)));const S=super.subscribe({next:E,error:b,complete:T});return o instanceof B.w&&o.add(S),S}};function hx(){return this._results[ht()]()}class Sd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ht(),l=Sd.prototype;l[u]||(l[u]=hx)}get changes(){return this._changes||(this._changes=new hs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=Hr(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],f=o[l];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nE{constructor(o){this.queryList=o,this.matches=null}clone(){return new nE(this.queryList)}setDirty(){this.queryList.setDirty()}}class rE{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<l;f++){const y=u.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new rE(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==nD(o,u).matches&&this.queries[u].setDirty()}}class QI{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class iE{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,f=this.getByIndex(l).embeddedTView(o,d);f&&(f.indexInDeclarationView=l,null!==u?u.push(f):u=[f])}return null!==u?new iE(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class sE{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new sE(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(o,u,px(u,f)),this.matchTNodeWithReadOption(o,u,Mu(u,o,f,!1,!1))}else l===ad?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Mu(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ai||d===er||d===ad&&4&u.type)this.addMatch(u.index,-2);else{const f=Mu(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function px(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function JI(s,o,u,l){return-1===u?function(s,o){return 11&s.type?pc(s,o):4&s.type?Nn(s,o):null}(o,s):-2===u?function(s,o,u){return u===ai?pc(o,s):u===ad?Nn(o,s):u===er?Mm(o,s):void 0}(s,o,l):Aa(s,s[1],u,o)}function zm(s,o,u,l){const d=o[19].queries[l];if(null===d.matches){const f=s.data,y=u.matches,E=[];for(let b=0;b<y.length;b+=2){const T=y[b];E.push(T<0?null:JI(o,f[T],y[b+1],u.metadata.read))}d.matches=E}return d.matches}function Ad(s,o,u,l){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const y=zm(s,o,d,u);for(let E=0;E<f.length;E+=2){const b=f[E];if(b>0)l.push(y[E/2]);else{const T=f[E+1],S=o[-b];for(let N=10;N<S.length;N++){const M=S[N];M[17]===M[3]&&Ad(M[1],M,T,l)}if(null!==S[9]){const N=S[9];for(let M=0;M<N.length;M++){const U=N[M];Ad(U[1],U,T,l)}}}}}return l}function xd(s){const o=Se(),u=Ft(),l=ih();Tp(l+1);const d=nD(u,l);if(s.dirty&&Yc(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?Ad(u,o,l,[]):zm(u,o,d,l);s.reset(f,vf),s.notifyOnChanges()}return!0}return!1}function Ff(s,o,u){const l=Ft();l.firstCreatePass&&(eD(l,new QI(s,o,u),-1),2==(2&o)&&(l.staticViewQueries=!0)),uE(l,Se(),o)}function Wm(s,o,u,l){const d=Ft();if(d.firstCreatePass){const f=Pn();eD(d,new QI(o,u,l),f.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}uE(d,Se(),u)}function Zm(){return s=Se(),o=ih(),s[19].queries[o].queryList;var s,o}function uE(s,o,u){const l=new Sd(4==(4&u));V_(s,o,l,l.destroy),null===o[19]&&(o[19]=new rE),o[19].queries.push(new nE(l))}function eD(s,o,u){null===s.queries&&(s.queries=new iE),s.queries.track(new sE(o,u))}function nD(s,o){return s.queries.getByIndex(o)}const Kf=new pn("Application Initializer");let Nd=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Wo,this.reject=Wo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Dv(f))u.push(f);else if(Ho(f)){const y=new Promise((E,b)=>{f.subscribe({complete:E,error:b})});u.push(y)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(bn(Kf,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const ny=new pn("AppId"),CE={provide:ny,useFactory:function(){return`${ry()}${ry()}${ry()}`},deps:[]};function ry(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CD=new pn("Platform Initializer"),iy=new pn("Platform ID"),bD=new pn("appBootstrapListener");let DD=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const Md=new pn("LocaleId"),TD=new pn("DefaultCurrencyCode");class Nx{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const Yf=function(s){return new Hm(s)},Mx=Yf,Ox=function(s){return Promise.resolve(Yf(s))},OD=function(s){const o=Yf(s),l=Ws(Vr(s).declarations).reduce((d,f)=>{const y=Sn(f);return y&&d.push(new HI(y)),d},[]);return new Nx(o,l)},bE=OD,Px=function(s){return Promise.resolve(OD(s))};let Sc=(()=>{class s{constructor(){this.compileModuleSync=Mx,this.compileModuleAsync=Ox,this.compileModuleAndAllComponentsSync=bE,this.compileModuleAndAllComponentsAsync=Px}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const FD=(()=>Promise.resolve(0))();function DE(s){"undefined"==typeof Zone?FD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ci{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=j.requestAnimationFrame,o=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(j,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,AE(s),s.isCheckStableRunning=!0,Qf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),AE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,f,y,E)=>{try{return xE(s),u.invokeTask(d,f,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),RE(s)}},onInvoke:(u,l,d,f,y,E,b)=>{try{return xE(s),u.invoke(d,f,y,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),RE(s)}},onHasTask:(u,l,d,f)=>{u.hasTask(d,f),l===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,AE(s),Qf(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,l,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,o,Fx,Wo,Wo);try{return f.runTask(y,u,l)}finally{f.cancelTask(y)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const Fx={};function Qf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function AE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function RE(s){s._nesting--,Qf(s)}class Lx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}let sy=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),DE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(bn(ci))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),NE=(()=>{class s{constructor(){this._applications=new Map,ME.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return ME.findTestabilityInTree(this,u,l)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();class oy{addToWindow(o){}findTestabilityInTree(o,u,l){return null}}function Vx(s){ME=s}let ME=new oy,LD=!0,VD=!1;function ay(){return VD=!0,LD}function OE(){if(VD)throw new Error("Cannot enable prod mode after platform setup.");LD=!1}let fs;const Ac=new pn("AllowMultipleToken");class BE{constructor(o,u){this.name=o,this.token=u}}function jD(s,o,u=[]){const l=`Platform: ${o}`,d=new pn(l);return(f=[])=>{let y=HD();if(!y||y.injector.get(Ac,!1))if(s)s(u.concat(f).concat({provide:d,useValue:!0}));else{const E=u.concat(f).concat({provide:d,useValue:!0},{provide:Ol,useValue:"platform"});!function(s){if(fs&&!fs.destroyed&&!fs.injector.get(Ac,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fs=s.get(jE);const o=s.get(CD,null);o&&o.forEach(u=>u())}(xn.create({providers:E,name:l}))}return function(s){const o=HD();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function HD(){return fs&&!fs.destroyed?fs:null}let jE=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const E=function(s,o){let u;return u="noop"===s?new Lx:("zone.js"===s?void 0:s)||new ci({enableLongStackTrace:ay(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:ci,useValue:E}];return E.run(()=>{const T=xn.create({providers:b,parent:this.injector,name:u.moduleType.name}),S=u.create(T),N=S.injector.get(vl,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const M=E.onError.subscribe({next:U=>{N.handleError(U)}});S.onDestroy(()=>{HE(this._modules,S),M.unsubscribe()})}),function(s,o,u){try{const l=u();return Dv(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(N,E,()=>{const M=S.injector.get(Nd);return M.runInitializers(),M.donePromise.then(()=>(Yl(S.injector.get(Md,df)||df),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,l=[]){const d=$D({},l);return function(s,o,u){const l=new Hm(u);return Promise.resolve(l)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const l=u.injector.get(Jf);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${K(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(bn(xn))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function $D(s,o){return Array.isArray(o)?o.reduce($D,s):Object.assign(Object.assign({},s),o)}let Jf=(()=>{class s{constructor(u,l,d,f,y){this._zone=u,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new V.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new V.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ci.assertNotInAngularZone(),DE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=(0,fe.T)(E,b.pipe(s=>(0,de.x)()(function(s,o){return function(l){let d;d="function"==typeof s?s:function(){return s};const f=Object.create(l,ve.N);return f.source=l,f.subjectFactory=d,f}}(Y)(s))))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof aI?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Pt),E=d.create(xn.NULL,[],l||d.selector,f),b=E.location.nativeElement,T=E.injector.get(sy,null),S=T&&E.injector.get(NE);return T&&S&&S.registerApplication(b,T),E.onDestroy(()=>{this.detachView(E.hostView),HE(this.components,E),S&&S.unregisterApplication(b)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;HE(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(bD,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(bn(ci),bn(xn),bn(vl),bn(rd),bn(Nd))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function HE(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class $E{}class zD{}const ep={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Zx=(()=>{class s{constructor(u,l){this._compiler=u,this._config=l||ep}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,d]=u.split("#");return void 0===d&&(d="default"),F(8255)(l).then(f=>f[d]).then(f=>mn(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[l,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[d+f]).then(y=>mn(y,l,d))}}return s.\u0275fac=function(u){return new(u||s)(bn(Sc),bn(zD,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function mn(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const t1=function(s){return null},r1=jD(null,"core",[{provide:iy,useValue:"unknown"},{provide:jE,deps:[xn]},{provide:NE,deps:[]},{provide:DD,deps:[]}]),Rc=[{provide:Jf,useClass:Jf,deps:[ci,xn,vl,rd,Nd]},{provide:jI,deps:[ci],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Nd,useClass:Nd,deps:[[new ss,Kf]]},{provide:Sc,useClass:Sc,deps:[]},CE,{provide:so,useFactory:function(){return _I},deps:[]},{provide:Cf,useFactory:function(){return If},deps:[]},{provide:Md,useFactory:function(s){return Yl(s=s||"undefined"!=typeof $localize&&$localize.locale||df),s},deps:[[new Cs(Md),new ss,new Gs]]},{provide:TD,useValue:"USD"}];let np=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(bn(Jf))},s.\u0275mod=Cn({type:s}),s.\u0275inj=Jr({providers:Rc}),s})()},8939:(Qe,De,F)=>{"use strict";F.d(De,{hO:()=>K,xv:()=>Y,Dh:()=>de,GT:()=>ue,on:()=>k,pX:()=>ve});var g=F(3018),B=F(7841),V=F(9126);Qe=F.hmd(Qe);const fe=["ngOnDestroy"],ve=(J,me,ie,te={})=>new Proxy(J,{get:(Le,Pe)=>ie.runOutsideAngular(()=>{var Te;if(J[Pe])return(null===(Te=null==te?void 0:te.spy)||void 0===Te?void 0:Te.get)&&te.spy.get(Pe,J[Pe]),J[Pe];if(fe.indexOf(Pe)>-1)return()=>{};const Ge=me.toPromise().then(Ye=>{const Ve=Ye&&Ye[Pe];return"function"==typeof Ve?Ve.bind(Ye):Ve&&Ve.then?Ve.then(bt=>ie.run(()=>bt)):ie.run(()=>Ve)});return new Proxy(()=>{},{get:(Ye,Ve)=>Ge[Ve],apply:(Ye,Ve,bt)=>Ge.then(Ce=>{var Ht;const oe=Ce&&Ce(...bt);return(null===(Ht=null==te?void 0:te.spy)||void 0===Ht?void 0:Ht.apply)&&te.spy.apply(Pe,bt,oe),oe})})})}),ue=(J,me)=>{me.forEach(ie=>{Object.getOwnPropertyNames(ie.prototype||ie).forEach(te=>{Object.defineProperty(J.prototype,te,Object.getOwnPropertyDescriptor(ie.prototype||ie,te))})})};class be{constructor(me){return me}}const de=new g.OlP("angularfire2.app.options"),Y=new g.OlP("angularfire2.app.name");function k(J,me,ie){const Le="object"==typeof ie&&ie||{};Le.name=Le.name||"string"==typeof ie&&ie||"[DEFAULT]";const Te=B.Z.apps.filter(Ge=>Ge&&Ge.name===Le.name)[0]||me.runOutsideAngular(()=>B.Z.initializeApp(J,Le));try{JSON.stringify(J)!==JSON.stringify(Te.options)&&L("error",`${Te.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new be(Te)}const L=(J,...me)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[J](...me)},X={provide:be,useFactory:k,deps:[de,g.R0b,[new g.FiY,Y]]};let K=(()=>{class J{constructor(ie){B.Z.registerVersion("angularfire",V.q4.full,"core"),B.Z.registerVersion("angularfire",V.q4.full,"app-compat"),B.Z.registerVersion("angular",g.q4F.full,ie.toString())}static initializeApp(ie,te){return{ngModule:J,providers:[{provide:de,useValue:ie},{provide:Y,useValue:te}]}}}return J.\u0275fac=function(ie){return new(ie||J)(g.LFG(g.Lbi))},J.\u0275mod=g.oAB({type:J}),J.\u0275inj=g.cJS({providers:[X]}),J})()},9126:(Qe,De,F)=>{"use strict";F.d(De,{q4:()=>k,iC:()=>oe,fc:()=>Ce,HU:()=>Ge,cc:()=>K});var g=F(3018);(0,F(5452).registerVersion)("firebase","9.1.1","app");var ve=F(7771),ue=F(3637),be=F(3342),de=F(309),Y=F(3101);Qe=F.hmd(Qe);const k=new g.GfV("7.0.4"),L=!!Qe.hot,X=(he,...Q)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[he](...Q)};function K(he,Q,Oe,Je,Tt){const[,nt,ut]=globalThis.\u0275AngularfireInstanceCache.find(cn=>cn[0]===he)||[];if(nt)return function(he,Q){try{return he.toString()===Q.toString()}catch(Oe){return he===Q}}(Tt,ut)||(X("error",`${Q} was already initialized on the ${Oe} Firebase App with different settings.${L?" You may need to reload as Firebase is not HMR aware.":""}`),X("warn",{is:Tt,was:ut})),nt;{const cn=Je();return globalThis.\u0275AngularfireInstanceCache.push([he,cn,Tt]),cn}}function Le(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Pe{constructor(Q,Oe=ve.N){this.zone=Q,this.delegate=Oe}now(){return this.delegate.now()}schedule(Q,Oe,Je){const Tt=this.zone;return this.delegate.schedule(function(ut){Tt.runGuarded(()=>{Q.apply(this,[ut])})},Oe,Je)}}class Te{constructor(Q){this.zone=Q,this.task=null}call(Q,Oe){const Je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le)),Oe.pipe((0,be.b)({next:Je,complete:Je,error:Je})).subscribe(Q).add(Je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ge=(()=>{class he{constructor(Oe){this.ngZone=Oe,this.outsideAngular=Oe.runOutsideAngular(()=>new Pe(Zone.current)),this.insideAngular=Oe.run(()=>new Pe(Zone.current,ue.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return he.\u0275fac=function(Oe){return new(Oe||he)(g.LFG(g.R0b))},he.\u0275prov=g.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Ye(){const he=globalThis.\u0275AngularFireScheduler;if(!he)throw new Error("AngularFireModule has not been provided");return he}function Ce(he){return he.pipe((0,de.QV)(Ye().outsideAngular))}function oe(he){return Ye(),function(he){return function(Oe){return(Oe=Oe.lift(new Te(he.ngZone))).pipe((0,Y.R)(he.outsideAngular),(0,de.QV)(he.insideAngular))}}(Ye())(he)}},4486:(Qe,De,F)=>{"use strict";F.d(De,{Z:()=>me});var g=F(3854),B=F(6034),V=F(5452),fe=F(5601);class ve{constructor(te,Le){this._delegate=te,this.firebase=Le,(0,V._addComponent)(te,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this._delegate.automaticDataCollectionEnabled=te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(te=>{this._delegate.checkDestroyed(),te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(te,Le=V._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(te);return!Te.isInitialized()&&"EXPLICIT"===(null===(Pe=Te.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:Le})}_removeServiceInstance(te,Le=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(te).clearInstance(Le)}_addComponent(te){(0,V._addComponent)(this._delegate,te)}_addOrOverwriteComponent(te){(0,V._addOrOverwriteComponent)(this._delegate,te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function Y(){const ie=function(ie){const te={},Le={__esModule:!0,initializeApp:function(Ce,Ht={}){const oe=V.initializeApp(Ce,Ht);if((0,g.r3)(te,oe.name))return te[oe.name];const ye=new ie(oe,Le);return te[oe.name]=ye,ye},app:Te,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function(Ce){const Ht=Ce.name,oe=Ht.replace("-compat","");if(V._registerComponent(Ce)&&"PUBLIC"===Ce.type){const ye=(ae=Te())=>{if("function"!=typeof ae[oe])throw be.create("invalid-app-argument",{appName:Ht});return ae[oe]()};void 0!==Ce.serviceProps&&(0,g.ZB)(ye,Ce.serviceProps),Le[oe]=ye,ie.prototype[oe]=function(...ae){return this._getService.bind(this,Ht).apply(this,Ce.multipleInstances?ae:[])}}return"PUBLIC"===Ce.type?Le[oe]:null},removeApp:function(Ce){delete te[Ce]},useAsService:function(Ce,Ht){return"serverAuth"===Ht?null:Ht},modularAPIs:V}};function Te(Ce){if(!(0,g.r3)(te,Ce=Ce||V._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Ce});return te[Ce]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function(){return Object.keys(te).map(Ce=>te[Ce])}}),Te.App=ie,Le}(ve);return ie.INTERNAL=Object.assign(Object.assign({},ie.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Le){(0,g.ZB)(ie,Le)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ie}(),L=new fe.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ie=self.firebase.SDK_VERSION;ie&&ie.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const me=k;(0,V.registerVersion)("@firebase/app-compat","0.1.3",undefined)},5452:(Qe,De,F)=>{"use strict";F.r(De),F.d(De,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>co,_DEFAULT_ENTRY_NAME:()=>Tt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>fi,_apps:()=>ut,_clearComponents:()=>Mn,_components:()=>cn,_getProvider:()=>pt,_registerComponent:()=>Lr,_removeServiceInstance:()=>st,deleteApp:()=>xs,getApp:()=>nr,getApps:()=>Xr,initializeApp:()=>Jr,onLog:()=>Vt,registerVersion:()=>Qi,setLogLevel:()=>rr});var g=F(8239),B=F(6034),V=F(5601),fe=F(3854);class ve{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function(ot){const xe=ot.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(zt)){const rn=zt.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(zt=>zt).join(" ")}}const be="@firebase/app",Y=new V.Yd("@firebase/app"),Tt="[DEFAULT]",nt={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,cn=new Map;function ln(ot,xe){try{ot.container.addComponent(xe)}catch(zt){Y.debug(`Component ${xe.name} failed to register with FirebaseApp ${ot.name}`,zt)}}function fi(ot,xe){ot.container.addOrOverwriteComponent(xe)}function Lr(ot){const xe=ot.name;if(cn.has(xe))return Y.debug(`There were multiple attempts to register component ${xe}.`),!1;cn.set(xe,ot);for(const zt of ut.values())ln(zt,ot);return!0}function pt(ot,xe){return ot.container.getProvider(xe)}function st(ot,xe,zt=Tt){pt(ot,xe).clearInstance(zt)}function Mn(){cn.clear()}const pi=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Yt{constructor(xe,zt,rn){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const co="9.1.1";function Jr(ot,xe={}){"object"!=typeof xe&&(xe={name:xe});const zt=Object.assign({name:Tt,automaticDataCollectionEnabled:!1},xe),rn=zt.name;if("string"!=typeof rn||!rn)throw pi.create("bad-app-name",{appName:String(rn)});const sn=ut.get(rn);if(sn){if((0,fe.vZ)(ot,sn.options)&&(0,fe.vZ)(zt,sn.config))return sn;throw pi.create("duplicate-app",{appName:rn})}const $t=new B.H0(rn);for(const ze of cn.values())$t.addComponent(ze);const We=new Yt(ot,zt,$t);return ut.set(rn,We),We}function nr(ot=Tt){const xe=ut.get(ot);if(!xe)throw pi.create("no-app",{appName:ot});return xe}function Xr(){return Array.from(ut.values())}function xs(ot){return Di.apply(this,arguments)}function Di(){return(Di=(0,g.Z)(function*(ot){const xe=ot.name;ut.has(xe)&&(ut.delete(xe),yield Promise.all(ot.container.getProviders().map(zt=>zt.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function Qi(ot,xe,zt){var rn;let sn=null!==(rn=nt[ot])&&void 0!==rn?rn:ot;zt&&(sn+=`-${zt}`);const $t=sn.match(/\s|\//),We=xe.match(/\s|\//);if($t||We){const ze=[`Unable to register library "${sn}" with version "${xe}":`];return $t&&ze.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),$t&&We&&ze.push("and"),We&&ze.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void Y.warn(ze.join(" "))}Lr(new B.wA(`${sn}-version`,()=>({library:sn,version:xe}),"VERSION"))}function Vt(ot,xe){if(null!==ot&&"function"!=typeof ot)throw pi.create("invalid-log-argument");(0,V.Am)(ot,xe)}function rr(ot){(0,V.Ub)(ot)}Lr(new B.wA("platform-logger",xe=>new ve(xe),"PRIVATE")),Qi(be,"0.7.2",undefined),Qi("fire-js","")},6031:(Qe,De,F)=>{"use strict";F.d(De,{$:()=>wp,A:()=>L,E:()=>He,G:()=>an,I:()=>ti,K:()=>qn,L:()=>Kd,M:()=>pp,N:()=>gp,P:()=>Lw,Q:()=>mp,R:()=>RT,T:()=>qc,V:()=>yo,W:()=>Aw,X:()=>wu,Y:()=>vn,Z:()=>Oy,_:()=>fa,a:()=>ba,a0:()=>Cp,a1:()=>gt,a2:()=>ga,a3:()=>th,a4:()=>Iu,a5:()=>Se,a6:()=>Ft,a7:()=>Pn,a8:()=>Ip,a9:()=>ya,aA:()=>Bs,aB:()=>$r,aC:()=>hr,aG:()=>gi,aJ:()=>la,aa:()=>xw,ab:()=>_a,ae:()=>va,af:()=>Py,ag:()=>Dp,aj:()=>My,ak:()=>Sp,am:()=>Vy,an:()=>tl,ao:()=>ir,ap:()=>oe,aq:()=>Tn,ar:()=>Mt,as:()=>Te,at:()=>ll,au:()=>$p,av:()=>Ge,aw:()=>Ce,ax:()=>ae,ay:()=>Nt,az:()=>Pa,b:()=>Hy,c:()=>Yy,d:()=>bo,e:()=>Pi,f:()=>Hp,g:()=>hh,h:()=>Xy,i:()=>ch,j:()=>Fu,k:()=>zu,l:()=>il,m:()=>dl,o:()=>de,r:()=>kw,s:()=>Ky,u:()=>Fw,z:()=>J});var g=F(8239),B=F(3854),V=F(5452),fe=F(4762),ve=F(5601),ue=F(6034);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},L={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const J=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},me=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ie=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new ve.Yd("@firebase/auth");function Pe(C,..._){Le.logLevel<=ve.in.ERROR&&Le.error(`Auth (${V.SDK_VERSION}): ${C}`,..._)}function Te(C,..._){throw bt(C,..._)}function Ge(C,..._){return bt(C,..._)}function Ye(C,_,v){const I=Object.assign(Object.assign({},me()),{[_]:v});return new B.LL("auth","Firebase",I).create(_,{appName:C.name})}function Ve(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Te(C,"argument-error"),Ye(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(C,..._){if("string"!=typeof C){const v=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(v,...I)}return ie.create(C,..._)}function Ce(C,_,...v){if(!C)throw bt(_,...v)}function Ht(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Pe(_),new Error(_)}function oe(C,_){C||Ht(_)}const ye=new Map;function ae(C){oe(C instanceof Function,"Expected a class definition");let _=ye.get(C);return _?(oe(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,ye.set(C,_),_)}function Q(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Oe(){return"http:"===Je()||"https:"===Je()}function Je(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ut{constructor(_,v){this.shortDelay=_,this.longDelay=v,oe(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Oe()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function cn(C,_){oe(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class ln{static initialize(_,v,I){this.fetchImpl=_,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lr=new ut(3e4,6e4);function pt(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function st(C,_,v,I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(C,_,v,I,x={}){return As(C,x,()=>{let P={},re={};I&&("GET"===_?re=I:P={body:JSON.stringify(I)});const Re=(0,B.xO)(Object.assign({key:C.config.apiKey},re)).slice(1),Ke=new(ln.headers());return Ke.set("Content-Type","application/json"),Ke.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Ke.set("X-Firebase-Locale",C.languageCode),ln.fetch()(Jr(C,C.config.apiHost,v,Re),Object.assign({method:_,headers:Ke,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function As(C,_,v){return pi.apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(C,_,v){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},fi),_);try{const x=new nr(C),P=yield Promise.race([v(),x.promise]);x.clearNetworkTimeout();const re=yield P.json();if("needConfirmation"in re)throw Xr(C,"account-exists-with-different-credential",re);if(P.ok&&!("errorMessage"in re))return re;{const Re=P.ok?re.errorMessage:re.error.message,[Ke,ct]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Xr(C,"credential-already-in-use",re);if("EMAIL_EXISTS"===Ke)throw Xr(C,"email-already-in-use",re);const Ct=I[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw Ye(C,Ct,ct);Te(C,Ct)}}catch(x){if(x instanceof B.ZR)throw x;Te(C,"network-request-failed")}})).apply(this,arguments)}function Yt(C,_,v,I){return co.apply(this,arguments)}function co(){return(co=(0,g.Z)(function*(C,_,v,I,x={}){const P=yield st(C,_,v,I,x);return"mfaPendingCredential"in P&&Te(C,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Jr(C,_,v,I){const x=`${_}${v}?${I}`;return C.config.emulator?cn(C.config,x):`${C.config.apiScheme}://${x}`}class nr{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Ge(this.auth,"timeout")),Lr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xr(C,_,v){const I={appName:C.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const x=Ge(C,_,I);return x.customData._tokenResponse=v,x}function Di(){return(Di=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Qi(C,_){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function rr(C,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ot(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function rn(){return(rn=(0,g.Z)(function*(C,_=!1){const v=(0,B.m9)(C),I=yield v.getIdToken(_),x=$t(I);Ce(x&&x.exp&&x.auth_time&&x.iat,v.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,re=null==P?void 0:P.sign_in_provider;return{claims:x,token:I,authTime:ot(sn(x.auth_time)),issuedAtTime:ot(sn(x.iat)),expirationTime:ot(sn(x.exp)),signInProvider:re||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function sn(C){return 1e3*Number(C)}function $t(C){const[_,v,I]=C.split(".");if(void 0===_||void 0===v||void 0===I)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,B.tV)(v);return x?JSON.parse(x):(Pe("Failed to decode base64 JWT payload"),null)}catch(x){return Pe("Caught error parsing JWT payload as JSON",x),null}}function ze(C,_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(I){throw I instanceof B.ZR&&lo(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function lo({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Ti{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),I)}iteration(){var _=this;return(0,g.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class on{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ot(this.lastLoginAt),this.creationTime=ot(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wt(C){return ys.apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(C){var _;const v=C.auth,I=yield C.getIdToken(),x=yield ze(C,rr(v,{idToken:I}));Ce(null==x?void 0:x.users.length,v,"internal-error");const P=x.users[0];C._notifyReloadListener(P);const re=(null===(_=P.providerUserInfo)||void 0===_?void 0:_.length)?we(P.providerUserInfo):[],Re=j(C.providerData,re),Ct=!!C.isAnonymous&&!(C.email&&P.passwordHash||(null==Re?void 0:Re.length)),In={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Re,metadata:new on(P.createdAt,P.lastLoginAt),isAnonymous:Ct};Object.assign(C,In)})).apply(this,arguments)}function H(){return(H=(0,g.Z)(function*(C){const _=(0,B.m9)(C);yield Wt(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function j(C,_){return[...C.filter(I=>!_.some(x=>x.providerId===I.providerId)),..._]}function we(C){return C.map(_=>{var{providerId:v}=_,I=(0,fe._T)(_,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function qe(){return(qe=(0,g.Z)(function*(C,_){const v=yield As(C,{},()=>{const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:x,apiKey:P}=C.config,re=Jr(C,x,"/v1/token",`key=${P}`);return ln.fetch()(re,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ce(_.idToken,"internal-error"),Ce(void 0!==_.idToken,"internal-error"),Ce(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(C){const _=$t(C);return Ce(_,"internal-error"),Ce(void 0!==_.exp,"internal-error"),Ce(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var I=this;return(0,g.Z)(function*(){return Ce(!I.accessToken||I.refreshToken,_,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var I=this;return(0,g.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:re}=yield function(C,_){return qe.apply(this,arguments)}(_,v);I.updateTokensAndExpiration(x,P,Number(re))})()}updateTokensAndExpiration(_,v,I){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,v){const{refreshToken:I,accessToken:x,expirationTime:P}=v,re=new Ue;return I&&(Ce("string"==typeof I,"internal-error",{appName:_}),re.refreshToken=I),x&&(Ce("string"==typeof x,"internal-error",{appName:_}),re.accessToken=x),P&&(Ce("number"==typeof P,"internal-error",{appName:_}),re.expirationTime=P),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function kt(C,_){Ce("string"==typeof C||void 0===C,"internal-error",{appName:_})}class dn{constructor(_){var{uid:v,auth:I,stsTokenManager:x}=_,P=(0,fe._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new on(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,g.Z)(function*(){const I=yield ze(v,v.stsTokenManager.getToken(v.auth,_));return Ce(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(_){return function(C){return rn.apply(this,arguments)}(this,_)}reload(){return function(C){return H.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ce(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new dn(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var I=this;return(0,g.Z)(function*(){let x=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),x=!0),v&&(yield Wt(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,g.Z)(function*(){const v=yield _.getIdToken();return yield ze(_,function(C,_){return Di.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var I,x,P,re,Re,Ke,ct,Ct;const In=null!==(I=v.displayName)&&void 0!==I?I:void 0,Li=null!==(x=v.email)&&void 0!==x?x:void 0,Vi=null!==(P=v.phoneNumber)&&void 0!==P?P:void 0,Zu=null!==(re=v.photoURL)&&void 0!==re?re:void 0,hl=null!==(Re=v.tenantId)&&void 0!==Re?Re:void 0,fl=null!==(Ke=v._redirectEventId)&&void 0!==Ke?Ke:void 0,vh=null!==(ct=v.createdAt)&&void 0!==ct?ct:void 0,pl=null!==(Ct=v.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:Ro,emailVerified:Fa,isAnonymous:_i,providerData:No,stsTokenManager:Eh}=v;Ce(Ro&&Eh,_,"internal-error");const Yp=Ue.fromJSON(this.name,Eh);Ce("string"==typeof Ro,_,"internal-error"),kt(In,_.name),kt(Li,_.name),Ce("boolean"==typeof Fa,_,"internal-error"),Ce("boolean"==typeof _i,_,"internal-error"),kt(Vi,_.name),kt(Zu,_.name),kt(hl,_.name),kt(fl,_.name),kt(vh,_.name),kt(pl,_.name);const Mo=new dn({uid:Ro,auth:_,email:Li,emailVerified:Fa,displayName:In,isAnonymous:_i,photoURL:Zu,phoneNumber:Vi,tenantId:hl,stsTokenManager:Yp,createdAt:vh,lastLoginAt:pl});return No&&Array.isArray(No)&&(Mo.providerData=No.map(gl=>Object.assign({},gl))),fl&&(Mo._redirectEventId=fl),Mo}static _fromIdTokenResponse(_,v,I=!1){return(0,g.Z)(function*(){const x=new Ue;x.updateFromServerResponse(v);const P=new dn({uid:v.localId,auth:_,stsTokenManager:x,isAnonymous:I});return yield Wt(P),P})()}}const qn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,I){var x=this;return(0,g.Z)(function*(){x.storage[v]=I})()}_get(v){var I=this;return(0,g.Z)(function*(){const x=I.storage[v];return void 0===x?null:x})()}_remove(v){var I=this;return(0,g.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return C.type="NONE",C})();function Nt(C,_,v){return`firebase:${C}:${_}:${v}`}class ne{constructor(_,v,I){this.persistence=_,this.auth=v,this.userKey=I;const{config:x,name:P}=this.auth;this.fullUserKey=Nt(this.userKey,x.apiKey,P),this.fullPersistenceKey=Nt("persistence",x.apiKey,P),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,g.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?dn._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,g.Z)(function*(){if(v.persistence===_)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,I="authUser"){return(0,g.Z)(function*(){if(!v.length)return new ne(ae(qn),_,I);const x=(yield Promise.all(v.map(function(){var ct=(0,g.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let P=x[0]||ae(qn);const re=Nt(I,_.config.apiKey,_.name);let Re=null;for(const ct of v)try{const Ct=yield ct._get(re);if(Ct){const In=dn._fromJSON(_,Ct);ct!==P&&(Re=In),P=ct;break}}catch(Ct){}const Ke=x.filter(ct=>ct._shouldAllowMigration);return P._shouldAllowMigration&&Ke.length?(P=Ke[0],Re&&(yield P._set(re,Re.toJSON())),yield Promise.all(v.map(function(){var ct=(0,g.Z)(function*(Ct){if(Ct!==P)try{yield Ct._remove(re)}catch(In){}});return function(Ct){return ct.apply(this,arguments)}}())),new ne(P,_,I)):new ne(P,_,I)})()}}function G(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(at(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(W(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Gt(_))return"Blackberry";if(Cn(_))return"Webos";if(Ie(_))return"Safari";if((_.includes("chrome/")||je(_))&&!_.includes("edge/"))return"Chrome";if(Mt(_))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function W(C=(0,B.z$)()){return/firefox\//i.test(C)}function Ie(C=(0,B.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function je(C=(0,B.z$)()){return/crios\//i.test(C)}function at(C=(0,B.z$)()){return/iemobile/i.test(C)}function Mt(C=(0,B.z$)()){return/android/i.test(C)}function Gt(C=(0,B.z$)()){return/blackberry/i.test(C)}function Cn(C=(0,B.z$)()){return/webos/i.test(C)}function Tn(C=(0,B.z$)()){return/iphone|ipad|ipod/i.test(C)}function ir(C=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Sn(C=(0,B.z$)()){return Tn(C)||Mt(C)||Cn(C)||Gt(C)||/windows phone/i.test(C)||at(C)}function Rs(C,_=[]){let v;switch(C){case"Browser":v=G((0,B.z$)());break;case"Worker":v=`${G((0,B.z$)())}-${C}`;break;default:v=C}const I=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${V.SDK_VERSION}/${I}`}class Vr{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var I=this;return v&&(this._popupRedirectResolver=ae(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var x;I._deleted||(I.persistenceManager=yield ne.create(I,_),!I._deleted&&((null===(x=I._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(v),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,g.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,g.Z)(function*(){var I;let x=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const P=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,re=null==x?void 0:x._redirectEventId,Re=yield v.tryRedirectSignIn(_);(!P||P===re)&&(null==Re?void 0:Re.user)&&(x=Re.user)}return x?x._redirectEventId?(Ce(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===x._redirectEventId?v.directlySetCurrentUser(x):v.reloadAndSetCurrentUserOrClear(x)):v.reloadAndSetCurrentUserOrClear(x):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,g.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(x){yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,g.Z)(function*(){try{yield Wt(_)}catch(I){if("auth/network-request-failed"!==I.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,g.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,g.Z)(function*(){const I=_?(0,B.m9)(_):null;return I&&Ce(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,g.Z)(function*(){if(!v._deleted)return _&&Ce(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,g.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,g.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(ae(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new B.LL("auth","Firebase",_())}onAuthStateChanged(_,v,I){return this.registerStateListener(this.authStateSubscription,_,v,I)}onIdTokenChanged(_,v,I){return this.registerStateListener(this.idTokenSubscription,_,v,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var I=this;return(0,g.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(v);return null===_?x.removeCurrentUser():x.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const I=_&&ae(_)||v._popupRedirectResolver;Ce(I,v,"argument-error"),v.redirectPersistenceManager=yield ne.create(v,[ae(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,g.Z)(function*(){var I,x;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===_?v._currentUser:(null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,g.Z)(function*(){if(_===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,I,x){if(this._deleted)return()=>{};const P="function"==typeof v?v:v.next.bind(v),re=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(re,this,"internal-error"),re.then(()=>P(this.currentUser)),"function"==typeof v?_.addObserver(v,I,x):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function hr(C){return(0,B.m9)(C)}class ei{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,B.ne)(v=>this.observer=v)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function He(C,_,v){const I=hr(C);Ce(I._canInitEmulator,I,"emulator-config-failed"),Ce(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const x=!!(null==v?void 0:v.disableWarnings),P=It(_),{host:re,port:Re}=function(C){const _=It(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const P=x[1];return{host:P,port:Ur(I.substr(P.length+1))}}{const[P,re]=I.split(":");return{host:P,port:Ur(re)}}}(_);I.config.emulator={url:`${P}//${re}${null===Re?"":`:${Re}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:re,port:Re,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function _(){const v=document.createElement("p"),I=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(x)}function It(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function Ur(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class an{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Ht("not implemented")}_getIdTokenResponse(_){return Ht("not implemented")}_linkToIdToken(_,v){return Ht("not implemented")}_getReauthenticationResolver(_){return Ht("not implemented")}}function Ai(C,_){return fn.apply(this,arguments)}function fn(){return(fn=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:resetPassword",pt(C,_))})).apply(this,arguments)}function oa(C,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Dt(C,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:update",pt(C,_))})).apply(this,arguments)}function fu(){return(fu=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signInWithPassword",pt(C,_))})).apply(this,arguments)}function vs(C,_){return sr.apply(this,arguments)}function sr(){return(sr=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:sendOobCode",pt(C,_))})).apply(this,arguments)}function pu(C,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,g.Z)(function*(C,_){return vs(C,_)})).apply(this,arguments)}function Ri(C,_){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(C,_){return vs(C,_)})).apply(this,arguments)}function zd(C,_){return gu.apply(this,arguments)}function gu(){return(gu=(0,g.Z)(function*(C,_){return vs(C,_)})).apply(this,arguments)}function jc(C,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,g.Z)(function*(C,_){return vs(C,_)})).apply(this,arguments)}function po(){return(po=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signInWithEmailLink",pt(C,_))})).apply(this,arguments)}function zn(){return(zn=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signInWithEmailLink",pt(C,_))})).apply(this,arguments)}class yu extends an{constructor(_,v,I,x=null){super("password",I),this._email=_,this._password=v,this._tenantId=x}static _fromEmailAndPassword(_,v){return new yu(_,v,"password")}static _fromEmailAndCode(_,v,I=null){return new yu(_,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return function(C,_){return fu.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(C,_){return po.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Te(_,"internal-error")}})()}_linkToIdToken(_,v){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return oa(_,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,_){return zn.apply(this,arguments)}(_,{idToken:v,email:I._email,oobCode:I._password});default:Te(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function or(C,_){return yn.apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signInWithIdp",pt(C,_))})).apply(this,arguments)}class ti extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new ti(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Te("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:x}=v,P=(0,fe._T)(v,["providerId","signInMethod"]);if(!I||!x)return null;const re=new ti(I,x);return Object.assign(re,P),re}_getIdTokenResponse(_){return or(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,or(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,or(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,B.xO)(v)}return _}}function $c(C,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:sendVerificationCode",pt(C,_))})).apply(this,arguments)}function hp(){return(hp=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signInWithPhoneNumber",pt(C,_))})).apply(this,arguments)}function Zd(){return(Zd=(0,g.Z)(function*(C,_){const v=yield Yt(C,"POST","/v1/accounts:signInWithPhoneNumber",pt(C,_));if(v.temporaryProof)throw Xr(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Iw={USER_NOT_FOUND:"user-not-found"};function fp(){return(fp=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signInWithPhoneNumber",pt(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Iw)})).apply(this,arguments)}class ca extends an{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new ca({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new ca({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(C,_){return hp.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(C,_){return Zd.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(C,_){return fp.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:I,verificationCode:x}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:I,code:x}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:I,phoneNumber:x,temporaryProof:P}=_;return I||v||x||P?new ca({verificationId:v,verificationCode:I,phoneNumber:x,temporaryProof:P}):null}}class Gc{constructor(_){var v,I,x,P,re,Re;const Ke=(0,B.zd)((0,B.pd)(_)),ct=null!==(v=Ke.apiKey)&&void 0!==v?v:null,Ct=null!==(I=Ke.oobCode)&&void 0!==I?I:null,In=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ke.mode)&&void 0!==x?x:null);Ce(ct&&Ct&&In,"argument-error"),this.apiKey=ct,this.operation=In,this.code=Ct,this.continueUrl=null!==(P=Ke.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(re=Ke.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Re=Ke.tenantId)&&void 0!==Re?Re:null}static parseLink(_){const v=function(C){const _=(0,B.zd)((0,B.pd)(C)).link,v=_?(0,B.zd)((0,B.pd)(_)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(C)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||v||_||C}(_);try{return new Gc(v)}catch(I){return null}}}let Kd=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,I){return yu._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const x=Gc.parseLink(I);return Ce(x,"argument-error"),yu._fromEmailAndCode(v,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class mo{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class _u extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class qc extends _u{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Ce("providerId"in v&&"signInMethod"in v,"argument-error"),ti._fromParams(v)}credential(_){return this._credential(_)}_credential(_){return Ce(_.idToken||_.accessToken,"argument-error"),ti._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return qc.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return qc.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:P,nonce:re,providerId:Re}=_;if(!I&&!x&&!v&&!P||!Re)return null;try{return new qc(Re)._credential({idToken:v,accessToken:I,rawNonce:re,pendingToken:P})}catch(Ke){return null}}}let pp=(()=>{class C extends _u{constructor(){super("facebook.com")}static credential(v){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),gp=(()=>{class C extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:x}=v;if(!I&&!x)return null;try{return C.credential(I,x)}catch(P){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),mp=(()=>{class C extends _u{constructor(){super("github.com")}static credential(v){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class la extends an{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return or(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,or(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,or(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:x,pendingToken:P}=v;return I&&x&&P&&I===x?new la(I,P):null}static _create(_,v){return new la(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let yo=(()=>{class C extends _u{constructor(){super("twitter.com")}static credential(v,I){return ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=v;if(!I||!x)return null;try{return C.credential(I,x)}catch(P){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Yd(C,_){return zc.apply(this,arguments)}function zc(){return(zc=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signUp",pt(C,_))})).apply(this,arguments)}class Br{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,I,x=!1){return(0,g.Z)(function*(){const P=yield dn._fromIdTokenResponse(_,I,x),re=Ny(I);return new Br({user:P,providerId:re,_tokenResponse:I,operationType:v})})()}static _forOperation(_,v,I){return(0,g.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const x=Ny(I);return new Br({user:_,providerId:x,_tokenResponse:I,operationType:v})})()}}function Ny(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Aw(C){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,g.Z)(function*(C){var _;const v=hr(C);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new Br({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield Yd(v,{returnSecureToken:!0}),x=yield Br._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class da extends B.ZR{constructor(_,v,I,x){var P;super(v.code,v.message),this.operationType=I,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,da.prototype),this.appName=_.name,this.code=v.code,this.tenantId=null!==(P=_.tenantId)&&void 0!==P?P:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(_,v,I,x){return new da(_,v,I,x)}}function vp(C,_,v,I){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?da._fromErrorAndOperation(C,P,_,I):P})}function vu(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function My(C,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,g.Z)(function*(C,_){const v=(0,B.m9)(C);yield Ns(!0,v,_);const{providerUserInfo:I}=yield Qi(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),x=vu(I||[]);return v.providerData=v.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Wc(C,_){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,g.Z)(function*(C,_,v=!1){const I=yield ze(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return Br._forOperation(C,"link",I)})).apply(this,arguments)}function Ns(C,_,v){return _o.apply(this,arguments)}function _o(){return(_o=(0,g.Z)(function*(C,_,v){yield Wt(_);const x=!1===C?"provider-already-linked":"no-such-provider";Ce(vu(_.providerData).has(v)===C,_.auth,x)})).apply(this,arguments)}function Kc(C,_){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,g.Z)(function*(C,_,v=!1){const{auth:I}=C,x="reauthenticate";try{const P=yield ze(C,vp(I,x,_,C),v);Ce(P.idToken,I,"internal-error");const re=$t(P.idToken);Ce(re,I,"internal-error");const{sub:Re}=re;return Ce(C.uid===Re,I,"user-mismatch"),Br._forOperation(C,x,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Te(I,"user-mismatch"),P}})).apply(this,arguments)}function _n(C,_){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,g.Z)(function*(C,_,v=!1){const I="signIn",x=yield vp(C,I,_),P=yield Br._fromIdTokenResponse(C,I,x);return v||(yield C._updateCurrentUser(P.user)),P})).apply(this,arguments)}function wu(C,_){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,g.Z)(function*(C,_){return _n(hr(C),_)})).apply(this,arguments)}function vn(C,_){return eh.apply(this,arguments)}function eh(){return(eh=(0,g.Z)(function*(C,_){const v=(0,B.m9)(C);return yield Ns(!1,v,_.providerId),Wc(v,_)})).apply(this,arguments)}function Oy(C,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,g.Z)(function*(C,_){return Kc((0,B.m9)(C),_)})).apply(this,arguments)}function Ni(C,_){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,g.Z)(function*(C,_){return Yt(C,"POST","/v1/accounts:signInWithCustomToken",pt(C,_))})).apply(this,arguments)}function fa(C,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,g.Z)(function*(C,_){const v=hr(C),I=yield Ni(v,{token:_,returnSecureToken:!0}),x=yield Br._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class fr{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Yc._fromServerResponse(_,v):Te(_,"internal-error")}}class Yc extends fr{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Yc(v)}}function pa(C,_,v){var I;Ce((null===(I=v.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),Ce(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ce(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Ce(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function wp(C,_,v){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C),x={requestType:"PASSWORD_RESET",email:_};v&&pa(I,x,v),yield Ri(I,x)})).apply(this,arguments)}function Cp(C,_,v){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,g.Z)(function*(C,_,v){yield Ai((0,B.m9)(C),{oobCode:_,newPassword:v})})).apply(this,arguments)}function gt(C,_){return bp.apply(this,arguments)}function bp(){return(bp=(0,g.Z)(function*(C,_){yield Dt((0,B.m9)(C),{oobCode:_})})).apply(this,arguments)}function ga(C,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,g.Z)(function*(C,_){const v=(0,B.m9)(C),I=yield Ai(v,{oobCode:_}),x=I.requestType;switch(Ce(x,v,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(I.mfaInfo,v,"internal-error");default:Ce(I.email,v,"internal-error")}let P=null;return I.mfaInfo&&(P=fr._fromServerResponse(hr(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function th(C,_){return bu.apply(this,arguments)}function bu(){return(bu=(0,g.Z)(function*(C,_){const{data:v}=yield ga((0,B.m9)(C),_);return v.email})).apply(this,arguments)}function Iu(C,_,v){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,g.Z)(function*(C,_,v){const I=hr(C),x=yield Yd(I,{returnSecureToken:!0,email:_,password:v}),P=yield Br._fromIdTokenResponse(I,"signIn",x);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function Se(C,_,v){return wu((0,B.m9)(C),Kd.credential(_,v))}function Ft(C,_,v){return Du.apply(this,arguments)}function Du(){return(Du=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C),x={requestType:"EMAIL_SIGNIN",email:_};Ce(v.handleCodeInApp,I,"argument-error"),v&&pa(I,x,v),yield zd(I,x)})).apply(this,arguments)}function Pn(C,_){const v=Gc.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Ip(C,_,v){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C),x=Kd.credentialWithLink(_,v||Q());return Ce(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),wu(I,x)})).apply(this,arguments)}function es(C,_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:createAuthUri",pt(C,_))})).apply(this,arguments)}function ya(C,_){return nh.apply(this,arguments)}function nh(){return(nh=(0,g.Z)(function*(C,_){const I={identifier:_,continueUri:Oe()?Q():"http://localhost"},{signinMethods:x}=yield es((0,B.m9)(C),I);return x||[]})).apply(this,arguments)}function xw(C,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,g.Z)(function*(C,_){const v=(0,B.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&pa(v.auth,x,_);const{email:P}=yield pu(v.auth,x);P!==C.email&&(yield C.reload())})).apply(this,arguments)}function _a(C,_,v){return pr.apply(this,arguments)}function pr(){return(pr=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&pa(I.auth,P,v);const{email:re}=yield jc(I.auth,P);re!==C.email&&(yield C.reload())})).apply(this,arguments)}function ts(C,_){return Su.apply(this,arguments)}function Su(){return(Su=(0,g.Z)(function*(C,_){return st(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function va(C,_){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const I=(0,B.m9)(C),P={idToken:yield I.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},re=yield ze(I,ts(I.auth,P));I.displayName=re.displayName||null,I.photoURL=re.photoUrl||null;const Re=I.providerData.find(({providerId:Ke})=>"password"===Ke);Re&&(Re.displayName=I.displayName,Re.photoURL=I.photoURL),yield I._updateTokensIfNecessary(re)})).apply(this,arguments)}function Py(C,_){return Jc((0,B.m9)(C),_,null)}function Dp(C,_){return Jc((0,B.m9)(C),null,_)}function Jc(C,_,v){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,g.Z)(function*(C,_,v){const{auth:I}=C,P={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(P.email=_),v&&(P.password=v);const re=yield ze(C,oa(I,P));yield C._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Os{constructor(_,v,I={}){this.isNewUser=_,this.providerId=v,this.profile=I}}class ih extends Os{constructor(_,v,I,x){super(_,v,I),this.username=x}}class Tp extends Os{constructor(_,v){super(_,"facebook.com",v)}}class ky extends ih{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Fy extends Os{constructor(_,v){super(_,"google.com",v)}}class Au extends ih{constructor(_,v,I){super(_,"twitter.com",v,I)}}function Sp(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(C){var _,v;if(!C)return null;const{providerId:I}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},P=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const re=null===(v=null===(_=$t(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(re)return new Os(P,"anonymous"!==re&&"custom"!==re?re:null)}if(!I)return null;switch(I){case"facebook.com":return new Tp(P,x);case"github.com":return new ky(P,x);case"google.com":return new Fy(P,x);case"twitter.com":return new Au(P,x,C.screenName||null);case"custom":case"anonymous":return new Os(P,null);default:return new Os(P,I,x)}}(v)}class en{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new en("enroll",_)}static _fromMfaPendingCredential(_){return new en("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,I;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return en._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return en._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ea{constructor(_,v,I){this.session=_,this.hints=v,this.signInResolver=I}static _fromError(_,v){const I=hr(_),x=(v.serverResponse.mfaInfo||[]).map(re=>fr._fromServerResponse(I,re));Ce(v.serverResponse.mfaPendingCredential,I,"internal-error");const P=en._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new Ea(P,x,function(){var re=(0,g.Z)(function*(Re){const Ke=yield Re._process(I,P);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const ct=Object.assign(Object.assign({},v.serverResponse),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(v.operationType){case"signIn":const Ct=yield Br._fromIdTokenResponse(I,v.operationType,ct);return yield I._updateCurrentUser(Ct.user),Ct;case"reauthenticate":return Ce(v.user,I,"internal-error"),Br._forOperation(v.user,v.operationType,ct);default:Te(I,"internal-error")}});return function(Re){return re.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,g.Z)(function*(){return v.signInResolver(_)})()}}function Vy(C,_){var v;const I=(0,B.m9)(C),x=_;return Ce(_.operationType,I,"argument-error"),Ce(null===(v=x.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),Ea._fromError(I,x)}function el(C,_){return st(C,"POST","/v2/accounts/mfaEnrollment:start",pt(C,_))}class sh{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>fr._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new sh(_)}getSession(){var _=this;return(0,g.Z)(function*(){return en._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var I=this;return(0,g.Z)(function*(){const x=_,P=yield I.getSession(),re=yield ze(I.user,x._process(I.user.auth,P,v));return yield I.user._updateTokensIfNecessary(re),I.user.reload()})()}unenroll(_){var v=this;return(0,g.Z)(function*(){const I="string"==typeof _?_:_.uid,x=yield v.user.getIdToken(),P=yield ze(v.user,function(C,_){return st(C,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(C,_))}(v.user.auth,{idToken:x,mfaEnrollmentId:I}));v.enrolledFactors=v.enrolledFactors.filter(({uid:re})=>re!==I),yield v.user._updateTokensIfNecessary(P);try{yield v.user.reload()}catch(re){if("auth/user-token-expired"!==re.code)throw re}})()}}const wa=new WeakMap;function tl(C){const _=(0,B.m9)(C);return wa.has(_)||wa.set(_,sh._fromUser(_)),wa.get(_)}const Ca="__sak";class oh{constructor(_,v){this.storage=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ca,"1"),this.storage.removeItem(Ca),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const Hy=(()=>{class C extends oh{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,B.z$)();return Ie(C)||Tn(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),P=this.localCache[I];x!==P&&v(I,P,x)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Re,Ke,ct)=>{this.notifyListeners(Re,ct)});const x=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(x);if(v.newValue!==Re)null!==v.newValue?this.storage.setItem(x,v.newValue):this.storage.removeItem(x);else if(this.localCache[x]===v.newValue&&!I)return}const P=()=>{const Re=this.storage.getItem(x);!I&&this.localCache[x]===Re||this.notifyListeners(x,Re)},re=this.storage.getItem(x);(0,B.w1)()&&10===document.documentMode&&re!==v.newValue&&v.newValue!==v.oldValue?setTimeout(P,10):P()}notifyListeners(v,I){this.localCache[v]=I;const x=this.listeners[v];if(x)for(const P of Array.from(x))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var x=()=>super._set,P=this;return(0,g.Z)(function*(){yield x().call(P,v,I),P.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,x=this;return(0,g.Z)(function*(){const P=yield I().call(x,v);return x.localCache[v]=JSON.stringify(P),P})()}_remove(v){var I=()=>super._remove,x=this;return(0,g.Z)(function*(){yield I().call(x,v),delete x.localCache[v]})()}}return C.type="LOCAL",C})(),ba=(()=>{class C extends oh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return C.type="SESSION",C})();let $y=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(P=>P.isListeningto(v));if(I)return I;const x=new C(v);return this.receivers.push(x),x}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,g.Z)(function*(){const x=v,{eventId:P,eventType:re,data:Re}=x.data,Ke=I.handlersMap[re];if(!(null==Ke?void 0:Ke.size))return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:re});const ct=Array.from(Ke).map(function(){var In=(0,g.Z)(function*(Li){return Li(x.origin,Re)});return function(Li){return In.apply(this,arguments)}}()),Ct=yield function(C){return Promise.all(C.map(function(){var _=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return _.apply(this,arguments)}}()))}(ct);x.ports[0].postMessage({status:"done",eventId:P,eventType:re,response:Ct})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function gi(C="",_=10){let v="";for(let I=0;I<_;I++)v+=Math.floor(10*Math.random());return C+v}class Mw{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,I=50){var x=this;return(0,g.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let re,Re;return new Promise((Ke,ct)=>{const Ct=gi("",20);P.port1.start();const In=setTimeout(()=>{ct(new Error("unsupported_event"))},I);Re={messageChannel:P,onMessage(Li){const Vi=Li;if(Vi.data.eventId===Ct)switch(Vi.data.status){case"ack":clearTimeout(In),re=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),Ke(Vi.data.response);break;default:clearTimeout(In),clearTimeout(re),ct(new Error("invalid_response"))}}},x.handlers.add(Re),P.port1.addEventListener("message",Re.onMessage),x.target.postMessage({eventType:_,eventId:Ct,data:v},[P.port2])}).finally(()=>{Re&&x.removeMessageHandler(Re)})})()}}function Wn(){return window}function xu(){return void 0!==Wn().WorkerGlobalScope&&"function"==typeof Wn().importScripts}function Ru(){return(Ru=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Da="firebaseLocalStorageDb",ks="firebaseLocalStorage",ah="fbase_key";class wo{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function uh(C,_){return C.transaction([ks],_?"readwrite":"readonly").objectStore(ks)}function tn(){const C=indexedDB.open(Da,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(ks,{keyPath:ah})}catch(x){v(x)}}),C.addEventListener("success",(0,g.Z)(function*(){const I=C.result;I.objectStoreNames.contains(ks)?_(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(Da);return new wo(C).toPromise()}(),_(yield tn()))}))})}function it(C,_,v){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(C,_,v){const I=uh(C,!0).put({[ah]:_,value:v});return new wo(I).toPromise()})).apply(this,arguments)}function Sr(){return(Sr=(0,g.Z)(function*(C,_){const v=uh(C,!1).get(_),I=yield new wo(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Nu(C,_){const v=uh(C,!0).delete(_);return new wo(v).toPromise()}const ch=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield tn()),v.db})()}_withRetries(v){var I=this;return(0,g.Z)(function*(){let x=0;for(;;)try{const P=yield I._openDb();return yield v(P)}catch(P){if(x++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return xu()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=$y._getInstance(xu()?self:null),v.receiver._subscribe("keyChanged",function(){var I=(0,g.Z)(function*(x,P){return{keyProcessed:(yield v._poll()).includes(P.key)}});return function(x,P){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,g.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var I,x;if(v.activeServiceWorker=yield function(){return Ru.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Mw(v.activeServiceWorker);const P=yield v.sender._send("ping",{},800);!P||(null===(I=P[0])||void 0===I?void 0:I.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,g.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield tn();return yield it(v,Ca,"1"),yield Nu(v,Ca),!0}catch(v){}return!1})()}_withPendingWrite(v){var I=this;return(0,g.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var x=this;return(0,g.Z)(function*(){return x._withPendingWrite((0,g.Z)(function*(){return yield x._withRetries(P=>it(P,v,I)),x.localCache[v]=I,x.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,g.Z)(function*(){const x=yield I._withRetries(P=>function(C,_){return Sr.apply(this,arguments)}(P,v));return I.localCache[v]=x,x})()}_remove(v){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(x=>Nu(x,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const I=yield v._withRetries(re=>{const Re=uh(re,!1).getAll();return new wo(Re).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:re,value:Re}of I)P.add(re),JSON.stringify(v.localCache[re])!==JSON.stringify(Re)&&(v.notifyListeners(re,Re),x.push(re));for(const re of Object.keys(v.localCache))v.localCache[re]&&!P.has(re)&&(v.notifyListeners(re,null),x.push(re));return x})()}notifyListeners(v,I){this.localCache[v]=I;const x=this.listeners[v];if(x)for(const P of Array.from(x))P(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Pp(C,_){return st(C,"POST","/v2/accounts/mfaSignIn:start",pt(C,_))}function lh(){return(lh=(0,g.Z)(function*(C){return(yield st(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mu(C){return new Promise((_,v)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=_,I.onerror=x=>{const P=Ge("internal-error");P.customData=x,v(P)},I.type="text/javascript",I.charset="UTF-8",function(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(I)})}function Aa(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Fs=1e12;class Es{constructor(_){this.auth=_,this.counter=Fs,this._widgets=new Map}render(_,v){const I=this.counter;return this._widgets.set(I,new Lp(_,this.auth.name,v||{})),this.counter++,I}reset(_){var v;const I=_||Fs;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(_){var v;return(null===(v=this._widgets.get(_||Fs))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,g.Z)(function*(){var I;return null===(I=v._widgets.get(_||Fs))||void 0===I||I.execute(),""})()}}class Lp{constructor(_,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof _?document.getElementById(_):_;Ce(x,"argument-error",{appName:v}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mi=Aa("rcb"),Co=new ut(3e4,6e4);class mt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wn().grecaptcha}load(_,v=""){return Ce((C=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Wn().grecaptcha):new Promise((I,x)=>{const P=Wn().setTimeout(()=>{x(Ge(_,"network-request-failed"))},Co.get());Wn()[mi]=()=>{Wn().clearTimeout(P),delete Wn()[mi];const Re=Wn().grecaptcha;if(!Re)return void x(Ge(_,"internal-error"));const Ke=Re.render;Re.render=(ct,Ct)=>{const In=Ke(ct,Ct);return this.counter++,In},this.hostLanguage=v,I(Re)},Mu(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:mi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(P),x(Ge(_,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Wn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kn{load(_){return(0,g.Z)(function*(){return new Es(_)})()}clearedOneInstance(){}}const Ls="recaptcha",Pw={theme:"light",type:"image"};class RT{constructor(_,v=Object.assign({},Pw),I){this.parameters=v,this.type=Ls,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hr(I),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof _?document.getElementById(_):_;Ce(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kn:new mt,this.validateStartingState()}verify(){var _=this;return(0,g.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(v)||new Promise(P=>{const re=Re=>{!Re||(_.tokenChangeListeners.delete(re),P(Re))};_.tokenChangeListeners.add(re),_.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof _)_(v);else if("string"==typeof _){const I=Wn()[_];"function"==typeof I&&I(v)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,g.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,g.Z)(function*(){Ce(Oe()&&!xu(),_.auth,"internal-error"),yield function(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(C){return lh.apply(this,arguments)}(_.auth);Ce(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rl{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=ca._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Ky(C,_,v){return pn.apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(C,_,v){const I=hr(C),x=yield Oi(I,_,(0,B.m9)(v));return new rl(x,P=>wu(I,P))})).apply(this,arguments)}function il(C,_,v){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C);yield Ns(!1,I,"phone");const x=yield Oi(I.auth,_,(0,B.m9)(v));return new rl(x,P=>vn(I,P))})).apply(this,arguments)}function kw(C,_,v){return Up.apply(this,arguments)}function Up(){return(Up=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C),x=yield Oi(I.auth,_,(0,B.m9)(v));return new rl(x,P=>Oy(I,P))})).apply(this,arguments)}function Oi(C,_,v){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,g.Z)(function*(C,_,v){var I;const x=yield v.verify();try{let P;if(Ce("string"==typeof x,C,"argument-error"),Ce(v.type===Ls,C,"argument-error"),P="string"==typeof _?{phoneNumber:_}:_,"session"in P){const re=P.session;if("phoneNumber"in P)return Ce("enroll"===re.type,C,"internal-error"),(yield el(C,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Ce("signin"===re.type,C,"internal-error");const Re=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return Ce(Re,C,"missing-multi-factor-info"),(yield Pp(C,{mfaPendingCredential:re.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield $c(C,{phoneNumber:P.phoneNumber,recaptchaToken:x});return re}}finally{v._reset()}})).apply(this,arguments)}function Fw(C,_){return Us.apply(this,arguments)}function Us(){return(Us=(0,g.Z)(function*(C,_){yield Wc((0,B.m9)(C),_)})).apply(this,arguments)}let Lw=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=hr(v)}verifyPhoneNumber(v,I){return Oi(this.auth,v,(0,B.m9)(I))}static credential(v,I){return ca._fromVerification(v,I)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:x}=v;return I&&x?ca._fromTokenResponse(I,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Ra(C,_){return _?ae(_):(Ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class gr extends an{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return or(_,this._buildIdpRequest())}_linkToIdToken(_,v){return or(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return or(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function ws(C){return _n(C.auth,new gr(C),C.bypassAuthState)}function jp(C){const{auth:_,user:v}=C;return Ce(v,_,"internal-error"),Kc(v,new gr(C),C.bypassAuthState)}function Un(C){return Na.apply(this,arguments)}function Na(){return(Na=(0,g.Z)(function*(C){const{auth:_,user:v}=C;return Ce(v,_,"internal-error"),Wc(v,new gr(C),C.bypassAuthState)})).apply(this,arguments)}class Ma{constructor(_,v,I,x,P=!1){this.auth=_,this.resolver=I,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,g.Z)(function*(I,x){_.pendingPromise={resolve:I,reject:x};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(P){_.reject(P)}});return function(I,x){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:P,tenantId:re,error:Re,type:Ke}=_;if(Re)return void v.reject(Re);const ct={auth:v.auth,requestUri:I,sessionId:x,tenantId:re||void 0,postBody:P||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ke)(ct))}catch(Ct){v.reject(Ct)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return ws;case"linkViaPopup":case"linkViaRedirect":return Un;case"reauthViaPopup":case"reauthViaRedirect":return jp;default:Te(this.auth,"internal-error")}}resolve(_){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vw=new ut(2e3,1e4);function Yy(C,_,v){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,g.Z)(function*(C,_,v){const I=hr(C);Ve(C,_,mo);const x=Ra(I,v);return new sl(I,"signInViaPopup",_,x).executeNotNull()})).apply(this,arguments)}function Pi(C,_,v){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C);Ve(I.auth,_,mo);const x=Ra(I.auth,v);return new sl(I.auth,"reauthViaPopup",_,x,I).executeNotNull()})).apply(this,arguments)}function bo(C,_,v){return ki.apply(this,arguments)}function ki(){return(ki=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C);Ve(I.auth,_,mo);const x=Ra(I.auth,v);return new sl(I.auth,"linkViaPopup",_,x,I).executeNotNull()})).apply(this,arguments)}let sl=(()=>{class C extends Ma{constructor(v,I,x,P,re){super(v,I,P,re),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const I=yield v.execute();return Ce(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,g.Z)(function*(){oe(1===v.filter.length,"Popup operations only handle one event");const I=gi();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(x=>{v.reject(x)}),v.resolver._isIframeWebStorageSupported(v.auth,x=>{x||v.reject(Ge(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,x;this.pollId=(null===(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Vw.get())};v()}}return C.currentPopupAction=null,C})();const xr=new Map;class Uw extends Ma{constructor(_,v,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,g.Z)(function*(){let I=xr.get(v.auth._key());if(!I){try{const P=(yield function(C,_){return ol.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;I=()=>Promise.resolve(P)}catch(x){I=()=>Promise.reject(x)}xr.set(v.auth._key(),I)}return I()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(I,_);if("unknown"!==_.type){if(_.eventId){const x=yield I.auth._redirectUserForId(_.eventId);if(x)return I.user=x,v().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function ol(){return(ol=(0,g.Z)(function*(C,_){const v=Do(_),I="true"===(yield al(C)._get(v));return yield al(C)._remove(v),I})).apply(this,arguments)}function Rr(C,_){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,g.Z)(function*(C,_){return al(C)._set(Do(_),"true")})).apply(this,arguments)}function $r(){xr.clear()}function al(C){return ae(C._redirectPersistence)}function Do(C){return Nt("pendingRedirect",C.config.apiKey,C.name)}function Hp(C,_,v){return function(C,_,v){return dh.apply(this,arguments)}(C,_,v)}function dh(){return(dh=(0,g.Z)(function*(C,_,v){const I=hr(C);Ve(C,_,mo);const x=Ra(I,v);return yield Rr(x,I),x._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function Xy(C,_,v){return function(C,_,v){return To.apply(this,arguments)}(C,_,v)}function To(){return(To=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C);Ve(I.auth,_,mo);const x=Ra(I.auth,v);yield Rr(x,I.auth);const P=yield gh(I);return x._openRedirect(I.auth,_,"reauthViaRedirect",P)})).apply(this,arguments)}function hh(C,_,v){return function(C,_,v){return fh.apply(this,arguments)}(C,_,v)}function fh(){return(fh=(0,g.Z)(function*(C,_,v){const I=(0,B.m9)(C);Ve(I.auth,_,mo);const x=Ra(I.auth,v);yield Ns(!1,I,_.providerId),yield Rr(x,I.auth);const P=yield gh(I);return x._openRedirect(I.auth,_,"linkViaRedirect",P)})).apply(this,arguments)}function Fu(C,_){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,g.Z)(function*(C,_){return yield hr(C)._initializationPromise,Bs(C,_,!1)})).apply(this,arguments)}function Bs(C,_){return ph.apply(this,arguments)}function ph(){return(ph=(0,g.Z)(function*(C,_,v=!1){const I=hr(C),x=Ra(I,_),re=yield new Uw(I,x,v).execute();return re&&!v&&(delete re.user._redirectEventId,yield I._persistUserIfCurrent(re.user),yield I._setRedirectUser(null,_)),re})).apply(this,arguments)}function gh(C){return St.apply(this,arguments)}function St(){return(St=(0,g.Z)(function*(C){const _=gi(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Pa{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(v=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return js(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var I;if(_.error&&!js(_)){const x=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(Ge(this.auth,x))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const I=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vu(_))}saveEventToCache(_){this.cachedEventUids.add(Vu(_)),this.lastProcessedEventTime=Date.now()}}function Vu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function js({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function $p(C){return bn.apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(C,_={}){return st(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Fi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t_=/^https?/;function $s(){return($s=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield $p(C);for(const v of _)try{if(Bw(v))return}catch(I){}Te(C,"unauthorized-domain")})).apply(this,arguments)}function Bw(C){const _=Q(),{protocol:v,hostname:I}=new URL(_);if(C.startsWith("chrome-extension://")){const re=new URL(C);return""===re.hostname&&""===I?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&re.hostname===I}if(!t_.test(v))return!1;if(Fi.test(C))return I===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const Zn=new ut(3e4,6e4);function yi(){const C=Wn().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Cs=null;function ss(C){return Cs=Cs||function(C){return new Promise((_,v)=>{var I,x,P;function re(){yi(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{yi(),v(Ge(C,"network-request-failed"))},timeout:Zn.get()})}if(null===(x=null===(I=Wn().gapi)||void 0===I?void 0:I.iframes)||void 0===x?void 0:x.Iframe)_(gapi.iframes.getContext());else{if(!(null===(P=Wn().gapi)||void 0===P?void 0:P.load)){const Re=Aa("iframefcb");return Wn()[Re]=()=>{gapi.load?re():v(Ge(C,"network-request-failed"))},Mu(`https://apis.google.com/js/api.js?onload=${Re}`)}re()}}).catch(_=>{throw Cs=null,_})}(C),Cs}const Uu=new ut(5e3,15e3),qp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ul=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bu(C){const _=C.config;Ce(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?cn(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:C.name,v:V.SDK_VERSION},x=ul.get(C.config.apiHost);x&&(I.eid=x);const P=C._getFrameworks();return P.length&&(I.fw=P.join(",")),`${v}?${(0,B.xO)(I).slice(1)}`}function bs(){return(bs=(0,g.Z)(function*(C){const _=yield ss(C),v=Wn().gapi;return Ce(v,C,"internal-error"),_.open({where:document.body,url:Bu(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qp,dontclear:!0},I=>new Promise(function(){var x=(0,g.Z)(function*(P,re){yield I.restyle({setHideOnLeave:!1});const Re=Ge(C,"network-request-failed"),Ke=Wn().setTimeout(()=>{re(Re)},Uu.get());function ct(){Wn().clearTimeout(Ke),P(I)}I.ping(ct).then(ct,()=>{re(Re)})});return function(P,re){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const Lt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $u{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function ll(C,_,v,I,x,P){Ce(C.config.authDomain,C,"auth-domain-config-required"),Ce(C.config.apiKey,C,"invalid-api-key");const re={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:I,v:V.SDK_VERSION,eventId:x};if(_ instanceof mo){_.setDefaultLanguage(C.languageCode),re.providerId=_.providerId||"",(0,B.xb)(_.getCustomParameters())||(re.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Ke,ct]of Object.entries(P||{}))re[Ke]=ct}if(_ instanceof _u){const Ke=_.getScopes().filter(ct=>""!==ct);Ke.length>0&&(re.scopes=Ke.join(","))}C.tenantId&&(re.tid=C.tenantId);const Re=re;for(const Ke of Object.keys(Re))void 0===Re[Ke]&&delete Re[Ke];return`${function({config:C}){return C.emulator?cn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,B.xO)(Re).slice(1)}`}const qu="webStorageSupport",zu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ba,this._completeRedirectFn=Bs}_openPopup(_,v,I,x){var P=this;return(0,g.Z)(function*(){var re;oe(null===(re=P.eventManagers[_._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Re=ll(_,v,I,Q(),x);return function(C,_,v,I=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),re=Math.max((window.screen.availWidth-I)/2,0).toString();let Re="";const Ke=Object.assign(Object.assign({},Lt),{width:I.toString(),height:x.toString(),top:P,left:re}),ct=(0,B.z$)().toLowerCase();v&&(Re=je(ct)?"_blank":v),W(ct)&&(_=_||"http://localhost",Ke.scrollbars="yes");const Ct=Object.entries(Ke).reduce((Li,[Vi,Zu])=>`${Li}${Vi}=${Zu},`,"");if(function(C=(0,B.z$)()){var _;return Tn(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(ct)&&"_self"!==Re)return function(C,_){const v=document.createElement("a");v.href=C,v.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(_||"",Re),new $u(null);const In=window.open(_||"",Re,Ct);Ce(In,C,"popup-blocked");try{In.focus()}catch(Li){}return new $u(In)}(_,Re,gi())})()}_openRedirect(_,v,I,x){var P=this;return(0,g.Z)(function*(){return yield P._originValidation(_),C=ll(_,v,I,Q(),x),Wn().location.href=C,new Promise(()=>{});var C})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:x,promise:P}=this.eventManagers[v];return x?Promise.resolve(x):(oe(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(_);return this.eventManagers[v]={promise:I},I}initAndGetManager(_){var v=this;return(0,g.Z)(function*(){const I=yield function(C){return bs.apply(this,arguments)}(_),x=new Pa(_);return I.register("authEvent",P=>(Ce(null==P?void 0:P.authEvent,_,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:x},v.iframes[_._key()]=I,x})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(qu,{type:qu},x=>{var P;const re=null===(P=null==x?void 0:x[0])||void 0===P?void 0:P[qu];void 0!==re&&v(!!re),Te(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return $s.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Sn()||Ie()||Tn()}};class yh extends class{constructor(_){this.factorId=_}_process(_,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,I);case"signin":return this._finalizeSignIn(_,v.credential);default:return Ht("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new yh(_)}_finalizeEnroll(_,v,I){return function(C,_){return st(C,"POST","/v2/accounts/mfaEnrollment:finalize",pt(C,_))}(_,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(C,_){return st(C,"POST","/v2/accounts/mfaSignIn:finalize",pt(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dl=(()=>{class C{constructor(){}static assertion(v){return yh._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var C;class Wu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(I=>{var x;_((null===(x=I)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}C="Browser",(0,V._registerComponent)(new ue.wA("auth",(_,{options:v})=>{const I=_.getProvider("app").getImmediate(),{apiKey:x,authDomain:P}=I.options;return(re=>{Ce(x&&!x.includes(":"),"invalid-api-key",{appName:re.name}),Ce(!(null==P?void 0:P.includes(":")),"argument-error",{appName:re.name});const Re={apiKey:x,authDomain:P,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rs(C)},Ke=new Vr(re,Re);return function(C,_){const v=(null==_?void 0:_.persistence)||[],I=(Array.isArray(v)?v:[v]).map(ae);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(Ke,v),Ke})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,I)=>{_.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new ue.wA("auth-internal",_=>{const v=hr(_.getProvider("auth").getImmediate());return new Wu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)("@firebase/auth","0.18.1",void 0)},6034:(Qe,De,F)=>{"use strict";F.d(De,{wA:()=>V,H0:()=>de});var g=F(4762),B=F(3854),V=function(){function Y(k,L,X){this.name=k,this.instanceFactory=L,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},Y.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},Y.prototype.setServiceProps=function(k){return this.serviceProps=k,this},Y.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},Y}(),fe="[DEFAULT]",ve=function(){function Y(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var X=new B.BH;if(this.instancesDeferred.set(L,X),this.isInitialized(L)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:L});K&&X.resolve(K)}catch(J){}}return this.instancesDeferred.get(L).promise},Y.prototype.getImmediate=function(k){var L,X=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),K=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(J){if(K)return null;throw J}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(k){var L,X;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(Te){}try{for(var K=(0,g.XA)(this.instancesDeferred.entries()),J=K.next();!J.done;J=K.next()){var me=(0,g.CR)(J.value,2),te=me[1],Le=this.normalizeInstanceIdentifier(me[0]);try{var Pe=this.getOrInitializeService({instanceIdentifier:Le});te.resolve(Pe)}catch(Te){}}}catch(Te){L={error:Te}}finally{try{J&&!J.done&&(X=K.return)&&X.call(K)}finally{if(L)throw L.error}}}},Y.prototype.clearInstance=function(k){void 0===k&&(k=fe),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},Y.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var k;return(0,g.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(k.filter(function(X){return"INTERNAL"in X}).map(function(X){return X.INTERNAL.delete()}))),(0,g.CR)(k.filter(function(X){return"_delete"in X}).map(function(X){return X._delete()}))))];case 1:return L.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(k){return void 0===k&&(k=fe),this.instances.has(k)},Y.prototype.getOptions=function(k){return void 0===k&&(k=fe),this.instancesOptions.get(k)||{}},Y.prototype.initialize=function(k){var L,X;void 0===k&&(k={});var K=k.options,J=void 0===K?{}:K,me=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(me))throw Error(this.name+"("+me+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ie=this.getOrInitializeService({instanceIdentifier:me,options:J});try{for(var te=(0,g.XA)(this.instancesDeferred.entries()),Le=te.next();!Le.done;Le=te.next()){var Pe=(0,g.CR)(Le.value,2),Ge=Pe[1];me===this.normalizeInstanceIdentifier(Pe[0])&&Ge.resolve(ie)}}catch(Ve){L={error:Ve}}finally{try{Le&&!Le.done&&(X=te.return)&&X.call(te)}finally{if(L)throw L.error}}return ie},Y.prototype.onInit=function(k,L){var X,K=this.normalizeInstanceIdentifier(L),J=null!==(X=this.onInitCallbacks.get(K))&&void 0!==X?X:new Set;J.add(k),this.onInitCallbacks.set(K,J);var me=this.instances.get(K);return me&&k(me,K),function(){J.delete(k)}},Y.prototype.invokeOnInitCallbacks=function(k,L){var X,K,J=this.onInitCallbacks.get(L);if(J)try{for(var me=(0,g.XA)(J),ie=me.next();!ie.done;ie=me.next()){var te=ie.value;try{te(k,L)}catch(Le){}}}catch(Le){X={error:Le}}finally{try{ie&&!ie.done&&(K=me.return)&&K.call(me)}finally{if(X)throw X.error}}},Y.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,X=k.options,K=void 0===X?{}:X,J=this.instances.get(L);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:ue(L),options:K}),this.instances.set(L,J),this.instancesOptions.set(L,K),this.invokeOnInitCallbacks(J,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,J)}catch(me){}return J||null},Y.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=fe),this.component?this.component.multipleInstances?k:fe:k},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function ue(Y){return Y===fe?void 0:Y}var de=function(){function Y(k){this.name=k,this.providers=new Map}return Y.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},Y.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},Y.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new ve(k,this);return this.providers.set(k,L),L},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},5601:(Qe,De,F)=>{"use strict";F.d(De,{in:()=>B,Yd:()=>be,Ub:()=>de,Am:()=>Y});const g=[];var B=(()=>{return(k=B||(B={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",B;var k})();const V={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},fe=B.INFO,ve={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ue=(k,L,...X)=>{if(L<k.logLevel)return;const K=(new Date).toISOString(),J=ve[L];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[J](`[${K}]  ${k.name}:`,...X)};class be{constructor(L){this.name=L,this._logLevel=fe,this._logHandler=ue,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in B))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?V[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...L),this._logHandler(this,B.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...L),this._logHandler(this,B.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,B.INFO,...L),this._logHandler(this,B.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,B.WARN,...L),this._logHandler(this,B.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...L),this._logHandler(this,B.ERROR,...L)}}function de(k){g.forEach(L=>{L.setLogLevel(k)})}function Y(k,L){for(const X of g){let K=null;L&&L.level&&(K=V[L.level]),X.userLogHandler=null===k?null:(J,me,...ie)=>{const te=ie.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(Pe){return null}}).filter(Le=>Le).join(" ");me>=(null!=K?K:J.logLevel)&&k({level:B[me].toLowerCase(),message:te,args:ie,type:J.name})}}}},3854:(Qe,De,F)=>{"use strict";F.d(De,{BH:()=>K,LL:()=>Q,ZR:()=>he,tV:()=>Y,r3:()=>pt,Sg:()=>J,ne:()=>xs,vZ:()=>pi,ZB:()=>L,pd:()=>nr,m9:()=>ys,z$:()=>me,jU:()=>Le,ru:()=>Pe,d:()=>Ge,xb:()=>Mn,w1:()=>Ye,hl:()=>Ht,uI:()=>ie,UG:()=>te,b$:()=>Te,G6:()=>Ce,Mn:()=>Ve,xO:()=>co,zd:()=>Jr});const fe=function($){const H=[];let j=0;for(let we=0;we<$.length;we++){let se=$.charCodeAt(we);se<128?H[j++]=se:se<2048?(H[j++]=se>>6|192,H[j++]=63&se|128):55296==(64512&se)&&we+1<$.length&&56320==(64512&$.charCodeAt(we+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++we)),H[j++]=se>>18|240,H[j++]=se>>12&63|128,H[j++]=se>>6&63|128,H[j++]=63&se|128):(H[j++]=se>>12|224,H[j++]=se>>6&63|128,H[j++]=63&se|128)}return H},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let se=0;se<$.length;se+=3){const qe=$[se],Ue=se+1<$.length,kt=Ue?$[se+1]:0,dn=se+2<$.length,On=dn?$[se+2]:0;let ne=(15&kt)<<2|On>>6,G=63&On;dn||(G=64,Ue||(ne=64)),we.push(j[qe>>2],j[(3&qe)<<4|kt>>4],j[ne],j[G])}return we.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(fe($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let j=0,we=0;for(;j<$.length;){const se=$[j++];if(se<128)H[we++]=String.fromCharCode(se);else if(se>191&&se<224){const qe=$[j++];H[we++]=String.fromCharCode((31&se)<<6|63&qe)}else if(se>239&&se<365){const dn=((7&se)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;H[we++]=String.fromCharCode(55296+(dn>>10)),H[we++]=String.fromCharCode(56320+(1023&dn))}else{const qe=$[j++],Ue=$[j++];H[we++]=String.fromCharCode((15&se)<<12|(63&qe)<<6|63&Ue)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const j=H?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let se=0;se<$.length;){const qe=j[$.charAt(se++)],kt=se<$.length?j[$.charAt(se)]:0;++se;const On=se<$.length?j[$.charAt(se)]:64;++se;const Nt=se<$.length?j[$.charAt(se)]:64;if(++se,null==qe||null==kt||null==On||null==Nt)throw Error();we.push(qe<<2|kt>>4),64!==On&&(we.push(kt<<4&240|On>>2),64!==Nt&&we.push(On<<6&192|Nt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},de=function($){return function($){const H=fe($);return ue.encodeByteArray(H,!0)}($).replace(/\./g,"")},Y=function($){try{return ue.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function L($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const j in H)!H.hasOwnProperty(j)||!X(j)||($[j]=L($[j],H[j]));return $}function X($){return"__proto__"!==$}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,j)=>{this.resolve=H,this.reject=j})}wrapCallback(H){return(j,we)=>{j?this.reject(j):this.resolve(we),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(j):H(j,we))}}}function J($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=H||"demo-project",se=$.iat||0,qe=$.sub||$.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:se,exp:se+3600,auth_time:se,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},$);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ue)),""].join(".")}function me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function Le(){return"object"==typeof self&&self.self===self}function Pe(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){return me().indexOf("Electron/")>=0}function Ye(){const $=me();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ve(){return me().indexOf("MSAppHost/")>=0}function Ce(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ht(){return"object"==typeof indexedDB}class he extends Error{constructor(H,j,we){super(j),this.code=H,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(H,j,we){this.service=H,this.serviceName=j,this.errors=we}create(H,...j){const we=j[0]||{},se=`${this.service}/${H}`,qe=this.errors[H],Ue=qe?function($,H){return $.replace(Je,(j,we)=>{const se=H[we];return null!=se?String(se):`<${we}?>`})}(qe,we):"Error";return new he(se,`${this.serviceName}: ${Ue} (${se}).`,we)}}const Je=/\{\$([^}]+)}/g;function pt($,H){return Object.prototype.hasOwnProperty.call($,H)}function Mn($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function pi($,H){if($===H)return!0;const j=Object.keys($),we=Object.keys(H);for(const se of j){if(!we.includes(se))return!1;const qe=$[se],Ue=H[se];if(Yt(qe)&&Yt(Ue)){if(!pi(qe,Ue))return!1}else if(qe!==Ue)return!1}for(const se of we)if(!j.includes(se))return!1;return!0}function Yt($){return null!==$&&"object"==typeof $}function co($){const H=[];for(const[j,we]of Object.entries($))Array.isArray(we)?we.forEach(se=>{H.push(encodeURIComponent(j)+"="+encodeURIComponent(se))}):H.push(encodeURIComponent(j)+"="+encodeURIComponent(we));return H.length?"&"+H.join("&"):""}function Jr($){const H={};return $.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[se,qe]=we.split("=");H[decodeURIComponent(se)]=decodeURIComponent(qe)}}),H}function nr($){const H=$.indexOf("?");if(!H)return"";const j=$.indexOf("#",H);return $.substring(H,j>0?j:void 0)}function xs($,H){const j=new Di($,H);return j.subscribe.bind(j)}class Di{constructor(H,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{H(this)}).catch(we=>{this.error(we)})}next(H){this.forEachObserver(j=>{j.next(H)})}error(H){this.forEachObserver(j=>{j.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,j,we){let se;if(void 0===H&&void 0===j&&void 0===we)throw new Error("Missing Observer.");se=function($,H){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(H)?H:{next:H,error:j,complete:we},void 0===se.next&&(se.next=rr),void 0===se.error&&(se.error=rr),void 0===se.complete&&(se.complete=rr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Ue){}}),this.observers.push(se),qe}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,H)}sendOne(H,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{j(this.observers[H])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}function ys($){return $&&$._delegate?$._delegate:$}},7841:(Qe,De,F)=>{"use strict";F.d(De,{Z:()=>g.Z});var g=F(4486);g.Z.registerVersion("firebase","9.1.1","app-compat")},4828:(Qe,De,F)=>{"use strict";F.r(De);var g=F(8239),B=F(4486),V=F(6031),fe=F(3854),be=(F(5452),F(5601),F(6034));function de(){return window}function L(){return(L=(0,g.Z)(function*(ne,G,W){var Ie;const{BuildInfo:je}=de();(0,V.ap)(G.sessionId,"AuthEvent did not contain a session ID");const at=yield Le(G.sessionId),Mt={};return(0,V.aq)()?Mt.ibi=je.packageName:(0,V.ar)()?Mt.apn=je.packageName:(0,V.as)(ne,"operation-not-supported-in-this-environment"),je.displayName&&(Mt.appDisplayName=je.displayName),Mt.sessionId=at,(0,V.at)(ne,W,G.type,void 0,null!==(Ie=G.eventId)&&void 0!==Ie?Ie:void 0,Mt)})).apply(this,arguments)}function K(){return(K=(0,g.Z)(function*(ne){const{BuildInfo:G}=de(),W={};(0,V.aq)()?W.iosBundleId=G.packageName:(0,V.ar)()?W.androidPackageName=G.packageName:(0,V.as)(ne,"operation-not-supported-in-this-environment"),yield(0,V.au)(ne,W)})).apply(this,arguments)}function ie(){return(ie=(0,g.Z)(function*(ne,G,W){const{cordova:Ie}=de();let je=()=>{};try{yield new Promise((at,Mt)=>{let Gt=null;function Cn(){var qt;at();const Si=null===(qt=Ie.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof Si&&Si(),"function"==typeof(null==W?void 0:W.close)&&W.close()}function Tn(){Gt||(Gt=window.setTimeout(()=>{Mt((0,V.av)(ne,"redirect-cancelled-by-user"))},2e3))}function ir(){"visible"===(null==document?void 0:document.visibilityState)&&Tn()}G.addPassiveListener(Cn),document.addEventListener("resume",Tn,!1),(0,V.ar)()&&document.addEventListener("visibilitychange",ir,!1),je=()=>{G.removePassiveListener(Cn),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",ir,!1),Gt&&window.clearTimeout(Gt)}})}finally{je()}})).apply(this,arguments)}function Le(ne){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,g.Z)(function*(ne){const G=Te(ne),W=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(W)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Te(ne){if((0,V.ap)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ne);const G=new ArrayBuffer(ne.length),W=new Uint8Array(G);for(let Ie=0;Ie<ne.length;Ie++)W[Ie]=ne.charCodeAt(Ie);return W}class Ye extends V.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(W=>W(G)),super.onEvent(G)}initialized(){var G=this;return(0,g.Z)(function*(){yield G.initPromise})()}}function Ce(ne){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,g.Z)(function*(ne){const G=yield ae()._get(_e(ne));return G&&(yield ae()._remove(_e(ne))),G})).apply(this,arguments)}function ye(){const ne=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<20;W++){const Ie=Math.floor(Math.random()*G.length);ne.push(G.charAt(Ie))}return ne.join("")}function ae(){return(0,V.ax)(V.b)}function _e(ne){return(0,V.ay)("authEvent",ne.config.apiKey,ne.name)}function Oe(ne){if(!(null==ne?void 0:ne.includes("?")))return{};const[G,...W]=ne.split("?");return(0,fe.zd)(W.join("?"))}function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.av)("no-auth-event")}}function pt(){var ne;return(null===(ne=null==self?void 0:self.location)||void 0===ne?void 0:ne.protocol)||null}function Mn(ne=(0,fe.z$)()){return!("file:"!==pt()&&"ionic:"!==pt()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jr(){try{const ne=self.localStorage,G=V.aG();if(ne)return ne.setItem(G,"1"),ne.removeItem(G),!function(ne=(0,fe.z$)()){return(0,fe.w1)()&&11===(null==document?void 0:document.documentMode)||function(ne=(0,fe.z$)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,fe.hl)()}catch(ne){return nr()&&(0,fe.hl)()}return!1}function nr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xr(){return("http:"===pt()||"https:"===pt()||(0,fe.ru)()||Mn())&&!((0,fe.b$)()||(0,fe.UG)())&&Jr()&&!nr()}function xs(){return Mn()&&"undefined"!=typeof document}function Qi(){return(Qi=(0,g.Z)(function*(){return!!xs()&&new Promise(ne=>{const G=setTimeout(()=>{ne(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),ne(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},rr=V.aw,Ji="persistence";function xe(ne){return zt.apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(ne){yield ne._initializationPromise;const G=sn(),W=V.ay(Ji,ne.config.apiKey,ne.name);(null==G?void 0:G.sessionStorage)&&G.sessionStorage.setItem(W,ne._getPersistence())})).apply(this,arguments)}function sn(){return"undefined"!=typeof window?window:null}const $t=V.aw;class We{constructor(){this.browserResolver=V.ax(V.k),this.cordovaResolver=V.ax(class{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aA}_initialize(G){var W=this;return(0,g.Z)(function*(){const Ie=G._key();let je=W.eventManagers.get(Ie);return je||(je=new Ye(G),W.eventManagers.set(Ie,je),W.attachCallbackListeners(G,je)),je})()}_openPopup(G){(0,V.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,W,Ie,je){var at=this;return(0,g.Z)(function*(){!function(ne){var G,W,Ie,je,at,Mt,Gt,Cn,Tn,ir;const qt=de();(0,V.aw)("function"==typeof(null===(G=null==qt?void 0:qt.universalLinks)||void 0===G?void 0:G.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aw)(void 0!==(null===(W=null==qt?void 0:qt.BuildInfo)||void 0===W?void 0:W.packageName),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aw)("function"==typeof(null===(at=null===(je=null===(Ie=null==qt?void 0:qt.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===je?void 0:je.browsertab)||void 0===at?void 0:at.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(Cn=null===(Gt=null===(Mt=null==qt?void 0:qt.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===Cn?void 0:Cn.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(ir=null===(Tn=null==qt?void 0:qt.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===ir?void 0:ir.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const Mt=yield at._initialize(G);yield Mt.initialized(),Mt.resetRedirect(),(0,V.aB)(),yield at._originValidation(G);const Gt=function(ne,G,W=null){return{type:G,eventId:W,urlResponse:null,sessionId:ye(),postBody:null,tenantId:ne.tenantId,error:(0,V.av)(ne,"no-auth-event")}}(G,Ie,je);yield function(ne,G){return ae()._set(_e(ne),G)}(G,Gt);const Cn=yield function(ne,G,W){return L.apply(this,arguments)}(G,Gt,W),Tn=yield function(ne){const{cordova:G}=de();return new Promise(W=>{G.plugins.browsertab.isAvailable(Ie=>{let je=null;Ie?G.plugins.browsertab.openUrl(ne):je=G.InAppBrowser.open(ne,(0,V.ao)()?"_blank":"_system","location=yes"),W(je)})})}(Cn);return function(ne,G,W){return ie.apply(this,arguments)}(G,Mt,Tn)})()}_isIframeWebStorageSupported(G,W){throw new Error("Method not implemented.")}_originValidation(G){const W=G._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function(ne){return K.apply(this,arguments)}(G)),this.originValidationPromises[W]}attachCallbackListeners(G,W){const{universalLinks:Ie,handleOpenURL:je,BuildInfo:at}=de(),Mt=setTimeout((0,g.Z)(function*(){yield Ce(G),W.onEvent(ut())}),500),Gt=function(){var ir=(0,g.Z)(function*(qt){clearTimeout(Mt);const Si=yield Ce(G);let Sn=null;Si&&(null==qt?void 0:qt.url)&&(Sn=function(ne,G){var W,Ie;const je=function(ne){const G=Oe(ne),W=G.link?decodeURIComponent(G.link):void 0,Ie=Oe(W).link,je=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return Oe(je).link||je||Ie||W||ne}(G);if(je.includes("/__/auth/callback")){const at=Oe(je),Mt=at.firebaseError?function(ne){try{return JSON.parse(ne)}catch(G){return null}}(decodeURIComponent(at.firebaseError)):null,Gt=null===(Ie=null===(W=null==Mt?void 0:Mt.code)||void 0===W?void 0:W.split("auth/"))||void 0===Ie?void 0:Ie[1],Cn=Gt?(0,V.av)(Gt):null;return Cn?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:Cn,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:je,postBody:null}}return null}(Si,qt.url)),W.onEvent(Sn||ut())});return function(Si){return ir.apply(this,arguments)}}();void 0!==Ie&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,Gt);const Cn=je,Tn=`${at.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var ir=(0,g.Z)(function*(qt){if(qt.toLowerCase().startsWith(Tn)&&Gt({url:qt}),"function"==typeof Cn)try{Cn(qt)}catch(Si){console.error(Si)}});return function(qt){return ir.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aA}_initialize(G){var W=this;return(0,g.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,W,Ie,je){var at=this;return(0,g.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(G,W,Ie,je)})()}_openRedirect(G,W,Ie,je){var at=this;return(0,g.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(G,W,Ie,je)})()}_isIframeWebStorageSupported(G,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,W)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return xs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,g.Z)(function*(){if(G.underlyingResolver)return;const W=yield function(){return Qi.apply(this,arguments)}();G.underlyingResolver=W?G.cordovaResolver:G.browserResolver})()}}function ze(ne){return ne.unwrap()}function lo(ne){return on(ne)}function Ti(ne,G){var W;const Ie=null===(W=G.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new j(ne,V.am(ne,G));else if(Ie){const je=on(G),at=G;je&&(at.credential=je,at.tenantId=Ie.tenantId||void 0,at.email=Ie.email||void 0,at.phoneNumber=Ie.phoneNumber||void 0)}}function on(ne){const{_tokenResponse:G}=ne instanceof fe.ZR?ne.customData:ne;if(!G)return null;if(!(ne instanceof fe.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return V.P.credentialFromResult(ne);const W=G.providerId;if(!W||W===V.o.PASSWORD)return null;let Ie;switch(W){case V.o.GOOGLE:Ie=V.N;break;case V.o.FACEBOOK:Ie=V.M;break;case V.o.GITHUB:Ie=V.Q;break;case V.o.TWITTER:Ie=V.V;break;default:const{oauthIdToken:je,oauthAccessToken:at,oauthTokenSecret:Mt,pendingToken:Gt,nonce:Cn}=G;return at||Mt||je||Gt?Gt?W.startsWith("saml.")?V.aJ._create(W,Gt):V.I._fromParams({providerId:W,signInMethod:W,pendingToken:Gt,idToken:je,accessToken:at}):new V.T(W).credential({idToken:je,accessToken:at,rawNonce:Cn}):null}return ne instanceof fe.ZR?Ie.credentialFromError(ne):Ie.credentialFromResult(ne)}function Wt(ne,G){return ys.apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(ne,G){let W;try{W=yield G}catch(at){throw at instanceof fe.ZR&&Ti(ne,at),at}const{operationType:Ie,user:je}=W;return{operationType:Ie,credential:lo(W),additionalUserInfo:V.ak(W),user:we.getOrCreate(je)}})).apply(this,arguments)}function $(ne,G){return H.apply(this,arguments)}function H(){return(H=(0,g.Z)(function*(ne,G){const W=yield G;return{verificationId:W.verificationId,confirm:Ie=>Wt(ne,W.confirm(Ie))}})).apply(this,arguments)}class j{constructor(G,W){this.resolver=W,this.auth=G.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return Wt(ze(this.auth),this.resolver.resolveSignIn(G))}}class we{constructor(G){this._delegate=G,this.multiFactor=V.an(G)}static getOrCreate(G){return we.USER_MAP.has(G)||we.USER_MAP.set(G,new we(G)),we.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var W=this;return(0,g.Z)(function*(){return Wt(W.auth,V.Y(W._delegate,G))})()}linkWithPhoneNumber(G,W){var Ie=this;return(0,g.Z)(function*(){return $(Ie.auth,V.l(Ie._delegate,G,W))})()}linkWithPopup(G){var W=this;return(0,g.Z)(function*(){return Wt(W.auth,V.d(W._delegate,G,We))})()}linkWithRedirect(G){var W=this;return(0,g.Z)(function*(){return yield xe(V.aC(W.auth)),V.g(W._delegate,G,We)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var W=this;return(0,g.Z)(function*(){return Wt(W.auth,V.Z(W._delegate,G))})()}reauthenticateWithPhoneNumber(G,W){return $(this.auth,V.r(this._delegate,G,W))}reauthenticateWithPopup(G){return Wt(this.auth,V.e(this._delegate,G,We))}reauthenticateWithRedirect(G){var W=this;return(0,g.Z)(function*(){return yield xe(V.aC(W.auth)),V.h(W._delegate,G,We)})()}sendEmailVerification(G){return V.aa(this._delegate,G)}unlink(G){var W=this;return(0,g.Z)(function*(){return yield V.aj(W._delegate,G),W})()}updateEmail(G){return V.af(this._delegate,G)}updatePassword(G){return V.ag(this._delegate,G)}updatePhoneNumber(G){return V.u(this._delegate,G)}updateProfile(G){return V.ae(this._delegate,G)}verifyBeforeUpdateEmail(G,W){return V.ab(this._delegate,G,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}we.USER_MAP=new WeakMap;const se=V.aw;let qe=(()=>{class ne{constructor(W,Ie){if(this.app=W,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=W.options;se(je,"invalid-api-key",{appName:W.name});let at=[V.K];if("undefined"!=typeof window){at=function(ne,G){const W=sn();if(!(null==W?void 0:W.sessionStorage))return[];const Ie=V.ay(Ji,ne,G);switch(W.sessionStorage.getItem(Ie)){case Vt.NONE:return[V.K];case Vt.LOCAL:return[V.i,V.a];case Vt.SESSION:return[V.a];default:return[]}}(je,W.name);for(const Gt of[V.i,V.b,V.a])at.includes(Gt)||at.push(Gt)}se(je,"invalid-api-key",{appName:W.name});const Mt="undefined"!=typeof window?We:void 0;this._delegate=Ie.initialize({options:{persistence:at,popupRedirectResolver:Mt}}),this._delegate._updateErrorMap(V.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?we.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,Ie){V.E(this._delegate,W,Ie)}applyActionCode(W){return V.a1(this._delegate,W)}checkActionCode(W){return V.a2(this._delegate,W)}confirmPasswordReset(W,Ie){return V.a0(this._delegate,W,Ie)}createUserWithEmailAndPassword(W,Ie){var je=this;return(0,g.Z)(function*(){return Wt(je._delegate,V.a4(je._delegate,W,Ie))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return V.a9(this._delegate,W)}isSignInWithEmailLink(W){return V.a7(this._delegate,W)}getRedirectResult(){var W=this;return(0,g.Z)(function*(){se(Xr(),W._delegate,"operation-not-supported-in-this-environment");const Ie=yield V.j(W._delegate,We);return Ie?Wt(W._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function(ne,G){(0,V.aC)(ne)._logFramework(G)}(this._delegate,W)}onAuthStateChanged(W,Ie,je){const{next:at,error:Mt,complete:Gt}=Ue(W,Ie,je);return this._delegate.onAuthStateChanged(at,Mt,Gt)}onIdTokenChanged(W,Ie,je){const{next:at,error:Mt,complete:Gt}=Ue(W,Ie,je);return this._delegate.onIdTokenChanged(at,Mt,Gt)}sendSignInLinkToEmail(W,Ie){return V.a6(this._delegate,W,Ie)}sendPasswordResetEmail(W,Ie){return V.$(this._delegate,W,Ie||void 0)}setPersistence(W){var Ie=this;return(0,g.Z)(function*(){let je;switch(function(ne,G){rr(Object.values(Vt).includes(G),ne,"invalid-persistence-type"),(0,fe.b$)()?rr(G!==Vt.SESSION,ne,"unsupported-persistence-type"):(0,fe.UG)()?rr(G===Vt.NONE,ne,"unsupported-persistence-type"):nr()?rr(G===Vt.NONE||G===Vt.LOCAL&&(0,fe.hl)(),ne,"unsupported-persistence-type"):rr(G===Vt.NONE||Jr(),ne,"unsupported-persistence-type")}(Ie._delegate,W),W){case Vt.SESSION:je=V.a;break;case Vt.LOCAL:je=(yield V.ax(V.i)._isAvailable())?V.i:V.b;break;case Vt.NONE:je=V.K;break;default:return V.as("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return Wt(this._delegate,V.W(this._delegate))}signInWithCredential(W){return Wt(this._delegate,V.X(this._delegate,W))}signInWithCustomToken(W){return Wt(this._delegate,V._(this._delegate,W))}signInWithEmailAndPassword(W,Ie){return Wt(this._delegate,V.a5(this._delegate,W,Ie))}signInWithEmailLink(W,Ie){return Wt(this._delegate,V.a8(this._delegate,W,Ie))}signInWithPhoneNumber(W,Ie){return $(this._delegate,V.s(this._delegate,W,Ie))}signInWithPopup(W){var Ie=this;return(0,g.Z)(function*(){return se(Xr(),Ie._delegate,"operation-not-supported-in-this-environment"),Wt(Ie._delegate,V.c(Ie._delegate,W,We))})()}signInWithRedirect(W){var Ie=this;return(0,g.Z)(function*(){return se(Xr(),Ie._delegate,"operation-not-supported-in-this-environment"),yield xe(Ie._delegate),V.f(Ie._delegate,W,We)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return V.a3(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=Vt,ne})();function Ue(ne,G,W){let Ie=ne;"function"!=typeof ne&&({next:Ie,error:G,complete:W}=ne);const je=Ie;return{next:Mt=>je(Mt&&we.getOrCreate(Mt)),error:G,complete:W}}class kt{constructor(){this.providerId="phone",this._delegate=new V.P(ze(B.Z.auth()))}static credential(G,W){return V.P.credential(G,W)}verifyPhoneNumber(G,W){return this._delegate.verifyPhoneNumber(G,W)}unwrap(){return this._delegate}}kt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,kt.PROVIDER_ID=V.P.PROVIDER_ID;const dn=V.aw;var ne;(ne=B.Z).INTERNAL.registerComponent(new be.wA("auth-compat",G=>{const W=G.getProvider("app-compat").getImmediate(),Ie=G.getProvider("auth");return new qe(W,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.L,FacebookAuthProvider:V.M,GithubAuthProvider:V.Q,GoogleAuthProvider:V.N,OAuthProvider:V.T,PhoneAuthProvider:kt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:class{constructor(G,W,Ie=B.Z.app()){var je;dn(null===(je=Ie.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new V.R(G,W,Ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:V.V,Auth:qe,AuthCredential:V.G,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.1.4")},7574:(Qe,De,F)=>{"use strict";F.d(De,{y:()=>L});var g=F(7393),V=F(9181),fe=F(6490),ue=F(6554),be=F(4487);var k=F(2494);let L=(()=>{class K{constructor(me){this._isScalar=!1,me&&(this._subscribe=me)}lift(me){const ie=new K;return ie.source=this,ie.operator=me,ie}subscribe(me,ie,te){const{operator:Le}=this,Pe=function(K,J,me){if(K){if(K instanceof g.L)return K;if(K[V.b])return K[V.b]()}return K||J||me?new g.L(K,J,me):new g.L(fe.c)}(me,ie,te);if(Pe.add(Le?Le.call(Pe,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Pe.syncErrorThrowable?this._subscribe(Pe):this._trySubscribe(Pe)),k.v.useDeprecatedSynchronousErrorHandling&&Pe.syncErrorThrowable&&(Pe.syncErrorThrowable=!1,Pe.syncErrorThrown))throw Pe.syncErrorValue;return Pe}_trySubscribe(me){try{return this._subscribe(me)}catch(ie){k.v.useDeprecatedSynchronousErrorHandling&&(me.syncErrorThrown=!0,me.syncErrorValue=ie),function(K){for(;K;){const{closed:J,destination:me,isStopped:ie}=K;if(J||ie)return!1;K=me&&me instanceof g.L?me:null}return!0}(me)?me.error(ie):console.warn(ie)}}forEach(me,ie){return new(ie=X(ie))((te,Le)=>{let Pe;Pe=this.subscribe(Te=>{try{me(Te)}catch(Ge){Le(Ge),Pe&&Pe.unsubscribe()}},Le,te)})}_subscribe(me){const{source:ie}=this;return ie&&ie.subscribe(me)}[ue.L](){return this}pipe(...me){return 0===me.length?this:function(K){return 0===K.length?be.y:1===K.length?K[0]:function(me){return K.reduce((ie,te)=>te(ie),me)}}(me)(this)}toPromise(me){return new(me=X(me))((ie,te)=>{let Le;this.subscribe(Pe=>Le=Pe,Pe=>te(Pe),()=>ie(Le))})}}return K.create=J=>new K(J),K})();function X(K){if(K||(K=k.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>V});var g=F(2494),B=F(4449);const V={closed:!0,next(fe){},error(fe){if(g.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,B.z)(fe)},complete(){}}},9765:(Qe,De,F)=>{"use strict";F.d(De,{Yc:()=>be,xQ:()=>de});var g=F(7574),B=F(7393),V=F(5319),fe=F(7971),ve=F(8858),ue=F(9181);class be extends B.L{constructor(L){super(L),this.destination=L}}let de=(()=>{class k extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ue.b](){return new be(this)}lift(X){const K=new Y(this,this);return K.operator=X,K}next(X){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:K}=this,J=K.length,me=K.slice();for(let ie=0;ie<J;ie++)me[ie].next(X)}}error(X){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=X,this.isStopped=!0;const{observers:K}=this,J=K.length,me=K.slice();for(let ie=0;ie<J;ie++)me[ie].error(X);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:X}=this,K=X.length,J=X.slice();for(let me=0;me<K;me++)J[me].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(X){if(this.closed)throw new fe.N;return super._trySubscribe(X)}_subscribe(X){if(this.closed)throw new fe.N;return this.hasError?(X.error(this.thrownError),V.w.EMPTY):this.isStopped?(X.complete(),V.w.EMPTY):(this.observers.push(X),new ve.W(this,X))}asObservable(){const X=new g.y;return X.source=this,X}}return k.create=(L,X)=>new Y(L,X),k})();class Y extends de{constructor(L,X){super(),this.destination=L,this.source=X}next(L){const{destination:X}=this;X&&X.next&&X.next(L)}error(L){const{destination:X}=this;X&&X.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:X}=this;return X?this.source.subscribe(L):V.w.EMPTY}}},8858:(Qe,De,F)=>{"use strict";F.d(De,{W:()=>B});var g=F(5319);class B extends g.w{constructor(fe,ve){super(),this.subject=fe,this.subscriber=ve,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const fe=this.subject,ve=fe.observers;if(this.subject=null,!ve||0===ve.length||fe.isStopped||fe.closed)return;const ue=ve.indexOf(this.subscriber);-1!==ue&&ve.splice(ue,1)}}},7393:(Qe,De,F)=>{"use strict";F.d(De,{L:()=>be});var g=F(9105),B=F(6490),V=F(5319),fe=F(9181),ve=F(2494),ue=F(4449);class be extends V.w{constructor(k,L,X){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!k){this.destination=B.c;break}if("object"==typeof k){k instanceof be?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new de(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new de(this,k,L,X)}}[fe.b](){return this}static create(k,L,X){const K=new be(k,L,X);return K.syncErrorThrowable=!1,K}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class de extends be{constructor(k,L,X,K){super(),this._parentSubscriber=k;let J,me=this;(0,g.m)(L)?J=L:L&&(J=L.next,X=L.error,K=L.complete,L!==B.c&&(me=Object.create(L),(0,g.m)(me.unsubscribe)&&this.add(me.unsubscribe.bind(me)),me.unsubscribe=this.unsubscribe.bind(this))),this._context=me,this._next=J,this._error=X,this._complete=K}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;ve.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:X}=ve.v;if(this._error)X&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)X?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,ue.z)(k),this.unsubscribe();else{if(this.unsubscribe(),X)throw k;(0,ue.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);ve.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(X){if(this.unsubscribe(),ve.v.useDeprecatedSynchronousErrorHandling)throw X;(0,ue.z)(X)}}__tryOrSetError(k,L,X){if(!ve.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,X)}catch(K){return ve.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=K,k.syncErrorThrown=!0,!0):((0,ue.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Qe,De,F)=>{"use strict";F.d(De,{w:()=>ue});var g=F(9796),B=F(1555),V=F(9105);const ve=(()=>{function de(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return de.prototype=Object.create(Error.prototype),de})();class ue{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:X,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ue)k.remove(this);else if(null!==k)for(let J=0;J<k.length;++J)k[J].remove(this);if((0,V.m)(X)){L&&(this._unsubscribe=void 0);try{X.call(this)}catch(J){Y=J instanceof ve?be(J.errors):[J]}}if((0,g.k)(K)){let J=-1,me=K.length;for(;++J<me;){const ie=K[J];if((0,B.K)(ie))try{ie.unsubscribe()}catch(te){Y=Y||[],te instanceof ve?Y=Y.concat(be(te.errors)):Y.push(te)}}}if(Y)throw new ve(Y)}add(Y){let k=Y;if(!Y)return ue.EMPTY;switch(typeof Y){case"function":k=new ue(Y);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ue)){const K=k;k=new ue,k._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof ue){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const X=this._subscriptions;return null===X?this._subscriptions=[k]:X.push(k),k}remove(Y){const k=this._subscriptions;if(k){const L=k.indexOf(Y);-1!==L&&k.splice(L,1)}}}var de;function be(de){return de.reduce((Y,k)=>Y.concat(k instanceof ve?k.errors:k),[])}ue.EMPTY=((de=new ue).closed=!0,de)},2494:(Qe,De,F)=>{"use strict";F.d(De,{v:()=>B});let g=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=V},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(Qe,De,F)=>{"use strict";F.d(De,{IY:()=>fe,Ds:()=>ue,ft:()=>de});var g=F(7393),B=F(7574),V=F(7444);class fe extends g.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ue extends g.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function de(Y,k){if(k.closed)return;if(Y instanceof B.y)return Y.subscribe(k);let L;try{L=(0,V.s)(Y)(k)}catch(X){k.error(X)}return L}},2441:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>ve,N:()=>ue});var g=F(9765),B=F(7574),V=F(5319),fe=F(1307);class ve extends B.y{constructor(L,X){super(),this.source=L,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new V.w,L.add(this.source.subscribe(new be(this.getSubject(),this))),L.closed&&(this._connection=null,L=V.w.EMPTY)),L}refCount(){return(0,fe.x)()(this)}}const ue=(()=>{const k=ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class be extends g.Yc{constructor(L,X){super(L),this.connectable=X}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const X=L._connection;L._refCount=0,L._subject=null,L._connection=null,X&&X.unsubscribe()}}}},9193:(Qe,De,F)=>{"use strict";F.d(De,{E:()=>B,c:()=>V});var g=F(7574);const B=new g.y(ve=>ve.complete());function V(ve){return ve?function(ve){return new g.y(ue=>ve.schedule(()=>ue.complete()))}(ve):B}},4402:(Qe,De,F)=>{"use strict";F.d(De,{D:()=>me});var g=F(7574),B=F(7444),V=F(5319),fe=F(6554),be=F(4087),de=F(377),L=F(4072),X=F(9489);function me(ie,te){return te?function(ie,te){if(null!=ie){if(function(ie){return ie&&"function"==typeof ie[fe.L]}(ie))return function(ie,te){return new g.y(Le=>{const Pe=new V.w;return Pe.add(te.schedule(()=>{const Te=ie[fe.L]();Pe.add(Te.subscribe({next(Ge){Pe.add(te.schedule(()=>Le.next(Ge)))},error(Ge){Pe.add(te.schedule(()=>Le.error(Ge)))},complete(){Pe.add(te.schedule(()=>Le.complete()))}}))})),Pe})}(ie,te);if((0,L.t)(ie))return function(ie,te){return new g.y(Le=>{const Pe=new V.w;return Pe.add(te.schedule(()=>ie.then(Te=>{Pe.add(te.schedule(()=>{Le.next(Te),Pe.add(te.schedule(()=>Le.complete()))}))},Te=>{Pe.add(te.schedule(()=>Le.error(Te)))}))),Pe})}(ie,te);if((0,X.z)(ie))return(0,be.r)(ie,te);if(function(ie){return ie&&"function"==typeof ie[de.hZ]}(ie)||"string"==typeof ie)return function(ie,te){if(!ie)throw new Error("Iterable cannot be null");return new g.y(Le=>{const Pe=new V.w;let Te;return Pe.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),Pe.add(te.schedule(()=>{Te=ie[de.hZ](),Pe.add(te.schedule(function(){if(Le.closed)return;let Ge,Ye;try{const Ve=Te.next();Ge=Ve.value,Ye=Ve.done}catch(Ve){return void Le.error(Ve)}Ye?Le.complete():(Le.next(Ge),this.schedule())}))})),Pe})}(ie,te)}throw new TypeError((null!==ie&&typeof ie||ie)+" is not observable")}(ie,te):ie instanceof g.y?ie:new g.y((0,B.s)(ie))}},6693:(Qe,De,F)=>{"use strict";F.d(De,{n:()=>fe});var g=F(7574),B=F(5015),V=F(4087);function fe(ve,ue){return ue?(0,V.r)(ve,ue):new g.y((0,B.V)(ve))}},6682:(Qe,De,F)=>{"use strict";F.d(De,{T:()=>ve});var g=F(7574),B=F(4869),V=F(3282),fe=F(6693);function ve(...ue){let be=Number.POSITIVE_INFINITY,de=null,Y=ue[ue.length-1];return(0,B.K)(Y)?(de=ue.pop(),ue.length>1&&"number"==typeof ue[ue.length-1]&&(be=ue.pop())):"number"==typeof Y&&(be=ue.pop()),null===de&&1===ue.length&&ue[0]instanceof g.y?ue[0]:(0,V.J)(be)((0,fe.n)(ue,de))}},5917:(Qe,De,F)=>{"use strict";F.d(De,{of:()=>fe});var g=F(4869),B=F(6693),V=F(4087);function fe(...ve){let ue=ve[ve.length-1];return(0,g.K)(ue)?(ve.pop(),(0,V.r)(ve,ue)):(0,B.n)(ve)}},8002:(Qe,De,F)=>{"use strict";F.d(De,{U:()=>B});var g=F(7393);function B(ve,ue){return function(de){if("function"!=typeof ve)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return de.lift(new V(ve,ue))}}class V{constructor(ue,be){this.project=ue,this.thisArg=be}call(ue,be){return be.subscribe(new fe(ue,this.project,this.thisArg))}}class fe extends g.L{constructor(ue,be,de){super(ue),this.project=be,this.count=0,this.thisArg=de||this}_next(ue){let be;try{be=this.project.call(this.thisArg,ue,this.count++)}catch(de){return void this.destination.error(de)}this.destination.next(be)}}},3282:(Qe,De,F)=>{"use strict";F.d(De,{J:()=>V});var g=F(9773),B=F(4487);function V(fe=Number.POSITIVE_INFINITY){return(0,g.zg)(B.y,fe)}},9773:(Qe,De,F)=>{"use strict";F.d(De,{zg:()=>fe});var g=F(8002),B=F(4402),V=F(5345);function fe(de,Y,k=Number.POSITIVE_INFINITY){return"function"==typeof Y?L=>L.pipe(fe((X,K)=>(0,B.D)(de(X,K)).pipe((0,g.U)((J,me)=>Y(X,J,K,me))),k)):("number"==typeof Y&&(k=Y),L=>L.lift(new ve(de,k)))}class ve{constructor(Y,k=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=k}call(Y,k){return k.subscribe(new ue(Y,this.project,this.concurrent))}}class ue extends V.Ds{constructor(Y,k,L=Number.POSITIVE_INFINITY){super(Y),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let k;const L=this.index++;try{k=this.project(Y,L)}catch(X){return void this.destination.error(X)}this.active++,this._innerSub(k)}_innerSub(Y){const k=new V.IY(this),L=this.destination;L.add(k);const X=(0,V.ft)(Y,k);X!==k&&L.add(X)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Qe,De,F)=>{"use strict";F.d(De,{ht:()=>L,QV:()=>Y});var g=F(7393),B=F(9193),V=F(5917),fe=F(7574);class de{constructor(J,me,ie){this.kind=J,this.value=me,this.error=ie,this.hasValue="N"===J}observe(J){switch(this.kind){case"N":return J.next&&J.next(this.value);case"E":return J.error&&J.error(this.error);case"C":return J.complete&&J.complete()}}do(J,me,ie){switch(this.kind){case"N":return J&&J(this.value);case"E":return me&&me(this.error);case"C":return ie&&ie()}}accept(J,me,ie){return J&&"function"==typeof J.next?this.observe(J):this.do(J,me,ie)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return K=this.error,new fe.y(me=>me.error(K));case"C":return(0,B.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(J){return void 0!==J?new de("N",J):de.undefinedValueNotification}static createError(J){return new de("E",void 0,J)}static createComplete(){return de.completeNotification}}function Y(K,J=0){return function(ie){return ie.lift(new k(K,J))}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0);class k{constructor(J,me=0){this.scheduler=J,this.delay=me}call(J,me){return me.subscribe(new L(J,this.scheduler,this.delay))}}class L extends g.L{constructor(J,me,ie=0){super(J),this.scheduler=me,this.delay=ie}static dispatch(J){const{notification:me,destination:ie}=J;me.observe(ie),this.unsubscribe()}scheduleMessage(J){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new X(J,this.destination)))}_next(J){this.scheduleMessage(de.createNext(J))}_error(J){this.scheduleMessage(de.createError(J)),this.unsubscribe()}_complete(){this.scheduleMessage(de.createComplete()),this.unsubscribe()}}class X{constructor(J,me){this.notification=J,this.destination=me}}},1307:(Qe,De,F)=>{"use strict";F.d(De,{x:()=>B});var g=F(7393);function B(){return function(ue){return ue.lift(new V(ue))}}class V{constructor(ue){this.connectable=ue}call(ue,be){const{connectable:de}=this;de._refCount++;const Y=new fe(ue,de),k=be.subscribe(Y);return Y.closed||(Y.connection=de.connect()),k}}class fe extends g.L{constructor(ue,be){super(ue),this.connectable=be}_unsubscribe(){const{connectable:ue}=this;if(!ue)return void(this.connection=null);this.connectable=null;const be=ue._refCount;if(be<=0)return void(this.connection=null);if(ue._refCount=be-1,be>1)return void(this.connection=null);const{connection:de}=this,Y=ue._connection;this.connection=null,Y&&(!de||Y===de)&&Y.unsubscribe()}}},3101:(Qe,De,F)=>{"use strict";F.d(De,{R:()=>te});var g=F(7574);let B=1;const V=Promise.resolve(),fe={};function ve(Pe){return Pe in fe&&(delete fe[Pe],!0)}const ue={setImmediate(Pe){const Te=B++;return fe[Te]=!0,V.then(()=>ve(Te)&&Pe()),Te},clearImmediate(Pe){ve(Pe)}};var de=F(6465),k=F(6102);const K=new class extends k.v{flush(Te){this.active=!0,this.scheduled=void 0;const{actions:Ge}=this;let Ye,Ve=-1,bt=Ge.length;Te=Te||Ge.shift();do{if(Ye=Te.execute(Te.state,Te.delay))break}while(++Ve<bt&&(Te=Ge.shift()));if(this.active=!1,Ye){for(;++Ve<bt&&(Te=Ge.shift());)Te.unsubscribe();throw Ye}}}(class extends de.o{constructor(Te,Ge){super(Te,Ge),this.scheduler=Te,this.work=Ge}requestAsyncId(Te,Ge,Ye=0){return null!==Ye&&Ye>0?super.requestAsyncId(Te,Ge,Ye):(Te.actions.push(this),Te.scheduled||(Te.scheduled=ue.setImmediate(Te.flush.bind(Te,null))))}recycleAsyncId(Te,Ge,Ye=0){if(null!==Ye&&Ye>0||null===Ye&&this.delay>0)return super.recycleAsyncId(Te,Ge,Ye);0===Te.actions.length&&(ue.clearImmediate(Ge),Te.scheduled=void 0)}});var J=F(9796);class ie extends g.y{constructor(Te,Ge=0,Ye=K){var Pe;super(),this.source=Te,this.delayTime=Ge,this.scheduler=Ye,(!(!(0,J.k)(Pe=Ge)&&Pe-parseFloat(Pe)+1>=0)||Ge<0)&&(this.delayTime=0),(!Ye||"function"!=typeof Ye.schedule)&&(this.scheduler=K)}static create(Te,Ge=0,Ye=K){return new ie(Te,Ge,Ye)}static dispatch(Te){const{source:Ge,subscriber:Ye}=Te;return this.add(Ge.subscribe(Ye))}_subscribe(Te){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function te(Pe,Te=0){return function(Ye){return Ye.lift(new Le(Pe,Te))}}class Le{constructor(Te,Ge){this.scheduler=Te,this.delay=Ge}call(Te,Ge){return new ie(Ge,this.delay,this.scheduler).subscribe(Te)}}},3342:(Qe,De,F)=>{"use strict";F.d(De,{b:()=>fe});var g=F(7393);function B(){}var V=F(9105);function fe(be,de,Y){return function(L){return L.lift(new ve(be,de,Y))}}class ve{constructor(de,Y,k){this.nextOrObserver=de,this.error=Y,this.complete=k}call(de,Y){return Y.subscribe(new ue(de,this.nextOrObserver,this.error,this.complete))}}class ue extends g.L{constructor(de,Y,k,L){super(de),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=k||B,this._tapComplete=L||B,(0,V.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||B,this._tapError=Y.error||B,this._tapComplete=Y.complete||B)}_next(de){try{this._tapNext.call(this._context,de)}catch(Y){return void this.destination.error(Y)}this.destination.next(de)}_error(de){try{this._tapError.call(this._context,de)}catch(Y){return void this.destination.error(Y)}this.destination.error(de)}_complete(){try{this._tapComplete.call(this._context)}catch(de){return void this.destination.error(de)}return this.destination.complete()}}},4087:(Qe,De,F)=>{"use strict";F.d(De,{r:()=>V});var g=F(7574),B=F(5319);function V(fe,ve){return new g.y(ue=>{const be=new B.w;let de=0;return be.add(ve.schedule(function(){de!==fe.length?(ue.next(fe[de++]),ue.closed||be.add(this.schedule())):ue.complete()})),be})}},6465:(Qe,De,F)=>{"use strict";F.d(De,{o:()=>V});var g=F(5319);class B extends g.w{constructor(ve,ue){super()}schedule(ve,ue=0){return this}}class V extends B{constructor(ve,ue){super(ve,ue),this.scheduler=ve,this.work=ue,this.pending=!1}schedule(ve,ue=0){if(this.closed)return this;this.state=ve;const be=this.id,de=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(de,be,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(de,this.id,ue),this}requestAsyncId(ve,ue,be=0){return setInterval(ve.flush.bind(ve,this),be)}recycleAsyncId(ve,ue,be=0){if(null!==be&&this.delay===be&&!1===this.pending)return ue;clearInterval(ue)}execute(ve,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ve,ue);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,ue){let de,be=!1;try{this.work(ve)}catch(Y){be=!0,de=!!Y&&Y||new Error(Y)}if(be)return this.unsubscribe(),de}_unsubscribe(){const ve=this.id,ue=this.scheduler,be=ue.actions,de=be.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==de&&be.splice(de,1),null!=ve&&(this.id=this.recycleAsyncId(ue,ve,null)),this.delay=null}}},6102:(Qe,De,F)=>{"use strict";F.d(De,{v:()=>B});let g=(()=>{class V{constructor(ve,ue=V.now){this.SchedulerAction=ve,this.now=ue}schedule(ve,ue=0,be){return new this.SchedulerAction(this,ve).schedule(be,ue)}}return V.now=()=>Date.now(),V})();class B extends g{constructor(fe,ve=g.now){super(fe,()=>B.delegate&&B.delegate!==this?B.delegate.now():ve()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(fe,ve=0,ue){return B.delegate&&B.delegate!==this?B.delegate.schedule(fe,ve,ue):super.schedule(fe,ve,ue)}flush(fe){const{actions:ve}=this;if(this.active)return void ve.push(fe);let ue;this.active=!0;do{if(ue=fe.execute(fe.state,fe.delay))break}while(fe=ve.shift());if(this.active=!1,ue){for(;fe=ve.shift();)fe.unsubscribe();throw ue}}}},3637:(Qe,De,F)=>{"use strict";F.d(De,{z:()=>V,P:()=>fe});var g=F(6465);const V=new(F(6102).v)(g.o),fe=V},7771:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>ue,N:()=>ve});var g=F(6465),V=F(6102);const ve=new class extends V.v{}(class extends g.o{constructor(de,Y){super(de,Y),this.scheduler=de,this.work=Y}schedule(de,Y=0){return Y>0?super.schedule(de,Y):(this.delay=Y,this.state=de,this.scheduler.flush(this),this)}execute(de,Y){return Y>0||this.closed?super.execute(de,Y):this._execute(de,Y)}requestAsyncId(de,Y,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(de,Y,k):de.flush(this)}}),ue=ve},377:(Qe,De,F)=>{"use strict";F.d(De,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Qe,De,F)=>{"use strict";F.d(De,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Qe,De,F)=>{"use strict";F.d(De,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Qe,De,F)=>{"use strict";F.d(De,{N:()=>B});const B=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},4449:(Qe,De,F)=>{"use strict";function g(B){setTimeout(()=>{throw B},0)}F.d(De,{z:()=>g})},4487:(Qe,De,F)=>{"use strict";function g(B){return B}F.d(De,{y:()=>g})},9796:(Qe,De,F)=>{"use strict";F.d(De,{k:()=>g});const g=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(Qe,De,F)=>{"use strict";F.d(De,{z:()=>g});const g=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(Qe,De,F)=>{"use strict";function g(B){return"function"==typeof B}F.d(De,{m:()=>g})},1555:(Qe,De,F)=>{"use strict";function g(B){return null!==B&&"object"==typeof B}F.d(De,{K:()=>g})},4072:(Qe,De,F)=>{"use strict";function g(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}F.d(De,{t:()=>g})},4869:(Qe,De,F)=>{"use strict";function g(B){return B&&"function"==typeof B.schedule}F.d(De,{K:()=>g})},7444:(Qe,De,F)=>{"use strict";F.d(De,{s:()=>L});var g=F(5015),B=F(4449),fe=F(377),ue=F(6554),de=F(9489),Y=F(4072),k=F(1555);const L=X=>{if(X&&"function"==typeof X[ue.L])return(X=>K=>{const J=X[ue.L]();if("function"!=typeof J.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return J.subscribe(K)})(X);if((0,de.z)(X))return(0,g.V)(X);if((0,Y.t)(X))return(X=>K=>(X.then(J=>{K.closed||(K.next(J),K.complete())},J=>K.error(J)).then(null,B.z),K))(X);if(X&&"function"==typeof X[fe.hZ])return(X=>K=>{const J=X[fe.hZ]();for(;;){let me;try{me=J.next()}catch(ie){return K.error(ie),K}if(me.done){K.complete();break}if(K.next(me.value),K.closed)break}return"function"==typeof J.return&&K.add(()=>{J.return&&J.return()}),K})(X);{const J=`You provided ${(0,k.K)(X)?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(J)}}},5015:(Qe,De,F)=>{"use strict";F.d(De,{V:()=>g});const g=B=>V=>{for(let fe=0,ve=B.length;fe<ve&&!V.closed;fe++)V.next(B[fe]);V.complete()}},4422:(Qe,De,F)=>{"use strict";var g=F(3018);let B=null;function V(){return B}const be=new g.OlP("DocumentToken");let de=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Y,token:i,providedIn:"platform"}),i})();function Y(){return(0,g.LFG)(L)}const k=new g.OlP("Location Initialized");let L=(()=>{class i extends de{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(r){const a=V().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=V().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,c){X()?this._history.pushState(r,a,c):this.location.hash=c}replaceState(r,a,c){X()?this._history.replaceState(r,a,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(be))},i.\u0275prov=(0,g.Yz7)({factory:K,token:i,providedIn:"platform"}),i})();function X(){return!!window.history.pushState}function K(){return new L((0,g.LFG)(be))}function J(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function me(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ie(i){return i&&"?"!==i[0]?"?"+i:i}let te=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Le,token:i,providedIn:"root"}),i})();function Le(i){const n=(0,g.LFG)(be).location;return new Te((0,g.LFG)(de),n&&n.origin||"")}const Pe=new g.OlP("appBaseHref");let Te=(()=>{class i extends te{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return J(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+ie(this._platformLocation.search),c=this._platformLocation.hash;return c&&r?`${a}${c}`:a}pushState(r,a,c,h){const m=this.prepareExternalUrl(c+ie(h));this._platformLocation.pushState(r,a,m)}replaceState(r,a,c,h){const m=this.prepareExternalUrl(c+ie(h));this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(de),g.LFG(Pe,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ge=(()=>{class i extends te{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=J(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,c,h){let m=this.prepareExternalUrl(c+ie(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,a,m)}replaceState(r,a,c,h){let m=this.prepareExternalUrl(c+ie(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(de),g.LFG(Pe,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ye=(()=>{class i{constructor(r,a){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const c=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=me(Ce(c)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+ie(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Ce(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",c=null){this._platformStrategy.pushState(c,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ie(a)),c)}replaceState(r,a="",c=null){this._platformStrategy.replaceState(c,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ie(a)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformStrategy).historyGo)||void 0===c||c.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(c=>c(r,a))}subscribe(r,a,c){return this._subject.subscribe({next:r,error:a,complete:c})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(te),g.LFG(de))},i.normalizeQueryParams=ie,i.joinWithSlash=J,i.stripTrailingSlash=me,i.\u0275prov=(0,g.Yz7)({factory:Ve,token:i,providedIn:"root"}),i})();function Ve(){return new Ye((0,g.LFG)(te),(0,g.LFG)(de))}function Ce(i){return i.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Zero=0]="Zero",ye[ye.One=1]="One",ye[ye.Two=2]="Two",ye[ye.Few=3]="Few",ye[ye.Many=4]="Many",ye[ye.Other=5]="Other",ye))();const nr=g.kL8;class Ai{}let oa=(()=>{class i extends Ai{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(nr(a||this.locale)(r)){case ye.Zero:return"zero";case ye.One:return"one";case ye.Two:return"two";case ye.Few:return"few";case ye.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.soG))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),xi=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new Ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Jt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Jt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Ri{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,g.AaK)(n)}'.`)}let la=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[{provide:Ai,useClass:oa}]}),i})();function Br(i){return"server"===i}let da=(()=>{class i{}return i.\u0275prov=(0,g.Yz7)({token:i,providedIn:"root",factory:()=>new vp((0,g.LFG)(be),window)}),i})();class vp{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=a.currentNode;for(;c;){const h=c.shadowRoot;if(h){const m=h.getElementById(n)||h.querySelector(`[name="${n}"]`);if(m)return m}c=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,c=r.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(a-h[0],c-h[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=vu(this.window.history)||vu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function vu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Ns extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Ns,B||(B=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(_o=_o||document.querySelector("base"),_o?_o.getAttribute("href"):null);return null==r?null:function(i){Eu=Eu||document.createElement("a"),Eu.setAttribute("href",i);const n=Eu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){_o=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[c,h]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(c.trim()===n)return decodeURIComponent(h)}return null}(document.cookie,n)}}let Eu,_o=null;const Jd=new g.OlP("TRANSITION_ID"),Xd=[{provide:g.ip1,useFactory:function(i,n,r){return()=>{r.get(g.CZH).donePromise.then(()=>{const a=V(),c=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<c.length;h++)a.remove(c[h])})}},deps:[Jd,be,g.zs3],multi:!0}];class vn{static init(){(0,g.VLi)(new vn)}addToWindow(n){g.dqk.getAngularTestability=(a,c=!0)=>{const h=n.findTestabilityInTree(a,c);if(null==h)throw new Error("Could not find testability for element.");return h},g.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(a=>{const c=g.dqk.getAllAngularTestabilities();let h=c.length,m=!1;const w=function(D){m=m||D,h--,0==h&&a(m)};c.forEach(function(D){D.whenStable(w)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const c=n.getTestability(r);return null!=c?c:a?V().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let eh=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const ga=new g.OlP("EventManagerPlugins");let ma=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(c=>c.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,c){return this._findPluginFor(a).addEventListener(r,a,c)}addGlobalEventListener(r,a,c){return this._findPluginFor(a).addGlobalEventListener(r,a,c)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const c=this._plugins;for(let h=0;h<c.length;h++){const m=c[h];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ga),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class th{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const c=V().getGlobalEventTarget(this._doc,n);if(!c)throw new Error(`Unsupported event target ${c} for event ${r}`);return this.addEventListener(c,r,a)}}let bu=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),a.add(c))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Iu=(()=>{class i extends bu{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,c){r.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,c.push(a.appendChild(m))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(Qc),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,c)=>{this._addStylesToHost(r,c,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Qc))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(be))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function Qc(i){V().remove(i)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ft=/%COMP%/g;function ya(i,n,r){for(let a=0;a<n.length;a++){let c=n[a];Array.isArray(c)?ya(i,c,r):(c=c.replace(Ft,i),r.push(c))}return r}function nh(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let Ms=(()=>{class i{constructor(r,a,c){this.eventManager=r,this.sharedStylesHost=a,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new _a(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case g.ifc.Emulated:{let c=this.rendererByCompId.get(a.id);return c||(c=new va(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,c)),c.applyToHost(r),c}case 1:case g.ifc.ShadowDom:return new Mi(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const c=ya(a.id,a.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ma),g.LFG(Iu),g.LFG(g.AFp))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class _a{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Se[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,c){if(c){r=c+":"+r;const h=Se[c];h?n.setAttributeNS(h,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const c=Se[a];c?n.removeAttributeNS(c,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,c){c&(g.JOm.DashCase|g.JOm.Important)?n.style.setProperty(r,a,c&g.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&g.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,nh(a)):this.eventManager.addEventListener(n,r,nh(a))}}class va extends _a{constructor(n,r,a,c){super(n),this.component=a;const h=ya(c+"-"+a.id,a.styles,[]);r.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(Ft,c+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Ft,i)}(c+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class Mi extends _a{constructor(n,r,a,c){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=ya(c.id,c.styles,[]);for(let m=0;m<h.length;m++){const w=document.createElement("style");w.textContent=h[m],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Py=(()=>{class i extends th{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,c){return r.addEventListener(a,c,!1),()=>this.removeEventListener(r,a,c)}removeEventListener(r,a,c){return r.removeEventListener(a,c)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(be))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Au=["alt","control","meta","shift"],Ly={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let ns=(()=>{class i extends th{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,c){const h=i.parseEventName(a),m=i.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(r,h.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const h=i._normalizeKey(a.pop());let m="";if(Au.forEach(D=>{const A=a.indexOf(D);A>-1&&(a.splice(A,1),m+=D+".")}),m+=h,0!=a.length||0===h.length)return null;const w={};return w.domEventName=c,w.fullKey=m,w}static getEventFullKey(r){let a="",c=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Ap.hasOwnProperty(n)&&(n=Ap[n]))}return Ly[n]||n}(r);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Au.forEach(h=>{h!=c&&jr[h](r)&&(a+=h+".")}),a+=c,a}static eventCallback(r,a,c){return h=>{i.getEventFullKey(h)===r&&c.runGuarded(()=>a(h))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(be))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const jy=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){Ns.makeCurrent(),vn.init()},multi:!0},{provide:be,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Ps=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:ga,useClass:Py,multi:!0,deps:[be,g.R0b,g.Lbi]},{provide:ga,useClass:ns,multi:!0,deps:[be]},[],{provide:Ms,useClass:Ms,deps:[ma,Iu,g.AFp]},{provide:g.FYo,useExisting:Ms},{provide:bu,useExisting:Iu},{provide:Iu,useClass:Iu,deps:[be]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:ma,useClass:ma,deps:[ga,g.R0b]},{provide:class{},useClass:eh,deps:[]},[]];let nl=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:g.AFp,useValue:r.appId},{provide:Jd,useExisting:g.AFp},Xd]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(i,12))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:Ps,imports:[la,g.hGG]}),i})();"undefined"!=typeof window&&window;var tn=F(4402),it=F(5917),rs=F(9765),Ta=F(7971);class Sr extends rs.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ta.N;return this._value}next(n){super.next(this._value=n)}}var Nu=F(4869),Sa=F(9796),Ar=F(7393);class Ow extends Ar.L{notifyNext(n,r,a,c,h){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class ch extends Ar.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Pp=F(7444),ii=F(7574);function kp(i,n,r,a,c=new ch(i,r,a)){if(!c.closed)return n instanceof ii.y?n.subscribe(c):(0,Pp.s)(n)(c)}var lh=F(6693);const Fp={};class Aa{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Wy(n,this.resultSelector))}}class Wy extends Ow{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Fp),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(kp(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const c=this.values,m=this.toRespond?c[a]===Fp?--this.toRespond:this.toRespond:0;c[a]=r,0===m&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const Fs=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Es=F(3282);function Ou(...i){return(0,Es.J)(1)((0,it.of)(...i))}var mi=F(9193);function Co(i){return new ii.y(n=>{let r;try{r=i()}catch(c){return void n.error(c)}return(r?(0,tn.D)(r):(0,mi.c)()).subscribe(n)})}var xa=F(2441),mt=F(8002),is=F(5345);function kn(i,n){return"function"==typeof n?r=>r.pipe(kn((a,c)=>(0,tn.D)(i(a,c)).pipe((0,mt.U)((h,m)=>n(a,h,c,m))))):r=>r.lift(new Ls(i))}class Ls{constructor(n){this.project=n}call(n,r){return r.subscribe(new Pw(n,this.project))}}class Pw extends is.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(c){return void this.destination.error(c)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new is.IY(this),c=this.destination;c.add(a),this.innerSubscription=(0,is.ft)(n,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Vp=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function rl(i){return n=>0===i?(0,mi.c)():n.lift(new Ky(i))}class Ky{constructor(n){if(this.total=n,this.total<0)throw new Vp}call(n,r){return r.subscribe(new pn(n,this.total))}}class pn extends Ar.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function il(...i){const n=i[i.length-1];return(0,Nu.K)(n)?(i.pop(),r=>Ou(i,r,n)):r=>Ou(i,r)}function Vs(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(c){return c.lift(new kw(i,n,r))}}class kw{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new Up(n,this.accumulator,this.seed,this.hasSeed))}}class Up extends Ar.L{constructor(n,r,a,c){super(n),this.accumulator=r,this._seed=a,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(c){this.destination.error(c)}this.seed=a,this.destination.next(a)}}function Oi(i,n){return function(a){return a.lift(new Bp(i,n))}}class Bp{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new Fw(n,this.predicate,this.thisArg))}}class Fw extends Ar.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}function Us(i){return function(r){const a=new Lw(i),c=r.lift(a);return a.caught=c}}class Lw{constructor(n){this.selector=n}call(n,r){return r.subscribe(new Ra(n,this.selector,this.caught))}}class Ra extends is.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const a=new is.IY(this);this.add(a);const c=(0,is.ft)(r,a);c!==a&&this.add(c)}}}var gr=F(9773);function ws(i,n){return(0,gr.zg)(i,n,1)}function jp(i){return function(r){return 0===i?(0,mi.c)():r.lift(new Un(i))}}class Un{constructor(n){if(this.total=n,this.total<0)throw new Vp}call(n,r){return r.subscribe(new Na(n,this.total))}}class Na extends Ar.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,c=this.count++;r.length<a?r.push(n):r[c%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,c=this.ring;for(let h=0;h<a;h++){const m=r++%a;n.next(c[m])}}n.complete()}}function Ma(i=Hr){return n=>n.lift(new Vw(i))}class Vw{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new Yy(n,this.errorFactory))}}class Yy extends Ar.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function Hr(){return new Fs}function Pi(i=null){return n=>n.lift(new Oa(i))}class Oa{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new bo(n,this.defaultValue))}}class bo extends Ar.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ki=F(4487);function Io(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Oi((c,h)=>i(c,h,a)):ki.y,rl(1),r?Pi(n):Ma(()=>new Fs))}var xr=F(3342),Uw=F(1307),Qy=F(5319);class Rr{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Pu(n,this.callback))}}class Pu extends Ar.L{constructor(n,r){super(n),this.add(new Qy.w(r))}}class $r{constructor(n,r){this.id=n,this.url=r}}class al extends $r{constructor(n,r,a="imperative",c=null){super(n,r),this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Do extends $r{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hp extends $r{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jy extends $r{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dh extends $r{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xy extends $r{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e_ extends $r{constructor(n,r,a,c,h){super(n,r),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class To extends $r{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hh extends $r{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ku{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fh{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fu{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lu{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ph{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gh{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class mh{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Pa(i){return new mh(i)}const Vu="ngNavigationCancelingError";function js(i){const n=Error("NavigationCancelingError: "+i);return n[Vu]=!0,n}function $p(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const c={};for(let h=0;h<a.length;h++){const m=a[h],w=i[h];if(m.startsWith(":"))c[m.substring(1)]=w;else if(m!==w.path)return null}return{consumed:i.slice(0,a.length),posParams:c}}function Fi(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let c;for(let h=0;h<r.length;h++)if(c=r[h],!t_(i[c],n[c]))return!1;return!0}function t_(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((c,h)=>a[h]===c)}return i===n}function Hs(i){return Array.prototype.concat.apply([],i)}function $s(i){return i.length>0?i[i.length-1]:null}function Zn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function yi(i){return(0,g.CqO)(i)?i:(0,g.QGY)(i)?(0,tn.D)(Promise.resolve(i)):(0,it.of)(i)}const Cs={exact:function Gp(i,n,r){if(!So(i.segments,n.segments)||!ju(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!Gp(i.children[a],n.children[a],r))return!1;return!0},subset:ul},ss={exact:function(i,n){return Fi(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>t_(i[r],n[r]))},ignored:()=>!0};function Uu(i,n,r){return Cs[r.paths](i.root,n.root,r.matrixParams)&&ss[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function ul(i,n,r){return Bu(i,n,n.segments,r)}function Bu(i,n,r,a){if(i.segments.length>r.length){const c=i.segments.slice(0,r.length);return!(!So(c,r)||n.hasChildren()||!ju(c,r,a))}if(i.segments.length===r.length){if(!So(i.segments,r)||!ju(i.segments,r,a))return!1;for(const c in n.children)if(!i.children[c]||!ul(i.children[c],n.children[c],a))return!1;return!0}{const c=r.slice(0,i.segments.length),h=r.slice(i.segments.length);return!!(So(i.segments,c)&&ju(i.segments,c,a)&&i.children[St])&&Bu(i.children[St],n,h,a)}}function ju(i,n,r){return n.every((a,c)=>ss[r](i[c].parameters,a.parameters))}class bs{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pa(this.queryParams)),this._queryParamMap}toString(){return $w.serialize(this)}}class Lt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Zn(r,(a,c)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cl(this)}}class os{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Pa(this.parameters)),this._parameterMap}toString(){return yh(this)}}function So(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class $u{}class zp{parse(n){const r=new _(n);return new bs(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${Gu(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(c=>`${Ao(r)}=${Ao(c)}`).join("&"):`${Ao(r)}=${Ao(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const $w=new zp;function cl(i){return i.segments.map(n=>yh(n)).join("/")}function Gu(i,n){if(!i.hasChildren())return cl(i);if(n){const r=i.children[St]?Gu(i.children[St],!1):"",a=[];return Zn(i.children,(c,h)=>{h!==St&&a.push(`${h}:${Gu(c,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return Zn(i.children,(a,c)=>{c===St&&(r=r.concat(n(a,c)))}),Zn(i.children,(a,c)=>{c!==St&&(r=r.concat(n(a,c)))}),r}(i,(a,c)=>c===St?[Gu(i.children[St],!1)]:[`${c}:${Gu(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[St]?`${cl(i)}/${r[0]}`:`${cl(i)}/(${r.join("//")})`}}function ll(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ao(i){return ll(i).replace(/%3B/gi,";")}function qs(i){return ll(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zu(i){return decodeURIComponent(i)}function Wp(i){return zu(i.replace(/\+/g,"%20"))}function yh(i){return`${qs(i.path)}${function(i){return Object.keys(i).map(n=>`;${qs(n)}=${qs(i[n])}`).join("")}(i.parameters)}`}const Zp=/^[^\/()?;=#]+/;function Wu(i){const n=i.match(Zp);return n?n[0]:""}const Kp=/^[^=?&#]+/,Gw=/^[^?&#]+/;class _{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[St]=new Lt(n,r)),a}parseSegment(){const n=Wu(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new os(zu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=Wu(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const c=Wu(this.remaining);c&&(a=c,this.capture(a))}n[zu(r)]=zu(a)}parseQueryParam(n){const r=function(i){const n=i.match(Kp);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const m=function(i){const n=i.match(Gw);return n?n[0]:""}(this.remaining);m&&(a=m,this.capture(a))}const c=Wp(r),h=Wp(a);if(n.hasOwnProperty(c)){let m=n[c];Array.isArray(m)||(m=[m],n[c]=m),m.push(h)}else n[c]=h}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Wu(this.remaining),c=this.remaining[a.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let h;a.indexOf(":")>-1?(h=a.substr(0,a.indexOf(":")),this.capture(h),this.capture(":")):n&&(h=St);const m=this.parseChildren();r[h]=1===Object.keys(m).length?m[St]:new Lt([],m),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class v{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=I(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=I(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=x(n,this._root);return r.length<2?[]:r[r.length-2].children.map(c=>c.value).filter(c=>c!==n)}pathFromRoot(n){return x(n,this._root).map(r=>r.value)}}function I(i,n){if(i===n.value)return n;for(const r of n.children){const a=I(i,r);if(a)return a}return null}function x(i,n){if(i===n.value)return[n];for(const r of n.children){const a=x(i,r);if(a.length)return a.unshift(n),a}return[]}class P{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function re(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class Re extends v{constructor(n,r){super(n),this.snapshot=r,hl(this,n)}toString(){return this.snapshot.toString()}}function Ke(i,n){const r=function(i,n){const m=new Vi([],{},{},"",{},St,n,null,i.root,-1,{});return new Zu("",new P(m,[]))}(i,n),a=new Sr([new os("",{})]),c=new Sr({}),h=new Sr({}),m=new Sr({}),w=new Sr(""),D=new Ct(a,c,m,w,h,St,n,r.root);return D.snapshot=r.root,new Re(new P(D,[]),r)}class Ct{constructor(n,r,a,c,h,m,w,D){this.url=n,this.params=r,this.queryParams=a,this.fragment=c,this.data=h,this.outlet=m,this.component=w,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(n=>Pa(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(n=>Pa(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function In(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const c=r[a],h=r[a-1];if(c.routeConfig&&""===c.routeConfig.path)a--;else{if(h.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class Vi{constructor(n,r,a,c,h,m,w,D,A,R,O){this.url=n,this.params=r,this.queryParams=a,this.fragment=c,this.data=h,this.outlet=m,this.component=w,this.routeConfig=D,this._urlSegment=A,this._lastPathIndex=R,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zu extends v{constructor(n,r){super(r),this.url=n,hl(this,r)}toString(){return fl(this._root)}}function hl(i,n){n.value._routerState=i,n.children.forEach(r=>hl(i,r))}function fl(i){const n=i.children.length>0?` { ${i.children.map(fl).join(", ")} } `:"";return`${i.value}${n}`}function vh(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Fi(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Fi(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Fi(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Fi(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function pl(i,n){return Fi(i.params,n.params)&&function(i,n){return So(i,n)&&i.every((r,a)=>Fi(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||pl(i.parent,n.parent))}function Fa(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const c=function(i,n,r){return n.children.map(a=>{for(const c of r.children)if(i.shouldReuseRoute(a.value,c.value.snapshot))return Fa(i,a,c);return Fa(i,a)})}(i,n,r);return new P(a,c)}{if(i.shouldAttach(n.value)){const h=i.retrieve(n.value);if(null!==h){const m=h.route;return _i(n,m),m}}const a=function(i){return new Ct(new Sr(i.url),new Sr(i.params),new Sr(i.queryParams),new Sr(i.fragment),new Sr(i.data),i.outlet,i.component,i)}(n.value),c=n.children.map(h=>Fa(i,h));return new P(a,c)}}function _i(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)_i(i.children[r],n.children[r])}function Mo(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function gl(i){return"object"==typeof i&&null!=i&&i.outlets}function qw(i,n,r,a,c){let h={};return a&&Zn(a,(m,w)=>{h[w]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),new bs(r.root===i?n:NT(r.root,i,n),h,c)}function NT(i,n,r){const a={};return Zn(i.children,(c,h)=>{a[h]=c===n?r:NT(c,n,r)}),new Lt(i.segments,a)}class Qp{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&Mo(a[0]))throw new Error("Root segment cannot have matrix parameters");const c=a.find(gl);if(c&&c!==$s(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wh{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function Ww(i,n,r){if(i||(i=new Lt([],{})),0===i.segments.length&&i.hasChildren())return Jp(i,n,r);const a=function(i,n,r){let a=0,c=n;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(a>=r.length)return h;const m=i.segments[c],w=r[a];if(gl(w))break;const D=`${w}`,A=a<r.length-1?r[a+1]:null;if(c>0&&void 0===D)break;if(D&&A&&"object"==typeof A&&void 0===A.outlets){if(!i_(D,A,m))return h;a+=2}else{if(!i_(D,{},m))return h;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}(i,n,r),c=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const h=new Lt(i.segments.slice(0,a.pathIndex),{});return h.children[St]=new Lt(i.segments.slice(a.pathIndex),i.children),Jp(h,0,c)}return a.match&&0===c.length?new Lt(i.segments,{}):a.match&&!i.hasChildren()?r_(i,n,r):a.match?Jp(i,0,c):r_(i,n,r)}function Jp(i,n,r){if(0===r.length)return new Lt(i.segments,{});{const a=function(i){return gl(i[0])?i[0].outlets:{[St]:i}}(r),c={};return Zn(a,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(c[m]=Ww(i.children[m],n,h))}),Zn(i.children,(h,m)=>{void 0===a[m]&&(c[m]=h)}),new Lt(i.segments,c)}}function r_(i,n,r){const a=i.segments.slice(0,n);let c=0;for(;c<r.length;){const h=r[c];if(gl(h)){const D=Zw(h.outlets);return new Lt(a,D)}if(0===c&&Mo(r[0])){a.push(new os(i.segments[n].path,Ch(r[0]))),c++;continue}const m=gl(h)?h.outlets[St]:`${h}`,w=c<r.length-1?r[c+1]:null;m&&w&&Mo(w)?(a.push(new os(m,Ch(w))),c+=2):(a.push(new os(m,{})),c++)}return new Lt(a,{})}function Zw(i){const n={};return Zn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=r_(new Lt([],{}),0,r))}),n}function Ch(i){const n={};return Zn(i,(r,a)=>n[a]=`${r}`),n}function i_(i,n,r){return i==r.path&&Fi(n,r.parameters)}class OT{constructor(n,r,a,c){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=c}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),vh(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const c=re(r);n.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,c[m],a),delete c[m]}),Zn(c,(h,m)=>{this.deactivateRouteAndItsChildren(h,a)})}deactivateRoutes(n,r,a){const c=n.value,h=r?r.value:null;if(c===h)if(c.component){const m=a.getContext(c.outlet);m&&this.deactivateChildRoutes(n,r,m.children)}else this.deactivateChildRoutes(n,r,a);else h&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const c=a.outlet.detach(),h=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:h})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),c=a&&n.value.component?a.children:r,h=re(n);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],c);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const c=re(r);n.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],a),this.forwardEvent(new ph(h.value.snapshot))}),n.children.length&&this.forwardEvent(new Lu(n.value.snapshot))}activateRoutes(n,r,a){const c=n.value,h=r?r.value:null;if(vh(c),c===h)if(c.component){const m=a.getOrCreateContext(c.outlet);this.activateChildRoutes(n,r,m.children)}else this.activateChildRoutes(n,r,a);else if(c.component){const m=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const w=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),m.children.onOutletReAttached(w.contexts),m.attachRef=w.componentRef,m.route=w.route.value,m.outlet&&m.outlet.attach(w.componentRef,w.route.value),An(w.route)}else{const w=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(c.snapshot),D=w?w.module.componentFactoryResolver:null;m.attachRef=null,m.route=c,m.resolver=D,m.outlet&&m.outlet.activateWith(c,D),this.activateChildRoutes(n,null,m.children)}}else this.activateChildRoutes(n,null,a)}}function An(i){vh(i.value),i.children.forEach(An)}class o_{constructor(n,r){this.routes=n,this.module=r}}function zs(i){return"function"==typeof i}function Ku(i){return i instanceof bs}const Xp=Symbol("INITIAL_VALUE");function eg(){return kn(i=>function(...i){let n,r;return(0,Nu.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,Sa.k)(i[0])&&(i=i[0]),(0,lh.n)(i,r).lift(new Aa(n))}(i.map(n=>n.pipe(rl(1),il(Xp)))).pipe(Vs((n,r)=>{let a=!1;return r.reduce((c,h,m)=>c!==Xp?c:(h===Xp&&(a=!0),a||!1!==h&&m!==r.length-1&&!Ku(h)?c:h),n)},Xp),Oi(n=>n!==Xp),(0,mt.U)(n=>Ku(n)?n:!0===n),rl(1)))}let ml=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&g._UZ(0,"router-outlet")},directives:function(){return[E_]},encapsulation:2}),i})();function Gr(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];a_(a,Yw(n,a))}}function a_(i,n){i.children&&Gr(i.children,n)}function Yw(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function tg(i){const n=i.children&&i.children.map(tg),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==St&&(r.component=ml),r}function un(i){return i.outlet||St}function yl(i,n){const r=i.filter(a=>un(a)===n);return r.push(...i.filter(a=>un(a)!==n)),r}const ng={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function rg(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},ng):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(n.matcher||$p)(r,i,n);if(!h)return Object.assign({},ng);const m={};Zn(h.posParams,(D,A)=>{m[A]=D.path});const w=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:w,positionalParamSegments:null!==(a=h.posParams)&&void 0!==a?a:{}}}function ig(i,n,r,a,c="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>bh(i,n,a)&&un(a)!==St)}(i,r,a)){const m=new Lt(n,function(i,n,r,a){const c={};c[St]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const h of r)if(""===h.path&&un(h)!==St){const m=new Lt([],{});m._sourceSegment=i,m._segmentIndexShift=n.length,c[un(h)]=m}return c}(i,n,a,new Lt(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>bh(i,n,a))}(i,r,a)){const m=new Lt(i.segments,function(i,n,r,a,c,h){const m={};for(const w of a)if(bh(i,r,w)&&!c[un(w)]){const D=new Lt([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===h?i.segments.length:n.length,m[un(w)]=D}return Object.assign(Object.assign({},c),m)}(i,n,r,a,i.children,c));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:r}}const h=new Lt(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:r}}function bh(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function Xw(i,n,r,a){return!!(un(i)===a||a!==St&&bh(n,r,i))&&("**"===i.path||rg(n,i,r).matched)}function eC(i,n,r){return 0===n.length&&!i.children[r]}class Ih{constructor(n){this.segmentGroup=n||null}}class u_{constructor(n){this.urlTree=n}}function _l(i){return new ii.y(n=>n.error(new Ih(i)))}function c_(i){return new ii.y(n=>n.error(new u_(i)))}function jT(i){return new ii.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class sg{constructor(n,r,a,c,h){this.configLoader=r,this.urlSerializer=a,this.urlTree=c,this.config=h,this.allowRedirects=!0,this.ngModule=n.get(g.h0i)}apply(){const n=ig(this.urlTree.root,[],[],this.config).segmentGroup,r=new Lt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,St).pipe((0,mt.U)(h=>this.createUrlTree(l_(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Us(h=>{if(h instanceof u_)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Ih?this.noMatchError(h):h}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,St).pipe((0,mt.U)(c=>this.createUrlTree(l_(c),n.queryParams,n.fragment))).pipe(Us(c=>{throw c instanceof Ih?this.noMatchError(c):c}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const c=n.segments.length>0?new Lt([],{[St]:n}):n;return new bs(c,r,a)}expandSegmentGroup(n,r,a,c){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,mt.U)(h=>new Lt([],h))):this.expandSegment(n,a,r,a.segments,c,!0)}expandChildren(n,r,a){const c=[];for(const h of Object.keys(a.children))"primary"===h?c.unshift(h):c.push(h);return(0,tn.D)(c).pipe(ws(h=>{const m=a.children[h],w=yl(r,h);return this.expandSegmentGroup(n,w,m,h).pipe((0,mt.U)(D=>({segment:D,outlet:h})))}),Vs((h,m)=>(h[m.outlet]=m.segment,h),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Oi((c,h)=>i(c,h,a)):ki.y,jp(1),r?Pi(n):Ma(()=>new Fs))}())}expandSegment(n,r,a,c,h,m){return(0,tn.D)(a).pipe(ws(w=>this.expandSegmentAgainstRoute(n,r,a,w,c,h,m).pipe(Us(A=>{if(A instanceof Ih)return(0,it.of)(null);throw A}))),Io(w=>!!w),Us((w,D)=>{if(w instanceof Fs||"EmptyError"===w.name){if(eC(r,c,h))return(0,it.of)(new Lt([],{}));throw new Ih(r)}throw w}))}expandSegmentAgainstRoute(n,r,a,c,h,m,w){return Xw(c,r,h,m)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(n,r,c,h,m):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,c,h,m):_l(r):_l(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,c,h,m){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,c,m):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,c,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,c){const h=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?c_(h):this.lineralizeSegments(a,h).pipe((0,gr.zg)(m=>{const w=new Lt(m,{});return this.expandSegment(n,w,r,m,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,c,h,m){const{matched:w,consumedSegments:D,lastChild:A,positionalParamSegments:R}=rg(r,c,h);if(!w)return _l(r);const O=this.applyRedirectCommands(D,c.redirectTo,R);return c.redirectTo.startsWith("/")?c_(O):this.lineralizeSegments(c,O).pipe((0,gr.zg)(q=>this.expandSegment(n,r,a,q.concat(h.slice(A)),m,!1)))}matchSegmentAgainstRoute(n,r,a,c,h){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,it.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,mt.U)(q=>(a._loadedConfig=q,new Lt(c,{})))):(0,it.of)(new Lt(c,{}));const{matched:m,consumedSegments:w,lastChild:D}=rg(r,a,c);if(!m)return _l(r);const A=c.slice(D);return this.getChildConfig(n,a,c).pipe((0,gr.zg)(O=>{const q=O.module,Z=O.routes,{segmentGroup:ge,slicedSegments:ke}=ig(r,w,A,Z),$e=new Lt(ge.segments,ge.children);if(0===ke.length&&$e.hasChildren())return this.expandChildren(q,Z,$e).pipe((0,mt.U)(wt=>new Lt(w,wt)));if(0===Z.length&&0===ke.length)return(0,it.of)(new Lt(w,{}));const vt=un(a)===h;return this.expandSegment(q,$e,Z,ke,vt?St:h,!0).pipe((0,mt.U)(dt=>new Lt(w.concat(dt.segments),dt.children)))}))}getChildConfig(n,r,a){return r.children?(0,it.of)(new o_(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,it.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,gr.zg)(c=>{return c?this.configLoader.load(n.injector,r).pipe((0,mt.U)(h=>(r._loadedConfig=h,h))):(i=r,new ii.y(n=>n.error(js(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,it.of)(new o_([],n))}runCanLoadGuards(n,r,a){const c=r.canLoad;if(!c||0===c.length)return(0,it.of)(!0);const h=c.map(m=>{const w=n.get(m);let D;if((i=w)&&zs(i.canLoad))D=w.canLoad(r,a);else{if(!zs(w))throw new Error("Invalid CanLoad guard");D=w(r,a)}var i;return yi(D)});return(0,it.of)(h).pipe(eg(),(0,xr.b)(m=>{if(!Ku(m))return;const w=js(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw w.url=m,w}),(0,mt.U)(m=>!0===m))}lineralizeSegments(n,r){let a=[],c=r.root;for(;;){if(a=a.concat(c.segments),0===c.numberOfChildren)return(0,it.of)(a);if(c.numberOfChildren>1||!c.children[St])return jT(n.redirectTo);c=c.children[St]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,c){const h=this.createSegmentGroup(n,r.root,a,c);return new bs(h,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return Zn(n,(c,h)=>{if("string"==typeof c&&c.startsWith(":")){const w=c.substring(1);a[h]=r[w]}else a[h]=c}),a}createSegmentGroup(n,r,a,c){const h=this.createSegments(n,r.segments,a,c);let m={};return Zn(r.children,(w,D)=>{m[D]=this.createSegmentGroup(n,w,a,c)}),new Lt(h,m)}createSegments(n,r,a,c){return r.map(h=>h.path.startsWith(":")?this.findPosParam(n,h,c):this.findOrReturn(h,a))}findPosParam(n,r,a){const c=a[r.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return c}findOrReturn(n,r){let a=0;for(const c of r){if(c.path===n.path)return r.splice(a),c;a++}return n}}function l_(i){const n={};for(const a of Object.keys(i.children)){const h=l_(i.children[a]);(h.segments.length>0||h.hasChildren())&&(n[a]=h)}return function(i){if(1===i.numberOfChildren&&i.children[St]){const n=i.children[St];return new Lt(i.segments.concat(n.segments),n.children)}return i}(new Lt(i.segments,n))}class nC{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class og{constructor(n,r){this.component=n,this.route=r}}function $T(i,n,r){const a=i._root;return qr(a,n?n._root:null,r,[a.value])}function ag(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function qr(i,n,r,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=re(n);return i.children.forEach(m=>{(function(i,n,r,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,m=n?n.value:null,w=r?r.getContext(i.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const D=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!So(i.url,n.url);case"pathParamsOrQueryParamsChange":return!So(i.url,n.url)||!Fi(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pl(i,n)||!Fi(i.queryParams,n.queryParams);case"paramsChange":default:return!pl(i,n)}}(m,h,h.routeConfig.runGuardsAndResolvers);D?c.canActivateChecks.push(new nC(a)):(h.data=m.data,h._resolvedData=m._resolvedData),qr(i,n,h.component?w?w.children:null:r,a,c),D&&w&&w.outlet&&w.outlet.isActivated&&c.canDeactivateChecks.push(new og(w.outlet.component,m))}else m&&Dh(n,w,c),c.canActivateChecks.push(new nC(a)),qr(i,null,h.component?w?w.children:null:r,a,c)})(m,h[m.value.outlet],r,a.concat([m.value]),c),delete h[m.value.outlet]}),Zn(h,(m,w)=>Dh(m,r.getContext(w),c)),c}function Dh(i,n,r){const a=re(i),c=i.value;Zn(a,(h,m)=>{Dh(h,c.component?n?n.children.getContext(m):null:n,r)}),r.canDeactivateChecks.push(new og(c.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,c))}class K1{}function KT(i){return new ii.y(n=>n.error(i))}class Y1{constructor(n,r,a,c,h,m){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const n=ig(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,St);if(null===r)return null;const a=new Vi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new P(a,r),h=new Zu(this.url,c);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(n){const r=n.value,a=In(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const h of Object.keys(r.children)){const m=r.children[h],w=yl(n,h),D=this.processSegmentGroup(w,m,h);if(null===D)return null;a.push(...D)}const c=aC(a);return c.sort((n,r)=>n.value.outlet===St?-1:r.value.outlet===St?1:n.value.outlet.localeCompare(r.value.outlet)),c}processSegment(n,r,a,c){for(const h of n){const m=this.processSegmentAgainstRoute(h,r,a,c);if(null!==m)return m}return eC(r,a,c)?[]:null}processSegmentAgainstRoute(n,r,a,c){if(n.redirectTo||!Xw(n,r,a,c))return null;let h,m=[],w=[];if("**"===n.path){const Z=a.length>0?$s(a).parameters:{};h=new Vi(a,Z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,p_(n),un(n),n.component,n,wl(r),f_(r)+a.length,cg(n))}else{const Z=rg(r,n,a);if(!Z.matched)return null;m=Z.consumedSegments,w=a.slice(Z.lastChild),h=new Vi(m,Z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,p_(n),un(n),n.component,n,wl(r),f_(r)+m.length,cg(n))}const D=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:R}=ig(r,m,w,D.filter(Z=>void 0===Z.redirectTo),this.relativeLinkResolution);var i;if(0===R.length&&A.hasChildren()){const Z=this.processChildren(D,A);return null===Z?null:[new P(h,Z)]}if(0===D.length&&0===R.length)return[new P(h,[])];const O=un(n)===c,q=this.processSegment(D,A,R,O?St:c);return null===q?null:[new P(h,q)]}}function h_(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function aC(i){const n=[],r=new Set;for(const a of i){if(!h_(a)){n.push(a);continue}const c=n.find(h=>a.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...a.children),r.add(c)):n.push(a)}for(const a of r){const c=aC(a.children);n.push(new P(a.value,c))}return n.filter(a=>!r.has(a))}function wl(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function f_(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function p_(i){return i.data||{}}function cg(i){return i.resolve||{}}function lg(i){return kn(n=>{const r=i(n);return r?(0,tn.D)(r).pipe((0,mt.U)(()=>n)):(0,it.of)(n)})}class JT extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const __=new g.OlP("ROUTES");class cC{constructor(n,r,a,c){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=c}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactory(r.loadChildren).pipe((0,mt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=h.create(n);return new o_(Hs(m.injector.get(__,void 0,g.XFs.Self|g.XFs.Optional)).map(tg),m)}),Us(h=>{throw r._loader$=void 0,h}));return r._loader$=new xa.c(c,()=>new rs.xQ).pipe((0,Uw.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,tn.D)(this.loader.load(n)):yi(n()).pipe((0,gr.zg)(r=>r instanceof g.YKP?(0,it.of)(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}class XT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bl,this.attachRef=null}}class bl{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new XT,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class lC{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function v_(i){throw i}function dC(i,n,r){return n.parse("/")}function dg(i,n){return(0,it.of)(null)}const tS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class i{constructor(r,a,c,h,m,w,D,A){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=c,this.location=h,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rs.xQ,this.errorHandler=v_,this.malformedUriErrorHandler=dC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dg,afterPreactivation:dg},this.urlHandlingStrategy=new lC,this.routeReuseStrategy=new JT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(g.h0i),this.console=m.get(g.c2e);const q=m.get(g.R0b);this.isNgZoneEnabled=q instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new bs(new Lt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cC(w,D,Z=>this.triggerEvent(new ku(Z)),Z=>this.triggerEvent(new fh(Z))),this.routerState=Ke(this.currentUrlTree,this.rootComponentType),this.transitions=new Sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(Oi(c=>0!==c.id),(0,mt.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),kn(c=>{let h=!1,m=!1;return(0,it.of)(c).pipe((0,xr.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(w=>{const D=this.browserUrlTree.toString(),A=!this.navigated||w.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return Ks(w.source)&&(this.browserUrlTree=w.extractedUrl),(0,it.of)(w).pipe(kn(O=>{const q=this.transitions.getValue();return a.next(new al(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),q!==this.transitions.getValue()?mi.E:Promise.resolve(O)}),function(i,n,r,a){return kn(c=>function(i,n,r,a,c){return new sg(i,n,r,a,c).apply()}(i,n,r,c.extractedUrl,a).pipe((0,mt.U)(h=>Object.assign(Object.assign({},c),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(i,n,r,a,c){return(0,gr.zg)(h=>function(i,n,r,a,c="emptyOnly",h="legacy"){try{const m=new Y1(i,n,r,a,c,h).recognize();return null===m?KT(new K1):(0,it.of)(m)}catch(m){return KT(m)}}(i,n,h.urlAfterRedirects,r(h.urlAfterRedirects),a,c).pipe((0,mt.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xr.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const q=new dh(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);a.next(q)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:Z,source:ge,restoredState:ke,extras:$e}=w,vt=new al(q,this.serializeUrl(Z),ge,ke);a.next(vt);const Rt=Ke(Z,this.rootComponentType).snapshot;return(0,it.of)(Object.assign(Object.assign({},w),{targetSnapshot:Rt,urlAfterRedirects:Z,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),mi.E}),lg(w=>{const{targetSnapshot:D,id:A,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:Z}}=w;return this.hooks.beforePreactivation(D,{navigationId:A,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!Z})}),(0,xr.b)(w=>{const D=new Xy(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),(0,mt.U)(w=>Object.assign(Object.assign({},w),{guards:$T(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(i,n){return(0,gr.zg)(r=>{const{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:m}}=r;return 0===m.length&&0===h.length?(0,it.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,tn.D)(i).pipe((0,gr.zg)(c=>function(i,n,r,a,c){const h=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,it.of)(!0);const m=h.map(w=>{const D=ag(w,n,c);let A;if(function(i){return i&&zs(i.canDeactivate)}(D))A=yi(D.canDeactivate(i,n,r,a));else{if(!zs(D))throw new Error("Invalid CanDeactivate guard");A=yi(D(i,n,r,a))}return A.pipe(Io())});return(0,it.of)(m).pipe(eg())}(c.component,c.route,r,n,a)),Io(c=>!0!==c,!0))}(m,a,c,i).pipe((0,gr.zg)(w=>w&&function(i){return"boolean"==typeof i}(w)?function(i,n,r,a){return(0,tn.D)(n).pipe(ws(c=>Ou(function(i,n){return null!==i&&n&&n(new Fu(i)),(0,it.of)(!0)}(c.route.parent,a),function(i,n){return null!==i&&n&&n(new Bs(i)),(0,it.of)(!0)}(c.route,a),function(i,n,r){const a=n[n.length-1],h=n.slice(0,n.length-1).reverse().map(m=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(m)).filter(m=>null!==m).map(m=>Co(()=>{const w=m.guards.map(D=>{const A=ag(D,m.node,r);let R;if(function(i){return i&&zs(i.canActivateChild)}(A))R=yi(A.canActivateChild(a,i));else{if(!zs(A))throw new Error("Invalid CanActivateChild guard");R=yi(A(a,i))}return R.pipe(Io())});return(0,it.of)(w).pipe(eg())}));return(0,it.of)(h).pipe(eg())}(i,c.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,it.of)(!0);const c=a.map(h=>Co(()=>{const m=ag(h,n,r);let w;if(function(i){return i&&zs(i.canActivate)}(m))w=yi(m.canActivate(n,i));else{if(!zs(m))throw new Error("Invalid CanActivate guard");w=yi(m(n,i))}return w.pipe(Io())}));return(0,it.of)(c).pipe(eg())}(i,c.route,r))),Io(c=>!0!==c,!0))}(a,h,i,n):(0,it.of)(w)),(0,mt.U)(w=>Object.assign(Object.assign({},r),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,xr.b)(w=>{if(Ku(w.guardsResult)){const A=js(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw A.url=w.guardsResult,A}const D=new e_(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(D)}),Oi(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),lg(w=>{if(w.guards.canActivateChecks.length)return(0,it.of)(w).pipe((0,xr.b)(D=>{const A=new To(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}),kn(D=>{let A=!1;return(0,it.of)(D).pipe(function(i,n){return(0,gr.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:c}}=r;if(!c.length)return(0,it.of)(r);let h=0;return(0,tn.D)(c).pipe(ws(m=>function(i,n,r,a){return function(i,n,r,a){const c=Object.keys(i);if(0===c.length)return(0,it.of)({});const h={};return(0,tn.D)(c).pipe((0,gr.zg)(m=>function(i,n,r,a){const c=ag(i,n,a);return yi(c.resolve?c.resolve(n,r):c(n,r))}(i[m],n,r,a).pipe((0,xr.b)(w=>{h[m]=w}))),jp(1),(0,gr.zg)(()=>Object.keys(h).length===c.length?(0,it.of)(h):mi.E))}(i._resolve,i,n,a).pipe((0,mt.U)(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),In(i,r).resolve),null)))}(m.route,a,i,n)),(0,xr.b)(()=>h++),jp(1),(0,gr.zg)(m=>h===c.length?(0,it.of)(r):mi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xr.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,xr.b)(D=>{const A=new hh(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}))}),lg(w=>{const{targetSnapshot:D,id:A,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:Z}}=w;return this.hooks.afterPreactivation(D,{navigationId:A,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!Z})}),(0,mt.U)(w=>{const D=function(i,n,r){const a=Fa(i,n._root,r?r._root:void 0);return new Re(a,n)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:D})}),(0,xr.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((i,n,r)=>(0,mt.U)(a=>(new OT(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,xr.b)({next(){h=!0},complete(){h=!0}}),function(i){return n=>n.lift(new Rr(i))}(()=>{if(!h&&!m){const w=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,w)):this.cancelNavigationTransition(c,w)}this.currentNavigation=null}),Us(w=>{if(m=!0,function(i){return i&&i[Vu]}(w)){const D=Ku(w.url);D||(this.navigated=!0,this.restoreHistory(c,!0));const A=new Hp(c.id,this.serializeUrl(c.extractedUrl),w.message);a.next(A),D?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),O={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ks(c.source)};this.scheduleNavigation(R,"imperative",null,O,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const D=new Jy(c.id,this.serializeUrl(c.extractedUrl),w);a.next(D);try{c.resolve(this.errorHandler(w))}catch(A){c.reject(A)}}return mi.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:c,state:h,urlTree:m}=a,w={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(w.state=D)}this.scheduleNavigation(m,c,h,w)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const c=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!c||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){Gr(r),this.config=r.map(tg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:c,queryParams:h,fragment:m,queryParamsHandling:w,preserveFragment:D}=a,A=c||this.routerState.root,R=D?this.currentUrlTree.fragment:m;let O=null;switch(w){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=h||null}return null!==O&&(O=this.removeEmptyProps(O)),function(i,n,r,a,c){if(0===r.length)return qw(n.root,n.root,n,a,c);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Qp(!0,0,i);let n=0,r=!1;const a=i.reduce((c,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const w={};return Zn(h.outlets,(D,A)=>{w[A]="string"==typeof D?D.split("/"):D}),[...c,{outlets:w}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===m?(h.split("/").forEach((w,D)=>{0==D&&"."===w||(0==D&&""===w?r=!0:".."===w?n++:""!=w&&c.push(w))}),c):[...c,h]},[]);return new Qp(r,n,a)}(r);if(h.toRoot())return qw(n.root,new Lt([],{}),n,a,c);const m=function(i,n,r){if(i.isAbsolute)return new wh(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const h=r.snapshot._urlSegment;return new wh(h,h===n.root,0)}const a=Mo(i.commands[0])?0:1;return function(i,n,r){let a=i,c=n,h=r;for(;h>c;){if(h-=c,a=a.parent,!a)throw new Error("Invalid number of '../'");c=a.segments.length}return new wh(a,!1,c-h)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(h,n,i),w=m.processChildren?Jp(m.segmentGroup,m.index,h.commands):Ww(m.segmentGroup,m.index,h.commands);return qw(m.segmentGroup,w,n,a,c)}(A,this.currentUrlTree,r,O,null!=R?R:null)}navigateByUrl(r,a={skipLocationChange:!1}){const c=Ku(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,r)}return a}isActive(r,a){let c;if(c=!0===a?Object.assign({},tS):!1===a?Object.assign({},nS):a,Ku(r))return Uu(this.currentUrlTree,r,c);const h=this.parseUrl(r);return Uu(this.currentUrlTree,h,c)}removeEmptyProps(r){return Object.keys(r).reduce((a,c)=>{const h=r[c];return null!=h&&(a[c]=h),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Do(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,c,h,m){var w,D;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),R=Ks(a)&&A&&!Ks(A.source),Z=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===r.toString();if(R&&Z)return Promise.resolve(!0);let ge,ke,$e;m?(ge=m.resolve,ke=m.reject,$e=m.promise):$e=new Promise((dt,wt)=>{ge=dt,ke=wt});const vt=++this.navigationId;let Rt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Rt=c&&c.\u0275routerPageId?c.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Rt=0,this.setTransition({id:vt,targetPageId:Rt,source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:h,resolve:ge,reject:ke,promise:$e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$e.catch(dt=>Promise.reject(dt))}setBrowserUrl(r,a){const c=this.urlSerializer.serialize(r),h=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl?this.location.replaceState(c,"",h):this.location.go(c,"",h)}restoreHistory(r,a=!1){var c,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const c=new Hp(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(c),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.DyG),g.LFG($u),g.LFG(bl),g.LFG(Ye),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function Ks(i){return"imperative"!==i}let E_=(()=>{class i{constructor(r,a,c,h,m){this.parentContexts=r,this.location=a,this.resolver=c,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=h||St,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,D=new fC(r,w,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(bl),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},i.\u0275dir=g.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class fC{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===Ct?this.route:n===bl?this.childContexts:this.parent.get(n,r)}}class w_{}class b_{preload(n,r){return(0,it.of)(null)}}let Th=(()=>{class i{constructor(r,a,c,h,m){this.router=r,this.injector=h,this.preloadingStrategy=m,this.loader=new cC(a,c,A=>r.triggerEvent(new ku(A)),A=>r.triggerEvent(new fh(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(r=>r instanceof Do),ws(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(g.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const c=[];for(const h of a)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;c.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?c.push(this.preloadConfig(r,h)):h.children&&c.push(this.processRoutes(r,h.children));return(0,tn.D)(c).pipe((0,Es.J)(),(0,mt.U)(h=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,it.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,gr.zg)(h=>(a._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(si),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(w_))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Dl=(()=>{class i{constructor(r,a,c={}){this.router=r,this.viewportScroller=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof al?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Do&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof gh&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new gh(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(si),g.LFG(da),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Oo=new g.OlP("ROUTER_CONFIGURATION"),I_=new g.OlP("ROUTER_FORROOT_GUARD"),Sh=[Ye,{provide:$u,useClass:zp},{provide:si,useFactory:function(i,n,r,a,c,h,m,w={},D,A){const R=new si(null,i,n,r,a,c,h,Hs(m));return D&&(R.urlHandlingStrategy=D),A&&(R.routeReuseStrategy=A),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(w,R),w.enableTracing&&R.events.subscribe(O=>{var q,Z;null===(q=console.group)||void 0===q||q.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(Z=console.groupEnd)||void 0===Z||Z.call(console)}),R},deps:[$u,bl,Ye,g.zs3,g.v3s,g.Sil,__,Oo,[class{},new g.FiY],[class{},new g.FiY]]},bl,{provide:Ct,useFactory:function(i){return i.routerState.root},deps:[si]},{provide:g.v3s,useClass:g.EAV},Th,b_,class{preload(n,r){return r().pipe(Us(()=>(0,it.of)(null)))}},{provide:Oo,useValue:{enableTracing:!1}}];function sS(){return new g.PXZ("Router",si)}let T_=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[Sh,gg(r),{provide:I_,useFactory:pC,deps:[[si,new g.FiY,new g.tp0]]},{provide:Oo,useValue:a||{}},{provide:te,useFactory:aS,deps:[de,[new g.tBr(Pe),new g.FiY],Oo]},{provide:Dl,useFactory:oS,deps:[si,da,Oo]},{provide:w_,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:b_},{provide:g.PXZ,multi:!0,useFactory:sS},[S_,{provide:g.ip1,multi:!0,useFactory:yC,deps:[S_]},{provide:_C,useFactory:uS,deps:[S_]},{provide:g.tb,multi:!0,useExisting:_C}]]}}static forChild(r){return{ngModule:i,providers:[gg(r)]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(I_,8),g.LFG(si,8))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();function oS(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new Dl(i,n,r)}function aS(i,n,r={}){return r.useHash?new Ge(i,n):new Te(i,n)}function pC(i){return"guarded"}function gg(i){return[{provide:g.deG,multi:!0,useValue:i},{provide:__,multi:!0,useValue:i}]}let S_=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rs.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const c=new Promise(w=>a=w),h=this.injector.get(si),m=this.injector.get(Oo);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),a(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,it.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),h.initialNavigation()):a(!0),c})}bootstrapListener(r){const a=this.injector.get(Oo),c=this.injector.get(Th),h=this.injector.get(Dl),m=this.injector.get(si),w=this.injector.get(g.z2F);r===w.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&m.initialNavigation(),c.setUpPreloading(),h.init(),m.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function yC(i){return i.appInitializer.bind(i)}function uS(i){return i.bootstrapListener.bind(i)}const _C=new g.OlP("Router Initializer"),vC=[];let cS=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[T_.forRoot(vC)],T_]}),i})();var lS=F(1555);function mg(i,n){return new ii.y(r=>{const a=i.length;if(0===a)return void r.complete();const c=new Array(a);let h=0,m=0;for(let w=0;w<a;w++){const D=(0,tn.D)(i[w]);let A=!1;r.add(D.subscribe({next:R=>{A||(A=!0,m++),c[w]=R},error:R=>r.error(R),complete:()=>{h++,(h===a||!A)&&(m===a&&r.next(n?n.reduce((R,O,q)=>(R[O]=c[q],R),{}):c),r.complete())}}))}})}let A_=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i}),i})(),Yu=(()=>{class i extends A_{}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();const as=new g.OlP("NgValueAccessor"),EC={provide:as,useExisting:(0,g.Gpc)(()=>Nr),multi:!0},yg=new g.OlP("CompositionEventMode");let Nr=(()=>{class i extends A_{constructor(r,a,c){super(r,a),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=V()?V().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(yg,8))},i.\u0275dir=g.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&g.NdJ("input",function(h){return a._handleInput(h.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(h){return a._compositionEnd(h.target.value)})},features:[g._Bn([EC]),g.qOj]}),i})();function Po(i){return null==i||0===i.length}const mr=new g.OlP("NgValidators"),zr=new g.OlP("NgAsyncValidators");function Qu(i){return null}function bC(i){return null!=i}function N_(i){const n=(0,g.QGY)(i)?(0,tn.D)(i):i;return(0,g.CqO)(n),n}function mS(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function IC(i,n){return n.map(r=>r(i))}function M_(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function P_(i){return null!=i?function(i){if(!i)return null;const n=i.filter(bC);return 0==n.length?null:function(r){return mS(IC(r,n))}}(M_(i)):null}function DC(i){return null!=i?function(i){if(!i)return null;const n=i.filter(bC);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,Sa.k)(n))return mg(n,null);if((0,lS.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return mg(r.map(a=>n[a]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return mg(i=1===i.length&&(0,Sa.k)(i[0])?i[0]:i,null).pipe((0,mt.U)(r=>n(...r)))}return mg(i,null)}(IC(r,n).map(N_)).pipe((0,mt.U)(mS))}}(M_(i)):null}function yS(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function TC(i){return i?Array.isArray(i)?i:[i]:[]}function k_(i,n){return Array.isArray(i)?i.includes(n):i===n}function ES(i,n){const r=TC(n);return TC(i).forEach(c=>{k_(r,c)||r.push(c)}),r}function wS(i,n){return TC(n).filter(r=>!k_(i,r))}let CS=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=P_(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=DC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i}),i})(),vi=(()=>{class i extends CS{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();class La extends CS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ko{constructor(n){this._cd=n}is(n){var r,a,c;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(c=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===c?void 0:c[n])}}let Tl=(()=>{class i extends ko{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(La,2))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&g.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[g.qOj]}),i})(),Rh=(()=>{class i extends ko{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(vi,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){2&r&&g.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))("ng-submitted",a.is("submitted"))},features:[g.qOj]}),i})();function Js(i,n){Ua(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&bg(i,n)})}(i,n),function(i,n){const r=(a,c)=>{n.valueAccessor.writeValue(a),c&&n.viewToModelUpdate(a)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&bg(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Fo(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Ua(i,n){const r=function(i){return i._rawValidators}(i);null!==n.validator?i.setValidators(yS(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const a=function(i){return i._rawAsyncValidators}(i);null!==n.asyncValidator?i.setAsyncValidators(yS(a,n.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const c=()=>i.updateValueAndValidity();Fo(n._rawValidators,c),Fo(n._rawAsyncValidators,c)}function bg(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Mh(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const Oh="VALID",Wr="INVALID",xl="PENDING",Ph="DISABLED";function kC(i){return(kh(i)?i.validators:i)||null}function B_(i){return Array.isArray(i)?P_(i):i||null}function FC(i,n){return(kh(n)?n.asyncValidators:i)||null}function LC(i){return Array.isArray(i)?DC(i):i||null}function kh(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Dg{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=B_(this._rawValidators),this._composedAsyncValidatorFn=LC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Oh}get invalid(){return this.status===Wr}get pending(){return this.status==xl}get disabled(){return this.status===Ph}get enabled(){return this.status!==Ph}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=B_(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=LC(n)}addValidators(n){this.setValidators(ES(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ES(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(wS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(wS(n,this._rawAsyncValidators))}hasValidator(n){return k_(this._rawValidators,n)}hasAsyncValidator(n){return k_(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=xl,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Ph,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Oh,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oh||this.status===xl)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ph:Oh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=xl,this._hasOwnPendingAsyncValidator=!0;const r=N_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let a=i;return n.forEach(c=>{a=a instanceof j_?a.controls.hasOwnProperty(c)?a.controls[c]:null:a instanceof TS&&a.at(c)||null}),a}(this,n)}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Ph:this.errors?Wr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xl)?xl:this._anyControlsHaveStatus(Wr)?Wr:Oh}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){kh(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Tg extends Dg{constructor(n=null,r,a){super(kC(r),FC(a,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Mh(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Mh(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class j_ extends Dg{constructor(n,r,a){super(kC(r),FC(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,c)=>{a.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=r instanceof Tg?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((c,h)=>{a=r(a,c,h)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class TS extends Dg{constructor(n,r,a){super(kC(r),FC(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((a,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,c)=>{this.at(c)&&this.at(c).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,c)=>{a.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof Tg?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const VC={provide:vi,useExisting:(0,g.Gpc)(()=>Fh)},Rl=(()=>Promise.resolve(null))();let Fh=(()=>{class i extends vi{constructor(r,a){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new g.vpe,this.form=new j_({},P_(r),DC(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Rl.then(()=>{const a=this._findContainer(r.path);r.control=a.registerControl(r.name,r.control),Js(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Rl.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name),Mh(this._directives,r)})}addFormGroup(r){Rl.then(()=>{const a=this._findContainer(r.path),c=new j_({});(function(i,n){Ua(i,n)})(c,r),a.registerControl(r.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Rl.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,a){Rl.then(()=>{this.form.get(r.path).setValue(a)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function(i,n){i._syncPendingControls(),n.forEach(r=>{const a=r.control;"submit"===a.updateOn&&a._pendingChange&&(r.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(mr,10),g.Y36(zr,10))},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,a){1&r&&g.NdJ("submit",function(h){return a.onSubmit(h)})("reset",function(){return a.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([VC]),g.qOj]}),i})();const xS={provide:La,useExisting:(0,g.Gpc)(()=>Nl)},$_=(()=>Promise.resolve(null))();let Nl=(()=>{class i extends La{constructor(r,a,c,h){super(),this.control=new Tg,this._registered=!1,this.update=new g.vpe,this._parent=r,this._setValidators(a),this._setAsyncValidators(c),this.valueAccessor=function(i,n){if(!n)return null;let r,a,c;return Array.isArray(n),n.forEach(h=>{h.constructor===Nr?r=h:function(i){return Object.getPrototypeOf(i.constructor)===Yu}(h)?a=h:c=h}),c||a||r||null}(0,h)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Js(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){$_.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const a=r.isDisabled.currentValue,c=""===a||a&&"false"!==a;$_.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(vi,9),g.Y36(mr,10),g.Y36(zr,10),g.Y36(as,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([xS]),g.qOj,g.TTD]}),i})(),G_=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Lh=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();const xg=new g.OlP("NgModelWithFormControlWarning");const JC={provide:mr,useExisting:(0,g.Gpc)(()=>Ju),multi:!0};let Ju=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?function(i){return Po(i.value)?{required:!0}:null}(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,a){2&r&&g.uIk("required",a.required?"":null)},inputs:{required:"required"},features:[g._Bn([JC])]}),i})();const VS={provide:mr,useExisting:(0,g.Gpc)(()=>Y_),multi:!0};let Y_=(()=>{class i{constructor(){this._validator=Qu}ngOnChanges(r){"minlength"in r&&(this._createValidator(),this._onChange&&this._onChange())}validate(r){return this.enabled()?this._validator(r):null}registerOnValidatorChange(r){this._onChange=r}_createValidator(){this._validator=this.enabled()?function(i){return n=>Po(n.value)||!function(i){return null!=i&&"number"==typeof i.length}(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(function(i){return"number"==typeof i?i:parseInt(i,10)}(this.minlength)):Qu}enabled(){return null!=this.minlength}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,a){2&r&&g.uIk("minlength",a.enabled()?a.minlength:null)},inputs:{minlength:"minlength"},features:[g._Bn([VS]),g.TTD]}),i})(),jS=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[Lh]]}),i})(),Vo=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[jS]}),i})(),Q_=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:xg,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[jS]}),i})();const ib=["captchaWrapperElem"];let kl=(()=>{class i{constructor(r){this.zone=r,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(r,a,c,h){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{c(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(c.bind(this,window[this.windowGrecaptcha]));const m=document.createElement("script");m.innerHTML="",m.src=this.getCaptchaScriptUrl(r,a,h),m.async=!0,m.defer=!0,document.getElementsByTagName("head")[0].appendChild(m)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(r){return r?`&hl=${r}`:""}getCaptchaScriptUrl(r,a,c){return`https://www.${r?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${a}${this.getLanguageParam(c)}`}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),J_=(()=>{class i{constructor(r,a,c,h){this.renderer=r,this.zone=a,this.injector=c,this.scriptService=h,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.type="image",this.tabIndex=0,this.success=new g.vpe,this.load=new g.vpe,this.reset=new g.vpe,this.ready=new g.vpe,this.error=new g.vpe,this.expire=new g.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.isLoaded=!1}ngAfterViewInit(){var r;this.control=null===(r=this.injector.get(La,void 0,g.XFs.Optional))||void 0===r?void 0:r.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(r){r&&r.hl&&!r.hl.firstChange&&r.hl.currentValue!==r.hl.previousValue&&this.scriptService.cleanup(),r&&r.useGlobalDomain&&!r.useGlobalDomain.firstChange&&r.useGlobalDomain.currentValue!==r.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(r){const a=document.getElementById(r);if(!a)throw Error(`Captcha element with id '${r}' was not found`);this.captchaElem=a}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(r){this.currentResponse=r,this.success.next(r),this.zone.run(()=>{this.onChange(r),this.onTouched(r)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript(this.useGlobalDomain,"explicit",r=>{this.onloadCallback(r)},this.hl)}onloadCallback(r){if(this.reCaptchaApi=r,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const r=this.renderer.createElement("div");r.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,r),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(r){}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.R0b),g.Y36(g.zs3),g.Y36(kl))},i.\u0275dir=g.lG2({type:i,inputs:{useGlobalDomain:"useGlobalDomain",type:"type",tabIndex:"tabIndex",siteKey:"siteKey",hl:"hl"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[g.TTD]}),i})();var Fl=(()=>{return(i=Fl||(Fl={}))[i.InvisibleReCaptcha=0]="InvisibleReCaptcha",i[i.ReCaptcha2=1]="ReCaptcha2",Fl;var i})();let sb=(()=>{class i extends J_{constructor(r,a,c,h){super(r,a,c,h),this.renderer=r,this.zone=a,this.injector=c,this.scriptService=h,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=Fl.ReCaptcha2}ngOnChanges(r){super.ngOnChanges(r)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:r=>this.zone.run(()=>this.handleCallback(r)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.R0b),g.Y36(g.zs3),g.Y36(kl))},i.\u0275cmp=g.Xpm({type:i,selectors:[["ngx-recaptcha2"]],viewQuery:function(r,a){if(1&r&&g.Gf(ib,5),2&r){let c;g.iGM(c=g.CRH())&&(a.captchaWrapperElem=c.first)}},inputs:{theme:"theme",size:"size",hl:"hl"},features:[g._Bn([{provide:as,useExisting:(0,g.Gpc)(()=>i),multi:!0}]),g.qOj,g.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(r,a){1&r&&g._UZ(0,"div",null,0)},encapsulation:2}),i})(),$S=(()=>{class i{constructor(r,a){this.scriptService=r,this.zone=a}execute(r,a,c,h,m){this.executeAsPromise(r,a,h).then(c).catch(w=>m?m(w):console.error(w))}executeAsPromise(r,a,c){return new Promise((h,m)=>{this.scriptService.registerCaptchaScript(!(!c||!c.useGlobalDomain),r,A=>{this.zone.runOutsideAngular(()=>{try{A.execute(r,{action:a}).then(R=>this.zone.run(()=>h(R)))}catch(R){m(R)}})})})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(kl),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Bh=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[kl,$S],imports:[[la]]}),i})();var Ei=F(8939),ob=F(6682),Ll=F(309),ab=F(7771),ub=F(8858);class GS extends rs.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new qS(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,h=a.length;let m;if(this.closed)throw new Ta.N;if(this.isStopped||this.hasError?m=Qy.w.EMPTY:(this.observers.push(n),m=new ub.W(this,n)),c&&n.add(n=new Ll.ht(n,c)),r)for(let w=0;w<h&&!n.closed;w++)n.next(a[w]);else for(let w=0;w<h&&!n.closed;w++)n.next(a[w].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),m}_getNow(){return(this.scheduler||ab.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,c=this._events,h=c.length;let m=0;for(;m<h&&!(n-c[m].time<a);)m++;return h>r&&(m=Math.max(m,h-r)),m>0&&c.splice(0,m),c}}class qS{constructor(n,r){this.time=n,this.value=r}}function cb(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},c=>c.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let c,m,h=0,w=!1,D=!1;return function(R){let O;h++,!c||w?(w=!1,c=new GS(i,n,a),O=c.subscribe(this),m=R.subscribe({next(q){c.next(q)},error(q){w=!0,c.error(q)},complete(){D=!0,m=void 0,c.complete()}}),D&&(m=void 0)):O=c.subscribe(this),this.add(()=>{h--,O.unsubscribe(),O=void 0,m&&!D&&r&&0===h&&(m.unsubscribe(),m=void 0,c=void 0)})}}(a))}function X_(i,n){return n?kn(()=>i,n):kn(()=>i)}var lb=F(3101),gn=F(9126),ev=F(7841);const ZS=new g.OlP("angularfire2.auth.use-emulator"),KS=new g.OlP("angularfire2.auth.settings"),Pg=new g.OlP("angularfire2.auth.tenant-id"),db=new g.OlP("angularfire2.auth.langugage-code"),tv=new g.OlP("angularfire2.auth.use-device-language"),nv=new g.OlP("angularfire.auth.persistence"),YS=(i,n,r,a,c,h,m,w)=>(0,gn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=n.runOutsideAngular(()=>i.auth());if(r&&D.useEmulator(...r),a&&(D.tenantId=a),D.languageCode=c,h&&D.useDeviceLanguage(),m)for(const[A,R]of Object.entries(m))D.settings[A]=R;return w&&D.setPersistence(w),D},[r,a,c,h,m,w]);let wi=(()=>{class i{constructor(r,a,c,h,m,w,D,A,R,O,q){const Z=new rs.xQ,ge=(0,it.of)(void 0).pipe((0,Ll.QV)(m.outsideAngular),kn(()=>h.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,mt.U)(()=>(0,Ei.on)(r,h,a)),(0,mt.U)(ke=>YS(ke,h,w,A,R,O,D,q)),cb({bufferSize:1,refCount:!1}));if(Br(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{ge.pipe(Io()).subscribe();const $e=ge.pipe(kn(dt=>dt.getRedirectResult().then(wt=>wt,()=>null)),gn.iC,cb({bufferSize:1,refCount:!1})),vt=ge.pipe(kn(dt=>new ii.y(wt=>({unsubscribe:h.runOutsideAngular(()=>dt.onAuthStateChanged($n=>wt.next($n),$n=>wt.error($n),()=>wt.complete()))})))),Rt=ge.pipe(kn(dt=>new ii.y(wt=>({unsubscribe:h.runOutsideAngular(()=>dt.onIdTokenChanged($n=>wt.next($n),$n=>wt.error($n),()=>wt.complete()))}))));this.authState=$e.pipe(X_(vt),(0,lb.R)(m.outsideAngular),(0,Ll.QV)(m.insideAngular)),this.user=$e.pipe(X_(Rt),(0,lb.R)(m.outsideAngular),(0,Ll.QV)(m.insideAngular)),this.idToken=this.user.pipe(kn(dt=>dt?(0,tn.D)(dt.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(kn(dt=>dt?(0,tn.D)(dt.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,ob.T)($e,Z,this.authState.pipe(Oi(dt=>!dt))).pipe((0,mt.U)(dt=>(null==dt?void 0:dt.user)?dt:null),(0,lb.R)(m.outsideAngular),(0,Ll.QV)(m.insideAngular))}return(0,Ei.pX)(this,ge,h,{spy:{apply:(ke,$e,vt)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&vt.then(Rt=>Z.next(Rt))}}})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Ei.Dh),g.LFG(Ei.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(gn.HU),g.LFG(ZS,8),g.LFG(KS,8),g.LFG(Pg,8),g.LFG(db,8),g.LFG(tv,8),g.LFG(nv,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),pR=(()=>{class i{constructor(){ev.Z.registerVersion("angularfire",gn.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[wi]}),i})();var QS=F(3637);function hb(){return i=>i.lift(new fb)}class fb{call(n,r){return r.subscribe(new pb(n))}}class pb extends Ar.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class JS{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new gR(n,this.compare,this.keySelector))}}class gR extends Ar.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:c}=this;r=c?c(n):n}catch(c){return this.destination.error(c)}let a=!1;if(this.hasKey)try{const{compare:c}=this;a=c(this.key,r)}catch(c){return this.destination.error(c)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}F(4828);var Ze,kg=F(4486),Ee=F(8239),Ba=F(5452),Fg=F(6034),ec=F(5601),At=F(3854),eA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Uo={},Vl=Vl||{},ht=eA||self;function jh(){}function Ui(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Bo(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var rv="closure_uid_"+(1e9*Math.random()>>>0),iv=0;function eo(i,n,r){return i.call.apply(i.bind,arguments)}function Hh(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),i.apply(n,c)}}return function(){return i.apply(n,arguments)}}function Qt(i,n,r){return(Qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eo:Hh).apply(null,arguments)}function to(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Kn(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,c,h){for(var m=Array(arguments.length-2),w=2;w<arguments.length;w++)m[w-2]=arguments[w];return n.prototype[c].apply(a,m)}}function ar(){this.s=this.s,this.o=this.o}var Ul={};ar.prototype.s=!1,ar.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,rv)&&i[rv]||(i[rv]=++iv)}(this);delete Ul[i]}},ar.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tc=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},nc=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const a=i.length,c="string"==typeof i?i.split(""):i;for(let h=0;h<a;h++)h in c&&n.call(r,c[h],h,i)};function rc(i){return Array.prototype.concat.apply([],arguments)}function ja(i){const n=i.length;if(0<n){const r=Array(n);for(let a=0;a<n;a++)r[a]=i[a];return r}return[]}function jo(i){return/^[\s\xa0]*$/.test(i)}var Zr,ic=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Yn(i,n){return-1!=i.indexOf(n)}function Lg(i,n){return i<n?-1:i>n?1:0}e:{var ov=ht.navigator;if(ov){var av=ov.userAgent;if(av){Zr=av;break e}}Zr=""}function Vg(i,n,r){for(const a in i)n.call(r,i[a],a,i)}function uv(i){const n={};for(const r in i)n[r]=i[r];return n}var cv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lv(i,n){let r,a;for(let c=1;c<arguments.length;c++){for(r in a=arguments[c],a)i[r]=a[r];for(let h=0;h<cv.length;h++)r=cv[h],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function Ug(i){return Ug[" "](i),i}Ug[" "]=jh;var $h,i,mb=Yn(Zr,"Opera"),jl=Yn(Zr,"Trident")||Yn(Zr,"MSIE"),dv=Yn(Zr,"Edge"),Bg=dv||jl,yb=Yn(Zr,"Gecko")&&!(Yn(Zr.toLowerCase(),"webkit")&&!Yn(Zr,"Edge"))&&!(Yn(Zr,"Trident")||Yn(Zr,"MSIE"))&&!Yn(Zr,"Edge"),mR=Yn(Zr.toLowerCase(),"webkit")&&!Yn(Zr,"Edge");function _b(){var i=ht.document;return i?i.documentMode:void 0}e:{var hv="",jg=(i=Zr,yb?/rv:([^\);]+)(\)|;)/.exec(i):dv?/Edge\/([\d\.]+)/.exec(i):jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):mR?/WebKit\/(\S+)/.exec(i):mb?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(jg&&(hv=jg?jg[1]:""),jl){var fv=_b();if(null!=fv&&fv>parseFloat(hv)){$h=String(fv);break e}}$h=hv}var rA={};function yR(){return n=rA,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=ic(String($h)).split("."),r=ic("9").split("."),a=Math.max(n.length,r.length);for(let m=0;0==i&&m<a;m++){var c=n[m]||"",h=r[m]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==c[0].length&&0==h[0].length)break;i=Lg(0==c[1].length?0:parseInt(c[1],10),0==h[1].length?0:parseInt(h[1],10))||Lg(0==c[2].length,0==h[2].length)||Lg(c[2],h[2]),c=c[3],h=h[3]}while(0==i)}return 0<=i}();var n}var _R=ht.document&&jl&&(_b()||parseInt($h,10))||void 0,vR=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ht.addEventListener("test",jh,n),ht.removeEventListener("test",jh,n)}catch(r){}return i}();function oi(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function Gh(i,n){if(oi.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(yb){e:{try{Ug(n.nodeName);var c=!0;break e}catch(h){}c=!1}c||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ER[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Gh.Z.h.call(this)}}oi.prototype.h=function(){this.defaultPrevented=!0},Kn(Gh,oi);var ER={2:"touch",3:"pen",4:"mouse"};Gh.prototype.h=function(){Gh.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var qh="closure_listenable_"+(1e6*Math.random()|0),iA=0;function mv(i,n,r,a,c){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=c,this.key=++iA,this.ca=this.fa=!1}function Hl(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Hg(i){this.src=i,this.g={},this.h=0}function vb(i,n){var r=n.type;if(r in i.g){var h,a=i.g[r],c=tc(a,n);(h=0<=c)&&Array.prototype.splice.call(a,c,1),h&&(Hl(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Eb(i,n,r,a){for(var c=0;c<i.length;++c){var h=i[c];if(!h.ca&&h.listener==n&&h.capture==!!r&&h.ia==a)return c}return-1}Hg.prototype.add=function(i,n,r,a,c){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var m=Eb(i,n,a,c);return-1<m?(n=i[m],r||(n.fa=!1)):((n=new mv(n,this.src,h,!!a,c)).fa=r,i.push(n)),n};var wb="closure_lm_"+(1e6*Math.random()|0),yv={};function _v(i,n,r,a,c){if(a&&a.once)return sc(i,n,r,a,c);if(Array.isArray(n)){for(var h=0;h<n.length;h++)_v(i,n[h],r,a,c);return null}return r=Gg(r),i&&i[qh]?i.N(n,r,Bo(a)?!!a.capture:!!a,c):sA(i,n,r,!1,a,c)}function sA(i,n,r,a,c,h){if(!n)throw Error("Invalid event type");var m=Bo(c)?!!c.capture:!!c,w=$l(i);if(w||(i[wb]=w=new Hg(i)),(r=w.add(n,r,a,m,h)).proxy)return r;if(a=function(){var n=Ib;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)vR||(c=m),void 0===c&&(c=!1),i.addEventListener(n.toString(),a,c);else if(i.attachEvent)i.attachEvent(bb(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function sc(i,n,r,a,c){if(Array.isArray(n)){for(var h=0;h<n.length;h++)sc(i,n[h],r,a,c);return null}return r=Gg(r),i&&i[qh]?i.O(n,r,Bo(a)?!!a.capture:!!a,c):sA(i,n,r,!0,a,c)}function Cb(i,n,r,a,c){if(Array.isArray(n))for(var h=0;h<n.length;h++)Cb(i,n[h],r,a,c);else a=Bo(a)?!!a.capture:!!a,r=Gg(r),i&&i[qh]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=Eb(h=i.g[n],r,a,c))&&(Hl(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[n],i.h--))):i&&(i=$l(i))&&(n=i.g[n.toString()],i=-1,n&&(i=Eb(n,r,a,c)),(r=-1<i?n[i]:null)&&$g(r))}function $g(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[qh])vb(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(bb(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=$l(n))?(vb(r,i),0==r.h&&(r.src=null,n[wb]=null)):Hl(i)}}}function bb(i){return i in yv?yv[i]:yv[i]="on"+i}function Ib(i,n){if(i.ca)i=!0;else{n=new Gh(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&$g(i),i=r.call(a,n)}return i}function $l(i){return(i=i[wb])instanceof Hg?i:null}var vv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(i){return"function"==typeof i?i:(i[vv]||(i[vv]=function(n){return i.handleEvent(n)}),i[vv])}function yr(){ar.call(this),this.i=new Hg(this),this.P=this,this.I=null}function Mr(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new oi(n,i);else if(n instanceof oi)n.target=n.target||i;else{var c=n;lv(n=new oi(a,i),c)}if(c=!0,r)for(var h=r.length-1;0<=h;h--){var m=n.g=r[h];c=qg(m,a,!0,n)&&c}if(c=qg(m=n.g=i,a,!0,n)&&c,c=qg(m,a,!1,n)&&c,r)for(h=0;h<r.length;h++)c=qg(m=n.g=r[h],a,!1,n)&&c}function qg(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var c=!0,h=0;h<n.length;++h){var m=n[h];if(m&&!m.ca&&m.capture==r){var w=m.listener,D=m.ia||m.src;m.fa&&vb(i.i,m),c=!1!==w.call(D,a)&&c}}return c&&!a.defaultPrevented}Kn(yr,ar),yr.prototype[qh]=!0,yr.prototype.removeEventListener=function(i,n,r,a){Cb(this,i,n,r,a)},yr.prototype.M=function(){if(yr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)Hl(r[a]);delete i.g[n],i.h--}}this.I=null},yr.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},yr.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var Ev=ht.JSON.stringify;function aA(){var i=uA;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var xb,Tb=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Sb,i=>i.reset());class Sb{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ab(i){ht.setTimeout(()=>{throw i},0)}function zh(i,n){xb||function(){var i=ht.Promise.resolve(void 0);xb=function(){i.then(Wh)}}(),Cv||(xb(),Cv=!0),uA.add(i,n)}var Cv=!1,uA=new class{constructor(){this.h=this.g=null}add(n,r){const a=Tb.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a}};function Wh(){for(var i;i=aA();){try{i.h.call(i.g)}catch(r){Ab(r)}var n=Tb;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}Cv=!1}function zg(i,n){yr.call(this),this.h=i||1,this.g=n||ht,this.j=Qt(this.kb,this),this.l=Date.now()}function Zh(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Kh(i,n,r){if("function"==typeof i)r&&(i=Qt(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Qt(i.handleEvent,i)}return 2147483647<Number(n)?-1:ht.setTimeout(i,n||0)}function Rb(i){i.g=Kh(()=>{i.g=null,i.i&&(i.i=!1,Rb(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}Kn(zg,yr),(Ze=zg.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mr(this,"tick"),this.da&&(Zh(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){zg.Z.M.call(this),Zh(this),delete this.g};class bv extends ar{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Rb(this)}M(){super.M(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oc(i){ar.call(this),this.h=i,this.g={}}Kn(oc,ar);var Iv=[];function cA(i,n,r,a){Array.isArray(r)||(r&&(Iv[0]=r.toString()),r=Iv);for(var c=0;c<r.length;c++){var h=_v(n,r[c],a||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function Nb(i){Vg(i.g,function(n,r){this.g.hasOwnProperty(r)&&$g(n)},i),i.g={}}function Yh(){this.g=!0}function ac(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var h=c[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<c.length;m++)c[m]=""}}}return Ev(r)}catch(w){return n}}(i,r)+(a?" "+a:"")})}oc.prototype.M=function(){oc.Z.M.call(this),Nb(this)},oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Aa=function(){this.g=!1},Yh.prototype.info=function(){};var Ho={},Wg=null;function Qh(){return Wg=Wg||new yr}function Pb(i){oi.call(this,Ho.Ma,i)}function Gl(i){const n=Qh();Mr(n,new Pb(n,i))}function Tv(i,n){oi.call(this,Ho.STAT_EVENT,i),this.stat=n}function Or(i){const n=Qh();Mr(n,new Tv(n,i))}function Sv(i,n){oi.call(this,Ho.Na,i),this.size=n}function Jh(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){i()},n)}Ho.Ma="serverreachability",Kn(Pb,oi),Ho.STAT_EVENT="statevent",Kn(Tv,oi),Ho.Na="timingevent",Kn(Sv,oi);var Zg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kg(){}function Av(){}Kg.prototype.h=null;var Xg,ql={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qg(){oi.call(this,"d")}function Jg(){oi.call(this,"c")}function Xh(){}function zl(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new oc(this),this.P=wR,this.W=new zg(i=Bg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}Kn(Qg,oi),Kn(Jg,oi),Kn(Xh,Kg),Xh.prototype.g=function(){return new XMLHttpRequest},Xh.prototype.i=function(){return{}},Xg=new Xh;var wR=45e3,Rv={},em={};function tm(i,n,r){i.K=1,i.v=tf(_r(n)),i.s=r,i.U=!0,Fb(i,null)}function Fb(i,n){i.F=Date.now(),ef(i),i.A=_r(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),kv(r.h,"t",a),i.C=0,r=i.l.H,i.h=new xv,i.g=AA(i.l,r?n:null,!i.s),0<i.O&&(i.L=new bv(Qt(i.Ia,i,i.g),i.O)),cA(i.V,i.g,"readystatechange",i.gb),n=i.H?uv(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),Gl(1),function(i,n,r,a,c,h){i.info(function(){if(i.g)if(h)for(var m="",w=h.split("&"),D=0;D<w.length;D++){var A=w[D].split("=");if(1<A.length){var R=A[0];A=A[1];var O=R.split("_");m=2<=O.length&&"type"==O[1]?m+(R+"=")+A+"&":m+(R+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+n+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Qn(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Nv(i,n,r){let c,a=!0;for(;!i.I&&i.C<r.length;){if(c=dA(i,r),c==em){4==n&&(i.o=4,Or(14),a=!1),ac(i.j,i.m,null,"[Incomplete Response]");break}if(c==Rv){i.o=4,Or(15),ac(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}ac(i.j,i.m,c,null),$a(i,c)}Qn(i)&&c!=em&&c!=Rv&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Or(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),e0(n),n.L=!0,Or(11))):(ac(i.j,i.m,r,"[Invalid Chunked Response]"),Ha(i),Wl(i))}function dA(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?em:(r=Number(n.substring(r,a)),isNaN(r)?Rv:(a+=1)+r>n.length?em:(n=n.substr(a,r),i.C=a+r,n))}function ef(i){i.Y=Date.now()+i.P,Mv(i,i.P)}function Mv(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Jh(Qt(i.eb,i),n)}function nm(i){i.B&&(ht.clearTimeout(i.B),i.B=null)}function Wl(i){0==i.l.G||i.I||df(i.l,i)}function Ha(i){nm(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,Zh(i.W),Nb(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function $a(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||om(r.i,i)))if(r.I=i.N,!i.J&&om(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(A){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(r.u)r.ta=c[1],0<r.ta-r.U&&37500>c[2]&&r.N&&0==r.A&&!r.v&&(r.v=Jh(Qt(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;hm(r),dm(r)}rt(r),Or(18)}if(1>=Bv(r.i)&&r.ka){try{r.ka()}catch(A){}r.ka=void 0}}else ro(r,11)}else if((i.J||r.g==i)&&hm(r),!jo(n))for(c=r.Ca.g.parse(n),n=0;n<c.length;n++){let A=c[n];if(r.U=A[0],A=A[1],2==r.G)if("c"==A[0]){r.J=A[1],r.la=A[2];const R=A[3];null!=R&&(r.ma=R,r.h.info("VER="+r.ma));const O=A[4];null!=O&&(r.za=O,r.h.info("SVER="+r.za));const q=A[5];null!=q&&"number"==typeof q&&0<q&&(r.K=a=1.5*q,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;const Z=i.g;if(Z){const ge=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ge){var h=a.i;!h.g&&(Yn(ge,"spdy")||Yn(ge,"quic")||Yn(ge,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(am(h,h.h),h.h=null))}if(a.D){const ke=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;ke&&(a.sa=ke,Zt(a.F,a.D,ke))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var m=i;if((a=r).oa=Rn(a,a.H?a.la:null,a.W),m.J){jv(a.i,m);var w=m,D=a.K;D&&w.setTimeout(D),w.B&&(nm(w),ef(w)),a.g=m}else SA(a);0<r.l.length&&Qv(r)}else"stop"!=A[0]&&"close"!=A[0]||ro(r,7);else 3==r.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?ro(r,7):qo(r):"noop"!=A[0]&&r.j&&r.j.wa(A),r.A=0)}Gl(4)}catch(A){}}function Ov(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(Ui(i)||"string"==typeof i)nc(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Ui(i)||"string"==typeof i){r=[];for(var a=i.length,c=0;c<a;c++)r.push(c)}else for(c in r=[],a=0,i)r[a++]=c;c=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ui(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var h=0;h<c;h++)n.call(void 0,a[h],r&&r[h],i)}}function uc(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof uc)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function Pv(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];Ga(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var c={};for(r=n=0;n<i.g.length;)Ga(c,a=i.g[n])||(i.g[r++]=a,c[a]=1),n++;i.g.length=r}}function Ga(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(Ze=zl.prototype).setTimeout=function(i){this.P=i},Ze.gb=function(i){i=i.target;const n=this.L;n&&3==no(i)?n.l():this.Ia(i)},Ze.Ia=function(i){try{if(i==this.g)e:{const R=no(this.g);var n=this.g.Da();const O=this.g.ba();if(!(3>R)&&(3!=R||Bg||this.g&&(this.h.h||this.g.ga()||Kv(this.g)))){this.I||4!=R||7==n||Gl(8==n||0>=O?3:2),nm(this);var r=this.g.ba();this.N=r;t:if(Qn(this)){var a=Kv(this.g);i="";var c=a.length,h=4==no(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ha(this),Wl(this);var m="";break t}this.h.i=new ht.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,i+=this.h.i.decode(a[n],{stream:h&&n==c-1});a.splice(0,c),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==r,function(i,n,r,a,c,h,m){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+n+"\n"+r+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,R,r),this.i){if(this.$&&!this.J){t:{if(this.g){var w,D=this.g;if((w=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jo(w)){var A=w;break t}}A=null}if(!(r=A)){this.i=!1,this.o=3,Or(12),Ha(this),Wl(this);break e}ac(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$a(this,r)}this.U?(Nv(this,R,m),Bg&&this.i&&3==R&&(cA(this.V,this.W,"tick",this.fb),this.W.start())):(ac(this.j,this.m,m,null),$a(this,m)),4==R&&Ha(this),this.i&&!this.I&&(4==R?df(this.l,this):(this.i=!1,ef(this)))}else 400==r&&0<m.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),Ha(this),Wl(this)}}}catch(R){}},Ze.fb=function(){if(this.g){var i=no(this.g),n=this.g.ga();this.C<n.length&&(nm(this),Nv(this,i,n),this.i&&4!=i&&ef(this))}},Ze.cancel=function(){this.I=!0,Ha(this)},Ze.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Gl(3),Or(17)),Ha(this),this.o=2,Wl(this)):Mv(this,this.Y-i)},(Ze=uc.prototype).R=function(){Pv(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},Ze.T=function(){return Pv(this),this.g.concat()},Ze.get=function(i,n){return Ga(this.h,i)?this.h[i]:n},Ze.set=function(i,n){Ga(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},Ze.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var c=r[a],h=this.get(c);i.call(n,h,c,this)}};var fA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $o(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof $o){this.g=void 0!==n?n:i.g,rm(this,i.j),this.s=i.s,im(this,i.i),Bi(this,i.m),this.l=i.l,n=i.h;var r=new Zl;r.i=n.i,n.g&&(r.g=new uc(n.g),r.h=n.h),us(this,r),this.o=i.o}else i&&(r=String(i).match(fA))?(this.g=!!n,rm(this,r[1]||"",!0),this.s=nf(r[2]||""),im(this,r[3]||"",!0),Bi(this,r[4]),this.l=nf(r[5]||"",!0),us(this,r[6]||"",!0),this.o=nf(r[7]||"")):(this.g=!!n,this.h=new Zl(null,this.g))}function _r(i){return new $o(i)}function rm(i,n,r){i.j=r?nf(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function im(i,n,r){i.i=r?nf(n,!0):n}function Bi(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function us(i,n,r){n instanceof Zl?(i.h=n,function(i,n){n&&!i.j&&(Go(i),i.i=null,i.g.forEach(function(r,a){var c=a.toLowerCase();a!=c&&(of(this,a),kv(this,c,r))},i)),i.j=n}(i.h,i.g)):(r||(n=rf(n,Ub)),i.h=new Zl(n,i.g))}function Zt(i,n,r){i.h.set(n,r)}function tf(i){return Zt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function nf(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function rf(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,gA),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function gA(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$o.prototype.toString=function(){var i=[],n=this.j;n&&i.push(rf(n,sm,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(rf(n,sm,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(rf(r,"/"==r.charAt(0)?mA:sf,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",rf(r,yA)),i.join("")};var sm=/[#\/\?@]/g,sf=/[#\?:]/g,mA=/[#\?]/g,Ub=/[#\?@]/g,yA=/#/g;function Zl(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Go(i){i.g||(i.g=new uc,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),c=null;if(0<=a){var h=i[r].substring(0,a);c=i[r].substring(a+1)}else h=i[r];n(h,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function of(i,n){Go(i),n=cc(i,n),Ga(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Ga((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&Pv(i)))}function Bb(i,n){return Go(i),n=cc(i,n),Ga(i.g.h,n)}function kv(i,n,r){of(i,n),0<r.length&&(i.i=null,i.g.set(cc(i,n),ja(r)),i.h+=r.length)}function cc(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function Vv(i){this.l=i||jb,i=ht.PerformanceNavigationTiming?0<(i=ht.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ht.g&&ht.g.Ea&&ht.g.Ea()&&ht.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=Zl.prototype).add=function(i,n){Go(this),this.i=null,i=cc(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},Ze.forEach=function(i,n){Go(this),this.g.forEach(function(r,a){nc(r,function(c){i.call(n,c,a,this)},this)},this)},Ze.T=function(){Go(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var c=i[a],h=0;h<c.length;h++)r.push(n[a]);return r},Ze.R=function(i){Go(this);var n=[];if("string"==typeof i)Bb(this,i)&&(n=rc(n,this.g.get(cc(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=rc(n,i[r])}return n},Ze.set=function(i,n){return Go(this),this.i=null,Bb(this,i=cc(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},Ze.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],c=encodeURIComponent(String(a));a=this.R(a);for(var h=0;h<a.length;h++){var m=c;""!==a[h]&&(m+="="+encodeURIComponent(String(a[h]))),i.push(m)}}return this.i=i.join("&")};var jb=10;function Uv(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Bv(i){return i.h?1:i.g?i.g.size:0}function om(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function am(i,n){i.g?i.g.add(n):i.h=n}function jv(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function Hv(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return ja(i.i)}function $v(){}function _A(){this.g=new $v}function vA(i,n,r){const a=r||"";try{Ov(i,function(c,h){let m=c;Bo(c)&&(m=Ev(c)),n.push(a+h+"="+encodeURIComponent(m))})}catch(c){throw n.push(a+"type="+encodeURIComponent("_badmap")),c}}function um(i,n,r,a,c){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,c(a)}catch(h){}}function af(i){this.l=i.$b||null,this.j=i.ib||!1}function cm(i,n){yr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vv.prototype.cancel=function(){if(this.i=Hv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},$v.prototype.stringify=function(i){return ht.JSON.stringify(i,void 0)},$v.prototype.parse=function(i){return ht.JSON.parse(i,void 0)},Kn(af,Kg),af.prototype.g=function(){return new cm(this.l,this.j)},af.prototype.i=function(i){return function(){return i}}({}),Kn(cm,yr);var Gv=0;function Hb(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function uf(i){i.readyState=4,i.l=null,i.j=null,i.A=null,cf(i)}function cf(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ze=cm.prototype).open=function(i,n){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,cf(this)},Ze.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||ht).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uf(this)),this.readyState=Gv},Ze.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ht.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hb(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?uf(this):cf(this),3==this.readyState&&Hb(this)}},Ze.Ua=function(i){this.g&&(this.response=this.responseText=i,uf(this))},Ze.Ta=function(i){this.g&&(this.response=i,uf(this))},Ze.ha=function(){this.g&&uf(this)},Ze.setRequestHeader=function(i,n){this.v.append(i,n)},Ze.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(cm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var wA=ht.JSON.parse;function Jn(i){yr.call(this),this.headers=new uc,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$b,this.K=this.L=!1}Kn(Jn,yr);var $b="",CA=/^https?$/i,bA=["POST","PUT"];function DA(i){return"content-type"==i.toLowerCase()}function qv(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,zv(i),lf(i)}function zv(i){i.D||(i.D=!0,Mr(i,"complete"),Mr(i,"error"))}function Wv(i){if(i.h&&void 0!==Vl&&(!i.C[1]||4!=no(i)||2!=i.ba()))if(i.v&&4==no(i))Kh(i.Fa,0,i);else if(Mr(i,"readystatechange"),4==no(i)){i.h=!1;try{const w=i.ba();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var a;if(a=0===w){var c=String(i.H).match(fA)[1]||null;if(!c&&ht.self&&ht.self.location){var h=ht.self.location.protocol;c=h.substr(0,h.length-1)}a=!CA.test(c?c.toLowerCase():"")}r=a}if(r)Mr(i,"complete"),Mr(i,"success");else{i.m=6;try{var m=2<no(i)?i.g.statusText:""}catch(D){m=""}i.j=m+" ["+i.ba()+"]",zv(i)}}finally{lf(i)}}}function lf(i,n){if(i.g){Zv(i);const r=i.g,a=i.C[0]?jh:null;i.g=null,i.C=null,n||Mr(i,"ready");try{r.onreadystatechange=a}catch(c){}}}function Zv(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ht.clearTimeout(i.A),i.A=null)}function no(i){return i.g?i.g.readyState:0}function Kv(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case $b:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function lm(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){let n="";return Vg(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Zt(i,n,r))}function lc(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function Yv(i){this.za=0,this.l=[],this.h=new Yh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lc("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lc("baseRetryDelayMs",5e3,i),this.$a=lc("retryDelaySeedMs",1e4,i),this.Ya=lc("forwardChannelMaxRetries",2,i),this.ra=lc("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Vv(i&&i.concurrentRequestLimit),this.Ca=new _A,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function qo(i){if(qb(i),3==i.G){var n=i.V++,r=_r(i.F);Zt(r,"SID",i.J),Zt(r,"RID",n),Zt(r,"TYPE","terminate"),Kl(i,r),(n=new zl(i,i.h,n,void 0)).K=2,n.v=tf(_r(r)),r=!1,ht.navigator&&ht.navigator.sendBeacon&&(r=ht.navigator.sendBeacon(n.v.toString(),"")),!r&&ht.Image&&((new Image).src=n.v,r=!0),r||(n.g=AA(n.l,null),n.g.ea(n.v)),n.F=Date.now(),ef(n)}hf(i)}function dm(i){i.g&&(e0(i),i.g.cancel(),i.g=null)}function qb(i){dm(i),i.u&&(ht.clearTimeout(i.u),i.u=null),hm(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ht.clearTimeout(i.m),i.m=null)}function qa(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&Qv(i)}function Qv(i){Uv(i.i)||i.m||(i.m=!0,zh(i.Ha,i),i.C=0)}function TA(i,n){var r;r=n?n.m:i.V++;const a=_r(i.F);Zt(a,"SID",i.J),Zt(a,"RID",r),Zt(a,"AID",i.U),Kl(i,a),i.o&&i.s&&lm(a,i.o,i.s),r=new zl(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=Xv(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),am(i.i,r),tm(r,a,n)}function Kl(i,n){i.j&&Ov({},function(r,a){Zt(n,a,r)})}function Xv(i,n,r){r=Math.min(i.l.length,r);var a=i.j?Qt(i.j.Oa,i.j,i):null;e:{var c=i.l;let h=-1;for(;;){const m=["count="+r];-1==h?0<r?(h=c[0].h,m.push("ofs="+h)):h=0:m.push("ofs="+h);let w=!0;for(let D=0;D<r;D++){let A=c[D].h;const R=c[D].g;if(A-=h,0>A)h=Math.max(0,c[D].h-100),w=!1;else try{vA(R,m,"req"+A+"_")}catch(O){a&&a(R)}}if(w){a=m.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,a}function SA(i){i.g||i.u||(i.Y=1,zh(i.Ga,i),i.A=0)}function rt(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Jh(Qt(i.Ga,i),Wb(i,i.A)),i.A++,0))}function e0(i){null!=i.B&&(ht.clearTimeout(i.B),i.B=null)}function zb(i){i.g=new zl(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=_r(i.oa);Zt(n,"RID","rpc"),Zt(n,"SID",i.J),Zt(n,"CI",i.N?"0":"1"),Zt(n,"AID",i.U),Kl(i,n),Zt(n,"TYPE","xmlhttp"),i.o&&i.s&&lm(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=tf(_r(n)),r.s=null,r.U=!0,Fb(r,i)}function hm(i){null!=i.v&&(ht.clearTimeout(i.v),i.v=null)}function df(i,n){var r=null;if(i.g==n){hm(i),e0(i),i.g=null;var a=2}else{if(!om(i.i,n))return;r=n.D,jv(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var c=i.C;Mr(a=Qh(),new Sv(a,r,n,c)),Qv(i)}else SA(i);else if(3==(c=n.o)||0==c&&0<i.I||!(1==a&&function(i,n){return!(Bv(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Jh(Qt(i.Ha,i,n),Wb(i,i.C)),i.C++,0)))}(i,n)||2==a&&rt(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),c){case 1:ro(i,5);break;case 4:ro(i,10);break;case 3:ro(i,6);break;default:ro(i,2)}}function Wb(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function ro(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=Qt(i.jb,i);r||(r=new $o("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||rm(r,"https"),tf(r)),function(i,n){const r=new Yh;if(ht.Image){const a=new Image;a.onload=to(um,r,a,"TestLoadImage: loaded",!0,n),a.onerror=to(um,r,a,"TestLoadImage: error",!1,n),a.onabort=to(um,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=to(um,r,a,"TestLoadImage: timeout",!1,n),ht.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else Or(2);i.G=0,i.j&&i.j.va(n),hf(i),qb(i)}function hf(i){i.G=0,i.I=-1,i.j&&((0!=Hv(i.i).length||0!=i.l.length)&&(i.i.i.length=0,ja(i.l),i.l.length=0),i.j.ua())}function Rn(i,n,r){let a=function(i){return i instanceof $o?_r(i):new $o(i,void 0)}(r);if(""!=a.i)n&&im(a,n+"."+a.i),Bi(a,a.m);else{const c=ht.location;a=function(i,n,r,a){var c=new $o(null,void 0);return i&&rm(c,i),n&&im(c,n),r&&Bi(c,r),a&&(c.l=a),c}(c.protocol,n?n+"."+c.hostname:c.hostname,+c.port,r)}return i.aa&&Vg(i.aa,function(c,h){Zt(a,h,c)}),r=i.sa,(n=i.D)&&r&&Zt(a,n,r),Zt(a,"VER",i.ma),Kl(i,a),a}function AA(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Jn(r&&i.Ba&&!i.qa?new af({ib:!0}):i.qa)).L=i.H,n}function t0(){}function Yl(){if(jl&&!(10<=Number(_R)))throw Error("Environmental error: no available transport.")}function ji(i,n){yr.call(this),this.g=new Yv(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!jo(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!jo(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new dc(this)}function n0(i){Qg.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function r0(){Jg.call(this),this.status=1}function dc(i){this.g=i}(Ze=Jn.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xg.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Xg),this.g.onreadystatechange=Qt(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(h){return void qv(this,h)}i=r||"";const c=new uc(this.headers);a&&Ov(a,function(h,m){c.set(m,h)}),a=function(i){e:{var n=DA;const r=i.length,a="string"==typeof i?i.split(""):i;for(let c=0;c<r;c++)if(c in a&&n.call(void 0,a[c],c,i)){n=c;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(c.T()),r=ht.FormData&&i instanceof ht.FormData,!(0<=tc(bA,n))||a||r||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zv(this),0<this.B&&((this.K=function(i){return jl&&yR()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.pa,this)):this.A=Kh(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){qv(this,h)}},Ze.pa=function(){void 0!==Vl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))},Ze.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Mr(this,"complete"),Mr(this,"abort"),lf(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lf(this,!0)),Jn.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?Wv(this):this.cb())},Ze.cb=function(){Wv(this)},Ze.ba=function(){try{return 2<no(this)?this.g.status:-1}catch(i){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ze.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),wA(n)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=Yv.prototype).ma=8,Ze.G=1,Ze.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},Ze.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const c=new zl(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=uv(h),lv(h,this.P)):h=this.P),null===this.o&&(c.H=h),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var a=this.l[r];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=Xv(this,c,n),Zt(r=_r(this.F),"RID",i),Zt(r,"CVER",22),this.D&&Zt(r,"X-HTTP-Session-Id",this.D),Kl(this,r),this.o&&h&&lm(r,this.o,h),am(this.i,c),this.Ra&&Zt(r,"TYPE","init"),this.ja?(Zt(r,"$req",n),Zt(r,"SID","null"),c.$=!0,tm(c,r,null)):tm(c,r,n),this.G=2}}else 3==this.G&&(i?TA(this,i):0==this.l.length||Uv(this.i)||TA(this))},Ze.Ga=function(){if(this.u=null,zb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Jh(Qt(this.bb,this),i)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Or(10),dm(this),zb(this))},Ze.ab=function(){null!=this.v&&(this.v=null,dm(this),rt(this),Or(19))},Ze.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Or(2)):(this.h.info("Failed to ping google.com"),Or(1))},(Ze=t0.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},Yl.prototype.g=function(i,n){return new ji(i,n)},Kn(ji,yr),ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),zh(Qt(i.hb,i,n))),Or(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=Rn(i,null,i.W),Qv(i)},ji.prototype.close=function(){qo(this.g)},ji.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,qa(this.g,n)}else this.v?((n={}).__data__=Ev(i),qa(this.g,n)):qa(this.g,i)},ji.prototype.M=function(){this.g.j=null,delete this.j,qo(this.g),delete this.g,ji.Z.M.call(this)},Kn(n0,Qg),Kn(r0,Jg),Kn(dc,t0),dc.prototype.xa=function(){Mr(this.g,"a")},dc.prototype.wa=function(i){Mr(this.g,new n0(i))},dc.prototype.va=function(i){Mr(this.g,new r0(i))},dc.prototype.ua=function(){Mr(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,Zg.NO_ERROR=0,Zg.TIMEOUT=8,Zg.HTTP_ERROR=6,kb.COMPLETE="complete",Av.EventType=ql,ql.OPEN="a",ql.CLOSE="b",ql.ERROR="c",ql.MESSAGE="d",yr.prototype.listen=yr.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.La,Jn.prototype.getLastErrorCode=Jn.prototype.Da,Jn.prototype.getStatus=Jn.prototype.ba,Jn.prototype.getResponseJson=Jn.prototype.Qa,Jn.prototype.getResponseText=Jn.prototype.ga,Jn.prototype.send=Jn.prototype.ea;var Zb=Uo.createWebChannelTransport=function(){return new Yl},xA=Uo.getStatEventTarget=function(){return Qh()},s0=Uo.ErrorCode=Zg,RA=Uo.EventType=kb,ff=Uo.Event=Ho,Kb=Uo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},NA=Uo.FetchXmlHttpFactory=af,fm=Uo.WebChannel=Av,pm=Uo.XhrIo=Jn;class vr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let hc="9.1.0";const zo=new ec.Yd("@firebase/firestore");function o0(){return zo.logLevel}function Fe(i,...n){if(zo.logLevel<=ec.in.DEBUG){const r=n.map(a0);zo.debug(`Firestore (${hc}): ${i}`,...r)}}function Xn(i,...n){if(zo.logLevel<=ec.in.ERROR){const r=n.map(a0);zo.error(`Firestore (${hc}): ${i}`,...r)}}function gf(i,...n){if(zo.logLevel<=ec.in.WARN){const r=n.map(a0);zo.warn(`Firestore (${hc}): ${i}`,...r)}}function a0(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function et(i="Unexpected state"){const n=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: `+i;throw Xn(n),new Error(n)}function ft(i,n){i||et()}function Be(i,n){return i}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class MA{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class CR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(vr.UNAUTHENTICATED))}shutdown(){}}class bR{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class IR{constructor(n){this.t=n,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let c=this.i;const h=A=>this.i!==c?(c=this.i,r(A)):Promise.resolve();let m=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Er,n.enqueueRetryable(()=>h(this.currentUser))};const w=()=>{const A=m;n.enqueueRetryable((0,Ee.Z)(function*(){yield A.promise,yield h(a.currentUser)}))},D=A=>{Fe("FirebaseCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(A=>D(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?D(A):(Fe("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Er)}},0),w()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(Fe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ft("string"==typeof a.accessToken),new MA(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ft(null===n||"string"==typeof n),new vr(n)}}class Qb{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=vr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class gm{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new Qb(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hi{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function OA(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}Hi.T=-1;class u0{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const c=OA(40);for(let h=0;h<c.length;++h)a.length<20&&c[h]<r&&(a+=n.charAt(c[h]%n.length))}return a}}function Ot(i,n){return i<n?-1:i>n?1:0}function Ql(i,n,r){return i.length===n.length&&i.every((a,c)=>r(a,n[c]))}function Jb(i){return i+"\0"}class wr{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return wr.fromMillis(Date.now())}static fromDate(n){return wr.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new wr(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Ot(this.nanoseconds,n.nanoseconds):Ot(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new xt(n)}static min(){return new xt(new wr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xb(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function za(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function eI(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class mf{constructor(n,r,a){void 0===r?r=0:r>n.length&&et(),void 0===a?a=n.length-r:a>n.length-r&&et(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===mf.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof mf?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let c=0;c<a;c++){const h=n.get(c),m=r.get(c);if(h<m)return-1;if(h>m)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class jt extends mf{construct(n,r,a){return new jt(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(c=>c.length>0))}return new jt(r)}static emptyPath(){return new jt([])}}const PA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends mf{construct(n,r,a){return new Cr(n,r,a)}static isValidIdentifier(n){return PA.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(n){const r=[];let a="",c=0;const h=()=>{if(0===a.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let m=!1;for(;c<n.length;){const w=n[c];if("\\"===w){if(c+1===n.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const D=n[c+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=D,c+=2}else"`"===w?(m=!m,c++):"."!==w||m?(a+=w,c++):(h(),c++)}if(h(),m)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Cr(r)}static emptyPath(){return new Cr([])}}class Jl{constructor(n){this.fields=n,n.sort(Cr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Ql(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class br{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new br(r)}static fromUint8Array(n){const r=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(n);return new br(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Ot(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}br.EMPTY_BYTE_STRING=new br("");const nI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(i){if(ft(!!i),"string"==typeof i){let n=0;const r=nI.exec(i);if(ft(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),n=Number(c)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Fn(i.seconds),nanos:Fn(i.nanos)}}function Fn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Xl(i){return"string"==typeof i?br.fromBase64String(i):br.fromUint8Array(i)}function mm(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function c0(i){const n=i.mapValue.fields.__previous_value__;return mm(n)?c0(n):n}function yf(i){const n=Wa(i.mapValue.fields.__local_write_time__.timestampValue);return new wr(n.seconds,n.nanos)}function fc(i){return null==i}function ym(i){return 0===i&&1/i==-1/0}function _m(i){return"number"==typeof i&&Number.isInteger(i)&&!ym(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class tt{constructor(n){this.path=n}static fromPath(n){return new tt(jt.fromString(n))}static fromName(n){return new tt(jt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===jt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return jt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new tt(new jt(n.slice()))}}function Za(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mm(i)?4:10:et()}function io(i,n){const r=Za(i);if(r!==Za(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return yf(i).isEqual(yf(n));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=Wa(a.timestampValue),m=Wa(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return c=n,Xl(i.bytesValue).isEqual(Xl(c.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,c){return Fn(a.geoPointValue.latitude)===Fn(c.geoPointValue.latitude)&&Fn(a.geoPointValue.longitude)===Fn(c.geoPointValue.longitude)}(i,n);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Fn(a.integerValue)===Fn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=Fn(a.doubleValue),m=Fn(c.doubleValue);return h===m?ym(h)===ym(m):isNaN(h)&&isNaN(m)}return!1}(i,n);case 9:return Ql(i.arrayValue.values||[],n.arrayValue.values||[],io);case 10:return function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Xb(h)!==Xb(m))return!1;for(const w in h)if(h.hasOwnProperty(w)&&(void 0===m[w]||!io(h[w],m[w])))return!1;return!0}(i,n);default:return et()}var c}function _f(i,n){return void 0!==(i.values||[]).find(r=>io(r,n))}function ed(i,n){const r=Za(i),a=Za(n);if(r!==a)return Ot(r,a);switch(r){case 0:return 0;case 1:return Ot(i.booleanValue,n.booleanValue);case 2:return function(c,h){const m=Fn(c.integerValue||c.doubleValue),w=Fn(h.integerValue||h.doubleValue);return m<w?-1:m>w?1:m===w?0:isNaN(m)?isNaN(w)?0:-1:1}(i,n);case 3:return rI(i.timestampValue,n.timestampValue);case 4:return rI(yf(i),yf(n));case 5:return Ot(i.stringValue,n.stringValue);case 6:return function(c,h){const m=Xl(c),w=Xl(h);return m.compareTo(w)}(i.bytesValue,n.bytesValue);case 7:return function(c,h){const m=c.split("/"),w=h.split("/");for(let D=0;D<m.length&&D<w.length;D++){const A=Ot(m[D],w[D]);if(0!==A)return A}return Ot(m.length,w.length)}(i.referenceValue,n.referenceValue);case 8:return function(c,h){const m=Ot(Fn(c.latitude),Fn(h.latitude));return 0!==m?m:Ot(Fn(c.longitude),Fn(h.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(c,h){const m=c.values||[],w=h.values||[];for(let D=0;D<m.length&&D<w.length;++D){const A=ed(m[D],w[D]);if(A)return A}return Ot(m.length,w.length)}(i.arrayValue,n.arrayValue);case 10:return function(c,h){const m=c.fields||{},w=Object.keys(m),D=h.fields||{},A=Object.keys(D);w.sort(),A.sort();for(let R=0;R<w.length&&R<A.length;++R){const O=Ot(w[R],A[R]);if(0!==O)return O;const q=ed(m[w[R]],D[A[R]]);if(0!==q)return q}return Ot(w.length,A.length)}(i.mapValue,n.mapValue);default:throw et()}}function rI(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Ot(i,n);const r=Wa(i),a=Wa(n),c=Ot(r.seconds,a.seconds);return 0!==c?c:Ot(r.nanos,a.nanos)}function l0(i){return d0(i)}function d0(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const c=Wa(a);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Xl(i.bytesValue).toBase64():"referenceValue"in i?tt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let c="[",h=!0;for(const m of a.values||[])h?h=!1:c+=",",c+=d0(m);return c+"]"}(i.arrayValue):"mapValue"in i?function(a){const c=Object.keys(a.fields||{}).sort();let h="{",m=!0;for(const w of c)m?m=!1:h+=",",h+=`${w}:${d0(a.fields[w])}`;return h+"}"}(i.mapValue):et();var n}function vm(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function h0(i){return!!i&&"integerValue"in i}function Em(i){return!!i&&"arrayValue"in i}function f0(i){return!!i&&"nullValue"in i}function iI(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wm(i){return!!i&&"mapValue"in i}function td(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return za(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=td(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=td(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Kr{constructor(n){this.value=n}static empty(){return new Kr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!wm(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=td(r)}setAll(n){let r=Cr.emptyPath(),a={},c=[];n.forEach((m,w)=>{if(!r.isImmediateParentOf(w)){const D=this.getFieldsMap(r);this.applyChanges(D,a,c),a={},c=[],r=w.popLast()}m?a[w.lastSegment()]=td(m):c.push(w.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,a,c)}delete(n){const r=this.field(n.popLast());wm(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return io(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let c=r.mapValue.fields[n.get(a)];wm(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=c),r=c}return r.mapValue.fields}applyChanges(n,r,a){za(r,(c,h)=>n[c]=h);for(const c of a)delete n[c]}clone(){return new Kr(td(this.value))}}function sI(i){const n=[];return za(i.fields,(r,a)=>{const c=new Cr([r]);if(wm(a)){const h=sI(a.mapValue).fields;if(0===h.length)n.push(c);else for(const m of h)n.push(c.child(m))}else n.push(c)}),new Jl(n)}class Dn{constructor(n,r,a,c,h){this.key=n,this.documentType=r,this.version=a,this.data=c,this.documentState=h}static newInvalidDocument(n){return new Dn(n,0,xt.min(),Kr.empty(),0)}static newFoundDocument(n,r,a){return new Dn(n,1,r,a,0)}static newNoDocument(n,r){return new Dn(n,2,r,Kr.empty(),0)}static newUnknownDocument(n,r){return new Dn(n,3,r,Kr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Dn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Dn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class p0{constructor(n,r=null,a=[],c=[],h=null,m=null,w=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=c,this.limit=h,this.startAt=m,this.endAt=w,this.A=null}}function Cm(i,n=null,r=[],a=[],c=null,h=null,m=null){return new p0(i,n,r,a,c,h,m)}function nd(i){const n=Be(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+l0(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),fc(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=id(n.startAt)),n.endAt&&(r+="|ub:",r+=id(n.endAt)),n.A=r}return n.A}function bm(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!VA(i.orderBy[c],n.orderBy[c]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((r=i.filters[c]).op!==(a=n.filters[c]).op||!r.field.isEqual(a.field)||!io(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!cI(i.startAt,n.startAt)&&cI(i.endAt,n.endAt)}function Im(i){return tt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Pr extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new oI(n,r,a):"array-contains"===r?new uI(n,a):"in"===r?new DR(n,a):"not-in"===r?new LA(n,a):"array-contains-any"===r?new rd(n,a):new Pr(n,r,a)}static R(n,r,a){return"in"===r?new FA(n,a):new aI(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(ed(r,this.value)):null!==r&&Za(this.value)===Za(r)&&this.P(ed(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class oI extends Pr{constructor(n,r,a){super(n,r,a),this.key=tt.fromName(a.referenceValue)}matches(n){const r=tt.comparator(n.key,this.key);return this.P(r)}}class FA extends Pr{constructor(n,r){super(n,"in",r),this.keys=m0(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class aI extends Pr{constructor(n,r){super(n,"not-in",r),this.keys=m0(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function m0(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>tt.fromName(a.referenceValue))}class uI extends Pr{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return Em(r)&&_f(r.arrayValue,this.value)}}class DR extends Pr{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&_f(this.value.arrayValue,r)}}class LA extends Pr{constructor(n,r){super(n,"not-in",r)}matches(n){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!_f(this.value.arrayValue,r)}}class rd extends Pr{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!Em(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>_f(this.value.arrayValue,a))}}class Dm{constructor(n,r){this.position=n,this.before=r}}function id(i){return`${i.before?"b":"a"}:${i.position.map(n=>l0(n)).join(",")}`}class Wo{constructor(n,r="asc"){this.field=n,this.dir=r}}function VA(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function pc(i,n,r){let a=0;for(let c=0;c<i.position.length;c++){const h=n[c],m=i.position[c];if(a=h.field.isKeyField()?tt.comparator(tt.fromName(m.referenceValue),r.key):ed(m,r.data.field(h.field)),"desc"===h.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function cI(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!io(i.position[r],n.position[r]))return!1;return!0}class Ka{constructor(n,r=null,a=[],c=[],h=null,m="F",w=null,D=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=c,this.limit=h,this.limitType=m,this.startAt=w,this.endAt=D,this.V=null,this.S=null}}function lI(i,n,r,a,c,h,m,w){return new Ka(i,n,r,a,c,h,m,w)}function ai(i){return new Ka(i)}function vf(i){return!fc(i.limit)&&"F"===i.limitType}function y0(i){return!fc(i.limit)&&"L"===i.limitType}function sd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function _0(i){for(const n of i.filters)if(n.v())return n.field;return null}function v0(i){return null!==i.collectionGroup}function Ef(i){const n=Be(i);if(null===n.V){n.V=[];const r=_0(n),a=sd(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new Wo(r)),n.V.push(new Wo(Cr.keyField(),"asc"));else{let c=!1;for(const h of n.explicitOrderBy)n.V.push(h),h.field.isKeyField()&&(c=!0);if(!c){const h=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Wo(Cr.keyField(),h))}}}return n.V}function cs(i){const n=Be(i);if(!n.S)if("F"===n.limitType)n.S=Cm(n.path,n.collectionGroup,Ef(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const h of Ef(n))r.push(new Wo(h.field,"desc"===h.dir?"asc":"desc"));const a=n.endAt?new Dm(n.endAt.position,!n.endAt.before):null,c=n.startAt?new Dm(n.startAt.position,!n.startAt.before):null;n.S=Cm(n.path,n.collectionGroup,r,n.filters,n.limit,a,c)}return n.S}function dI(i,n,r){return new Ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function wf(i,n){return bm(cs(i),cs(n))&&i.limitType===n.limitType}function Tm(i){return`${nd(cs(i))}|lt:${i.limitType}`}function Sm(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${l0(a.value)}`;var a}).join(", ")}]`),fc(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+id(i.startAt)),i.endAt&&(n+=", endAt: "+id(i.endAt)),`Target(${n})`}(cs(i))}; limitType=${i.limitType})`}function gc(i,n){return n.isFoundDocument()&&function(r,a){const c=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):tt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(i,n)&&function(r,a){for(const c of r.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(i,n)&&function(r,a){for(const c of r.filters)if(!c.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!pc(r.startAt,Ef(r),a)||r.endAt&&pc(r.endAt,Ef(r),a)));var r,a}function E0(i){return(n,r)=>{let a=!1;for(const c of Ef(i)){const h=UA(c,n,r);if(0!==h)return h;a=a||c.field.isKeyField()}return 0}}function UA(i,n,r){const a=i.field.isKeyField()?tt.comparator(n.key,r.key):function(c,h,m){const w=h.data.field(c),D=m.data.field(c);return null!==w&&null!==D?ed(w,D):et()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return et()}}function BA(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ym(n)?"-0":n}}function hI(i){return{integerValue:""+i}}function fI(i,n){return _m(n)?hI(n):BA(i,n)}class Am{constructor(){this._=void 0}}function pI(i,n,r){return i instanceof od?function(a,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(h.fields.__previous_value__=c),{mapValue:h}}(r,n):i instanceof mc?C0(i,n):i instanceof so?mI(i,n):function(a,c){const h=w0(a,c),m=Cf(h)+Cf(a.C);return h0(h)&&h0(a.C)?hI(m):BA(a.N,m)}(i,n)}function gI(i,n,r){return i instanceof mc?C0(i,n):i instanceof so?mI(i,n):r}function w0(i,n){return i instanceof yc?h0(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class od extends Am{}class mc extends Am{constructor(n){super(),this.elements=n}}function C0(i,n){const r=bf(n);for(const a of i.elements)r.some(c=>io(c,a))||r.push(a);return{arrayValue:{values:r}}}class so extends Am{constructor(n){super(),this.elements=n}}function mI(i,n){let r=bf(n);for(const a of i.elements)r=r.filter(c=>!io(c,a));return{arrayValue:{values:r}}}class yc extends Am{constructor(n,r){super(),this.N=n,this.C=r}}function Cf(i){return Fn(i.integerValue||i.doubleValue)}function bf(i){return Em(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Zo{constructor(n,r){this.field=n,this.transform=r}}class HA{constructor(n,r){this.version=n,this.transformResults=r}}class ur{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new ur}static exists(n){return new ur(void 0,n)}static updateTime(n){return new ur(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function xm(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class Rm{}function $A(i,n,r){i instanceof If?function(a,c,h){const m=a.value.clone(),w=vI(a.fieldTransforms,c,h.transformResults);m.setAll(w),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,n,r):i instanceof Ya?function(a,c,h){if(!xm(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=vI(a.fieldTransforms,c,h.transformResults),w=c.data;w.setAll(qA(a)),w.setAll(m),c.convertToFoundDocument(h.version,w).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function b0(i,n,r){var c;i instanceof If?function(a,c,h){if(!xm(a.precondition,c))return;const m=a.value.clone(),w=ad(a.fieldTransforms,h,c);m.setAll(w),c.convertToFoundDocument(_I(c),m).setHasLocalMutations()}(i,n,r):i instanceof Ya?function(a,c,h){if(!xm(a.precondition,c))return;const m=ad(a.fieldTransforms,h,c),w=c.data;w.setAll(qA(a)),w.setAll(m),c.convertToFoundDocument(_I(c),w).setHasLocalMutations()}(i,n,r):xm(i.precondition,c=n)&&c.convertToNoDocument(xt.min())}function GA(i,n){let r=null;for(const a of i.fieldTransforms){const c=n.data.field(a.field),h=w0(a.transform,c||null);null!=h&&(null==r&&(r=Kr.empty()),r.set(a.field,h))}return r||null}function yI(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&Ql(r,a,(c,h)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof mc&&a instanceof mc||r instanceof so&&a instanceof so?Ql(r.elements,a.elements,io):r instanceof yc&&a instanceof yc?io(r.C,a.C):r instanceof od&&a instanceof od);var r,a}(c,h))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function _I(i){return i.isFoundDocument()?i.version:xt.min()}class If extends Rm{constructor(n,r,a,c=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=c,this.type=0}}class Ya extends Rm{constructor(n,r,a,c,h=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=c,this.fieldTransforms=h,this.type=1}}function qA(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function vI(i,n,r){const a=new Map;ft(i.length===r.length);for(let c=0;c<r.length;c++){const h=i[c],m=h.transform,w=n.data.field(h.field);a.set(h.field,gI(m,w,r[c]))}return a}function ad(i,n,r){const a=new Map;for(const c of i){const h=c.transform,m=r.data.field(c.field);a.set(c.field,pI(h,m,n))}return a}class Df extends Rm{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class I0 extends Rm{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class zA{constructor(n){this.count=n}}var Nn,Pt;function D0(i){switch(i){case pe.OK:return et();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return et()}}function EI(i){if(void 0===i)return Xn("GRPC error has no .code"),pe.UNKNOWN;switch(i){case Nn.OK:return pe.OK;case Nn.CANCELLED:return pe.CANCELLED;case Nn.UNKNOWN:return pe.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return pe.INTERNAL;case Nn.UNAVAILABLE:return pe.UNAVAILABLE;case Nn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Nn.NOT_FOUND:return pe.NOT_FOUND;case Nn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Nn.ABORTED:return pe.ABORTED;case Nn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Nn.DATA_LOSS:return pe.DATA_LOSS;default:return et()}}(Pt=Nn||(Nn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";class Ir{constructor(n,r){this.comparator=n,this.root=r||er.EMPTY}insert(n,r){return new Ir(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,er.BLACK,null,null))}remove(n){return new Ir(this.comparator,this.root.remove(n,this.comparator).copy(null,null,er.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(n,a.key);if(0===c)return r+a.left.size;c<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Nm(this.root,n,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Nm(this.root,n,this.comparator,!0)}}class Nm{constructor(n,r,a,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=r?a(n.key,r):1,c&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class er{constructor(n,r,a,c,h){this.key=n,this.value=r,this.color=null!=a?a:er.RED,this.left=null!=c?c:er.EMPTY,this.right=null!=h?h:er.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,c,h){return new er(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let c=this;const h=a(n,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(n,r,a),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(n,r,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,c=this;if(r(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(n,c.key)){if(c.right.isEmpty())return er.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const n=this.left.check();if(n!==this.right.check())throw et();return n+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1,er.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(i,n,r,a,c){return this}insert(i,n,r){return new er(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(n){this.comparator=n,this.data=new Ir(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,n[1])>=0)return;r(c.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new wI(this.data.getIterator())}getIteratorFrom(n){return new wI(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof Ln)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=a.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new Ln(this.comparator);return r.data=n,r}}class wI{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const CI=new Ir(tt.comparator);function $i(){return CI}const T0=new Ir(tt.comparator);function Mm(){return T0}const bI=new Ir(tt.comparator);function II(){return bI}const WA=new Ln(tt.comparator);function nn(...i){let n=WA;for(const r of i)n=n.add(r);return n}const ZA=new Ln(Ot);function Tf(){return ZA}class Qa{constructor(n,r,a,c,h){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,Ja.createSynthesizedTargetChangeForCurrentChange(n,r)),new Qa(xt.min(),a,Tf(),$i(),nn())}}class Ja{constructor(n,r,a,c,h){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Ja(br.EMPTY_BYTE_STRING,r,nn(),nn(),nn())}}class S0{constructor(n,r,a,c){this.k=n,this.removedTargetIds=r,this.key=a,this.$=c}}class ud{constructor(n,r){this.targetId=n,this.O=r}}class Xt{constructor(n,r,a=br.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=c}}class Ko{constructor(){this.F=0,this.M=KA(),this.L=br.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=nn(),r=nn(),a=nn();return this.M.forEach((c,h)=>{switch(h){case 0:n=n.add(c);break;case 2:r=r.add(c);break;case 1:a=a.add(c);break;default:et()}}),new Ja(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=KA()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class cd{constructor(n){this.tt=n,this.et=new Map,this.nt=$i(),this.st=ld(),this.it=new Ln(Ot)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:et()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,c)=>{this.ht(c)&&r(c)})}ft(n){const r=n.targetId,a=n.O.count,c=this.dt(r);if(c){const h=c.target;if(Im(h))if(0===a){const m=new tt(h.path);this.at(r,m,Dn.newNoDocument(m,xt.min()))}else ft(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((h,m)=>{const w=this.dt(m);if(w){if(h.current&&Im(w.target)){const D=new tt(w.target.path);null!==this.nt.get(D)||this.gt(m,D)||this.at(m,D,Dn.newNoDocument(D,n))}h.K&&(r.set(m,h.W()),h.G())}});let a=nn();this.st.forEach((h,m)=>{let w=!0;m.forEachWhile(D=>{const A=this.dt(D);return!A||2===A.purpose||(w=!1,!1)}),w&&(a=a.add(h))});const c=new Qa(n,r,this.it,this.nt,a);return this.nt=$i(),this.st=ld(),this.it=new Ln(Ot),c}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const c=this.ut(n);this.gt(n,r)?c.H(r,1):c.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new Ko,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new Ln(Ot),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Fe("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Ko),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function ld(){return new Ir(tt.comparator)}function KA(){return new Ir(tt.comparator)}const Et={asc:"ASCENDING",desc:"DESCENDING"},ls={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class A0{constructor(n,r){this.databaseId=n,this.D=r}}function Ds(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function YA(i,n){return i.D?n.toBase64():n.toUint8Array()}function DI(i,n){return Ds(i,n.toTimestamp())}function cr(i){return ft(!!i),xt.fromTimestamp(function(n){const r=Wa(n);return new wr(r.seconds,r.nanos)}(i))}function TI(i,n){return(r=i,new jt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function SI(i){const n=jt.fromString(i);return ft(Vm(n)),n}function Sf(i,n){return TI(i.databaseId,n.path)}function Bn(i,n){const r=SI(n);if(r.get(1)!==i.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new tt(AI(r))}function En(i,n){return TI(i.databaseId,n)}function ds(i){const n=SI(i);return 4===n.length?jt.emptyPath():AI(n)}function dd(i){return new jt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function AI(i){return ft(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function x0(i,n,r){return{name:Sf(i,n),fields:r.value.mapValue.fields}}function Om(i,n,r){const a=Bn(i,n.name),c=cr(n.updateTime),h=new Kr({mapValue:{fields:n.fields}}),m=Dn.newFoundDocument(a,c,h);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function Pm(i,n){let r;if(n instanceof If)r={update:x0(i,n.key,n.value)};else if(n instanceof Df)r={delete:Sf(i,n.key)};else if(n instanceof Ya)r={update:x0(i,n.key,n.data),updateMask:O0(n.fieldMask)};else{if(!(n instanceof I0))return et();r={verify:Sf(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(c,h){const m=h.transform;if(m instanceof od)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof so)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yc)return{fieldPath:h.field.canonicalString(),increment:m.C};throw et()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(c=n.precondition).updateTime?{updateTime:DI(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:et()),r;var c}function Xa(i,n){const r=n.currentDocument?void 0!==(c=n.currentDocument).updateTime?ur.updateTime(cr(c.updateTime)):void 0!==c.exists?ur.exists(c.exists):ur.none():ur.none(),a=n.updateTransforms?n.updateTransforms.map(c=>function(h,m){let w=null;"setToServerValue"in m?(ft("REQUEST_TIME"===m.setToServerValue),w=new od):"appendMissingElements"in m?w=new mc(m.appendMissingElements.values||[]):"removeAllFromArray"in m?w=new so(m.removeAllFromArray.values||[]):"increment"in m?w=new yc(h,m.increment):et();const D=Cr.fromServerFormat(m.fieldPath);return new Zo(D,w)}(i,c)):[];var c;if(n.update){const c=Bn(i,n.update.name),h=new Kr({mapValue:{fields:n.update.fields}});if(n.updateMask){const m=new Jl((n.updateMask.fieldPaths||[]).map(A=>Cr.fromServerFormat(A)));return new Ya(c,h,m,r,a)}return new If(c,h,r,a)}if(n.delete){const c=Bn(i,n.delete);return new Df(c,r)}if(n.verify){const c=Bn(i,n.verify);return new I0(c,r)}return et()}function R0(i,n){return{documents:[En(i,n.path)]}}function km(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=En(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=En(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(w){if(0===w.length)return;const D=w.map(A=>function(R){if("=="===R.op){if(iI(R.value))return{unaryFilter:{field:vc(R.field),op:"IS_NAN"}};if(f0(R.value))return{unaryFilter:{field:vc(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(iI(R.value))return{unaryFilter:{field:vc(R.field),op:"IS_NOT_NAN"}};if(f0(R.value))return{unaryFilter:{field:vc(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(R.field),op:RI(R.op),value:R.value}}}(A));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(n.filters);c&&(r.structuredQuery.where=c);const h=function(w){if(0!==w.length)return w.map(D=>{return{field:vc((A=D).field),direction:Fm(A.dir)};var A})}(n.orderBy);h&&(r.structuredQuery.orderBy=h);const m=(D=n.limit,i.D||fc(D)?D:{value:D});var D;return null!==m&&(r.structuredQuery.limit=m),n.startAt&&(r.structuredQuery.startAt=_c(n.startAt)),n.endAt&&(r.structuredQuery.endAt=_c(n.endAt)),r}function fd(i){let n=ds(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let c=null;if(a>0){ft(1===a);const R=r.from[0];R.allDescendants?c=R.collectionId:n=n.child(R.collectionId)}let h=[];r.where&&(h=M0(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(R=>{return new Wo(Ec((O=R).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let w=null;r.limit&&(w=function(R){let O;return O="object"==typeof R?R.value:R,fc(O)?null:O}(r.limit));let D=null;r.startAt&&(D=xI(r.startAt));let A=null;return r.endAt&&(A=xI(r.endAt)),lI(n,c,m,h,w,"F",D,A)}function M0(i){return i?void 0!==i.unaryFilter?[JA(i)]:void 0!==i.fieldFilter?[Lm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>M0(n)).reduce((n,r)=>n.concat(r)):et():[]}function _c(i){return{before:i.before,values:i.position}}function xI(i){return new Dm(i.values||[],!!i.before)}function Fm(i){return Et[i]}function RI(i){return ls[i]}function vc(i){return{fieldPath:i.canonicalString()}}function Ec(i){return Cr.fromServerFormat(i.fieldPath)}function Lm(i){return Pr.create(Ec(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return et()}}(i.fieldFilter.op),i.fieldFilter.value)}function JA(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Ec(i.unaryFilter.field);return Pr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ec(i.unaryFilter.field);return Pr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ec(i.unaryFilter.field);return Pr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ec(i.unaryFilter.field);return Pr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return et()}}function O0(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function Vm(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function oo(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=yt(n)),n=TR(i.get(r),n);return yt(n)}function TR(i,n){let r=n;const a=i.length;for(let c=0;c<a;c++){const h=i.charAt(c);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function yt(i){return i+"\x01\x01"}function eu(i){const n=i.length;if(ft(n>=2),2===n)return ft("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),jt.emptyPath();const r=n-2,a=[];let c="";for(let h=0;h<n;){const m=i.indexOf("\x01",h);switch((m<0||m>r)&&et(),i.charAt(m+1)){case"\x01":const w=i.substring(h,m);let D;0===c.length?D=w:(c+=w,D=c,c=""),a.push(D);break;case"\x10":c+=i.substring(h,m),c+="\0";break;case"\x11":c+=i.substring(h,m+1);break;default:et()}h=m+2}return new jt(a)}class xf{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Gi{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}Gi.store="owner",Gi.key="owner";class tu{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}tu.store="mutationQueues",tu.keyPath="userId";class wn{constructor(n,r,a,c,h){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=h}}wn.store="mutations",wn.keyPath="batchId",wn.userMutationsIndex="userMutationsIndex",wn.userMutationsKeyPath=["userId","batchId"];class ui{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,oo(r)]}static key(n,r,a){return[n,oo(r),a]}}ui.store="documentMutations",ui.PLACEHOLDER=new ui;class SR{constructor(n,r){this.path=n,this.readTime=r}}class XA{constructor(n,r){this.path=n,this.version=r}}class Ut{constructor(n,r,a,c,h,m){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=c,this.readTime=h,this.parentPath=m}}Ut.store="remoteDocuments",Ut.readTimeIndex="readTimeIndex",Ut.readTimeIndexPath="readTime",Ut.collectionReadTimeIndex="collectionReadTimeIndex",Ut.collectionReadTimeIndexPath=["parentPath","readTime"];class ao{constructor(n){this.byteSize=n}}ao.store="remoteDocumentGlobal",ao.key="remoteDocumentGlobalKey";class Ci{constructor(n,r,a,c,h,m,w){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=w}}Ci.store="targets",Ci.keyPath="targetId",Ci.queryTargetsIndexName="queryTargetsIndex",Ci.queryTargetsKeyPath=["canonicalId","targetId"];class lr{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}lr.store="targetDocuments",lr.keyPath=["targetId","path"],lr.documentTargetsIndex="documentTargetsIndex",lr.documentTargetsKeyPath=["path","targetId"];class qi{constructor(n,r,a,c){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}qi.key="targetGlobalKey",qi.store="targetGlobal";class wc{constructor(n,r){this.collectionId=n,this.parent=r}}wc.store="collectionParents",wc.keyPath=["collectionId","parent"];class Yo{constructor(n,r,a,c){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=c}}Yo.store="clientMetadata",Yo.keyPath="clientId";class pd{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}pd.store="bundles",pd.keyPath="bundleId";class gd{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}gd.store="namedQueries",gd.keyPath="name";const ex=[tu.store,wn.store,ui.store,Ut.store,Ci.store,Gi.store,qi.store,lr.store,Yo.store,ao.store,wc.store,pd.store,gd.store],Um="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Ae{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Ae((a,c)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(a,c)},this.catchCallback=h=>{this.wrapFailure(r,h).next(a,c)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Ae?r:Ae.resolve(r)}catch(r){return Ae.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Ae.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Ae.reject(r)}static resolve(n){return new Ae((r,a)=>{r(n)})}static reject(n){return new Ae((r,a)=>{a(n)})}static waitFor(n){return new Ae((r,a)=>{let c=0,h=0,m=!1;n.forEach(w=>{++c,w.next(()=>{++h,m&&h===c&&r()},D=>a(D))}),m=!0,h===c&&r()})}static or(n){let r=Ae.resolve(!1);for(const a of n)r=r.next(c=>c?Ae.resolve(c):a());return r}static forEach(n,r){const a=[];return n.forEach((c,h)=>{a.push(r.call(this,c,h))}),this.waitFor(a)}}class Rf{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new Er,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Bm(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const c=P0(a.target.error);this.Tt.reject(new Bm(n,c))}}static open(n,r,a,c){try{return new Rf(r,n.transaction(c,a))}catch(h){throw new Bm(r,h)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Fe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new nx(r)}}class zi{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===zi.Rt((0,At.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Fe("SimpleDb","Removing database:",n),bc(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,At.hl)())return!1;if(zi.Pt())return!0;const n=(0,At.z$)(),r=zi.Rt(n),a=0<r&&r<10,c=zi.vt(n),h=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||h)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,Ee.Z)(function*(){return r.db||(Fe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,c)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=m=>{a(m.target.result)},h.onblocked=()=>{c(new Bm(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const w=m.target.error;c("VersionError"===w.name?new Ne(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Ne(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new Bm(n,w))},h.onupgradeneeded=m=>{Fe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,h.transaction,m.oldVersion,r.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,c){var h=this;return(0,Ee.Z)(function*(){const m="readonly"===r;let w=0;for(;;){++w;try{h.db=yield h.Dt(n);const D=Rf.open(h.db,n,m?"readonly":"readwrite",a),A=c(D).catch(R=>(D.abort(R),Ae.reject(R))).toPromise();return A.catch(()=>{}),yield D.It,A}catch(D){const A="FirebaseError"!==D.name&&w<3;if(Fe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",A),h.close(),!A)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tx{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return bc(this.kt.delete())}}class Bm extends Ne{constructor(n,r){super(pe.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Cc(i){return"IndexedDbTransactionError"===i.name}class nx{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(Fe("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),bc(a)}add(n){return Fe("SimpleDb","ADD",this.store.name,n,n),bc(this.store.add(n))}get(n){return bc(this.store.get(n)).next(r=>(void 0===r&&(r=null),Fe("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Fe("SimpleDb","DELETE",this.store.name,n),bc(this.store.delete(n))}count(){return Fe("SimpleDb","COUNT",this.store.name),bc(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),c=[];return this.Bt(a,(h,m)=>{c.push(m)}).next(()=>c)}Ut(n,r){Fe("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const c=this.cursor(a);return this.Bt(c,(h,m,w)=>w.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const c=this.cursor(a);return this.Bt(c,r)}jt(n){const r=this.cursor({});return new Ae((a,c)=>{r.onerror=h=>{const m=P0(h.target.error);c(m)},r.onsuccess=h=>{const m=h.target.result;m?n(m.primaryKey,m.value).next(w=>{w?m.continue():a()}):a()}})}Bt(n,r){const a=[];return new Ae((c,h)=>{n.onerror=m=>{h(m.target.error)},n.onsuccess=m=>{const w=m.target.result;if(!w)return void c();const D=new tx(w),A=r(w.primaryKey,w.value,D);if(A instanceof Ae){const R=A.catch(O=>(D.done(),Ae.reject(O)));a.push(R)}D.isDone?c():null===D.Ft?w.continue():w.continue(D.Ft)}}).next(()=>Ae.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function bc(i){return new Ae((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const c=P0(a.target.error);r(c)}})}let MI=!1;function P0(i){const n=zi.Rt((0,At.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MI||(MI=!0,setTimeout(()=>{throw a},0)),a}}return i}class OI extends NI{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Dr(i,n){const r=Be(i);return zi.St(r.Qt,n)}class k0{constructor(n,r,a,c){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(n.key)&&$A(h,n,a[c])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&b0(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&b0(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),nn())}isEqual(n){return this.batchId===n.batchId&&Ql(this.mutations,n.mutations,(r,a)=>yI(r,a))&&Ql(this.baseMutations,n.baseMutations,(r,a)=>yI(r,a))}}class F0{constructor(n,r,a,c){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=c}static from(n,r,a){ft(n.mutations.length===a.length);let c=II();const h=n.mutations;for(let m=0;m<h.length;m++)c=c.insert(h[m].key,a[m].version);return new F0(n,r,a,c)}}class Qo{constructor(n,r,a,c,h=xt.min(),m=xt.min(),w=br.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=w}withSequenceNumber(n){return new Qo(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class md{constructor(n){this.Wt=n}}function PI(i,n){if(n.document)return Om(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=tt.fromSegments(n.noDocument.path),a=_d(n.noDocument.readTime),c=Dn.newNoDocument(r,a);return n.hasCommittedMutations?c.setHasCommittedMutations():c}if(n.unknownDocument){const r=tt.fromSegments(n.unknownDocument.path),a=_d(n.unknownDocument.version);return Dn.newUnknownDocument(r,a)}return et()}function L0(i,n,r){const a=V0(r),c=n.key.path.popLast().toArray();if(n.isFoundDocument()){const h={name:Sf(w=i.Wt,(D=n).key),fields:D.data.value.mapValue.fields,updateTime:Ds(w,D.version.toTimestamp())};return new Ut(null,null,h,n.hasCommittedMutations,a,c)}var w,D;if(n.isNoDocument()){const h=n.key.path.toArray(),m=yd(n.version),w=n.hasCommittedMutations;return new Ut(null,new SR(h,m),null,w,a,c)}if(n.isUnknownDocument()){const h=n.key.path.toArray(),m=yd(n.version);return new Ut(new XA(h,m),null,null,!0,a,c)}return et()}function V0(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function kI(i){const n=new wr(i[0],i[1]);return xt.fromTimestamp(n)}function yd(i){const n=i.toTimestamp();return new xf(n.seconds,n.nanoseconds)}function _d(i){const n=new wr(i.seconds,i.nanoseconds);return xt.fromTimestamp(n)}function vd(i,n){const r=(n.baseMutations||[]).map(h=>Xa(i.Wt,h));for(let h=0;h<n.mutations.length-1;++h){const m=n.mutations[h];h+1<n.mutations.length&&void 0!==n.mutations[h+1].transform&&(m.updateTransforms=n.mutations[h+1].transform.fieldTransforms,n.mutations.splice(h+1,1),++h)}const a=n.mutations.map(h=>Xa(i.Wt,h)),c=wr.fromMillis(n.localWriteTimeMs);return new k0(n.batchId,c,r,a)}function Ed(i){const n=_d(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?_d(i.lastLimboFreeSnapshotVersion):xt.min();let a;var c;return void 0!==i.query.documents?(ft(1===(c=i.query).documents.length),a=cs(ai(ds(c.documents[0])))):a=cs(fd(i.query)),new Qo(a,i.targetId,0,i.lastListenSequenceNumber,n,r,br.fromBase64String(i.resumeToken))}function FI(i,n){const r=yd(n.snapshotVersion),a=yd(n.lastLimboFreeSnapshotVersion);let c;c=Im(n.target)?R0(i.Wt,n.target):km(i.Wt,n.target);const h=n.resumeToken.toBase64();return new Ci(n.targetId,nd(n.target),r,h,n.sequenceNumber,a,c)}function U0(i){const n=fd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?dI(n,n.limit,"L"):n}class AR{getBundleMetadata(n,r){return rx(n).get(r).next(a=>{if(a)return{id:(c=a).bundleId,createTime:_d(c.createTime),version:c.version};var c})}saveBundleMetadata(n,r){return rx(n).put({bundleId:(a=r).id,createTime:yd(cr(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return ix(n).get(r).next(a=>{if(a)return{name:(c=a).name,query:U0(c.bundledQuery),readTime:_d(c.readTime)};var c})}saveNamedQuery(n,r){return ix(n).put({name:(a=r).name,readTime:yd(cr(a.readTime)),bundledQuery:a.bundledQuery});var a}}function rx(i){return Dr(i,pd.store)}function ix(i){return Dr(i,gd.store)}class B0{constructor(){this.Gt=new j0}addToCollectionParentIndex(n,r){return this.Gt.add(r),Ae.resolve()}getCollectionParents(n,r){return Ae.resolve(this.Gt.getEntries(r))}}class j0{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),c=this.index[r]||new Ln(jt.comparator),h=!c.has(a);return this.index[r]=c.add(a),h}has(n){const r=n.lastSegment(),a=n.popLast(),c=this.index[r];return c&&c.has(a)}getEntries(n){return(this.index[n]||new Ln(jt.comparator)).toArray()}}class sx{constructor(){this.zt=new j0}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),c=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const h={collectionId:a,parent:oo(c)};return LI(n).put(h)}return Ae.resolve()}getCollectionParents(n,r){const a=[],c=IDBKeyRange.bound([r,""],[Jb(r),""],!1,!0);return LI(n).Lt(c).next(h=>{for(const m of h){if(m.collectionId!==r)break;a.push(eu(m.parent))}return a})}}function LI(i){return Dr(i,wc.store)}const VI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bi{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new bi(n,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function UI(i,n,r){const a=i.store(wn.store),c=i.store(ui.store),h=[],m=IDBKeyRange.only(r.batchId);let w=0;const D=a.Kt({range:m},(R,O,q)=>(w++,q.delete()));h.push(D.next(()=>{ft(1===w)}));const A=[];for(const R of r.mutations){const O=ui.key(n,R.key.path,r.batchId);h.push(c.delete(O)),A.push(R.key)}return Ae.waitFor(h).next(()=>A)}function Nf(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw et();n=i.noDocument}return JSON.stringify(n).length}bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(41943040,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);class Mf{constructor(n,r,a,c){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=c,this.Jt={}}static Yt(n,r,a,c){ft(""!==n.uid);const h=n.isAuthenticated()?n.uid:"";return new Mf(h,r,a,c)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(n).Kt({index:wn.userMutationsIndex,range:a},(c,h,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(n,r,a,c){const h=jn(n),m=Wi(n);return m.add({}).next(w=>{ft("number"==typeof w);const D=new k0(w,r,a,c),A=function(q,Z,ge){const ke=ge.baseMutations.map(vt=>Pm(q.Wt,vt)),$e=ge.mutations.map(vt=>Pm(q.Wt,vt));return new wn(Z,ge.batchId,ge.localWriteTime.toMillis(),ke,$e)}(this.N,this.userId,D),R=[];let O=new Ln((q,Z)=>Ot(q.canonicalString(),Z.canonicalString()));for(const q of c){const Z=ui.key(this.userId,q.key.path,w);O=O.add(q.key.path.popLast()),R.push(m.put(A)),R.push(h.put(Z,ui.PLACEHOLDER))}return O.forEach(q=>{R.push(this.Ht.addToCollectionParentIndex(n,q))}),n.addOnCommittedListener(()=>{this.Jt[w]=D.keys()}),Ae.waitFor(R).next(()=>D)})}lookupMutationBatch(n,r){return Wi(n).get(r).next(a=>a?(ft(a.userId===this.userId),vd(this.N,a)):null)}Xt(n,r){return this.Jt[r]?Ae.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const c=a.keys();return this.Jt[r]=c,c}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,c=IDBKeyRange.lowerBound([this.userId,a]);let h=null;return Wi(n).Kt({index:wn.userMutationsIndex,range:c},(m,w,D)=>{w.userId===this.userId&&(ft(w.batchId>=a),h=vd(this.N,w)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Wi(n).Kt({index:wn.userMutationsIndex,range:r,reverse:!0},(c,h,m)=>{a=h.batchId,m.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(n).Lt(wn.userMutationsIndex,r).next(a=>a.map(c=>vd(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=ui.prefixForPath(this.userId,r.path),c=IDBKeyRange.lowerBound(a),h=[];return jn(n).Kt({range:c},(m,w,D)=>{const[A,R,O]=m,q=eu(R);if(A===this.userId&&r.path.isEqual(q))return Wi(n).get(O).next(Z=>{if(!Z)throw et();ft(Z.userId===this.userId),h.push(vd(this.N,Z))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Ln(Ot);const c=[];return r.forEach(h=>{const m=ui.prefixForPath(this.userId,h.path),w=IDBKeyRange.lowerBound(m),D=jn(n).Kt({range:w},(A,R,O)=>{const[q,Z,ge]=A,ke=eu(Z);q===this.userId&&h.path.isEqual(ke)?a=a.add(ge):O.done()});c.push(D)}),Ae.waitFor(c).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,c=a.length+1,h=ui.prefixForPath(this.userId,a),m=IDBKeyRange.lowerBound(h);let w=new Ln(Ot);return jn(n).Kt({range:m},(D,A,R)=>{const[O,q,Z]=D,ge=eu(q);O===this.userId&&a.isPrefixOf(ge)?ge.length===c&&(w=w.add(Z)):R.done()}).next(()=>this.Zt(n,w))}Zt(n,r){const a=[],c=[];return r.forEach(h=>{c.push(Wi(n).get(h).next(m=>{if(null===m)throw et();ft(m.userId===this.userId),a.push(vd(this.N,m))}))}),Ae.waitFor(c).next(()=>a)}removeMutationBatch(n,r){return UI(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Ae.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Ae.resolve();const a=IDBKeyRange.lowerBound(ui.prefixForUser(this.userId)),c=[];return jn(n).Kt({range:a},(h,m,w)=>{if(h[0]===this.userId){const D=eu(h[1]);c.push(D)}else w.done()}).next(()=>{ft(0===c.length)})})}containsKey(n,r){return BI(n,this.userId,r)}ee(n){return H0(n).get(this.userId).next(r=>r||new tu(this.userId,-1,""))}}function BI(i,n,r){const a=ui.prefixForPath(n,r.path),c=a[1],h=IDBKeyRange.lowerBound(a);let m=!1;return jn(i).Kt({range:h,qt:!0},(w,D,A)=>{const[R,O,q]=w;R===n&&O===c&&(m=!0),A.done()}).next(()=>m)}function Wi(i){return Dr(i,wn.store)}function jn(i){return Dr(i,ui.store)}function H0(i){return Dr(i,tu.store)}class kr{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new kr(0)}static ie(){return new kr(-1)}}class $0{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new kr(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>xt.fromTimestamp(new wr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(c=>(c.highestListenSequenceNumber=r,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.oe(n,c)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>wd(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(ft(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let c=0;const h=[];return wd(n).Kt((m,w)=>{const D=Ed(w);D.sequenceNumber<=r&&null===a.get(D.targetId)&&(c++,h.push(this.removeTargetData(n,D)))}).next(()=>Ae.waitFor(h)).next(()=>c)}forEachTarget(n,r){return wd(n).Kt((a,c)=>{const h=Ed(c);r(h)})}re(n){return G0(n).get(qi.key).next(r=>(ft(null!==r),r))}oe(n,r){return G0(n).put(qi.key,r)}ae(n,r){return wd(n).put(FI(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=nd(r),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let h=null;return wd(n).Kt({range:c,index:Ci.queryTargetsIndexName},(m,w,D)=>{const A=Ed(w);bm(r,A.target)&&(h=A,D.done())}).next(()=>h)}addMatchingKeys(n,r,a){const c=[],h=Jo(n);return r.forEach(m=>{const w=oo(m.path);c.push(h.put(new lr(a,w))),c.push(this.referenceDelegate.addReference(n,a,m))}),Ae.waitFor(c)}removeMatchingKeys(n,r,a){const c=Jo(n);return Ae.forEach(r,h=>{const m=oo(h.path);return Ae.waitFor([c.delete([a,m]),this.referenceDelegate.removeReference(n,a,h)])})}removeMatchingKeysForTargetId(n,r){const a=Jo(n),c=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),c=Jo(n);let h=nn();return c.Kt({range:a,qt:!0},(m,w,D)=>{const A=eu(m[1]),R=new tt(A);h=h.add(R)}).next(()=>h)}containsKey(n,r){const a=oo(r.path),c=IDBKeyRange.bound([a],[Jb(a)],!1,!0);let h=0;return Jo(n).Kt({index:lr.documentTargetsIndex,qt:!0,range:c},([m,w],D,A)=>{0!==m&&(h++,A.done())}).next(()=>h>0)}Et(n,r){return wd(n).get(r).next(a=>a?Ed(a):null)}}function wd(i){return Dr(i,Ci.store)}function G0(i){return Dr(i,qi.store)}function Jo(i){return Dr(i,lr.store)}function nu(i){return q0.apply(this,arguments)}function q0(){return(q0=(0,Ee.Z)(function*(i){if(i.code!==pe.FAILED_PRECONDITION||i.message!==Um)throw i;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function jI([i,n],[r,a]){const c=Ot(i,r);return 0===c?Ot(n,a):c}class ox{constructor(n){this.ue=n,this.buffer=new Ln(jI),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();jI(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class HI{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,Ee.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(c){Cc(c)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield nu(c)}yield r._e(n)}))}}class ax{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return Ae.resolve(Hi.T);const a=new ox(r);return this.me.forEachTarget(n,c=>a.fe(c.sequenceNumber)).next(()=>this.me.ye(n,c=>a.fe(c))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(VI)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VI):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,c,h,m,w,D,A;const R=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),c=this.params.maximumSequenceNumbersToCollect):c=O,m=Date.now(),this.nthSequenceNumber(n,c))).next(O=>(a=O,w=Date.now(),this.removeTargets(n,a,r))).next(O=>(h=O,D=Date.now(),this.removeOrphanedDocuments(n,a))).next(O=>(A=Date.now(),o0()<=ec.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-R}ms\n\tDetermined least recently used ${c} in `+(w-m)+`ms\n\tRemoved ${h} targets in `+(D-w)+`ms\n\tRemoved ${O} documents in `+(A-D)+`ms\nTotal Duration: ${A-R}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:h,documentsRemoved:O})))}}class xR{constructor(n,r){this.db=n,this.garbageCollector=new ax(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(c=>a+c))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,c)=>r(c))}addReference(n,r,a){return jm(n,a)}removeReference(n,r,a){return jm(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return jm(n,r)}Ie(n,r){return function(a,c){let h=!1;return H0(a).jt(m=>BI(a,m,c).next(w=>(w&&(h=!0),Ae.resolve(!w)))).next(()=>h)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let h=0;return this.Te(n,(m,w)=>{if(w<=r){const D=this.Ie(n,m).next(A=>{if(!A)return h++,a.getEntry(n,m).next(()=>(a.removeEntry(m),Jo(n).delete([0,oo(m.path)])))});c.push(D)}}).next(()=>Ae.waitFor(c)).next(()=>a.apply(n)).next(()=>h)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return jm(n,r)}Te(n,r){const a=Jo(n);let c,h=Hi.T;return a.Kt({index:lr.documentTargetsIndex},([m,w],{path:D,sequenceNumber:A})=>{0===m?(h!==Hi.T&&r(new tt(eu(c)),h),h=A,c=D):h=Hi.T}).next(()=>{h!==Hi.T&&r(new tt(eu(c)),h)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function jm(i,n){return Jo(i).put((a=i.currentSequenceNumber,new lr(0,oo(n.path),a)));var a}class Cd{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[c,h]of a)if(this.equalsFn(c,n))return h}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),c=this.inner[a];if(void 0!==c){for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],n))return void(c[h]=[n,r]);c.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],n))return 1===a.length?delete this.inner[r]:a.splice(c,1),!0;return!1}forEach(n){za(this.inner,(r,a)=>{for(const[c,h]of a)n(c,h)})}isEmpty(){return eI(this.inner)}}class Ic{constructor(){this.changes=new Cd(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:xt.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:Dn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Ae.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class RR{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return Dc(n).put(Of(r),a)}removeEntry(n,r){const a=Dc(n),c=Of(r);return a.delete(c)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return Dc(n).get(Of(r)).next(a=>this.Re(r,a))}be(n,r){return Dc(n).get(Of(r)).next(a=>({document:this.Re(r,a),size:Nf(a)}))}getEntries(n,r){let a=$i();return this.Pe(n,r,(c,h)=>{const m=this.Re(c,h);a=a.insert(c,m)}).next(()=>a)}ve(n,r){let a=$i(),c=new Ir(tt.comparator);return this.Pe(n,r,(h,m)=>{const w=this.Re(h,m);a=a.insert(h,w),c=c.insert(h,Nf(m))}).next(()=>({documents:a,Ve:c}))}Pe(n,r,a){if(r.isEmpty())return Ae.resolve();const c=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),h=r.getIterator();let m=h.getNext();return Dc(n).Kt({range:c},(w,D,A)=>{const R=tt.fromSegments(w);for(;m&&tt.comparator(m,R)<0;)a(m,null),m=h.getNext();m&&m.isEqual(R)&&(a(m,D),m=h.hasNext()?h.getNext():null),m?A.Mt(m.path.toArray()):A.done()}).next(()=>{for(;m;)a(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(n,r,a){let c=$i();const h=r.path.length+1,m={};if(a.isEqual(xt.min())){const w=r.path.toArray();m.range=IDBKeyRange.lowerBound(w)}else{const w=r.path.toArray(),D=V0(a);m.range=IDBKeyRange.lowerBound([w,D],!0),m.index=Ut.collectionReadTimeIndex}return Dc(n).Kt(m,(w,D,A)=>{if(w.length!==h)return;const R=PI(this.N,D);r.path.isPrefixOf(R.key.path)?gc(r,R)&&(c=c.insert(R.key,R)):A.done()}).next(()=>c)}newChangeBuffer(n){return new $I(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return GI(n).get(ao.key).next(r=>(ft(!!r),r))}Ae(n,r){return GI(n).put(ao.key,r)}Re(n,r){if(r){const a=PI(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(xt.min()))return a}return Dn.newInvalidDocument(n)}}class $I extends Ic{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Cd(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(n){const r=[];let a=0,c=new Ln((h,m)=>Ot(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const w=this.De.get(h);if(m.document.isValidDocument()){const D=L0(this.Se.N,m.document,this.getReadTime(h));c=c.add(h.path.popLast()),a+=Nf(D)-w,r.push(this.Se.addEntry(n,h,D))}else if(a-=w,this.trackRemovals){const D=L0(this.Se.N,Dn.newNoDocument(h,xt.min()),this.getReadTime(h));r.push(this.Se.addEntry(n,h,D))}else r.push(this.Se.removeEntry(n,h))}),c.forEach(h=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,h))}),r.push(this.Se.updateMetadata(n,a)),Ae.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:c})=>(c.forEach((h,m)=>{this.De.set(h,m)}),a))}}function GI(i){return Dr(i,ao.store)}function Dc(i){return Dr(i,Ut.store)}function Of(i){return i.path.toArray()}class ux{constructor(n){this.N=n}Ct(n,r,a,c){ft(a<c&&a>=0&&c<=11);const h=new Rf("createOrUpgrade",r);var w;a<1&&c>=1&&(n.createObjectStore(Gi.store),(w=n).createObjectStore(tu.store,{keyPath:tu.keyPath}),w.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0}),w.createObjectStore(ui.store),Hm(n),function(w){w.createObjectStore(Ut.store)}(n));let m=Ae.resolve();return a<3&&c>=3&&(0!==a&&(function(w){w.deleteObjectStore(lr.store),w.deleteObjectStore(Ci.store),w.deleteObjectStore(qi.store)}(n),Hm(n)),m=m.next(()=>function(w){const D=w.store(qi.store),A=new qi(0,0,xt.min().toTimestamp(),0);return D.put(qi.key,A)}(h))),a<4&&c>=4&&(0!==a&&(m=m.next(()=>function(w,D){return D.store(wn.store).Lt().next(A=>{w.deleteObjectStore(wn.store),w.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0});const R=D.store(wn.store),O=A.map(q=>R.put(q));return Ae.waitFor(O)})}(n,h))),m=m.next(()=>{!function(w){w.createObjectStore(Yo.store,{keyPath:Yo.keyPath})}(n)})),a<5&&c>=5&&(m=m.next(()=>this.Ce(h))),a<6&&c>=6&&(m=m.next(()=>(function(w){w.createObjectStore(ao.store)}(n),this.Ne(h)))),a<7&&c>=7&&(m=m.next(()=>this.xe(h))),a<8&&c>=8&&(m=m.next(()=>this.ke(n,h))),a<9&&c>=9&&(m=m.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(n),function(w){const D=w.objectStore(Ut.store);D.createIndex(Ut.readTimeIndex,Ut.readTimeIndexPath,{unique:!1}),D.createIndex(Ut.collectionReadTimeIndex,Ut.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&c>=10&&(m=m.next(()=>this.$e(h))),a<11&&c>=11&&(m=m.next(()=>{(function(w){w.createObjectStore(pd.store,{keyPath:pd.keyPath})})(n),function(w){w.createObjectStore(gd.store,{keyPath:gd.keyPath})}(n)})),m}Ne(n){let r=0;return n.store(Ut.store).Kt((a,c)=>{r+=Nf(c)}).next(()=>{const a=new ao(r);return n.store(ao.store).put(ao.key,a)})}Ce(n){const r=n.store(tu.store),a=n.store(wn.store);return r.Lt().next(c=>Ae.forEach(c,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Lt(wn.userMutationsIndex,m).next(w=>Ae.forEach(w,D=>{ft(D.userId===h.userId);const A=vd(this.N,D);return UI(n,h.userId,A).next(()=>{})}))}))}xe(n){const r=n.store(lr.store),a=n.store(Ut.store);return n.store(qi.store).get(qi.key).next(c=>{const h=[];return a.Kt((m,w)=>{const D=new jt(m),A=[0,oo(D)];h.push(r.get(A).next(R=>R?Ae.resolve():r.put(new lr(0,oo(D),c.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(h))})}ke(n,r){n.createObjectStore(wc.store,{keyPath:wc.keyPath});const a=r.store(wc.store),c=new j0,h=m=>{if(c.add(m)){const w=m.lastSegment(),D=m.popLast();return a.put({collectionId:w,parent:oo(D)})}};return r.store(Ut.store).Kt({qt:!0},(m,w)=>{const D=new jt(m);return h(D.popLast())}).next(()=>r.store(ui.store).Kt({qt:!0},([m,w,D],A)=>{const R=eu(w);return h(R.popLast())}))}$e(n){const r=n.store(Ci.store);return r.Kt((a,c)=>{const h=Ed(c),m=FI(this.N,h);return r.put(m)})}}function Hm(i){i.createObjectStore(lr.store,{keyPath:lr.keyPath}).createIndex(lr.documentTargetsIndex,lr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Ci.store,{keyPath:Ci.keyPath}).createIndex(Ci.queryTargetsIndexName,Ci.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(qi.store)}const z0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class W0{constructor(n,r,a,c,h,m,w,D,A,R){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=h,this.window=m,this.document=w,this.Fe=A,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!W0.bt())throw new Ne(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xR(this,c),this.We=r+"main",this.N=new md(D),this.Ge=new zi(this.We,11,new ux(this.N)),this.ze=new $0(this.referenceDelegate,this.N),this.Ht=new sx,this.He=new RR(this.N,this.Ht),this.Je=new AR,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,z0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Hi(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,Ee.Z)(function*(c){if(r.started)return n(c)});return function(c){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,Ee.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,Ee.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>$m(n).put(new Yo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Cc(n))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Pf(n).get(Gi.key).next(r=>Ae.resolve(this.cn(r)))}un(n){return $m(n).delete(this.clientId)}hn(){var n=this;return(0,Ee.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Dr(a,Yo.store);return c.Lt().next(h=>{const m=n.fn(h,18e5),w=h.filter(D=>-1===m.indexOf(D));return Ae.forEach(w,D=>c.delete(D.clientId)).next(()=>w)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Ae.resolve(!0):Pf(n).get(Gi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,z0);return!1}}return!(!this.networkEnabled||!this.inForeground)||$m(n).Lt().next(a=>void 0===this.fn(a,5e3).find(c=>{if(this.clientId!==c.clientId){const m=!this.inForeground&&c.inForeground,w=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||m&&w)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Fe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,Ee.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Gi.store,Yo.store],r=>{const a=new OI(r,Hi.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>$m(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return Mf.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let h;return Fe("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",ex,m=>(h=new OI(m,this.Le?this.Le.next():Hi.T),"readwrite-primary"===r?this.sn(h).next(w=>!!w||this.rn(h)).next(w=>{if(!w)throw Xn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(pe.FAILED_PRECONDITION,Um);return a(h)}).next(w=>this.an(h).next(()=>w)):this.En(h).next(()=>a(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(n){return Pf(n).get(Gi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ne(pe.FAILED_PRECONDITION,z0)})}an(n){const r=new Gi(this.clientId,this.allowTabSynchronization,Date.now());return Pf(n).put(Gi.key,r)}static bt(){return zi.bt()}on(n){const r=Pf(n);return r.get(Gi.key).next(a=>this.cn(a)?(Fe("IndexedDbPersistence","Releasing primary lease."),r.delete(Gi.key)):Ae.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(Xn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,At.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Fe("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Xn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Xn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Pf(i){return Dr(i,Gi.store)}function $m(i){return Dr(i,Yo.store)}function Z0(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class cx{constructor(n,r){this.progress=n,this.Tn=r}}class qI{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(c=>{for(const h of a)h.applyToLocalView(c);return c})}bn(n,r){n.forEach((a,c)=>{for(const h of r)h.applyToLocalView(c)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return tt.isDocumentKey((c=r).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(n,r.path):v0(r)?this.Sn(n,r,a):this.Dn(n,r,a);var c}Vn(n,r){return this.An(n,new tt(r)).next(a=>{let c=Mm();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Sn(n,r,a){const c=r.collectionGroup;let h=Mm();return this.Ht.getCollectionParents(n,c).next(m=>Ae.forEach(m,w=>{const D=(A=r,R=w.child(c),new Ka(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,R;return this.Dn(n,D,a).next(A=>{A.forEach((R,O)=>{h=h.insert(R,O)})})}).next(()=>h))}Dn(n,r,a){let c,h;return this.He.getDocumentsMatchingQuery(n,r,a).next(m=>(c=m,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(m=>(h=m,this.Cn(n,h,c).next(w=>{c=w;for(const D of h)for(const A of D.mutations){const R=A.key;let O=c.get(R);null==O&&(O=Dn.newInvalidDocument(R),c=c.insert(R,O)),b0(A,O,D.localWriteTime),O.isFoundDocument()||(c=c.remove(R))}}))).next(()=>(c.forEach((m,w)=>{gc(r,w)||(c=c.remove(m))}),c))}Cn(n,r,a){let c=nn();for(const m of r)for(const w of m.mutations)w instanceof Ya&&null===a.get(w.key)&&(c=c.add(w.key));let h=a;return this.He.getEntries(n,c).next(m=>(m.forEach((w,D)=>{D.isFoundDocument()&&(h=h.insert(w,D))}),h))}}class K0{constructor(n,r,a,c){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=c}static kn(n,r){let a=nn(),c=nn();for(const h of r.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new K0(n,r.fromCache,a,c)}}class zI{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,c){return 0===(h=r).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||a.isEqual(xt.min())?this.Fn(n,r):this.On.Pn(n,c).next(h=>{const m=this.Mn(r,h);return(vf(r)||y0(r))&&this.Ln(r.limitType,m,c,a)?this.Fn(n,r):(o0()<=ec.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sm(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(w=>(m.forEach(D=>{w=w.insert(D.key,D)}),w)))});var h}Mn(n,r){let a=new Ln(E0(n));return r.forEach((c,h)=>{gc(n,h)&&(a=a.add(h))}),a}Ln(n,r,a,c){if(a.size!==r.size)return!0;const h="F"===n?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Fn(n,r){return o0()<=ec.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Sm(r)),this.On.getDocumentsMatchingQuery(n,r,xt.min())}}class lx{constructor(n,r,a,c){this.persistence=n,this.Bn=r,this.N=c,this.Un=new Ir(Ot),this.qn=new Cd(h=>nd(h),bm),this.Kn=xt.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new qI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function bd(i,n,r,a){return new lx(i,n,r,a)}function Y0(i,n){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,Ee.Z)(function*(i,n){const r=Be(i);let a=r.In,c=r.Qn;const h=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let w;return r.In.getAllMutationBatches(m).next(D=>(w=D,a=r.persistence.getMutationQueue(n),c=new qI(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(m))).next(D=>{const A=[],R=[];let O=nn();for(const q of w){A.push(q.batchId);for(const Z of q.mutations)O=O.add(Z.key)}for(const q of D){R.push(q.batchId);for(const Z of q.mutations)O=O.add(Z.key)}return c.Pn(m,O).next(q=>({Wn:q,removedBatchIds:A,addedBatchIds:R}))})});return r.In=a,r.Qn=c,r.Bn.$n(r.Qn),h})).apply(this,arguments)}function WI(i,n){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=n.batch.keys(),h=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,w,D,A){const R=D.batch,O=R.keys();let q=Ae.resolve();return O.forEach(Z=>{q=q.next(()=>A.getEntry(w,Z)).next(ge=>{const ke=D.docVersions.get(Z);ft(null!==ke),ge.version.compareTo(ke)<0&&(R.applyToRemoteDocument(ge,D),ge.isValidDocument()&&A.addEntry(ge,D.commitVersion))})}),q.next(()=>m.In.removeMutationBatch(w,R))}(r,a,n,h).next(()=>h.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,c))})}function Q0(i){const n=Be(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function ZI(i,n){const r=Be(i),a=n.snapshotVersion;let c=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});c=r.Un;const w=[];n.targetChanges.forEach((A,R)=>{const O=c.get(R);if(!O)return;w.push(r.ze.removeMatchingKeys(h,A.removedDocuments,R).next(()=>r.ze.addMatchingKeys(h,A.addedDocuments,R)));const q=A.resumeToken;if(q.approximateByteSize()>0){const Z=O.withResumeToken(q,a).withSequenceNumber(h.currentSequenceNumber);c=c.insert(R,Z),ge=O,$e=A,ft((ke=Z).resumeToken.approximateByteSize()>0),(0===ge.resumeToken.approximateByteSize()||ke.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||$e.addedDocuments.size+$e.modifiedDocuments.size+$e.removedDocuments.size>0)&&w.push(r.ze.updateTargetData(h,Z))}var ge,ke,$e});let D=$i();if(n.documentUpdates.forEach((A,R)=>{n.resolvedLimboDocuments.has(A)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(h,A))}),w.push(KI(h,m,n.documentUpdates,a,void 0).next(A=>{D=A})),!a.isEqual(xt.min())){const A=r.ze.getLastRemoteSnapshotVersion(h).next(R=>r.ze.setTargetsMetadata(h,h.currentSequenceNumber,a));w.push(A)}return Ae.waitFor(w).next(()=>m.apply(h)).next(()=>r.Qn.vn(h,D)).next(()=>D)}).then(h=>(r.Un=c,h))}function KI(i,n,r,a,c){let h=nn();return r.forEach(m=>h=h.add(m)),n.getEntries(i,h).next(m=>{let w=$i();return r.forEach((D,A)=>{const R=m.get(D),O=(null==c?void 0:c.get(D))||a;A.isNoDocument()&&A.version.isEqual(xt.min())?(n.removeEntry(D,O),w=w.insert(D,A)):!R.isValidDocument()||A.version.compareTo(R.version)>0||0===A.version.compareTo(R.version)&&R.hasPendingWrites?(n.addEntry(A,O),w=w.insert(D,A)):Fe("LocalStore","Ignoring outdated watch update for ",D,". Current version:",R.version," Watch version:",A.version)}),w})}function dx(i,n){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function Id(i,n){const r=Be(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return r.ze.getTargetData(a,n).next(h=>h?(c=h,Ae.resolve(c)):r.ze.allocateTargetId(a).next(m=>(c=new Qo(n,m,0,a.currentSequenceNumber),r.ze.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=r.Un.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function Dd(i,n,r){return J0.apply(this,arguments)}function J0(){return(J0=(0,Ee.Z)(function*(i,n,r){const a=Be(i),c=a.Un.get(n),h=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!Cc(m))throw m;Fe("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}a.Un=a.Un.remove(n),a.qn.delete(c.target)})).apply(this,arguments)}function qm(i,n,r){const a=Be(i);let c=xt.min(),h=nn();return a.persistence.runTransaction("Execute query","readonly",m=>function(w,D,A){const R=Be(w),O=R.qn.get(A);return void 0!==O?Ae.resolve(R.Un.get(O)):R.ze.getTargetData(D,A)}(a,m,cs(n)).next(w=>{if(w)return c=w.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(m,w.targetId).next(D=>{h=D})}).next(()=>a.Bn.getDocumentsMatchingQuery(m,n,r?c:xt.min(),r?h:nn())).next(w=>({documents:w,Gn:h})))}function YI(i,n){const r=Be(i),a=Be(r.ze),c=r.Un.get(n);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",h=>a.Et(h,n).next(m=>m?m.target:null))}function Td(i){const n=Be(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,c,h){const m=Be(a);let w=$i(),D=V0(h);const A=Dc(c),R=IDBKeyRange.lowerBound(D,!0);return A.Kt({index:Ut.readTimeIndex,range:R},(O,q)=>{const Z=PI(m.N,q);w=w.insert(Z.key,Z),D=q.readTime}).next(()=>({Tn:w,readTime:kI(D)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function X0(){return(X0=(0,Ee.Z)(function*(i){const n=Be(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const c=Dc(a);let h=xt.min();return c.Kt({index:Ut.readTimeIndex,reverse:!0},(m,w,D)=>{w.readTime&&(h=kI(w.readTime)),D.done()}).next(()=>h)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function hs(){return(hs=(0,Ee.Z)(function*(i,n,r,a){const c=Be(i);let h=nn(),m=$i(),w=II();for(const R of r){const O=n.zn(R.metadata.name);R.document&&(h=h.add(O)),m=m.insert(O,n.Hn(R)),w=w.insert(O,n.Jn(R.metadata.readTime))}const D=c.jn.newChangeBuffer({trackRemovals:!0}),A=yield Id(c,(R=a,cs(ai(jt.fromString(`__bundle__/docs/${R}`)))));var R;return c.persistence.runTransaction("Apply bundle documents","readwrite",R=>KI(R,D,m,xt.min(),w).next(O=>(D.apply(R),O)).next(O=>c.ze.removeMatchingKeysForTargetId(R,A.targetId).next(()=>c.ze.addMatchingKeys(R,h,A.targetId)).next(()=>c.Qn.vn(R,O)).next(()=>O)))})).apply(this,arguments)}function hx(i,n){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,Ee.Z)(function*(i,n,r=nn()){const a=yield Id(i,cs(U0(n.bundledQuery))),c=Be(i);return c.persistence.runTransaction("Save named query","readwrite",h=>{const m=cr(n.readTime);if(a.snapshotVersion.compareTo(m)>=0)return c.Je.saveNamedQuery(h,n);const w=a.withResumeToken(br.EMPTY_BYTE_STRING,m);return c.Un=c.Un.insert(w.targetId,w),c.ze.updateTargetData(h,w).next(()=>c.ze.removeMatchingKeysForTargetId(h,a.targetId)).next(()=>c.ze.addMatchingKeys(h,r,a.targetId)).next(()=>c.Je.saveNamedQuery(h,n))})})).apply(this,arguments)}class fx{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Ae.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:cr(a.createTime)}),Ae.resolve()}getNamedQuery(n,r){return Ae.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:U0(a.bundledQuery),readTime:cr(a.readTime)}),Ae.resolve();var a}}class tE{constructor(){this.Zn=new Ln(Fr.ts),this.es=new Ln(Fr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new Fr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new Fr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new tt(new jt([])),a=new Fr(r,n),c=new Fr(r,n+1),h=[];return this.es.forEachInRange([a,c],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new tt(new jt([])),a=new Fr(r,n),c=new Fr(r,n+1);let h=nn();return this.es.forEachInRange([a,c],m=>{h=h.add(m.key)}),h}containsKey(n){const r=new Fr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class Fr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return tt.comparator(n.key,r.key)||Ot(n.ls,r.ls)}static ns(n,r){return Ot(n.ls,r.ls)||tt.comparator(n.key,r.key)}}class nE{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Ln(Fr.ts)}checkEmpty(n){return Ae.resolve(0===this.In.length)}addMutationBatch(n,r,a,c){const h=this.fs;this.fs++;const m=new k0(h,r,a,c);this.In.push(m);for(const w of c)this.ds=this.ds.add(new Fr(w.key,h)),this.Ht.addToCollectionParentIndex(n,w.key.path.popLast());return Ae.resolve(m)}lookupMutationBatch(n,r){return Ae.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const c=this._s(r+1),h=c<0?0:c;return Ae.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new Fr(r,0),c=new Fr(r,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([a,c],m=>{const w=this.ws(m.ls);h.push(w)}),Ae.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Ln(Ot);return r.forEach(c=>{const h=new Fr(c,0),m=new Fr(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],w=>{a=a.add(w.ls)})}),Ae.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,c=a.length+1;let h=a;tt.isDocumentKey(h)||(h=h.child(""));const m=new Fr(new tt(h),0);let w=new Ln(Ot);return this.ds.forEachWhile(D=>{const A=D.key.path;return!!a.isPrefixOf(A)&&(A.length===c&&(w=w.add(D.ls)),!0)},m),Ae.resolve(this.gs(w))}gs(n){const r=[];return n.forEach(a=>{const c=this.ws(a);null!==c&&r.push(c)}),r}removeMutationBatch(n,r){ft(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return Ae.forEach(r.mutations,c=>{const h=new Fr(c.key,r.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new Fr(r,0),c=this.ds.firstAfterOrEqual(a);return Ae.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(n){return Ae.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class rE{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Ir(tt.comparator),this.size=0}addEntry(n,r,a){const c=r.key,h=this.docs.get(c),m=h?h.size:0,w=this.ps(r);return this.docs=this.docs.insert(c,{document:r.clone(),size:w,readTime:a}),this.size+=w-m,this.Ht.addToCollectionParentIndex(n,c.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return Ae.resolve(a?a.document.clone():Dn.newInvalidDocument(r))}getEntries(n,r){let a=$i();return r.forEach(c=>{const h=this.docs.get(c);a=a.insert(c,h?h.document.clone():Dn.newInvalidDocument(c))}),Ae.resolve(a)}getDocumentsMatchingQuery(n,r,a){let c=$i();const h=new tt(r.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:w,value:{document:D,readTime:A}}=m.getNext();if(!r.path.isPrefixOf(w.path))break;A.compareTo(a)<=0||gc(r,D)&&(c=c.insert(D.key,D.clone()))}return Ae.resolve(c)}Es(n,r){return Ae.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new QI(this)}getSize(n){return Ae.resolve(this.size)}}class QI extends Ic{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,c)=>{c.document.isValidDocument()?r.push(this.Se.addEntry(n,c.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Ae.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class iE{constructor(n){this.persistence=n,this.Ts=new Cd(r=>nd(r),bm),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Is=0,this.As=new tE,this.targetCount=0,this.Rs=kr.se()}forEachTarget(n,r){return this.Ts.forEach((a,c)=>r(c)),Ae.resolve()}getLastRemoteSnapshotVersion(n){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Ae.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),Ae.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new kr(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Ae.resolve()}updateTargetData(n,r){return this.ae(r),Ae.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(n,r,a){let c=0;const h=[];return this.Ts.forEach((m,w)=>{w.sequenceNumber<=r&&null===a.get(w.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(n,w.targetId)),c++)}),Ae.waitFor(h).next(()=>c)}getTargetCount(n){return Ae.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return Ae.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),Ae.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const c=this.persistence.referenceDelegate,h=[];return c&&r.forEach(m=>{h.push(c.markPotentiallyOrphaned(n,m))}),Ae.waitFor(h)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Ae.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return Ae.resolve(a)}containsKey(n,r){return Ae.resolve(this.As.containsKey(r))}}class sE{constructor(n,r){this.bs={},this.Le=new Hi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new iE(this),this.Ht=new B0,this.He=new rE(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new md(r),this.Je=new fx(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new nE(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){Fe("MemoryPersistence","Starting transaction:",n);const c=new px(this.Le.next());return this.referenceDelegate.vs(),a(c).next(h=>this.referenceDelegate.Vs(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Ss(n,r){return Ae.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class px extends NI{constructor(n){super(),this.currentSequenceNumber=n}}class oE{constructor(n){this.persistence=n,this.Ds=new tE,this.Cs=null}static Ns(n){return new oE(n)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),Ae.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),Ae.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Ae.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(c=>this.xs.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(c=>{c.forEach(h=>this.xs.add(h.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,a=>{const c=tt.fromPath(a);return this.ks(n,c).next(h=>{h||r.removeEntry(c)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function JI(i,n){return`firestore_clients_${i}_${n}`}function XI(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function zm(i,n){return`firestore_targets_${i}_${n}`}class Ad{constructor(n,r,a,c){this.user=n,this.batchId=r,this.state=a,this.error=c}static $s(n,r,a){const c=JSON.parse(a);let h,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(h=new Ne(c.error.code,c.error.message))),m?new Ad(n,r,c.state,h):(Xn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class xd{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let c,h="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(c=new Ne(a.error.code,a.error.message))),h?new xd(n,a.state,c):(Xn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Ff{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let c="object"==typeof a&&a.activeTargetIds instanceof Array,h=Tf();for(let m=0;c&&m<a.activeTargetIds.length;++m)c=_m(a.activeTargetIds[m]),h=h.add(a.activeTargetIds[m]);return c?new Ff(n,h):(Xn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class Wm{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Wm(r.clientId,r.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Zm{constructor(){this.activeTargetIds=Tf()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class aE{constructor(n,r,a,c,h){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Ir(Ot),this.started=!1,this.Ks=[];const m=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=JI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Zm),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ee.Z)(function*(){const r=yield n.syncEngine.pn();for(const c of r){if(c===n.Ls)continue;const h=n.getItem(JI(n.persistenceKey,c));if(h){const m=Ff.$s(c,h);m&&(n.qs=n.qs.insert(m.clientId,m))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const c=n.Xs(a);c&&n.Zs(c)}for(const c of n.Ks)n.Us(c);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,c)=>{c.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(zm(this.persistenceKey,n));if(a){const c=xd.$s(n,a);c&&(r=c.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(zm(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(c=>{this.ni(c)}),this.currentUser=n,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Fe("SharedClientState","READ",n,r),r}setItem(n,r){Fe("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Fe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(Fe("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ee.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const c=r.ai(a.key);return r.ci(c,null)}{const c=r.ui(a.key,a.newValue);if(c)return r.ci(c.clientId,c)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const c=r.hi(a.key,a.newValue);if(c)return r.li(c)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const c=r.fi(a.key,a.newValue);if(c)return r.di(c)}}else if(a.key===r.Hs){if(null!==a.newValue){const c=r.Xs(a.newValue);if(c)return r.Zs(c)}}else if(a.key===r.Qs){const c=function(h){let m=Hi.T;if(null!=h)try{const w=JSON.parse(h);ft("number"==typeof w),m=w}catch(w){Xn("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(a.newValue);c!==Hi.T&&r.sequenceNumberHandler(c)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const c=new Ad(this.currentUser,n,r,a),h=XI(this.persistenceKey,this.currentUser,n);this.setItem(h,c.Os())}ni(n){const r=XI(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const c=zm(this.persistenceKey,n),h=new xd(n,r,a);this.setItem(c,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Ff.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),c=Number(a[1]);return Ad.$s(new vr(void 0!==a[2]?a[2]:null),c,r)}fi(n,r){const a=this.zs.exec(n),c=Number(a[1]);return xd.$s(c,r)}Xs(n){return Wm.$s(n)}li(n){var r=this;return(0,Ee.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),c=this.ti(this.qs),h=this.ti(a),m=[],w=[];return h.forEach(D=>{c.has(D)||m.push(D)}),c.forEach(D=>{h.has(D)||w.push(D)}),this.syncEngine.gi(m,w).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=Tf();return n.forEach((a,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class uE{constructor(){this.yi=new Zm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new Zm,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class eD{Ei(n){}shutdown(){}}class tD{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gx{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class NR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,c){const h=this.Bi(n,r);Fe("RestConnection","Sending: ",h,a);const m={};return this.Ui(m,c),this.qi(n,h,m,a).then(w=>(Fe("RestConnection","Received: ",w),w),w=>{throw gf("RestConnection",`${n} failed with error: `,w,"url: ",h,"request:",a),w})}Ki(n,r,a,c){return this.Li(n,r,a,c)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+hc,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${nD[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,c){return new Promise((h,m)=>{const w=new pm;w.listenOnce(RA.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case s0.NO_ERROR:const A=w.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(A)),h(A);break;case s0.TIMEOUT:Fe("Connection",'RPC "'+n+'" timed out'),m(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case s0.HTTP_ERROR:const R=w.getStatus();if(Fe("Connection",'RPC "'+n+'" failed with status:',R,"response text:",w.getResponseText()),R>0){const O=w.getResponseJson().error;if(O&&O.status&&O.message){const q=function(Z){const ge=Z.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ge)>=0?ge:pe.UNKNOWN}(O.status);m(new Ne(q,O.message))}else m(new Ne(pe.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Fe("Connection",'RPC "'+n+'" completed.')}});const D=JSON.stringify(c);w.send(r,"POST",D,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],c=Zb(),h=xA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new NA({})),this.Ui(m.initMessageHeaders,r),(0,At.uI)()||(0,At.b$)()||(0,At.d)()||(0,At.w1)()||(0,At.Mn)()||(0,At.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");Fe("Connection","Creating WebChannel: "+w,m);const D=c.createWebChannel(w,m);let A=!1,R=!1;const O=new gx({vi:Z=>{R?Fe("Connection","Not sending because WebChannel is closed:",Z):(A||(Fe("Connection","Opening WebChannel transport."),D.open(),A=!0),Fe("Connection","WebChannel sending:",Z),D.send(Z))},Vi:()=>D.close()}),q=(Z,ge,ke)=>{Z.listen(ge,$e=>{try{ke($e)}catch(vt){setTimeout(()=>{throw vt},0)}})};return q(D,fm.EventType.OPEN,()=>{R||Fe("Connection","WebChannel transport opened.")}),q(D,fm.EventType.CLOSE,()=>{R||(R=!0,Fe("Connection","WebChannel transport closed"),O.$i())}),q(D,fm.EventType.ERROR,Z=>{R||(R=!0,gf("Connection","WebChannel transport errored:",Z),O.$i(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))}),q(D,fm.EventType.MESSAGE,Z=>{var ge;if(!R){const ke=Z.data[0];ft(!!ke);const $e=ke,vt=$e.error||(null===(ge=$e[0])||void 0===ge?void 0:ge.error);if(vt){Fe("Connection","WebChannel received error:",vt);const Rt=vt.status;let dt=function($n){const sa=Nn[$n];if(void 0!==sa)return EI(sa)}(Rt),wt=vt.message;void 0===dt&&(dt=pe.INTERNAL,wt="Unknown error status: "+Rt+" with message "+vt.message),R=!0,O.$i(new Ne(dt,wt)),D.close()}else Fe("Connection","WebChannel received:",ke),O.Oi(ke)}}),q(h,ff.STAT_EVENT,Z=>{Z.stat===Kb.PROXY?Fe("Connection","Detected buffering proxy"):Z.stat===Kb.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function Yr(){return"undefined"!=typeof window?window:null}function Xo(){return"undefined"!=typeof document?document:null}function Lf(i){return new A0(i,!0)}class cE{constructor(n,r,a=1e3,c=1.5,h=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=c,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),c=Math.max(0,r-a);c>0&&Fe("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class mx{constructor(n,r,a,c,h,m){this.Oe=n,this.er=a,this.nr=c,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new cE(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,Ee.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,Ee.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,Ee.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===pe.RESOURCE_EXHAUSTED?(Xn(r.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===pe.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const c=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(c)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,Ee.Z)(function*(){n.state=0,n.start()}))}pr(n){return Fe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends mx{constructor(n,r,a,c,h){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,h),this.N=c}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(D=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:et(),c=n.targetChange.targetIds||[],h=function(D,A){return D.D?(ft(void 0===A||"string"==typeof A),br.fromBase64String(A||"")):(ft(void 0===A||A instanceof Uint8Array),br.fromUint8Array(A||new Uint8Array))}(i,n.targetChange.resumeToken),m=n.targetChange.cause,w=m&&function(D){const A=void 0===D.code?pe.UNKNOWN:EI(D.code);return new Ne(A,D.message||"")}(m);r=new Xt(a,c,h,w||null)}else if("documentChange"in n){const a=n.documentChange,c=Bn(i,a.document.name),h=cr(a.document.updateTime),m=new Kr({mapValue:{fields:a.document.fields}}),w=Dn.newFoundDocument(c,h,m);r=new S0(a.targetIds||[],a.removedTargetIds||[],w.key,w)}else if("documentDelete"in n){const a=n.documentDelete,c=Bn(i,a.document),h=a.readTime?cr(a.readTime):xt.min(),m=Dn.newNoDocument(c,h);r=new S0([],a.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const a=n.documentRemove,c=Bn(i,a.document);r=new S0([],a.removedTargetIds||[],c,null)}else{if(!("filter"in n))return et();{const a=n.filter,h=new zA(a.count||0);r=new ud(a.targetId,h)}}var D;return r}(this.N,n),a=function(c){if(!("targetChange"in c))return xt.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?xt.min():h.readTime?cr(h.readTime):xt.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=dd(this.N),r.addTarget=function(c,h){let m;const w=h.target;return m=Im(w)?{documents:R0(c,w)}:{query:km(c,w)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=YA(c,h.resumeToken):h.snapshotVersion.compareTo(xt.min())>0&&(m.readTime=Ds(c,h.snapshotVersion.toTimestamp())),m}(this.N,n);const a=function(i,n){const r=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=dd(this.N),r.removeTarget=n,this.wr(r)}}class yx extends mx{constructor(n,r,a,c,h){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,h),this.N=c,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ft(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(ft(void 0!==n),i.map(r=>function(a,c){let h=cr(a.updateTime?a.updateTime:c);return h.isEqual(xt.min())&&(h=cr(c)),new HA(h,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=cr(n.commitTime);return this.listener.vr(a,r)}return ft(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=dd(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>Pm(this.N,a))};this.wr(r)}}class lE extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(n,r,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Ne(pe.UNKNOWN,c.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(n,r,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Ne(pe.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class _x{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Xn(r),this.$r=!1):Fe("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class rD{constructor(n,r,a,c,h){var m=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(w=>{a.enqueueAndForget((0,Ee.Z)(function*(){var D;ea(m)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,Ee.Z)(function*(A){const R=Be(A);R.Kr.add(4),yield ru(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield Uf(R)}),function(A){return D.apply(this,arguments)})(m))}))}),this.Wr=new _x(a,c)}}function Uf(i){return dE.apply(this,arguments)}function dE(){return(dE=(0,Ee.Z)(function*(i){if(ea(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function ru(i){return Km.apply(this,arguments)}function Km(){return(Km=(0,Ee.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function Bf(i,n){const r=Be(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),hE(r)?Ym(r):qf(r).cr()&&jf(r,n))}function iu(i,n){const r=Be(i),a=qf(r);r.qr.delete(n),a.cr()&&vx(r,n),0===r.qr.size&&(a.cr()?a.lr():ea(r)&&r.Wr.set("Unknown"))}function jf(i,n){i.Gr.Y(n.targetId),qf(i).Ir(n)}function vx(i,n){i.Gr.Y(n),qf(i).Ar(n)}function Ym(i){i.Gr=new cd({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),qf(i).start(),i.Wr.Or()}function hE(i){return ea(i)&&!qf(i).ar()&&i.qr.size>0}function ea(i){return 0===Be(i).Kr.size}function Hf(i){i.Gr=void 0}function iD(i){return fE.apply(this,arguments)}function fE(){return(fE=(0,Ee.Z)(function*(i){i.qr.forEach((n,r)=>{jf(i,n)})})).apply(this,arguments)}function pE(i,n){return $f.apply(this,arguments)}function $f(){return($f=(0,Ee.Z)(function*(i,n){Hf(i),hE(i)?(i.Wr.Lr(n),Ym(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function Ex(i,n,r){return gE.apply(this,arguments)}function gE(){return(gE=(0,Ee.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof Xt&&2===n.state&&n.cause)try{yield(a=(0,Ee.Z)(function*(c,h){const m=h.cause;for(const w of h.targetIds)c.qr.has(w)&&(yield c.remoteSyncer.rejectListen(w,m),c.qr.delete(w),c.Gr.removeTarget(w))}),function(c,h){return a.apply(this,arguments)})(i,n)}catch(a){Fe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield Gf(i,a)}else if(n instanceof S0?i.Gr.rt(n):n instanceof ud?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(xt.min()))try{const a=yield Q0(i.localStore);r.compareTo(a)>=0&&(yield function(c,h){const m=c.Gr._t(h);return m.targetChanges.forEach((w,D)=>{if(w.resumeToken.approximateByteSize()>0){const A=c.qr.get(D);A&&c.qr.set(D,A.withResumeToken(w.resumeToken,h))}}),m.targetMismatches.forEach(w=>{const D=c.qr.get(w);if(!D)return;c.qr.set(w,D.withResumeToken(br.EMPTY_BYTE_STRING,D.snapshotVersion)),vx(c,w);const A=new Qo(D.target,w,1,D.sequenceNumber);jf(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(a){Fe("RemoteStore","Failed to raise snapshot:",a),yield Gf(i,a)}var a})).apply(this,arguments)}function Gf(i,n,r){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,Ee.Z)(function*(i,n,r){if(!Cc(n))throw n;i.Kr.add(1),yield ru(i),i.Wr.set("Offline"),r||(r=()=>Q0(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Uf(i)}))})).apply(this,arguments)}function mE(i,n){return n().catch(r=>Gf(i,r,n))}function Rd(i){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,Ee.Z)(function*(i){const n=Be(i),r=Tc(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;sD(n);)try{const c=yield dx(n.localStore,a);if(null===c){0===n.Ur.length&&r.lr();break}a=c.batchId,wx(n,c)}catch(c){yield Gf(n,c)}oD(n)&&yE(n)})).apply(this,arguments)}function sD(i){return ea(i)&&i.Ur.length<10}function wx(i,n){i.Ur.push(n);const r=Tc(i);r.cr()&&r.br&&r.Pr(n.mutations)}function oD(i){return ea(i)&&!Tc(i).ar()&&i.Ur.length>0}function yE(i){Tc(i).start()}function Cx(i){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,Ee.Z)(function*(i){Tc(i).Sr()})).apply(this,arguments)}function aD(i){return ey.apply(this,arguments)}function ey(){return(ey=(0,Ee.Z)(function*(i){const n=Tc(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function uD(i,n,r){return _E.apply(this,arguments)}function _E(){return(_E=(0,Ee.Z)(function*(i,n,r){const a=i.Ur.shift(),c=F0.from(a,n,r);yield mE(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Rd(i)})).apply(this,arguments)}function bx(i,n){return vE.apply(this,arguments)}function vE(){return(vE=(0,Ee.Z)(function*(i,n){var r;n&&Tc(i).br&&(yield(r=(0,Ee.Z)(function*(a,c){if(D0(h=c.code)&&h!==pe.ABORTED){const m=a.Ur.shift();Tc(a).hr(),yield mE(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield Rd(a)}var h}),function(a,c){return r.apply(this,arguments)})(i,n)),oD(i)&&yE(i)})).apply(this,arguments)}function ty(i,n){return cD.apply(this,arguments)}function cD(){return(cD=(0,Ee.Z)(function*(i,n){const r=Be(i);n?(r.Kr.delete(2),yield Uf(r)):n||(r.Kr.add(2),yield ru(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function qf(i){return i.zr||(i.zr=function(n,r,a){const c=Be(n);return c.Cr(),new Vf(r,c.nr,c.credentials,c.N,a)}(i.datastore,i.asyncQueue,{Si:iD.bind(null,i),Ci:pE.bind(null,i),Tr:Ex.bind(null,i)}),i.jr.push(function(){var n=(0,Ee.Z)(function*(r){r?(i.zr.hr(),hE(i)?Ym(i):i.Wr.set("Unknown")):(yield i.zr.stop(),Hf(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function Tc(i){return i.Hr||(i.Hr=function(n,r,a){const c=Be(n);return c.Cr(),new yx(r,c.nr,c.credentials,c.N,a)}(i.datastore,i.asyncQueue,{Si:Cx.bind(null,i),Ci:bx.bind(null,i),Vr:aD.bind(null,i),vr:uD.bind(null,i)}),i.jr.push(function(){var n=(0,Ee.Z)(function*(r){r?(i.Hr.hr(),yield Rd(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Fe("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class lD{constructor(n,r,a,c,h){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=c,this.removalCallback=h,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(n,r,a,c,h){const m=Date.now()+a,w=new lD(n,r,m,c,h);return w.start(a),w}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(i,n){if(Xn("AsyncQueue",`${n}: ${i}`),Cc(i))return new Ne(pe.UNAVAILABLE,`${n}: ${i}`);throw i}class Wf{constructor(n){this.comparator=n?(r,a)=>n(r,a)||tt.comparator(r.key,a.key):(r,a)=>tt.comparator(r.key,a.key),this.keyedMap=Mm(),this.sortedSet=new Ir(this.comparator)}static emptySet(n){return new Wf(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof Wf)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=a.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new Wf;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class Ix{constructor(){this.Jr=new Ir(tt.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):et():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class Zf{constructor(n,r,a,c,h,m,w,D){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=w,this.excludesMetadataChanges=D}static fromInitialDocuments(n,r,a,c){const h=[];return r.forEach(m=>{h.push({type:0,doc:m})}),new Zf(n,r,Wf.emptySet(r),h,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&wf(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==a[c].type||!r[c].doc.isEqual(a[c].doc))return!1;return!0}}class MR{constructor(){this.Xr=void 0,this.listeners=[]}}class OR{constructor(){this.queries=new Cd(n=>Tm(n),wf),this.onlineState="Unknown",this.Zr=new Set}}function dD(i,n){return hD.apply(this,arguments)}function hD(){return(hD=(0,Ee.Z)(function*(i,n){const r=Be(i),a=n.query;let c=!1,h=r.queries.get(a);if(h||(c=!0,h=new MR),c)try{h.Xr=yield r.onListen(a)}catch(m){const w=zf(m,`Initialization of query '${Sm(n.query)}' failed`);return void n.onError(w)}r.queries.set(a,h),h.listeners.push(n),n.eo(r.onlineState),h.Xr&&n.no(h.Xr)&&gD(r)})).apply(this,arguments)}function fD(i,n){return pD.apply(this,arguments)}function pD(){return(pD=(0,Ee.Z)(function*(i,n){const r=Be(i),a=n.query;let c=!1;const h=r.queries.get(a);if(h){const m=h.listeners.indexOf(n);m>=0&&(h.listeners.splice(m,1),c=0===h.listeners.length)}if(c)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function PR(i,n){const r=Be(i);let a=!1;for(const c of n){const m=r.queries.get(c.query);if(m){for(const w of m.listeners)w.no(c)&&(a=!0);m.Xr=c}}a&&gD(r)}function kR(i,n,r){const a=Be(i),c=a.queries.get(n);if(c)for(const h of c.listeners)h.onError(r);a.queries.delete(n)}function gD(i){i.Zr.forEach(n=>{n.next()})}class EE{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const c of n.docChanges)3!==c.type&&a.push(c);n=new Zf(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Zf.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class Dx{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class mD{constructor(n){this.N=n}zn(n){return Bn(this.N,n)}Hn(n){return n.metadata.exists?Om(this.N,n.document,!1):Dn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return cr(n)}}class FR{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=Tx(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new mD(this.N);for(const c of n)if(c.metadata.queries){const h=a.zn(c.metadata.name);for(const m of c.metadata.queries){const w=(r.get(m)||nn()).add(h);r.set(m,w)}}return r}complete(){var n=this;return(0,Ee.Z)(function*(){const r=yield function(i,n,r,a){return hs.apply(this,arguments)}(n.localStore,new mD(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const c of n.queries)yield hx(n.localStore,c,a.get(c.name));return n.progress.taskState="Success",new cx(Object.assign({},n.progress),r)})()}}function Tx(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Sx{constructor(n){this.key=n}}class yD{constructor(n){this.key=n}}class _D{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=nn(),this.mutatedKeys=nn(),this.po=E0(n),this.Eo=new Wf(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new Ix,c=r?r.Eo:this.Eo;let h=r?r.mutatedKeys:this.mutatedKeys,m=c,w=!1;const D=vf(this.query)&&c.size===this.query.limit?c.last():null,A=y0(this.query)&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((R,O)=>{const q=c.get(R),Z=gc(this.query,O)?O:null,ge=!!q&&this.mutatedKeys.has(q.key),ke=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let $e=!1;q&&Z?q.data.isEqual(Z.data)?ge!==ke&&(a.track({type:3,doc:Z}),$e=!0):this.Ro(q,Z)||(a.track({type:2,doc:Z}),$e=!0,(D&&this.po(Z,D)>0||A&&this.po(Z,A)<0)&&(w=!0)):!q&&Z?(a.track({type:0,doc:Z}),$e=!0):q&&!Z&&(a.track({type:1,doc:q}),$e=!0,(D||A)&&(w=!0)),$e&&(Z?(m=m.add(Z),h=ke?h.add(R):h.delete(R)):(m=m.delete(R),h=h.delete(R)))}),vf(this.query)||y0(this.query))for(;m.size>this.query.limit;){const R=vf(this.query)?m.last():m.first();m=m.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{Eo:m,Ao:a,Ln:w,mutatedKeys:h}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const c=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const h=n.Ao.Yr();h.sort((A,R)=>function(O,q){const Z=ge=>{switch(ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return Z(O)-Z(q)}(A.type,R.type)||this.po(A.doc,R.doc)),this.bo(a);const m=r?this.Po():[],w=0===this.yo.size&&this.current?1:0,D=w!==this.mo;return this.mo=w,0!==h.length||D?{snapshot:new Zf(this.query,n.Eo,c,h,n.mutatedKeys,0===w,D,!1),vo:m}:{vo:m}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Ix,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=nn(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new yD(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new Sx(a))}),r}So(n){this._o=n.Gn,this.yo=nn();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return Zf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Ax{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class LR{constructor(n){this.key=n,this.Co=!1}}class VR{constructor(n,r,a,c,h,m){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Cd(w=>Tm(w),wf),this.ko=new Map,this.$o=new Set,this.Oo=new Ir(tt.comparator),this.Fo=new Map,this.Mo=new tE,this.Lo={},this.Bo=new Map,this.Uo=kr.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function UR(i,n){return vD.apply(this,arguments)}function vD(){return(vD=(0,Ee.Z)(function*(i,n){const r=TE(i);let a,c;const h=r.xo.get(n);if(h)a=h.targetId,r.sharedClientState.addLocalQueryTarget(a),c=h.view.Do();else{const m=yield Id(r.localStore,cs(n)),w=r.sharedClientState.addLocalQueryTarget(m.targetId);a=m.targetId,c=yield wE(r,n,a,"current"===w),r.isPrimaryClient&&Bf(r.remoteStore,m)}return c})).apply(this,arguments)}function wE(i,n,r,a){return ED.apply(this,arguments)}function ED(){return(ED=(0,Ee.Z)(function*(i,n,r,a){i.Ko=(R,O,q)=>{return(Z=(0,Ee.Z)(function*(ge,ke,$e,vt){let Rt=ke.view.Io($e);Rt.Ln&&(Rt=yield qm(ge.localStore,ke.query,!1).then(({documents:$n})=>ke.view.Io($n,Rt)));const dt=vt&&vt.targetChanges.get(ke.targetId),wt=ke.view.applyChanges(Rt,ge.isPrimaryClient,dt);return Pd(ge,ke.targetId,wt.vo),wt.snapshot}),function(ge,ke,$e,vt){return Z.apply(this,arguments)})(i,R,O,q);var Z};const c=yield qm(i.localStore,n,!0),h=new _D(n,c.Gn),m=h.Io(c.documents),w=Ja.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),D=h.applyChanges(m,i.isPrimaryClient,w);Pd(i,r,D.vo);const A=new Ax(n,r,h);return i.xo.set(n,A),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),D.snapshot})).apply(this,arguments)}function xx(i,n){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,Ee.Z)(function*(i,n){const r=Be(i),a=r.xo.get(n),c=r.ko.get(a.targetId);if(c.length>1)return r.ko.set(a.targetId,c.filter(h=>!wf(h,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Dd(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),iu(r.remoteStore,a.targetId),Od(r,a.targetId)}).catch(nu))):(Od(r,a.targetId),yield Dd(r.localStore,a.targetId,!0))})).apply(this,arguments)}function ny(){return(ny=(0,Ee.Z)(function*(i,n,r){const a=SE(i);try{const c=yield function(h,m){const w=Be(h),D=wr.now(),A=m.reduce((O,q)=>O.add(q.key),nn());let R;return w.persistence.runTransaction("Locally write mutations","readwrite",O=>w.Qn.Pn(O,A).next(q=>{R=q;const Z=[];for(const ge of m){const ke=GA(ge,R.get(ge.key));null!=ke&&Z.push(new Ya(ge.key,ke,sI(ke.value.mapValue),ur.exists(!0)))}return w.In.addMutationBatch(O,D,Z,m)})).then(O=>(O.applyToLocalDocumentSet(R),{batchId:O.batchId,changes:R}))}(a.localStore,n);a.sharedClientState.addPendingMutation(c.batchId),function(h,m,w){let D=h.Lo[h.currentUser.toKey()];D||(D=new Ir(Ot)),D=D.insert(m,w),h.Lo[h.currentUser.toKey()]=D}(a,c.batchId,r),yield su(a,c.changes),yield Rd(a.remoteStore)}catch(c){const h=zf(c,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function wD(i,n){return CE.apply(this,arguments)}function CE(){return(CE=(0,Ee.Z)(function*(i,n){const r=Be(i);try{const a=yield ZI(r.localStore,n);n.targetChanges.forEach((c,h)=>{const m=r.Fo.get(h);m&&(ft(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Co=!0:c.modifiedDocuments.size>0?ft(m.Co):c.removedDocuments.size>0&&(ft(m.Co),m.Co=!1))}),yield su(r,a,n)}catch(a){yield nu(a)}})).apply(this,arguments)}function ry(i,n,r){const a=Be(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const c=[];a.xo.forEach((h,m)=>{const w=m.view.eo(n);w.snapshot&&c.push(w.snapshot)}),function(h,m){const w=Be(h);w.onlineState=m;let D=!1;w.queries.forEach((A,R)=>{for(const O of R.listeners)O.eo(m)&&(D=!0)}),D&&gD(w)}(a.eventManager,n),c.length&&a.No.Tr(c),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function CD(i,n,r){return iy.apply(this,arguments)}function iy(){return(iy=(0,Ee.Z)(function*(i,n,r){const a=Be(i);a.sharedClientState.updateQueryState(n,"rejected",r);const c=a.Fo.get(n),h=c&&c.key;if(h){let m=new Ir(tt.comparator);m=m.insert(h,Dn.newNoDocument(h,xt.min()));const w=nn().add(h),D=new Qa(xt.min(),new Map,new Ln(Ot),m,w);yield wD(a,D),a.Oo=a.Oo.remove(h),a.Fo.delete(n),RD(a)}else yield Dd(a.localStore,n,!1).then(()=>Od(a,n,r)).catch(nu)})).apply(this,arguments)}function bD(i,n){return ID.apply(this,arguments)}function ID(){return(ID=(0,Ee.Z)(function*(i,n){const r=Be(i),a=n.batch.batchId;try{const c=yield WI(r.localStore,n);xD(r,a,null),AD(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield su(r,c)}catch(c){yield nu(c)}})).apply(this,arguments)}function DD(i,n,r){return Md.apply(this,arguments)}function Md(){return(Md=(0,Ee.Z)(function*(i,n,r){const a=Be(i);try{const c=yield function(h,m){const w=Be(h);return w.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let A;return w.In.lookupMutationBatch(D,m).next(R=>(ft(null!==R),A=R.keys(),w.In.removeMutationBatch(D,R))).next(()=>w.In.performConsistencyCheck(D)).next(()=>w.Qn.Pn(D,A))})}(a.localStore,n);xD(a,n,r),AD(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield su(a,c)}catch(c){yield nu(c)}})).apply(this,arguments)}function SD(){return(SD=(0,Ee.Z)(function*(i,n){const r=Be(i);ea(r.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(h){const m=Be(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>m.In.getHighestUnacknowledgedBatchId(w))}(r.localStore);if(-1===a)return void n.resolve();const c=r.Bo.get(a)||[];c.push(n),r.Bo.set(a,c)}catch(a){const c=zf(a,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}})).apply(this,arguments)}function AD(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function xD(i,n,r){const a=Be(i);let c=a.Lo[a.currentUser.toKey()];if(c){const h=c.get(n);h&&(r?h.reject(r):h.resolve(),c=c.remove(n)),a.Lo[a.currentUser.toKey()]=c}}function Od(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||Rx(i,a)})}function Rx(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(iu(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),RD(i))}function Pd(i,n,r){for(const a of r)a instanceof Sx?(i.Mo.addReference(a.key,n),Nx(i,a)):a instanceof yD?(Fe("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||Rx(i,a.key)):et()}function Nx(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(Fe("SyncEngine","New document in limbo: "+r),i.$o.add(a),RD(i))}function RD(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new tt(jt.fromString(n)),a=i.Uo.next();i.Fo.set(a,new LR(r)),i.Oo=i.Oo.insert(r,a),Bf(i.remoteStore,new Qo(cs(ai(r.path)),a,2,Hi.T))}}function su(i,n,r){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,Ee.Z)(function*(i,n,r){const a=Be(i),c=[],h=[],m=[];var w;a.xo.isEmpty()||(a.xo.forEach((w,D)=>{m.push(a.Ko(D,n,r).then(A=>{if(A){a.isPrimaryClient&&a.sharedClientState.updateQueryState(D.targetId,A.fromCache?"not-current":"current"),c.push(A);const R=K0.kn(D.targetId,A);h.push(R)}}))}),yield Promise.all(m),a.No.Tr(c),yield(w=(0,Ee.Z)(function*(D,A){const R=Be(D);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Ae.forEach(A,q=>Ae.forEach(q.Nn,Z=>R.persistence.referenceDelegate.addReference(O,q.targetId,Z)).next(()=>Ae.forEach(q.xn,Z=>R.persistence.referenceDelegate.removeReference(O,q.targetId,Z)))))}catch(O){if(!Cc(O))throw O;Fe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of A){const q=O.targetId;if(!O.fromCache){const Z=R.Un.get(q),ke=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);R.Un=R.Un.insert(q,ke)}}}),function(D,A){return w.apply(this,arguments)})(a.localStore,h))})).apply(this,arguments)}function Mx(i,n){return ND.apply(this,arguments)}function ND(){return(ND=(0,Ee.Z)(function*(i,n){const r=Be(i);if(!r.currentUser.isEqual(n)){Fe("SyncEngine","User change. New user:",n.toKey());const a=yield Y0(r.localStore,n);r.currentUser=n,(c=r).Bo.forEach(m=>{m.forEach(w=>{w.reject(new Ne(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield su(r,a.Wn)}var c})).apply(this,arguments)}function BR(i,n){const r=Be(i),a=r.Fo.get(n);if(a&&a.Co)return nn().add(a.key);{let c=nn();const h=r.ko.get(n);if(!h)return c;for(const m of h){const w=r.xo.get(m);c=c.unionWith(w.view.To)}return c}}function Ox(i,n){return MD.apply(this,arguments)}function MD(){return(MD=(0,Ee.Z)(function*(i,n){const r=Be(i),a=yield qm(r.localStore,n.query,!0),c=n.view.So(a);return r.isPrimaryClient&&Pd(r,n.targetId,c.vo),c})).apply(this,arguments)}function OD(i){return bE.apply(this,arguments)}function bE(){return(bE=(0,Ee.Z)(function*(i){const n=Be(i);return Td(n.localStore).then(r=>su(n,r))})).apply(this,arguments)}function jR(i,n,r,a){return PD.apply(this,arguments)}function PD(){return(PD=(0,Ee.Z)(function*(i,n,r,a){const c=Be(i),h=yield function(m,w){const D=Be(m),A=Be(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",R=>A.Xt(R,w).next(O=>O?D.Qn.Pn(R,O):Ae.resolve(null)))}(c.localStore,n);var w;null!==h?("pending"===r?yield Rd(c.remoteStore):"acknowledged"===r||"rejected"===r?(xD(c,n,a||null),AD(c,n),w=n,Be(Be(c.localStore).In).te(w)):et(),yield su(c,h)):Fe("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Sc(){return(Sc=(0,Ee.Z)(function*(i,n){const r=Be(i);if(TE(r),SE(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),c=yield kD(r,a.toArray());r.qo=!0,yield ty(r.remoteStore,!0);for(const h of c)Bf(r.remoteStore,h)}else if(!1===n&&!1!==r.qo){const a=[];let c=Promise.resolve();r.ko.forEach((h,m)=>{r.sharedClientState.isLocalQueryTarget(m)?a.push(m):c=c.then(()=>(Od(r,m),Dd(r.localStore,m,!0))),iu(r.remoteStore,m)}),yield c,yield kD(r,a),function(h){const m=Be(h);m.Fo.forEach((w,D)=>{iu(m.remoteStore,D)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Ir(tt.comparator)}(r),r.qo=!1,yield ty(r.remoteStore,!1)}})).apply(this,arguments)}function kD(i,n,r){return IE.apply(this,arguments)}function IE(){return(IE=(0,Ee.Z)(function*(i,n,r){const a=Be(i),c=[],h=[];for(const m of n){let w;const D=a.ko.get(m);if(D&&0!==D.length){w=yield Id(a.localStore,cs(D[0]));for(const A of D){const R=a.xo.get(A),O=yield Ox(a,R);O.snapshot&&h.push(O.snapshot)}}else{const A=yield YI(a.localStore,m);w=yield Id(a.localStore,A),yield wE(a,FD(A),m,!1)}c.push(w)}return a.No.Tr(h),c})).apply(this,arguments)}function FD(i){return lI(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function DE(i){const n=Be(i);return Be(Be(n.localStore).persistence).pn()}function kx(i,n,r,a){return ci.apply(this,arguments)}function ci(){return(ci=(0,Ee.Z)(function*(i,n,r,a){const c=Be(i);if(c.qo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(n))switch(r){case"current":case"not-current":{const h=yield Td(c.localStore),m=Qa.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield su(c,h,m);break}case"rejected":yield Dd(c.localStore,n,!0),Od(c,n,a);break;default:et()}})).apply(this,arguments)}function Fx(i,n,r){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,Ee.Z)(function*(i,n,r){const a=TE(i);if(a.qo){for(const c of n){if(a.ko.has(c)){Fe("SyncEngine","Adding an already active target "+c);continue}const h=yield YI(a.localStore,c),m=yield Id(a.localStore,h);yield wE(a,FD(h),m.targetId,!1),Bf(a.remoteStore,m)}for(const c of r)a.ko.has(c)&&(yield Dd(a.localStore,c,!1).then(()=>{iu(a.remoteStore,c),Od(a,c)}).catch(nu))}})).apply(this,arguments)}function TE(i){const n=Be(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=wD.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=BR.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=CD.bind(null,n),n.No.Tr=PR.bind(null,n.eventManager),n.No.jo=kR.bind(null,n.eventManager),n}function SE(i){const n=Be(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=bD.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,n),n}class xE{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,Ee.Z)(function*(){r.N=Lf(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return bd(this.persistence,new zI,n.initialUser,this.N)}Go(n){return new sE(oE.Ns,this.N)}Wo(n){return new uE}terminate(){var n=this;return(0,Ee.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class RE extends xE{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,Ee.Z)(function*(){yield r().call(a,n),yield function(i){return X0.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield SE(a.Jo.syncEngine),yield Rd(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return bd(this.persistence,new zI,n.initialUser,this.N)}zo(n){return new HI(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=Z0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new W0(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,Yr(),Xo(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new uE}}class Lx extends RE{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,Ee.Z)(function*(){yield r().call(a,n);const c=a.Jo.syncEngine;a.sharedClientState instanceof aE&&(a.sharedClientState.syncEngine={_i:jR.bind(null,c),mi:kx.bind(null,c),gi:Fx.bind(null,c),pn:DE.bind(null,c),wi:OD.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var h=(0,Ee.Z)(function*(m){yield function(i,n){return Sc.apply(this,arguments)}(a.Jo.syncEngine,m),a.gcScheduler&&(m&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):m||a.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(n){const r=Yr();if(!aE.bt(r))throw new Ne(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Z0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new aE(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class sy{initialize(n,r){var a=this;return(0,Ee.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>ry(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=Mx.bind(null,a.syncEngine),yield ty(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new OR}createDatastore(n){const r=Lf(n.databaseInfo.databaseId),a=new NR(n.databaseInfo);return new lE(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,c=n.asyncQueue,h=w=>ry(this.syncEngine,w,0),m=tD.bt()?new tD:new eD,new rD(r,a,c,h,m);var r,a,c,h,m}createSyncEngine(n,r){return function(a,c,h,m,w,D,A){const R=new VR(a,c,h,m,w,D);return A&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,Ee.Z)(function*(r){const a=Be(r);Fe("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield ru(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function NE(i,n=10240){let r=0;return{read:()=>(0,Ee.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oy{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class Vx{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new Er,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,Ee.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,Ee.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,Ee.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),c=Number(a);isNaN(c)&&n.sa(`length string (${a}) is not valid number`);const h=yield n.ia(c);return new Dx(JSON.parse(h),r.length+c)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,Ee.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,Ee.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,Ee.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class ME{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,Ee.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ne(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,Ee.Z)(function*(h,m){const w=Be(h),D=dd(w.N)+"/documents",A={documents:m.map(Z=>Sf(w.N,Z))},R=yield w.Ki("BatchGetDocuments",D,A),O=new Map;R.forEach(Z=>{const ge=function(i,n){return"found"in n?function(r,a){ft(!!a.found);const c=Bn(r,a.found.name),h=cr(a.found.updateTime),m=new Kr({mapValue:{fields:a.found.fields}});return Dn.newFoundDocument(c,h,m)}(i,n):"missing"in n?function(r,a){ft(!!a.missing),ft(!!a.readTime);const c=Bn(r,a.missing),h=cr(a.readTime);return Dn.newNoDocument(c,h)}(i,n):et()}(w.N,Z);O.set(ge.key.toString(),ge)});const q=[];return m.forEach(Z=>{const ge=O.get(Z.toString());ft(!!ge),q.push(ge)}),q}),function(h,m){return c.apply(this,arguments)})(r.datastore,n);var c;return a.forEach(c=>r.recordVersion(c)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Df(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ee.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,c)=>{const h=tt.fromPath(c);n.mutations.push(new I0(h,n.precondition(h)))}),yield(a=(0,Ee.Z)(function*(c,h){const m=Be(c),w=dd(m.N)+"/documents",D={writes:h.map(A=>Pm(m.N,A))};yield m.Li("Commit",w,D)}),function(c,h){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw et();r=xt.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new Ne(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?ur.updateTime(r):ur.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(xt.min()))throw new Ne(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(r)}return ur.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class LD{constructor(n,r,a,c){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=c,this.aa=5,this.rr=new cE(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,Ee.Z)(function*(){const r=new ME(n.datastore),a=n.ua(r);a&&a.then(c=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(c)}).catch(h=>{n.ha(h)}))}).catch(c=>{n.ha(c)})}))}ua(n){try{const r=this.updateFunction(n);return!fc(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!D0(r)}return!1}}class VD{constructor(n,r,a){var c=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=vr.UNAUTHENTICATED,this.clientId=u0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var h=(0,Ee.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield c.credentialListener(m),c.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,Ee.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const c=zf(a,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function ay(i,n){return OE.apply(this,arguments)}function OE(){return(OE=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var c=(0,Ee.Z)(function*(h){a.isEqual(h)||(yield Y0(n.localStore,h),a=h)});return function(h){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function fs(i,n){return PE.apply(this,arguments)}function PE(){return(PE=(0,Ee.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield UD(i);Fe("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(c=>{return(h=(0,Ee.Z)(function*(m,w){const D=Be(m);D.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const A=ea(D);D.Kr.add(3),yield ru(D),A&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(w),D.Kr.delete(3),yield Uf(D)}),function(m,w){return h.apply(this,arguments)})(n.remoteStore,c);var h}),i.onlineComponents=n})).apply(this,arguments)}function UD(i){return kE.apply(this,arguments)}function kE(){return(kE=(0,Ee.Z)(function*(i){return i.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield ay(i,new xE)),i.offlineComponents})).apply(this,arguments)}function FE(i){return LE.apply(this,arguments)}function LE(){return(LE=(0,Ee.Z)(function*(i){return i.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield fs(i,new sy)),i.onlineComponents})).apply(this,arguments)}function BD(i){return UD(i).then(n=>n.persistence)}function VE(i){return UD(i).then(n=>n.localStore)}function Ux(i){return FE(i).then(n=>n.remoteStore)}function UE(i){return FE(i).then(n=>n.syncEngine)}function Ac(i){return BE.apply(this,arguments)}function BE(){return(BE=(0,Ee.Z)(function*(i){const n=yield FE(i),r=n.eventManager;return r.onListen=UR.bind(null,n.syncEngine),r.onUnlisten=xx.bind(null,n.syncEngine),r})).apply(this,arguments)}function Hx(i,n,r={}){const a=new Er;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(c,h,m,w,D){const A=new oy({next:O=>{h.enqueueAndForget(()=>fD(c,R));const q=O.docs.has(m);!q&&O.fromCache?D.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&w&&"server"===w.source?D.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(O)},error:O=>D.reject(O)}),R=new EE(ai(m.path),A,{includeMetadataChanges:!0,uo:!0});return dD(c,R)}(yield Ac(i),i.asyncQueue,n,r,a)})),a.promise}function jE(i,n,r={}){const a=new Er;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(c,h,m,w,D){const A=new oy({next:O=>{h.enqueueAndForget(()=>fD(c,R)),O.fromCache&&"server"===w.source?D.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(O)},error:O=>D.reject(O)}),R=new EE(m,A,{includeMetadataChanges:!0,uo:!0});return dD(c,R)}(yield Ac(i),i.asyncQueue,n,r,a)})),a.promise}class HE{constructor(n,r,a,c,h,m,w,D){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=c,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=w,this.useFetchStreams=D}}class xc{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof xc&&n.projectId===this.projectId&&n.database===this.database}}const GD=new Map;function $E(i,n,r){if(!r)throw new Ne(pe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function qx(i,n,r,a){if(!0===n&&!0===a)throw new Ne(pe.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function zx(i){if(!tt.isDocumentKey(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wx(i){if(tt.isDocumentKey(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":et()}function Kt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xf(i);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function qD(i,n){if(n<=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class zD{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,qx("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class ep{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zD({}),this._settingsFrozen=!1,n instanceof xc?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(a.options.projectId)}(n))}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zD(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new CR;switch(r.type){case"gapi":const a=r.client;return ft(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new gm(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GD.get(n);r&&(Fe("ComponentProvider","Removing Datastore"),GD.delete(n),r.terminate())}(this),Promise.resolve()}}class mn{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new mn(this.firestore,n,this._key)}}class li{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new li(this.firestore,n,this._query)}}class ta extends li{constructor(n,r,a){super(n,r,ai(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new mn(this.firestore,null,new tt(n))}withConverter(n){return new ta(this.firestore,n,this._path)}}function WD(i,n,...r){if(i=(0,At.m9)(i),$E("collection","path",n),i instanceof ep){const a=jt.fromString(n,...r);return Wx(a),new ta(i,null,a)}{if(!(i instanceof mn||i instanceof ta))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jt.fromString(n,...r));return Wx(a),new ta(i.firestore,null,a)}}function Hn(i,n,...r){if(i=(0,At.m9)(i),1===arguments.length&&(n=u0.I()),$E("doc","path",n),i instanceof ep){const a=jt.fromString(n,...r);return zx(a),new mn(i,null,new tt(a))}{if(!(i instanceof mn||i instanceof ta))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jt.fromString(n,...r));return zx(a),new mn(i.firestore,i instanceof ta?i.converter:null,new tt(a))}}function Kx(i,n){return i=(0,At.m9)(i),n=(0,At.m9)(n),(i instanceof mn||i instanceof ta)&&(n instanceof mn||n instanceof ta)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function qE(i,n){return i=(0,At.m9)(i),n=(0,At.m9)(n),i instanceof li&&n instanceof li&&i.firestore===n.firestore&&wf(i._query,n._query)&&i.converter===n.converter}class ZD{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new cE(this,"async_queue_retry"),this.Ea=()=>{const r=Xo();r&&Fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Xo();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Xo();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new Er;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,Ee.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Cc(r))throw r;Fe("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const c=lD.createAndSchedule(this,n,r,a,h=>this.Ra(h));return this._a.push(c),c}Ta(){this.ma&&et()}verifyOperationInProgress(){}ba(){var n=this;return(0,Ee.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function zE(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(i)}class uy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Vn extends ep{constructor(n,r){super(n,r),this.type="firestore",this._queue=new ZD,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cy(this),this._firestoreClient.terminate()}}function tr(i){return i._firestoreClient||cy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function cy(i){var n;const r=i._freezeSettings(),a=(h=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new HE(i._databaseId,h,i._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var h,w;i._firestoreClient=new VD(i._credentials,i._queue,a)}function tp(i,n,r){const a=new Er;return i.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield ay(i,r),yield fs(i,n),a.resolve()}catch(c){if(!("FirebaseError"===(h=c).name?h.code===pe.FAILED_PRECONDITION||h.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var h})).then(()=>a.promise)}function n1(i){if(i._initialized||i._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ps{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class na{constructor(n){this._byteString=n}static fromBase64String(n){try{return new na(br.fromBase64String(n))}catch(r){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new na(br.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Fd{constructor(n){this._methodName=n}}class KE{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Ot(this._lat,n._lat)||Ot(this._long,n._long)}}const r1=/^__.*__$/;class i1{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new Ya(n,this.data,this.fieldMask,r,this.fieldTransforms):new If(n,this.data,r,this.fieldTransforms)}}class YD{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new Ya(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function QD(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class ly{constructor(n,r,a,c,h,m){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=c,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new ly(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:a,xa:!1});return c.ka(n),c}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:a,xa:!1});return c.Sa(),c}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return hy(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(QD(this.Da)&&r1.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class $R{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||Lf(n)}Ba(n,r,a,c=!1){return new ly({Da:n,methodName:r,La:a,path:Cr.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Rc(i){const n=i._freezeSettings(),r=Lf(i._databaseId);return new $R(i._databaseId,!!n.ignoreUndefinedProperties,r)}function dy(i,n,r,a,c,h={}){const m=i.Ba(h.merge||h.mergeFields?2:0,n,r,c);JE("Data must be an object, but it was:",m,a);const w=XD(a,m);let D,A;if(h.merge)D=new Jl(m.fieldMask),A=m.fieldTransforms;else if(h.mergeFields){const R=[];for(const O of h.mergeFields){const q=tT(n,O,r);if(!m.contains(q))throw new Ne(pe.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Ld(R,q)||R.push(q)}D=new Jl(R),A=m.fieldTransforms.filter(O=>D.covers(O.field))}else D=null,A=m.fieldTransforms;return new i1(new Kr(w),D,A)}class np extends Fd{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof np}}function s1(i,n,r){return new ly({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class JD extends Fd{_toFieldTransform(n){return new Zo(n.path,new od)}isEqual(n){return n instanceof JD}}class o1 extends Fd{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=s1(this,n,!0),a=this.Ua.map(h=>Nc(h,r)),c=new mc(a);return new Zo(n.path,c)}isEqual(n){return this===n}}class a1 extends Fd{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=s1(this,n,!0),a=this.Ua.map(h=>Nc(h,r)),c=new so(a);return new Zo(n.path,c)}isEqual(n){return this===n}}class u1 extends Fd{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new yc(n.N,fI(n.N,this.qa));return new Zo(n.path,r)}isEqual(n){return this===n}}function YE(i,n,r,a){const c=i.Ba(1,n,r);JE("Data must be an object, but it was:",c,a);const h=[],m=Kr.empty();za(a,(D,A)=>{const R=XE(n,D,r);A=(0,At.m9)(A);const O=c.$a(R);if(A instanceof np)h.push(R);else{const q=Nc(A,O);null!=q&&(h.push(R),m.set(R,q))}});const w=new Jl(h);return new YD(m,w,c.fieldTransforms)}function QE(i,n,r,a,c,h){const m=i.Ba(1,n,r),w=[tT(n,a,r)],D=[c];if(h.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<h.length;q+=2)w.push(tT(n,h[q])),D.push(h[q+1]);const A=[],R=Kr.empty();for(let q=w.length-1;q>=0;--q)if(!Ld(A,w[q])){const Z=w[q];let ge=D[q];ge=(0,At.m9)(ge);const ke=m.$a(Z);if(ge instanceof np)A.push(Z);else{const $e=Nc(ge,ke);null!=$e&&(A.push(Z),R.set(Z,$e))}}const O=new Jl(A);return new YD(R,O,m.fieldTransforms)}function gs(i,n,r,a=!1){return Nc(r,i.Ba(a?4:3,n))}function Nc(i,n){if(eT(i=(0,At.m9)(i)))return JE("Unsupported field value:",n,i),XD(i,n);if(i instanceof Fd)return function(r,a){if(!QD(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const c=[];let h=0;for(const m of r){let w=Nc(m,a.Oa(h));null==w&&(w={nullValue:"NULL_VALUE"}),c.push(w),h++}return{arrayValue:{values:c}}}(i,n)}return function(r,a){if(null===(r=(0,At.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return fI(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=wr.fromDate(r);return{timestampValue:Ds(a.N,c)}}if(r instanceof wr){const c=new wr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ds(a.N,c)}}if(r instanceof KE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof na)return{bytesValue:YA(a.N,r._byteString)};if(r instanceof mn){const c=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw a.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:TI(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${Xf(r)}`)}(i,n)}function XD(i,n){const r={};return eI(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):za(i,(a,c)=>{const h=Nc(c,n.Na(a));null!=h&&(r[a]=h)}),{mapValue:{fields:r}}}function eT(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof wr||i instanceof KE||i instanceof na||i instanceof mn||i instanceof Fd)}function JE(i,n,r){if(!eT(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Xf(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function tT(i,n,r){if((n=(0,At.m9)(n))instanceof ps)return n._internalPath;if("string"==typeof n)return XE(i,n);throw hy("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const c1=new RegExp("[~\\*/\\[\\]]");function XE(i,n,r){if(n.search(c1)>=0)throw hy(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ps(...n.split("."))._internalPath}catch(a){throw hy(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function hy(i,n,r,a,c){const h=a&&!a.isEmpty(),m=void 0!==c;let w=`Function ${n}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let D="";return(h||m)&&(D+=" (found",h&&(D+=` in field ${a}`),m&&(D+=` in document ${c}`),D+=")"),new Ne(pe.INVALID_ARGUMENT,w+i+D)}function Ld(i,n){return i.some(r=>r.isEqual(n))}class Vd{constructor(n,r,a,c,h){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new GR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(fy("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class GR extends Vd{data(){return super.data()}}function fy(i,n){return"string"==typeof n?XE(i,n):n instanceof ps?n._internalPath:n._delegate._internalPath}class Ud{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ou extends Vd{constructor(n,r,a,c,h,m){super(n,r,a,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(fy("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class py extends ou{data(n={}){return super.data(n)}}class uo{constructor(n,r,a,c){this._firestore=n,this._userDataWriter=r,this._snapshot=c,this.metadata=new Ud(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new py(this._firestore,this._userDataWriter,a.key,a,new Ud(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>({type:"added",doc:new py(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ud(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const w=new py(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ud(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let D=-1,A=-1;return 0!==m.type&&(D=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),A=h.indexOf(m.doc.key)),{type:l1(m.type),doc:w,oldIndex:D,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function l1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function nT(i,n){return i instanceof ou&&n instanceof ou?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof uo&&n instanceof uo&&i._firestore===n._firestore&&qE(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function rT(i){if(y0(i)&&0===i.explicitOrderBy.length)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}function au(i,...n){for(const r of n)i=r._apply(i);return i}class d1 extends gy{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=Rc(n.firestore),a=function(c,h,m,w,D,A,R){let O;if(D.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){sw(R,A);const Z=[];for(const ge of R)Z.push(iw(w,c,ge));O={arrayValue:{values:Z}}}else O=iw(w,c,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||sw(R,A),O=gs(m,"where",R,"in"===A||"not-in"===A);const q=Pr.create(D,A,O);return function(Z,ge){if(ge.v()){const $e=_0(Z);if(null!==$e&&!$e.isEqual(ge.field))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$e.toString()}' and '${ge.field.toString()}'`);const vt=sd(Z);null!==vt&&oT(0,ge.field,vt)}const ke=function($e,vt){for(const Rt of $e.filters)if(vt.indexOf(Rt.op)>=0)return Rt.op;return null}(Z,function($e){switch($e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ge.op));if(null!==ke)throw new Ne(pe.INVALID_ARGUMENT,ke===ge.op?`Invalid query. You cannot use more than one '${ge.op.toString()}' filter.`:`Invalid query. You cannot use '${ge.op.toString()}' filters with '${ke.toString()}' filters.`)}(c,q),q}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new li(n.firestore,n.converter,function(c,h){const m=c.filters.concat([h]);return new Ka(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)}(n._query,a))}}class Ts extends gy{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,c,h){if(null!==a.startAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Wo(c,h);return function(w,D){if(null===sd(w)){const A=_0(w);null!==A&&oT(0,A,D.field)}}(a,m),m}(n._query,this.Ka,this.Wa);return new li(n.firestore,n.converter,function(a,c){const h=a.explicitOrderBy.concat([c]);return new Ka(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class ew extends gy{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new li(n.firestore,n.converter,dI(n._query,this.Ga,this.za))}}class tw extends gy{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=rp(n,this.type,this.Ha,this.Ja);return new li(n.firestore,n.converter,(c=r,new Ka((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class my extends gy{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=rp(n,this.type,this.Ha,this.Ja);return new li(n.firestore,n.converter,(c=r,new Ka((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function rp(i,n,r,a){if(r[0]=(0,At.m9)(r[0]),r[0]instanceof Vd)return function(c,h,m,w,D){if(!w)throw new Ne(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const A=[];for(const R of Ef(c))if(R.field.isKeyField())A.push(vm(h,w.key));else{const O=w.data.field(R.field);if(mm(O))throw new Ne(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const q=R.field.canonicalString();throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}A.push(O)}return new Dm(A,D)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const c=Rc(i.firestore);return function(h,m,w,D,A,R){const O=h.explicitOrderBy;if(A.length>O.length)throw new Ne(pe.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let Z=0;Z<A.length;Z++){const ge=A[Z];if(O[Z].field.isKeyField()){if("string"!=typeof ge)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof ge}`);if(!v0(h)&&-1!==ge.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${ge}' contains a slash.`);const ke=h.path.child(jt.fromString(ge));if(!tt.isDocumentKey(ke))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${ke}' is not because it contains an odd number of segments.`);const $e=new tt(ke);q.push(vm(m,$e))}else{const ke=gs(w,D,ge);q.push(ke)}}return new Dm(q,R)}(i._query,i.firestore._databaseId,c,n,r,a)}}function iw(i,n,r){if("string"==typeof(r=(0,At.m9)(r))){if(""===r)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!v0(n)&&-1!==r.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(jt.fromString(r));if(!tt.isDocumentKey(a))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return vm(i,new tt(a))}if(r instanceof mn)return vm(i,r._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(r)}.`)}function sw(i,n){if(!Array.isArray(i)||0===i.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function oT(i,n,r){if(!r.isEqual(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class ow{convertValue(n,r="none"){switch(Za(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Fn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Xl(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw et()}}convertObject(n,r){const a={};return za(n.fields,(c,h)=>{a[c]=this.convertValue(h,r)}),a}convertGeoPoint(n){return new KE(Fn(n.latitude),Fn(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=c0(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(yf(n));default:return null}}convertTimestamp(n){const r=Wa(n);return new wr(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=jt.fromString(n);ft(Vm(a));const c=new xc(a.get(1),a.get(3)),h=new tt(a.popFirst(5));return c.isEqual(r)||Xn(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function ip(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class p1 extends ow{constructor(n){super(),this.firestore=n}convertBytes(n){return new na(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new mn(this.firestore,null,r)}}class aT{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Rc(n)}set(n,r,a){this._verifyNotCommitted();const c=uu(n,this._firestore),h=ip(c.converter,r,a),m=dy(this._dataReader,"WriteBatch.set",c._key,h,null!==c.converter,a);return this._mutations.push(m.toMutation(c._key,ur.none())),this}update(n,r,a,...c){this._verifyNotCommitted();const h=uu(n,this._firestore);let m;return m="string"==typeof(r=(0,At.m9)(r))||r instanceof ps?QE(this._dataReader,"WriteBatch.update",h._key,r,a,c):YE(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(m.toMutation(h._key,ur.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=uu(n,this._firestore);return this._mutations=this._mutations.concat(new Df(r._key,ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uu(i,n){if((i=(0,At.m9)(i)).firestore!==n)throw new Ne(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Mc extends ow{constructor(n){super(),this.firestore=n}convertBytes(n){return new na(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new mn(this.firestore,null,r)}}function Ey(i,n,r){i=Kt(i,mn);const a=Kt(i.firestore,Vn),c=ip(i.converter,n,r);return Bd(a,[dy(Rc(a),"setDoc",i._key,c,null!==i.converter,r).toMutation(i._key,ur.none())])}function uw(i,n,r,...a){i=Kt(i,mn);const c=Kt(i.firestore,Vn),h=Rc(c);let m;return m="string"==typeof(n=(0,At.m9)(n))||n instanceof ps?QE(h,"updateDoc",i._key,n,r,a):YE(h,"updateDoc",i._key,n),Bd(c,[m.toMutation(i._key,ur.exists(!0))])}function cT(i,...n){var r,a,c;i=(0,At.m9)(i);let h={includeMetadataChanges:!1},m=0;"object"!=typeof n[m]||zE(n[m])||(h=n[m],m++);const w={includeMetadataChanges:h.includeMetadataChanges};if(zE(n[m])){const O=n[m];n[m]=null===(r=O.next)||void 0===r?void 0:r.bind(O),n[m+1]=null===(a=O.error)||void 0===a?void 0:a.bind(O),n[m+2]=null===(c=O.complete)||void 0===c?void 0:c.bind(O)}let D,A,R;if(i instanceof mn)A=Kt(i.firestore,Vn),R=ai(i._key.path),D={next:O=>{n[m]&&n[m](Cy(A,i,O))},error:n[m+1],complete:n[m+2]};else{const O=Kt(i,li);A=Kt(O.firestore,Vn),R=O._query;const q=new Mc(A);D={next:Z=>{n[m]&&n[m](new uo(A,q,O,Z))},error:n[m+1],complete:n[m+2]},rT(i._query)}return function(O,q,Z,ge){const ke=new oy(ge),$e=new EE(q,ke,Z);return O.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return dD(yield Ac(O),$e)})),()=>{ke.Xo(),O.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return fD(yield Ac(O),$e)}))}}(tr(A),R,w,D)}function Bd(i,n){return function(r,a){const c=new Er;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,n,r){return ny.apply(this,arguments)}(yield UE(r),a,c)})),c.promise}(tr(i),n)}function Cy(i,n,r){const a=r.docs.get(n._key),c=new Mc(i);return new ou(i,c,n._key,a,new Ud(r.hasPendingWrites,r.fromCache),n.converter)}class y1 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Rc(n)}get(n){const r=uu(n,this._firestore),a=new p1(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return et();const h=c[0];if(h.isFoundDocument())return new Vd(this._firestore,a,h.key,h,r.converter);if(h.isNoDocument())return new Vd(this._firestore,a,r._key,null,r.converter);throw et()})}set(n,r,a){const c=uu(n,this._firestore),h=ip(c.converter,r,a),m=dy(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,a);return this._transaction.set(c._key,m),this}update(n,r,a,...c){const h=uu(n,this._firestore);let m;return m="string"==typeof(r=(0,At.m9)(r))||r instanceof ps?QE(this._dataReader,"Transaction.update",h._key,r,a,c):YE(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,m),this}delete(n){const r=uu(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=uu(n,this._firestore),a=new Mc(this._firestore);return super.get(n).then(c=>new ou(this._firestore,a,r._key,c._document,new Ud(!1,!1),r.converter))}}function by(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function dw(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function lT(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){hc=i})(Ba.SDK_VERSION),(0,Ba._registerComponent)(new Fg.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new Vn(r,new IR(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,Ba.registerVersion)("@firebase/firestore","3.1.0",void 0);class ap{constructor(n){this._delegate=n}static fromBase64String(n){return lT(),new ap(na.fromBase64String(n))}static fromUint8Array(n){return dw(),new ap(na.fromUint8Array(n))}toBase64(){return lT(),this._delegate.toBase64()}toUint8Array(){return dw(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hw(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class up{enableIndexedDbPersistence(n,r){return function(i,n){n1(i=Kt(i,Vn));const r=tr(i),a=i._freezeSettings(),c=new sy;return tp(r,c,new RE(c,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){n1(i=Kt(i,Vn));const n=tr(i),r=i._freezeSettings(),a=new sy;return tp(n,a,new Lx(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Er;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(r=(0,Ee.Z)(function*(a){if(!zi.bt())return Promise.resolve();const c=a+"main";yield zi.delete(c)}),function(a){return r.apply(this,arguments)})(Z0(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class Oc{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof xc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&gf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var c;const h=(i=Kt(i,ep))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==n&&gf("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let m,w;if("string"==typeof a.mockUserToken)m=a.mockUserToken,w=vr.MOCK_USER;else{m=(0,At.Sg)(a.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new vr(D)}i._credentials=new bR(new MA(m,w))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield BD(i),r=yield Ux(i);return n.setNetworkEnabled(!0),function(a){const c=Be(a);return c.Kr.delete(0),Uf(c)}(r)}))}(tr(i=Kt(i,Vn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const n=yield BD(i),r=yield Ux(i);return n.setNetworkEnabled(!1),(a=(0,Ee.Z)(function*(c){const h=Be(c);h.Kr.add(0),yield ru(h),h.Wr.set("Offline")}),function(c){return a.apply(this,arguments)})(r);var a}))}(tr(i=Kt(i,Vn)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,qx("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new Er;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,n){return SD.apply(this,arguments)}(yield UE(n),r)})),r.promise}(tr(i=Kt(i,Vn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new oy(n);return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return a=yield Ac(i),c=r,Be(a).Zr.add(c),void c.next();var a,c})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return a=yield Ac(i),c=r,void Be(a).Zr.delete(c);var a,c}))}}(tr(i=Kt(i,Vn)),zE(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new lu(this,WD(this._delegate,n))}catch(r){throw Qr(r,"collection()","Firestore.collection()")}}doc(n){try{return new Zi(this,Hn(this._delegate,n))}catch(r){throw Qr(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new hi(this,function(i,n){if(i=Kt(i,ep),$E("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new li(i,null,(r=n,new Ka(jt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw Qr(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new Er;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const a=yield(c=i,FE(c).then(h=>h.datastore));var c;new LD(i.asyncQueue,a,n,r).run()})),r.promise}(tr(i),r=>n(new y1(i,r)))}(this._delegate,r=>n(new dT(this,r)))}batch(){return tr(this._delegate),new hT(new aT(this._delegate,n=>Bd(this._delegate,n)))}loadBundle(n){return function(i,n){const r=tr(i=Kt(i,Vn)),a=new uy;return function(i,n,r,a){const c=function(h,m){let w;return w="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,A){if(D instanceof Uint8Array)return NE(D,A);if(D instanceof ArrayBuffer)return NE(new Uint8Array(D),A);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new Vx(D,m);var D}(r,Lf(n));i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function(i,n,r){const a=Be(i);var c;(c=(0,Ee.Z)(function*(h,m,w){try{const D=yield m.getMetadata();if(yield function(q,Z){const ge=Be(q),ke=cr(Z.createTime);return ge.persistence.runTransaction("hasNewerBundle","readonly",$e=>ge.Je.getBundleMetadata($e,Z.id)).then($e=>!!$e&&$e.createTime.compareTo(ke)>=0)}(h.localStore,D))return yield m.close(),void w._completeWith((q=D,{taskState:"Success",documentsLoaded:q.totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}));w._updateProgress(Tx(D));const A=new FR(D,h.localStore,m.N);let R=yield m.Qo();for(;R;){const q=yield A.fo(R);q&&w._updateProgress(q),R=yield m.Qo()}const O=yield A.complete();yield su(h,O.Tn,void 0),yield function(q,Z){const ge=Be(q);return ge.persistence.runTransaction("Save bundle","readwrite",ke=>ge.Je.saveBundleMetadata(ke,Z))}(h.localStore,D),w._completeWith(O.progress)}catch(D){gf("SyncEngine",`Loading bundle failed with ${D}`),w._failWith(D)}var q}),function(h,m,w){return c.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield UE(i),c,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(r,a){const c=Be(r);return c.persistence.runTransaction("Get named query","readonly",h=>c.Je.getNamedQuery(h,a))}(yield VE(i),n)}))}(tr(i=Kt(i,Vn)),n).then(r=>r?new li(i,null,r.query):null)}(this._delegate,n).then(r=>r?new hi(this,r):null)}}class Pc extends ow{constructor(n){super(),this.firestore=n}convertBytes(n){return new ap(new na(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return Zi.forKey(r,this.firestore,null)}}class dT{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Pc(n)}get(n){const r=Lc(n);return this._delegate.get(r).then(a=>new Fc(this._firestore,new ou(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const c=Lc(n);return a?(by("Transaction.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(n,r,a,...c){const h=Lc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...c),this}delete(n){const r=Lc(n);return this._delegate.delete(r),this}}class hT{constructor(n){this._delegate=n}set(n,r,a){const c=Lc(n);return a?(by("WriteBatch.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(n,r,a,...c){const h=Lc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...c),this}delete(n){const r=Lc(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class kc{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new py(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new cp(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=kc.INSTANCES;let c=a.get(n);c||(c=new WeakMap,a.set(n,c));let h=c.get(r);return h||(h=new kc(n,new Pc(n),r),c.set(r,h)),h}}kc.INSTANCES=new WeakMap;class Zi{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Pc(n)}static forPath(n,r,a){if(n.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Zi(r,new mn(r._delegate,a,new tt(n)))}static forKey(n,r,a){return new Zi(r,new mn(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new lu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new lu(this.firestore,WD(this._delegate,n))}catch(r){throw Qr(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,At.m9)(n))instanceof mn&&Kx(this._delegate,n)}set(n,r){r=by("DocumentReference.set",r);try{return r?Ey(this._delegate,n,r):Ey(this._delegate,n)}catch(a){throw Qr(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?uw(this._delegate,n):uw(this._delegate,n,r,...a)}catch(c){throw Qr(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return Bd(Kt(i.firestore,Vn),[new Df(i._key,ur.none())])}(this._delegate)}onSnapshot(...n){const r=fw(n),a=pw(n,c=>new Fc(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return cT(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Kt(i,mn);const n=Kt(i.firestore,Vn),r=tr(n),a=new Mc(n);return function(i,n){const r=new Er;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(a=(0,Ee.Z)(function*(c,h,m){try{const w=yield function(D,A){const R=Be(D);return R.persistence.runTransaction("read document","readonly",O=>R.Qn.An(O,A))}(c,h);w.isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new Ne(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const D=zf(w,`Failed to get document '${h} from cache`);m.reject(D)}}),function(c,h,m){return a.apply(this,arguments)})(yield VE(i),n,r);var a})),r.promise}(r,i._key).then(c=>new ou(n,a,i._key,c,new Ud(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Kt(i,mn);const n=Kt(i.firestore,Vn);return Hx(tr(n),i._key,{source:"server"}).then(r=>Cy(n,i,r))}(this._delegate):function(i){i=Kt(i,mn);const n=Kt(i.firestore,Vn);return Hx(tr(n),i._key).then(r=>Cy(n,i,r))}(this._delegate),r.then(a=>new Fc(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new Zi(this.firestore,this._delegate.withConverter(n?kc.getInstance(this.firestore,n):null))}}function Qr(i,n,r){return i.message=i.message.replace(n,r),i}function fw(i){for(const n of i)if("object"==typeof n&&!hw(n))return n;return{}}function pw(i,n){var r,a;let c;return c=hw(i[0])?i[0]:hw(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{c.next&&c.next(n(h))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class Fc{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new Zi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return nT(this._delegate,n._delegate)}}class cp extends Fc{data(n){const r=this._delegate.data(n);return function(i,n){i||et()}(void 0!==r),r}}class hi{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Pc(n)}where(n,r,a){try{return new hi(this.firestore,au(this._delegate,function(i,n,r){const a=n,c=fy("where",i);return new d1(c,a,r)}(n,r,a)))}catch(c){throw Qr(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new hi(this.firestore,au(this._delegate,function(i,n="asc"){const r=n,a=fy("orderBy",i);return new Ts(a,r)}(n,r)))}catch(a){throw Qr(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new hi(this.firestore,au(this._delegate,function(i){return qD("limit",i),new ew("limit",i,"F")}(n)))}catch(r){throw Qr(r,"limit()","Query.limit()")}}limitToLast(n){try{return new hi(this.firestore,au(this._delegate,function(i){return qD("limitToLast",i),new ew("limitToLast",i,"L")}(n)))}catch(r){throw Qr(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new hi(this.firestore,au(this._delegate,function(...i){return new tw("startAt",i,!0)}(...n)))}catch(r){throw Qr(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new hi(this.firestore,au(this._delegate,function(...i){return new tw("startAfter",i,!1)}(...n)))}catch(r){throw Qr(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new hi(this.firestore,au(this._delegate,function(...i){return new my("endBefore",i,!0)}(...n)))}catch(r){throw Qr(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new hi(this.firestore,au(this._delegate,function(...i){return new my("endAt",i,!1)}(...n)))}catch(r){throw Qr(r,"endAt()","Query.endAt()")}}isEqual(n){return qE(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Kt(i,li);const n=Kt(i.firestore,Vn),r=tr(n),a=new Mc(n);return function(i,n){const r=new Er;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(a=(0,Ee.Z)(function*(c,h,m){try{const w=yield qm(c,h,!0),D=new _D(h,w.Gn),A=D.Io(w.documents),R=D.applyChanges(A,!1);m.resolve(R.snapshot)}catch(w){const D=zf(w,`Failed to execute query '${h} against cache`);m.reject(D)}}),function(c,h,m){return a.apply(this,arguments)})(yield VE(i),n,r);var a})),r.promise}(r,i._query).then(c=>new uo(n,a,i,c))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Kt(i,li);const n=Kt(i.firestore,Vn),r=tr(n),a=new Mc(n);return jE(r,i._query,{source:"server"}).then(c=>new uo(n,a,i,c))}(this._delegate):function(i){i=Kt(i,li);const n=Kt(i.firestore,Vn),r=tr(n),a=new Mc(n);return rT(i._query),jE(r,i._query).then(c=>new uo(n,a,i,c))}(this._delegate),r.then(a=>new ia(this.firestore,new uo(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=fw(n),a=pw(n,c=>new ia(this.firestore,new uo(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return cT(this._delegate,r,a)}withConverter(n){return new hi(this.firestore,this._delegate.withConverter(n?kc.getInstance(this.firestore,n):null))}}class fT{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new cp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ia{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new hi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new cp(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new fT(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new cp(this._firestore,a))})}isEqual(n){return nT(this._delegate,n._delegate)}}class lu extends hi{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Zi(this.firestore,n):null}doc(n){try{return new Zi(this.firestore,void 0===n?Hn(this._delegate):Hn(this._delegate,n))}catch(r){throw Qr(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Kt(i.firestore,Vn),a=Hn(i),c=ip(i.converter,n);return Bd(r,[dy(Rc(i.firestore),"addDoc",a._key,c,null!==i.converter,{}).toMutation(a._key,ur.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new Zi(this.firestore,r))}isEqual(n){return Kx(this._delegate,n._delegate)}withConverter(n){return new lu(this.firestore,this._delegate.withConverter(n?kc.getInstance(this.firestore,n):null))}}function Lc(i){return Kt(i,mn)}class gw{constructor(...n){this._delegate=new ps(...n)}static documentId(){return new gw(Cr.keyField().canonicalString())}isEqual(n){return(n=(0,At.m9)(n))instanceof ps&&this._delegate._internalPath.isEqual(n._internalPath)}}class Hd{constructor(n){this._delegate=n}static serverTimestamp(){const n=new JD("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new Hd(n)}static delete(){const n=new np("deleteField");return n._methodName="FieldValue.delete",new Hd(n)}static arrayUnion(...n){const r=function(...i){return new o1("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new Hd(r)}static arrayRemove(...n){const r=function(...i){return new a1("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new Hd(r)}static increment(n){const r=function(i){return new u1("increment",i)}(n);return r._methodName="FieldValue.increment",new Hd(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const WR={Firestore:Oc,GeoPoint:KE,Timestamp:wr,Blob:ap,Transaction:dT,WriteBatch:hT,DocumentReference:Zi,DocumentSnapshot:Fc,Query:hi,QueryDocumentSnapshot:cp,QuerySnapshot:ia,CollectionReference:lu,FieldPath:gw,FieldValue:Hd,setLogLevel:function(i){!function(i){zo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function pT(i,n){return function(i,n=QS.z){return new ii.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function gT(i,n){return pT(i,n).pipe((0,mt.U)(r=>({payload:r,type:"query"})))}function mw(i,n){return gT(i,n).pipe(il(void 0),hb(),(0,mt.U)(([r,a])=>{const c=a.payload.docChanges(),h=c.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((m,w)=>{const D=c.find(R=>R.doc.ref.isEqual(m.ref)),A=null==r?void 0:r.payload.docs.find(R=>R.ref.isEqual(m.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(m.metadata)||!D&&A&&JSON.stringify(A.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:m}})}),h}))}function I1(i,n,r){return mw(i,r).pipe(Vs((a,c)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return mT(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return mT(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return mT(i,n.oldIndex,1)}return i}(i,a))}),i}(a,c.map(h=>h.payload),n),[]),r=>r.lift(new JS(void 0,void 0)),(0,mt.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function mT(i,n,r,...a){const c=i.slice();return c.splice(n,r,...a),c}function T1(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){(function(i,n){i.INTERNAL.registerComponent(new Fg.wA("firestore-compat",r=>((n,r)=>new Oc(n,r,new up))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},WR)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(kg.Z);class S1{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=mw(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,mt.U)(a=>a.filter(c=>n.indexOf(c.type)>-1)))),r.pipe(il(void 0),hb(),Oi(([a,c])=>c.length>0||!a),(0,mt.U)(([a,c])=>c),gn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Vs((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=T1(n);return I1(this.query,r,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(n={}){return gT(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),gn.iC)}get(n){return(0,tn.D)(this.query.get(n)).pipe(gn.iC)}add(n){return this.ref.add(n)}doc(n){return new s(this.ref.doc(n),this.afs)}}class s{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:c,query:h}=y(a,r);return new S1(c,h,this.afs)}snapshotChanges(){return function(i,n){return pT(i,n).pipe(il(void 0),hb(),(0,mt.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,tn.D)(this.ref.get(n)).pipe(gn.iC)}}class o{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?mw(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),Oi(r=>r.length>0),gn.iC):mw(this.query,this.afs.schedulers.outsideAngular).pipe(gn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Vs((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=T1(n);return I1(this.query,r,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(n={}){return gT(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(a=>a.payload.docs.map(c=>n.idField?Object.assign({[n.idField]:c.id},c.data()):c.data())),gn.iC)}get(n){return(0,tn.D)(this.query.get(n)).pipe(gn.iC)}}const u=new g.OlP("angularfire2.enableFirestorePersistence"),l=new g.OlP("angularfire2.firestore.persistenceSettings"),d=new g.OlP("angularfire2.firestore.settings"),f=new g.OlP("angularfire2.firestore.use-emulator");function y(i,n=(r=>r)){return{query:n(i),ref:i}}let E=(()=>{class i{constructor(r,a,c,h,m,w,D,A,R,O,q,Z,ge,ke,$e,vt){this.schedulers=D;const Rt=(0,Ei.on)(r,w,a),dt=R;O&&YS(Rt,w,q,ge,ke,$e,Z,vt),[this.firestore,this.persistenceEnabled$]=(0,gn.cc)(`${Rt.name}.firestore`,"AngularFirestore",Rt.name,()=>{const wt=w.runOutsideAngular(()=>Rt.firestore());if(h&&wt.settings(h),dt&&wt.useEmulator(...dt),c&&!Br(m)){const $n=()=>{try{return(0,tn.D)(wt.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(sa){return"undefined"!=typeof console&&console.warn(sa),(0,it.of)(!1)}};return[wt,w.runOutsideAngular($n)]}return[wt,(0,it.of)(!1)]},[h,dt,c])}collection(r,a){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:m}=y(c,a),w=this.schedulers.ngZone.run(()=>h);return new S1(w,m,this)}collectionGroup(r,a){const c=a||(m=>m),h=this.firestore.collectionGroup(r);return new o(c(h),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>a);return new s(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Ei.Dh),g.LFG(Ei.xv,8),g.LFG(u,8),g.LFG(d,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(gn.HU),g.LFG(l,8),g.LFG(f,8),g.LFG(wi,8),g.LFG(ZS,8),g.LFG(KS,8),g.LFG(Pg,8),g.LFG(db,8),g.LFG(tv,8),g.LFG(nv,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),b=(()=>{class i{constructor(){ev.Z.registerVersion("angularfire",gn.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:u,useValue:!0},{provide:l,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[E]}),i})();class S{constructor(n,r){this.dueTime=n,this.scheduler=r}call(n,r){return r.subscribe(new N(n,this.dueTime,this.scheduler))}}class N extends Ar.L{constructor(n,r,a){super(n),this.dueTime=r,this.scheduler=a,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(M,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function M(i){i.debouncedNext()}var U=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(U||(U={})),U))();const z="firebasestorage.googleapis.com",ce="storageBucket";class le extends At.ZR{constructor(n,r){super(Xe(n),`Firebase Storage: ${r} (${Xe(n)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,le.prototype)}_codeEquals(n){return Xe(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Xe(i){return"storage/"+i}function lt(){return new le("unknown","An unknown error occurred, please check the error payload for server response.")}function Vc(){return new le("canceled","User canceled the upload/download.")}function Iy(){return new le("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function NN(){return new le("no-download-url","The given file does not have any download URLs.")}function Dy(i){return new le("invalid-argument",i)}function JR(){return new le("app-deleted","The Firebase app was deleted.")}function XR(i){return new le("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ww(i,n){return new le("invalid-format","String does not match format '"+i+"': "+n)}function yT(i){throw new le("internal-error","Internal error: "+i)}class MN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=U.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=U.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=U.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,r,a,c){if(this.sent_)throw yT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,n,!0),void 0!==c)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return void 0!==a?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}}getResponseText(){if(!this.sent_)throw yT("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class PN{createConnection(){return new MN}}class Ii{constructor(n,r){this.bucket=n,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,r){let a;try{a=Ii.makeFromUrl(n,r)}catch(c){return new Ii(n,"")}if(""===a.path)return a;throw function(i){return new le("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,r){let a=null;const c="([A-Za-z0-9.\\-_]+)",w=new RegExp("^gs://"+c+"(/(.*))?$","i");function A(wt){wt.path_=decodeURIComponent(wt.path)}const O=r.replace(/[.]/g,"\\."),dt=[{regex:w,indices:{bucket:1,path:3},postModify:function(wt){"/"===wt.path.charAt(wt.path.length-1)&&(wt.path_=wt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${c}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${r===z?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${c}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let wt=0;wt<dt.length;wt++){const $n=dt[wt],sa=$n.regex.exec(n);if(sa){let bw=sa[$n.indices.path];bw||(bw=""),a=new Ii(sa[$n.indices.bucket],bw),$n.postModify(a);break}}if(null==a)throw function(i){return new le("invalid-url","Invalid URL '"+i+"'.")}(n);return a}}class kN{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function _T(i){return"string"==typeof i||i instanceof String}function eN(i){return A1()&&i instanceof Blob}function A1(){return"undefined"!=typeof Blob}function x1(i,n,r,a){if(a<n)throw Dy(`Invalid value for '${i}'. Expected ${n} or greater.`);if(a>r)throw Dy(`Invalid value for '${i}'. Expected ${r} or less.`)}function qd(i,n,r){let a=n;return null==r&&(a=`https://${n}`),`${r}://${a}/v0${i}`}function tN(i){const n=encodeURIComponent;let r="?";for(const a in i)i.hasOwnProperty(a)&&(r=r+(n(a)+"=")+n(i[a])+"&");return r=r.slice(0,-1),r}class jN{constructor(n,r,a,c,h,m,w,D,A,R,O){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=r,this.headers_=a,this.body_=c,this.successCodes_=h.slice(),this.additionalRetryCodes_=m.slice(),this.callback_=w,this.errorCallback_=D,this.progressCallback_=R,this.timeout_=A,this.pool_=O,this.promise_=new Promise((q,Z)=>{this.resolve_=q,this.reject_=Z,this.start_()})}start_(){const n=this;function a(c,h){const m=n.resolve_,w=n.reject_,D=h.connection;if(h.wasSuccessCode)try{const A=n.callback_(D,D.getResponseText());!function(i){return void 0!==i}(A)?m():m(A)}catch(A){w(A)}else if(null!==D){const A=lt();A.serverResponse=D.getResponseText(),w(n.errorCallback_?n.errorCallback_(D,A):A)}else w(h.canceled?n.appDelete_?JR():Vc():new le("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?a(0,new vT(!1,null,!0)):this.backoffId_=function(i,n,r){let a=1,c=null,h=!1,m=0;function w(){return 2===m}let D=!1;function A(...ge){D||(D=!0,n.apply(null,ge))}function R(ge){c=setTimeout(()=>{c=null,i(O,w())},ge)}function O(ge,...ke){if(D)return;if(ge)return void A.call(null,ge,...ke);if(w()||h)return void A.call(null,ge,...ke);let vt;a<64&&(a*=2),1===m?(m=2,vt=0):vt=1e3*(a+Math.random()),R(vt)}let q=!1;function Z(ge){q||(q=!0,!D&&(null!==c?(ge||(m=2),clearTimeout(c),R(0)):ge||(m=1)))}return R(0),setTimeout(()=>{h=!0,Z(!0)},r),Z}(function(c,h){if(h)return void c(!1,new vT(!1,null,!0));const m=n.pool_.createConnection();function w(D){null!==n.progressCallback_&&n.progressCallback_(D.loaded,D.lengthComputable?D.total:-1)}n.pendingConnection_=m,null!==n.progressCallback_&&m.addUploadProgressListener(w),m.send(n.url_,n.method_,n.body_,n.headers_).then(()=>{null!==n.progressCallback_&&m.removeUploadProgressListener(w),n.pendingConnection_=null;const D=m.getErrorCode()===U.NO_ERROR,A=m.getStatus();if(!D||n.isRetryStatusCode_(A)){const O=m.getErrorCode()===U.ABORT;return void c(!1,new vT(!1,null,O))}const R=-1!==n.successCodes_.indexOf(A);c(!0,new vT(R,m))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(n){const r=n>=500&&n<600,c=-1!==[408,429].indexOf(n),h=-1!==this.additionalRetryCodes_.indexOf(n);return r||c||h}}class vT{constructor(n,r,a){this.wasSuccessCode=n,this.connection=r,this.canceled=!!a}}function ZN(...i){const n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){const r=new n;for(let a=0;a<i.length;a++)r.append(i[a]);return r.getBlob()}if(A1())return new Blob(i);throw new le("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ss={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class R1{constructor(n,r){this.data=n,this.contentType=r||null}}function N1(i,n){switch(i){case Ss.RAW:return new R1(nN(n));case Ss.BASE64:case Ss.BASE64URL:return new R1(rN(i,n));case Ss.DATA_URL:return new R1(function(i){const n=new iN(i);return n.base64?rN(Ss.BASE64,n.rest):function(i){let n;try{n=decodeURIComponent(i)}catch(r){throw ww(Ss.DATA_URL,"Malformed data URL.")}return nN(n)}(n.rest)}(n),function(i){return new iN(i).contentType}(n))}throw lt()}function nN(i){const n=[];for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<=127?n.push(a):a<=2047?n.push(192|a>>6,128|63&a):55296==(64512&a)?r<i.length-1&&56320==(64512&i.charCodeAt(r+1))?(a=65536|(1023&a)<<10|1023&i.charCodeAt(++r),n.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a)):n.push(239,191,189):56320==(64512&a)?n.push(239,191,189):n.push(224|a>>12,128|a>>6&63,128|63&a)}return new Uint8Array(n)}function rN(i,n){switch(i){case Ss.BASE64:{const c=-1!==n.indexOf("-"),h=-1!==n.indexOf("_");if(c||h)throw ww(i,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Ss.BASE64URL:{const c=-1!==n.indexOf("+"),h=-1!==n.indexOf("/");if(c||h)throw ww(i,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function(i){return atob(i)}(n)}catch(c){throw ww(i,"Invalid character found")}const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}class iN{constructor(n){this.base64=!1,this.contentType=null;const r=n.match(/^data:([^,]+)?,/);if(null===r)throw ww(Ss.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=r[1]||null;null!=a&&(this.base64=function(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-";base64".length):a),this.rest=n.substring(n.indexOf(",")+1)}}class du{constructor(n,r){let a=0,c="";eN(n)?(this.data_=n,a=n.size,c=n.type):n instanceof ArrayBuffer?(r?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),a=this.data_.length):n instanceof Uint8Array&&(r?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),a=n.length),this.size_=a,this.type_=c}size(){return this.size_}type(){return this.type_}slice(n,r){if(eN(this.data_)){const c=function(i,n,r){return i.webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null}(this.data_,n,r);return null===c?null:new du(c)}{const a=new Uint8Array(this.data_.buffer,n,r-n);return new du(a,!0)}}static getBlob(...n){if(A1()){const r=n.map(a=>a instanceof du?a.data_:a);return new du(ZN.apply(null,r))}{const r=n.map(m=>_T(m)?N1(Ss.RAW,m).data:m.data_);let a=0;r.forEach(m=>{a+=m.byteLength});const c=new Uint8Array(a);let h=0;return r.forEach(m=>{for(let w=0;w<m.length;w++)c[h++]=m[w]}),new du(c,!0)}}uploadData(){return this.data_}}function M1(i){let n;try{n=JSON.parse(i)}catch(r){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function sN(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function rM(i,n){return n}class Ki{constructor(n,r,a,c){this.server=n,this.local=r||n,this.writable=!!a,this.xform=c||rM}}let ET=null;function Cw(){if(ET)return ET;const i=[];i.push(new Ki("bucket")),i.push(new Ki("generation")),i.push(new Ki("metageneration")),i.push(new Ki("name","fullPath",!0));const r=new Ki("name");r.xform=function(h,m){return function(i){return!_T(i)||i.length<2?i:sN(i)}(m)},i.push(r);const c=new Ki("size");return c.xform=function(h,m){return void 0!==m?Number(m):m},i.push(c),i.push(new Ki("timeCreated")),i.push(new Ki("updated")),i.push(new Ki("md5Hash",null,!0)),i.push(new Ki("cacheControl",null,!0)),i.push(new Ki("contentDisposition",null,!0)),i.push(new Ki("contentEncoding",null,!0)),i.push(new Ki("contentLanguage",null,!0)),i.push(new Ki("contentType",null,!0)),i.push(new Ki("metadata","customMetadata",!0)),ET=i,ET}function oN(i,n,r){const a=M1(n);return null===a?null:function(i,n,r){const a={type:"file"},c=r.length;for(let h=0;h<c;h++){const m=r[h];a[m.local]=m.xform(a,n[m.server])}return function(i,n){Object.defineProperty(i,"ref",{get:function(){const h=new Ii(i.bucket,i.fullPath);return n._makeStorageReference(h)}})}(a,i),a}(i,a,r)}function O1(i,n){const r={},a=n.length;for(let c=0;c<a;c++){const h=n[c];h.writable&&(r[h.server]=i[h.local])}return JSON.stringify(r)}const aN="prefixes";class Uc{constructor(n,r,a,c){this.url=n,this.method=r,this.handler=a,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hu(i){if(!i)throw lt()}function wT(i,n){return function(a,c){const h=oN(i,c,n);return hu(null!==h),h}}function Ty(i){return function(r,a){let c;return c=401===r.getStatus()?r.getResponseText().includes("Firebase App Check token is invalid")?new le("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new le("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?function(i){return new le("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===r.getStatus()?function(i){return new le("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):a,c.serverResponse=a.serverResponse,c}}function CT(i){const n=Ty(i);return function(a,c){let h=n(a,c);return 404===a.getStatus()&&(h=function(i){return new le("object-not-found","Object '"+i+"' does not exist.")}(i.path)),h.serverResponse=c.serverResponse,h}}function cN(i,n,r){const c=qd(n.fullServerUrl(),i.host,i._protocol),m=i.maxOperationRetryTime,w=new Uc(c,"GET",wT(i,r),m);return w.errorHandler=CT(n),w}function hM(i,n,r,a,c){const h={};h.prefix=n.isRoot?"":n.path+"/",r&&r.length>0&&(h.delimiter=r),a&&(h.pageToken=a),c&&(h.maxResults=c);const w=qd(n.bucketOnlyServerUrl(),i.host,i._protocol),A=i.maxOperationRetryTime,R=new Uc(w,"GET",function(i,n){return function(a,c){const h=function(i,n,r){const a=M1(r);return null===a?null:function(i,n,r){const a={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[aN])for(const c of r[aN]){const h=c.replace(/\/$/,""),m=i._makeStorageReference(new Ii(n,h));a.prefixes.push(m)}if(r.items)for(const c of r.items){const h=i._makeStorageReference(new Ii(n,c.name));a.items.push(h)}return a}(i,n,a)}(i,n,c);return hu(null!==h),h}}(i,n.bucket),A);return R.urlParams=h,R.errorHandler=Ty(n),R}function fM(i,n,r){const c=qd(n.fullServerUrl(),i.host,i._protocol),m=i.maxOperationRetryTime,w=new Uc(c,"GET",function(i,n){return function(a,c){const h=oN(i,c,n);return hu(null!==h),function(i,n,r,a){const c=M1(n);if(null===c||!_T(c.downloadTokens))return null;const h=c.downloadTokens;if(0===h.length)return null;const m=encodeURIComponent;return h.split(",").map(A=>{const O=i.fullPath;return qd("/b/"+m(i.bucket)+"/o/"+m(O),r,a)+tN({alt:"media",token:A})})[0]}(h,c,i.host,i._protocol)}}(i,r),m);return w.errorHandler=CT(n),w}function pM(i,n,r,a){const h=qd(n.fullServerUrl(),i.host,i._protocol),w=O1(r,a),A=i.maxOperationRetryTime,R=new Uc(h,"PATCH",wT(i,a),A);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=w,R.errorHandler=CT(n),R}function gM(i,n){const a=qd(n.fullServerUrl(),i.host,i._protocol),w=new Uc(a,"DELETE",function(D,A){},i.maxOperationRetryTime);return w.successCodes=[200,204],w.errorHandler=CT(n),w}function lN(i,n,r){const a=Object.assign({},r);return a.fullPath=i.path,a.size=n.size(),a.contentType||(a.contentType=function(i,n){return n&&n.type()||"application/octet-stream"}(0,n)),a}class bT{constructor(n,r,a,c){this.current=n,this.total=r,this.finalized=!!a,this.metadata=c||null}}function P1(i,n){let r=null;try{r=i.getResponseHeader("X-Goog-Upload-Status")}catch(c){hu(!1)}return hu(!!r&&-1!==(n||["active"]).indexOf(r)),r}const EM={STATE_CHANGED:"state_changed"},Yi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k1(i){switch(i){case"running":case"pausing":case"canceling":return Yi.RUNNING;case"paused":return Yi.PAUSED;case"success":return Yi.SUCCESS;case"canceled":return Yi.CANCELED;case"error":default:return Yi.ERROR}}class wM{constructor(n,r,a){if(function(i){return"function"==typeof i}(n)||null!=r||null!=a)this.next=n,this.error=null!=r?r:void 0,this.complete=null!=a?a:void 0;else{const h=n;this.next=h.next,this.error=h.error,this.complete=h.complete}}}function Sy(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}class fN{constructor(n,r,a=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=r,this._metadata=a,this._mappings=Cw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=c=>{this._request=void 0,this._chunkMultiplier=1,c._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=c,this._transition("error"))},this._metadataErrorHandler=c=>{this._request=void 0,c._codeEquals("canceled")?this.completeTransitions_():(this._error=c,this._transition("error"))},this._promise=new Promise((c,h)=>{this._resolve=c,this._reject=h,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const n=this._transferred;return r=>this._updateProgress(n+r)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,a])=>{switch(this._state){case"running":n(r,a);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,c){const h=n.bucketOnlyServerUrl(),m=lN(n,a,c),w={name:m.fullPath},D=qd(h,i.host,i._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a.size()}`,"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},O=O1(m,r),ge=new Uc(D,"POST",function(ke){let $e;P1(ke);try{$e=ke.getResponseHeader("X-Goog-Upload-URL")}catch(vt){hu(!1)}return hu(_T($e)),$e},i.maxUploadRetryTime);return ge.urlParams=w,ge.headers=R,ge.body=O,ge.errorHandler=Ty(n),ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._uploadUrl=h,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((r,a)=>{const c=function(i,n,r,a){const D=new Uc(r,"POST",function(A){const R=P1(A,["active","final"]);let O=null;try{O=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Z){hu(!1)}O||hu(!1);const q=Number(O);return hu(!isNaN(q)),new bT(q,a.size(),"final"===R)},i.maxUploadRetryTime);return D.headers={"X-Goog-Upload-Command":"query"},D.errorHandler=Ty(n),D}(this._ref.storage,this._ref._location,n,this._blob),h=this._ref.storage._makeRequest(c,r,a);this._request=h,h.getPromise().then(m=>{m=m,this._request=void 0,this._updateProgress(m.current),this._needToFetchStatus=!1,m.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,r=new bT(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken((c,h)=>{let m;try{m=function(i,n,r,a,c,h,m,w){const D=new bT(0,0);if(m?(D.current=m.current,D.total=m.total):(D.current=0,D.total=a.size()),a.size()!==D.total)throw new le("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const A=D.total-D.current;let R=A;c>0&&(R=Math.min(R,c));const O=D.current,ge={"X-Goog-Upload-Command":R===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${D.current}`},ke=a.slice(O,O+R);if(null===ke)throw Iy();const dt=new Uc(r,"POST",function(wt,$n){const sa=P1(wt,["active","final"]),$1=D.current+R,bw=a.size();let G1;return G1="final"===sa?wT(n,h)(wt,$n):null,new bT($1,bw,"final"===sa,G1)},n.maxUploadRetryTime);return dt.headers=ge,dt.body=ke.uploadData(),dt.progressCallback=w||null,dt.errorHandler=Ty(i),dt}(this._ref._location,this._ref.storage,a,this._blob,n,this._mappings,r,this._makeProgressCallback())}catch(D){return this._error=D,void this._transition("error")}const w=this._ref.storage._makeRequest(m,c,h);this._request=w,w.getPromise().then(D=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(D.current),D.finalized?(this._metadata=D.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,r)=>{const a=cN(this._ref.storage,this._ref._location,this._mappings),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,c){const h=n.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},D=function(){let dt="";for(let wt=0;wt<2;wt++)dt+=Math.random().toString().slice(2);return dt}();m["Content-Type"]="multipart/related; boundary="+D;const A=lN(n,a,c),R=O1(A,r),Z=du.getBlob("--"+D+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+D+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",a,"\r\n--"+D+"--");if(null===Z)throw Iy();const ge={name:A.fullPath},ke=qd(h,i.host,i._protocol),vt=i.maxUploadRetryTime,Rt=new Uc(ke,"POST",wT(i,r),vt);return Rt.urlParams=ge,Rt.headers=m,Rt.body=Z.uploadData(),Rt.errorHandler=Ty(n),Rt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const r=this._transferred;this._transferred=n,this._transferred!==r&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":const r="paused"===this._state;this._state=n,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=Vc(),this._state=n,this._notifyObservers();break;case"error":case"success":this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=k1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,r,a,c){const h=new wM(r||void 0,a||void 0,c||void 0);return this._addObserver(h),()=>{this._removeObserver(h)}}then(n,r){return this._promise.then(n,r)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const r=this._observers.indexOf(n);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(k1(this._state)){case Yi.SUCCESS:Sy(this._resolve.bind(null,this.snapshot))();break;case Yi.CANCELED:case Yi.ERROR:Sy(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(k1(this._state)){case Yi.RUNNING:case Yi.PAUSED:n.next&&Sy(n.next.bind(n,this.snapshot))();break;case Yi.SUCCESS:n.complete&&Sy(n.complete.bind(n))();break;case Yi.CANCELED:case Yi.ERROR:n.error&&Sy(n.error.bind(n,this._error))();break;default:n.error&&Sy(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class dp{constructor(n,r){this._service=n,this._location=r instanceof Ii?r:Ii.makeFromUrl(r,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,r){return new dp(n,r)}get root(){const n=new Ii(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sN(this._location.path)}get storage(){return this._service}get parent(){const n=function(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const r=new Ii(this._location.bucket,n);return new dp(this._service,r)}_throwIfRoot(n){if(""===this._location.path)throw XR(n)}}function gN(i,n,r){return F1.apply(this,arguments)}function F1(){return(F1=(0,Ee.Z)(function*(i,n,r){const c=yield mN(i,{pageToken:r});n.prefixes.push(...c.prefixes),n.items.push(...c.items),null!=c.nextPageToken&&(yield gN(i,n,c.nextPageToken))})).apply(this,arguments)}function mN(i,n){return L1.apply(this,arguments)}function L1(){return(L1=(0,Ee.Z)(function*(i,n){null!=n&&"number"==typeof n.maxResults&&x1("options.maxResults",1,1e3,n.maxResults);const r=n||{},a=hM(i.storage,i._location,"/",r.pageToken,r.maxResults);return(yield i.storage.makeRequestWithTokens(a)).getPromise()})).apply(this,arguments)}function V1(){return(V1=(0,Ee.Z)(function*(i){i._throwIfRoot("getMetadata");const n=cN(i.storage,i._location,Cw());return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function U1(){return(U1=(0,Ee.Z)(function*(i,n){i._throwIfRoot("updateMetadata");const r=pM(i.storage,i._location,n,Cw());return(yield i.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function B1(){return(B1=(0,Ee.Z)(function*(i){i._throwIfRoot("getDownloadURL");const n=fM(i.storage,i._location,Cw());return(yield i.storage.makeRequestWithTokens(n)).getPromise().then(r=>{if(null===r)throw NN();return r})})).apply(this,arguments)}function j1(){return(j1=(0,Ee.Z)(function*(i){i._throwIfRoot("deleteObject");const n=gM(i.storage,i._location);return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function yN(i,n){const r=function(i,n){const r=n.split("/").filter(a=>a.length>0).join("/");return 0===i.length?r:i+"/"+r}(i._location.path,n),a=new Ii(i._location.bucket,r);return new dp(i.storage,a)}function _N(i,n){if(i instanceof H1){const r=i;if(null==r._bucket)throw new le("no-default-bucket","No default bucket found. Did you set the '"+ce+"' property when initializing the app?");const a=new dp(r,r._bucket);return null!=n?_N(a,n):a}return void 0!==n?yN(i,n):i}function NM(i,n){if(n&&function(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof H1)return function(i,n){return new dp(i,n)}(i,n);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}return _N(i,n)}function vN(i,n){const r=null==n?void 0:n[ce];return null==r?null:Ii.makeFromBucketSpec(r,i)}class H1{constructor(n,r,a,c,h,m){this.app=n,this._authProvider=r,this._appCheckProvider=a,this._pool=c,this._url=h,this._firebaseVersion=m,this._bucket=null,this._host=z,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?Ii.makeFromBucketSpec(h,this._host):vN(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Ii.makeFromBucketSpec(this._url,n):vN(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){x1("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){x1("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,Ee.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const r=n._authProvider.getImmediate({optional:!0});if(r){const a=yield r.getToken();if(null!==a)return a.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,Ee.Z)(function*(){const r=n._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new dp(this,n)}_makeRequest(n,r,a){if(this._deleted)return new kN(JR());{const c=function(i,n,r,a,c,h){const m=tN(i.urlParams),w=i.url+m,D=Object.assign({},i.headers);return function(i,n){n&&(i["X-Firebase-GMPID"]=n)}(D,n),function(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(D,r),function(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(D,h),function(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(D,a),new jN(w,i.method,D,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,c)}(n,this._appId,r,a,this._pool,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(n){var r=this;return(0,Ee.Z)(function*(){const[a,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,a,c)})()}}function wN(i,n){return NM(i=(0,At.m9)(i),n)}(0,Ba._registerComponent)(new Fg.wA("storage",function(i,{instanceIdentifier:n}){const r=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),c=i.getProvider("app-check-internal");return new H1(r,a,c,new PN,n,Ba.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ba.registerVersion)("@firebase/storage","0.8.3");class IT{constructor(n,r,a){this._delegate=n,this.task=r,this.ref=a}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class CN{constructor(n,r){this._delegate=n,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new IT(this._delegate.snapshot,this,this._ref)}then(n,r){return this._delegate.then(a=>{if(n)return n(new IT(a,this,this._ref))},r)}on(n,r,a,c){let h;return r&&(h="function"==typeof r?m=>r(new IT(m,this,this._ref)):{next:r.next?m=>r.next(new IT(m,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(n,h,a||void 0,c||void 0)}}class bN{constructor(n,r){this._delegate=n,this._service=r}get prefixes(){return this._delegate.prefixes.map(n=>new Bc(n,this._service))}get items(){return this._delegate.items.map(n=>new Bc(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Bc{constructor(n,r){this._delegate=n,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const r=function(i,n){return yN(i,n)}(this._delegate,n);return new Bc(r,this.storage)}get root(){return new Bc(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new Bc(n,this.storage)}put(n,r){return this._throwIfRoot("put"),new CN(function(i,n,r){return function(i,n,r){return i._throwIfRoot("uploadBytesResumable"),new fN(i,new du(n),r)}(i=(0,At.m9)(i),n,r)}(this._delegate,n,r),this)}putString(n,r=Ss.RAW,a){this._throwIfRoot("putString");const c=N1(r,n),h=Object.assign({},a);return null==h.contentType&&null!=c.contentType&&(h.contentType=c.contentType),new CN(new fN(this._delegate,new du(c.data,!0),h),this)}listAll(){return function(i){return function(i){const n={prefixes:[],items:[]};return gN(i,n).then(()=>n)}(i=(0,At.m9)(i))}(this._delegate).then(n=>new bN(n,this.storage))}list(n){return function(i,n){return mN(i=(0,At.m9)(i),n)}(this._delegate,n||void 0).then(r=>new bN(r,this.storage))}getMetadata(){return function(i){return function(i){return V1.apply(this,arguments)}(i=(0,At.m9)(i))}(this._delegate)}updateMetadata(n){return function(i,n){return function(i,n){return U1.apply(this,arguments)}(i=(0,At.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function(i){return function(i){return B1.apply(this,arguments)}(i=(0,At.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(i){return function(i){return j1.apply(this,arguments)}(i=(0,At.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw XR(n)}}class IN{constructor(n,r){this.app=n,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(DN(n))throw Dy("ref() expected a child path but got a URL, use refFromURL instead.");return new Bc(wN(this._delegate,n),this)}refFromURL(n){if(!DN(n))throw Dy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ii.makeFromUrl(n,this._delegate.host)}catch(r){throw Dy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bc(wN(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,r,a={}){!function(i,n,r,a={}){!function(i,n,r,a={}){i.host=`${n}:${r}`,i._protocol="http";const{mockUserToken:c}=a;c&&(i._overrideAuthToken="string"==typeof c?c:(0,At.Sg)(c,i.app.options.projectId))}(i,n,r,a)}(this._delegate,n,r,a)}}function DN(i){return/^[A-Za-z]+:\/\//.test(i)}function KM(i,{instanceIdentifier:n}){const r=i.getProvider("app-compat").getImmediate(),a=i.getProvider("storage").getImmediate({identifier:n});return new IN(r,a)}function TN(i){const n=function(i){return new ii.y(n=>{const r=m=>n.next(m);r(i.snapshot);const h=i.on("state_changed",r);return i.then(m=>{r(m),n.complete()},m=>{r(i.snapshot),(m=>{n.error(m)})(m)}),function(){h()}}).pipe(function(i,n=QS.P){return r=>r.lift(new S(i,n))}(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,mt.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function DT(i){return{getDownloadURL:()=>(0,it.of)(void 0).pipe(gn.fc,kn(()=>i.getDownloadURL()),gn.iC),getMetadata:()=>(0,it.of)(void 0).pipe(gn.fc,kn(()=>i.getMetadata()),gn.iC),delete:()=>(0,tn.D)(i.delete()),child:n=>DT(i.child(n)),updateMetadata:n=>(0,tn.D)(i.updateMetadata(n)),put:(n,r)=>TN(i.put(n,r)),putString:(n,r,a)=>TN(i.putString(n,r,a)),listAll:()=>(0,tn.D)(i.listAll())}}!function(i){const n={TaskState:Yi,TaskEvent:EM,StringFormat:Ss,Storage:IN,Reference:Bc};i.INTERNAL.registerComponent(new Fg.wA("storage-compat",KM,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.3")}(kg.Z);const JM=new g.OlP("angularfire2.storageBucket"),XM=new g.OlP("angularfire2.storage.maxUploadRetryTime"),eO=new g.OlP("angularfire2.storage.maxOperationRetryTime"),tO=new g.OlP("angularfire2.storage.use-emulator");let nO=(()=>{class i{constructor(r,a,c,h,m,w,D,A,R){const O=(0,Ei.on)(r,m,a);this.storage=(0,gn.cc)(`${O.name}.storage.${c}`,"AngularFireStorage",O.name,()=>{const q=m.runOutsideAngular(()=>O.storage(c||void 0)),Z=R;return Z&&q.useEmulator(...Z),D&&q.setMaxUploadRetryTime(D),A&&q.setMaxOperationRetryTime(A),q},[D,A])}ref(r){return DT(this.storage.ref(r))}refFromURL(r){return DT(this.storage.refFromURL(r))}upload(r,a,c){return DT(this.storage.ref(r)).put(a,c)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Ei.Dh),g.LFG(Ei.xv,8),g.LFG(JM,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(gn.HU),g.LFG(XM,8),g.LFG(eO,8),g.LFG(tO,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),rO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})(),iO=(()=>{class i{constructor(){ev.Z.registerVersion("angularfire",gn.q4.full,"gcs-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[nO],imports:[rO]}),i})();var sO=F(6031);let TT=(()=>{class i{constructor(r){this.au=r}signup(r,a){return this.au.createUserWithEmailAndPassword(r,a)}signIn(r,a){return this.au.signInWithEmailAndPassword(r,a)}signInWithGoogle(){return this.au.signInWithPopup(new sO.N)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(wi))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oO=(()=>{class i{constructor(r){this.au=r,this.signup=new g.vpe,this.continueWithEmail=new g.vpe,this.email="",this.message=""}ngOnInit(){}signUp(){this.signup.emit(!0)}continuewithemail(){0==this.email.length?this.message="\u{1f514} Please fill in your email address":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.email).toLowerCase())?this.continueWithEmail.emit({1:!0,2:this.email}):this.message="\u{1f514} Please fill in a valid email address"}signInGoogle(){this.au.signInWithGoogle().then(()=>{console.log("you are inside seccesfully")}).catch(r=>{console.log(r)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TT))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-sign-in"]],outputs:{signup:"signup",continueWithEmail:"continueWithEmail"},decls:29,vars:2,consts:[["id","sign-in-card"],["type","email","name","email","id","username","placeholder","\u{1f64e}\u200d\u2642\ufe0fUsername or \u2709Email",3,"ngModel","keyup.enter","ngModelChange"],[1,"warning"],["id","continue-w-email",1,"sign-button",3,"click"],["id","continue-w-google",1,"sign-button",3,"click"],["id","google-icon","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","48","height","48","viewBox","0 0 48 48",2,"fill","#000000"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["id","continue-google-title"],["id","continue-w-apple",1,"sign-button"],["id","apple-icon","src","assets/apple.png","alt",""],["id","new-account"],["id","sign-up",1,"sign-button",3,"click"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"h1"),g._uU(2,"Log in to Pomoguru"),g.qZA(),g._UZ(3,"hr"),g.TgZ(4,"input",1),g.NdJ("keyup.enter",function(){return a.continuewithemail()})("ngModelChange",function(h){return a.email=h}),g.qZA(),g._UZ(5,"br"),g.TgZ(6,"p",2),g._uU(7),g.qZA(),g.TgZ(8,"button",3),g.NdJ("click",function(){return a.continuewithemail()}),g._uU(9,"Continue with Email"),g.qZA(),g.TgZ(10,"p"),g._uU(11,"or"),g.qZA(),g.TgZ(12,"button",4),g.NdJ("click",function(){return a.signInGoogle()}),g.O4$(),g.TgZ(13,"svg",5),g._UZ(14,"path",6),g._UZ(15,"path",7),g._UZ(16,"path",8),g._UZ(17,"path",9),g.qZA(),g.kcU(),g.TgZ(18,"p",10),g._uU(19,"Continue with Google"),g.qZA(),g.qZA(),g._UZ(20,"br"),g.TgZ(21,"button",11),g._UZ(22,"img",12),g._uU(23," Continue with Apple "),g.qZA(),g._UZ(24,"hr"),g.TgZ(25,"p",13),g._uU(26,"Don't have a Pomoguru account?"),g.qZA(),g.TgZ(27,"button",14),g.NdJ("click",function(){return a.signUp()}),g._uU(28,"Sign Up"),g.qZA(),g.qZA()),2&r&&(g.xp6(4),g.Q6J("ngModel",a.email),g.xp6(3),g.Oqu(a.message))},directives:[Nr,Tl,Nl],styles:['#sign-in-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 7px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0;margin-top:13px}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#continue-w-google[_ngcontent-%COMP%]{background-color:#4286f5;display:flex;padding:0;align-items:center;justify-content:space-evenly;margin:auto;border-radius:28px}#continue-w-apple[_ngcontent-%COMP%]{border:1px solid #000;color:#000;background-color:#fff}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#new-account[_ngcontent-%COMP%]:after{border:1px solid #000}']}),i})(),aO=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-landing-page"]],decls:7,vars:0,consts:[["id","welcome-section"],["id","focus-quote"],["id","illustration-1","src","https://lh3.googleusercontent.com/M53C-f2te0LgJRh_5hnHS4L_GHP6cEhnlAJC6U0nX9739Vz7-_NAFAvxR7UZFaFi5W0_oas_G9k4sjemk4bjPYQq3EbfjIcsn_qC96Y71QQRmEfUnNBqdMDfLZPykCjyi3wcx1_8-MP9uum46T4pZ3S_SMArckWNyJjT_MzGDgrirnWF_mKZTElFQYazsOyfYqpa5a1bwItvlbT0pY-M1hm3h2ZYlIx7sIGYYydV43Q7wjOLmm8H7kcmQ2Pf3_OGHHONJ95UvJhcJ8cobdg0CogKrkXMP4K5qYD1iVasyvPUA6yXb4WVfyO9HY__ORh9kRRGA7fFnv9CwNqytAFPN-Sn_oUgjUy_SWegYlNYD3MSEeMYytKifoo4xgoOG-eapIRR_IJX-8RRxZJyRcA-0kWcAPjtS30x7M9cnZGO5maO97C4aKN512V3yOjVyOtiPk-EnM33l65hNIuQdY9LOy2Didlay-LJgDGy9XnujNqjgiQ2Xjz7ukOTm3hsz8ktqQonMPMLAq_nCsBETg3hemTctMbVXmPFDvIHiLQa6K6Kyunp92VyCcHnL8mNdyYBscZWYeYcyKyGEs_k2OaSaxH9K04H9TSMdnD4nMiCES9cOBMUz7HdgEaa3nNbzSvxcHnZacU-3nlcFujrPz-IztprdNK9HEk57pqMZ4-AoLXfrZxhJn_HELf_7lpDNtoHKPJu3FPHb_0hdvuHGKEZM18=s903-no?authuser=0","alt","",1,"illustration"],["id","section2"],["id","illustration-2","src","https://lh3.googleusercontent.com/ZCj17JuSDRaag0hdYnDAWfCZXP2pWc3fanjVcqlzqgKB34XOvBXQIfydT6qAoOL3TuxhUZ7mfwuShSydzs8MBUoU_BsF7FvicksWLqK0AAKSetA3uGeY9oTM9vKrqb_kxf058EZdQNe9ZB-An4Gc46En6gjsyU29c5MVAf_KitRzSMvgz7ROcsn049DU92fPa46ljea5WydVOmyiFAdNkVrHhjSqUoZ9XYJ15YPoDujwEatrdrV9wZyVjIV5XfhfG3Bk5ovtz8-elDLtDhJYkG0FMPTayF4nsIYxjL-Yj6e-ibgJ4ZVfVuKALB6ikKg8YJO8rLrJCapuUAeRFSSMCj3LVVkRT3S0Yfsl82Q70jHyohF-NwegZ-xeu4SXBnhZhi0YR3p-slr3EinGjAZ37PpF_uKEnvJeBB1U4AVUHxShVw3qRzCf63kOuaylvWeVl9Y14qc5BuyIHIjfb8R4FXXPdaRfYpRmKNPUrPJc910z8wlsoS-6RDwczGzkwNSY3RkZoRsCNi8157Mm1yBy2w35dh37PHcTTQ9sraCiE5w5SDZWNR_C0kcXyoMVsYyTk2HLogQ4dYUwDeDvd0YM8Nj-MWDfnrxW5_n2N3iLwLX8matlAnwsS-vvHXcVVydAKefahH6mmqKkcd_s-czbOrKOJkWysq8dMrttGwgwujoLZlxVm6NvRb7pv-NhlfU6IVIqt9BOlBsx-WdUExwVaeU=s903-no?authuser=0","alt","",1,"illustration"]],template:function(r,a){1&r&&(g.TgZ(0,"section",0),g.TgZ(1,"pre",1),g._uU(2,"            FOCUSING \n            IS ABOUT \n            SAYING NO.\n\n            -Steve Jobs\n  "),g.qZA(),g.TgZ(3,"div"),g._UZ(4,"img",2),g.qZA(),g.qZA(),g.TgZ(5,"section",3),g._UZ(6,"img",4),g.qZA())},styles:["body[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;height:200vh}section[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;position:relative;z-index:-1}#welcome-section[_ngcontent-%COMP%]{height:100vh;color:#fff;display:flex;background-image:url(wave-haikei.0d841049cd8bef49d11f.svg);background-size:cover;background-repeat:no-repeat}#focus-quote[_ngcontent-%COMP%]{color:#ffc34d;padding-top:141px;font-weight:400;font-family:inherit;font-size:30px}.illustration[_ngcontent-%COMP%]{padding-top:141px;padding-right:3%;max-width:40%;max-height:40%;display:block;position:absolute;right:0}#section2[_ngcontent-%COMP%]{height:100vh;color:#fff;background-image:url(wave-haikei-after.b1d37dc3b2d46a0a7caa.svg);background-repeat:no-repeat;background-size:cover;margin-top:0}pre[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width: 508px){#welcome-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}#illustration-1[_ngcontent-%COMP%]{z-index:1}}"]}),i})(),uO=(()=>{class i{constructor(r){this.authService=r,this.email="",this.siteKey="",this.siteKey="6LdNOqocAAAAADgo2zcsO4lp5MJV8HaIhngDFZZP"}ngOnInit(){}register(r){delete r.value.captcha,r.value.email=this.email;let a=r.value;this.authService.signup(a.email,a.password).then(()=>{console.log("done")}).catch(c=>{console.log(c),console.log("**********"),console.log(c.message),console.log("**********"),console.log(c.data)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TT))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-create-account"]],inputs:{email:"email"},decls:24,vars:3,consts:[["id","create-account-card",3,"ngSubmit"],["f","ngForm"],["ngModel","","type","text","name","firstname","placeholder","\u{1f64e}\u200d\u2642\ufe0f First name","required","",1,"fas"],["firstName","ngModel"],["ngModel","","type","text","name","lastname","placeholder","\u{1f64e}\u200d\u2642\ufe0f Last name","required","",1,"fas"],["lastName","ngModel"],["ngModel","","type","password","name","password","placeholder","\u{1f512} Create a password","required","","minlength","8",1,"fas"],["Password","ngModel"],["ngModel","","type","password","name","passwordConfirm","placeholder","\u{1f512} Confirm your password","required","","minlength","8",1,"fas"],["PasswordConfirm","ngModel"],["id","captcha"],["ngModel","","name","captcha",3,"siteKey"],["captchaElem","ngModel"],["type","submit","id","continue-w-email",1,"sign-button",3,"disabled"]],template:function(r,a){if(1&r){const c=g.EpF();g.TgZ(0,"form",0,1),g.NdJ("ngSubmit",function(){g.CHM(c);const m=g.MAs(1);return a.register(m)}),g.TgZ(2,"h1"),g._uU(3,"Complete your account setup"),g.qZA(),g._UZ(4,"hr"),g.TgZ(5,"p"),g._uU(6),g.qZA(),g._UZ(7,"input",2,3),g._UZ(9,"br"),g._UZ(10,"input",4,5),g._UZ(12,"br"),g._UZ(13,"input",6,7),g._UZ(15,"br"),g._UZ(16,"input",8,9),g._UZ(18,"br"),g.TgZ(19,"div",10),g._UZ(20,"ngx-recaptcha2",11,12),g.qZA(),g.TgZ(22,"button",13),g._uU(23," Continue with Email "),g.qZA(),g.qZA()}if(2&r){const c=g.MAs(1);g.xp6(6),g.Oqu(a.email),g.xp6(14),g.Q6J("siteKey",a.siteKey),g.xp6(2),g.Q6J("disabled",c.invalid)}},directives:[G_,Rh,Fh,Nr,Tl,Nl,Ju,Y_,sb],styles:['#create-account-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 15px;font-family:"Font Awesome 5 Free",sans-serif;font-size:14px;font-weight:500;letter-spacing:1px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#captcha[_ngcontent-%COMP%]{margin:0% 27.5% 3%}']}),i})();function cO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"h1"),g._uU(2,"Sign Up"),g.qZA(),g._UZ(3,"hr"),g.TgZ(4,"button",3),g.NdJ("click",function(){return g.CHM(r),g.oxw().signInGoogle()}),g.O4$(),g.TgZ(5,"svg",4),g._UZ(6,"path",5),g._UZ(7,"path",6),g._UZ(8,"path",7),g._UZ(9,"path",8),g.qZA(),g.kcU(),g.TgZ(10,"p",9),g._uU(11,"Continue with Google"),g.qZA(),g.qZA(),g._UZ(12,"br"),g.TgZ(13,"button",10),g._UZ(14,"img",11),g._uU(15," Continue with Apple "),g.qZA(),g.TgZ(16,"p"),g._uU(17,"or"),g.qZA(),g.TgZ(18,"input",12),g.NdJ("ngModelChange",function(c){return g.CHM(r),g.oxw().email=c})("keyup.enter",function(){return g.CHM(r),g.oxw().pass()}),g.qZA(),g._UZ(19,"br"),g.TgZ(20,"button",13),g.NdJ("click",function(){return g.CHM(r),g.oxw().pass()}),g._uU(21,"Continue with Email"),g.qZA(),g._UZ(22,"br"),g._UZ(23,"br"),g.TgZ(24,"p",14),g._uU(25),g.qZA(),g.qZA()}if(2&i){const r=g.oxw();g.xp6(18),g.Q6J("ngModel",r.email),g.xp6(7),g.Oqu(r.message)}}function lO(i,n){if(1&i&&g._UZ(0,"app-create-account",15),2&i){const r=g.oxw();g.Q6J("email",r.email)}}let dO=(()=>{class i{constructor(r){this.au=r,this.email="",this.message="",this.showCreateAccount=!1}ngOnInit(){}pass(){0==this.email.length?this.message="\u{1f514} Please fill in your email address":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.email).toLowerCase())?this.showCreateAccount=!0:this.message="\u{1f514} Please fill in a valid email address"}signInGoogle(){this.au.signInWithGoogle().then(()=>{console.log("you are inside seccesfully")}).catch(r=>{console.log(r)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TT))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-sign-up"]],decls:2,vars:2,consts:[["id","sign-up-card",4,"ngIf"],[3,"email",4,"ngIf"],["id","sign-up-card"],["id","continue-w-google",1,"sign-button",3,"click"],["id","google-icon","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","48","height","48","viewBox","0 0 48 48",2,"fill","#000000"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["id","continue-google-title"],["id","continue-w-apple",1,"sign-button"],["id","apple-icon","src","assets/apple.png","alt",""],["type","email","name","email","placeholder","\u2709 Work email address","required","",3,"ngModel","ngModelChange","keyup.enter"],["id","continue-w-email","type","submit",1,"sign-button",3,"click"],[1,"warning"],[3,"email"]],template:function(r,a){1&r&&(g.YNc(0,cO,26,2,"div",0),g.YNc(1,lO,1,1,"app-create-account",1)),2&r&&(g.Q6J("ngIf",0==a.showCreateAccount),g.xp6(1),g.Q6J("ngIf",a.showCreateAccount))},directives:[xi,Nr,Ju,Tl,Nl,uO],styles:['#sign-up-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 15px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#continue-w-google[_ngcontent-%COMP%]{background-color:#4286f5;display:flex;padding:0;align-items:center;justify-content:space-evenly;margin:auto;border-radius:28px}#continue-w-apple[_ngcontent-%COMP%]{border:1px solid #000;color:#000;background-color:#fff}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#new-account[_ngcontent-%COMP%]:after{border:1px solid #000}']}),i})(),hO=(()=>{class i{constructor(r){this.au=r,this.signin=new g.vpe,this.email="",this.siteKey="",this.isActive=!0,this.message="",this.siteKey="6LdNOqocAAAAADgo2zcsO4lp5MJV8HaIhngDFZZP"}ngOnInit(){}signInEmail(r){r.value.email=this.email;let a=r.value;this.au.signIn(a.email,a.password).then(()=>{console.log("Yes logged in ")}).catch(c=>{this.message="Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."==c.message?"\u26a0 Wrong Password! \u26a0":"\u26a0 Try again with a registred email! \u26a0"})}notyou(){this.signin.emit({1:!0})}showpassword(){this.isActive=!this.isActive}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TT))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-sign-in-email"]],inputs:{email:"email"},outputs:{signin:"signin"},decls:25,vars:5,consts:[["id","sign-in-email-card"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","id","password","name","password","placeholder","\u{1f512} Enter your password","required","",1,"fas",3,"type","keyup.enter"],["Password","ngModel"],["id","showPass",3,"click"],["id","captcha"],["ngModel","","name","captcha",3,"siteKey"],["captchaElem","ngModel"],["type","submit","id","login",1,"sign-button",3,"disabled"],["id","not-you",1,"sign-button",3,"click"],[1,"warning"]],template:function(r,a){if(1&r){const c=g.EpF();g.TgZ(0,"div",0),g.TgZ(1,"form",1,2),g.NdJ("ngSubmit",function(){g.CHM(c);const m=g.MAs(2);return a.signInEmail(m)}),g.TgZ(3,"h1"),g._uU(4,"Welcome Back"),g.qZA(),g._UZ(5,"hr"),g.TgZ(6,"p"),g._uU(7),g.qZA(),g._UZ(8,"br"),g.TgZ(9,"input",3,4),g.NdJ("keyup.enter",function(){g.CHM(c);const m=g.MAs(2);return a.signInEmail(m)}),g.qZA(),g._UZ(11,"br"),g.TgZ(12,"p",5),g.NdJ("click",function(){return a.showpassword()}),g._uU(13,"\u{1f9d0}"),g.qZA(),g._UZ(14,"br"),g.TgZ(15,"div",6),g._UZ(16,"ngx-recaptcha2",7,8),g.qZA(),g.TgZ(18,"button",9),g._uU(19,"Log in "),g.qZA(),g._UZ(20,"br"),g.qZA(),g.TgZ(21,"button",10),g.NdJ("click",function(){return a.notyou()}),g._uU(22,"Not you ?"),g.qZA(),g.TgZ(23,"p",11),g._uU(24),g.qZA(),g.qZA()}if(2&r){const c=g.MAs(2);g.xp6(7),g.Oqu(a.email),g.xp6(2),g.Q6J("type",a.isActive?"password":"text"),g.xp6(7),g.Q6J("siteKey",a.siteKey),g.xp6(2),g.Q6J("disabled",c.invalid),g.xp6(6),g.Oqu(a.message)}},directives:[G_,Rh,Fh,Nr,Tl,Nl,Ju,sb],styles:['#sign-in-email-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:0 0 15px;font-family:"Font Awesome 5 Free",sans-serif;font-size:14px;font-weight:500;letter-spacing:1px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:10px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#login[_ngcontent-%COMP%]:hover{background-color:#ff5959}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#not-you[_ngcontent-%COMP%]{border:none;color:#ff5959;background-color:#fff}p[_ngcontent-%COMP%]{margin:-8px}#captcha[_ngcontent-%COMP%]{margin:0% 27.5% 3%}#showPass[_ngcontent-%COMP%]{cursor:pointer}']}),i})();function fO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"app-sign-in",9),g.NdJ("signup",function(c){return g.CHM(r),g.oxw().runMessage(c)})("continueWithEmail",function(c){return g.CHM(r),g.oxw().showContinueWithEmail(c)}),g.qZA()}}function pO(i,n){1&i&&g._UZ(0,"app-landing-page")}function gO(i,n){1&i&&g._UZ(0,"app-sign-up")}function mO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"app-sign-in-email",10),g.NdJ("signin",function(c){return g.CHM(r),g.oxw().turnBack(c)}),g.qZA()}if(2&i){const r=g.oxw();g.Q6J("email",r.email)}}let yO=(()=>{class i{constructor(){this.isSignInClicked=!1,this.isHomeClicked=!0,this.isSignUpClicked=!1,this.isSignEmail=!1,this.email=""}ngOnInit(){}signIn(){this.isSignUpClicked=!1,this.isHomeClicked=!1,this.isSignInClicked=!0,this.isSignEmail=!1}home(){this.isSignUpClicked=!1,this.isSignInClicked=!1,this.isHomeClicked=!0,this.isSignEmail=!1}signUp(){this.isHomeClicked=!1,this.isSignInClicked=!1,this.isSignUpClicked=!0,this.isSignEmail=!1}runMessage(r){r&&(this.isSignUpClicked=!0,this.isSignInClicked=!1,this.isSignEmail=!1)}showContinueWithEmail(r){let c=r[2];r[1]&&(this.isSignInClicked=!1,this.isSignUpClicked=!1,this.isSignEmail=!0,this.email=c)}turnBack(r){1==r[1]&&(this.isSignUpClicked=!1,this.isHomeClicked=!1,this.isSignInClicked=!0,this.isSignEmail=!1)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-header"]],decls:13,vars:4,consts:[["id","navbar"],["id","top-title",3,"click"],["src","assets/tomato.png","alt","tomato image",1,"pomo",3,"click"],["id","sign"],[1,"btn",3,"click"],[1,"btn","sign-up",3,"click"],[3,"signup","continueWithEmail",4,"ngIf"],[4,"ngIf"],[3,"email","signin",4,"ngIf"],[3,"signup","continueWithEmail"],[3,"email","signin"]],template:function(r,a){1&r&&(g.TgZ(0,"header",0),g.TgZ(1,"h1",1),g.NdJ("click",function(){return a.home()}),g._uU(2,"Pomoguru"),g.qZA(),g.TgZ(3,"img",2),g.NdJ("click",function(){return a.home()}),g.qZA(),g.TgZ(4,"div",3),g.TgZ(5,"button",4),g.NdJ("click",function(){return a.signIn()}),g._uU(6,"Sign In"),g.qZA(),g.TgZ(7,"button",5),g.NdJ("click",function(){return a.signUp()}),g._uU(8,"Sign Up"),g.qZA(),g.qZA(),g.qZA(),g.YNc(9,fO,1,0,"app-sign-in",6),g.YNc(10,pO,1,0,"app-landing-page",7),g.YNc(11,gO,1,0,"app-sign-up",7),g.YNc(12,mO,1,1,"app-sign-in-email",8)),2&r&&(g.xp6(9),g.Q6J("ngIf",a.isSignInClicked),g.xp6(1),g.Q6J("ngIf",a.isHomeClicked),g.xp6(1),g.Q6J("ngIf",a.isSignUpClicked),g.xp6(1),g.Q6J("ngIf",a.isSignEmail))},directives:[xi,oO,aO,dO,hO],styles:["body[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;height:200vh}#navbar[_ngcontent-%COMP%]{position:fixed;width:100%;top:0;left:0;padding:10px 0;background-color:#ffc34dcc}.pomo[_ngcontent-%COMP%]{padding-top:18px;cursor:pointer}.sign-up[_ngcontent-%COMP%]{background-color:#ff4b4b;color:#fff}.sign-up[_ngcontent-%COMP%]:hover{background-color:#ff5959}#top-title[_ngcontent-%COMP%]{padding:0 0 0 30px;cursor:pointer}.btn[_ngcontent-%COMP%]{font-size:14px;font-weight:500;width:90px;margin:0% 2.2%;height:50px}#sign[_ngcontent-%COMP%]{display:flex;position:fixed;right:0;margin-right:10px}"]}),i})();function _O(i,n){1&i&&(g.O4$(),g.kcU(),g.TgZ(0,"p",20),g._uU(1,"Set up break time"),g.qZA())}function vO(i,n){1&i&&(g.O4$(),g.kcU(),g.TgZ(0,"p",20),g._uU(1,"Set up focus time"),g.qZA())}function EO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",21),g.NdJ("click",function(){return g.CHM(r),g.oxw().sub()}),g._uU(1,"\u2013"),g.qZA()}}function wO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().add()}),g._uU(1,"+"),g.qZA()}}function CO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().start()}),g._uU(1," Start "),g.qZA()}}function bO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().pause()}),g._uU(1," Pause "),g.qZA()}}function IO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().resume()}),g._uU(1," Resume "),g.qZA()}}function DO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().stop()}),g._uU(1," Stop "),g.qZA()}}function TO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().back()}),g._uU(1," Back "),g.qZA()}}function SO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().save()}),g._uU(1," Save "),g.qZA()}}function AO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().cancel()}),g._uU(1," Cancel "),g.qZA()}}function xO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){return g.CHM(r),g.oxw().next()}),g._uU(1," Next "),g.qZA()}}let RO=(()=>{class i{constructor(){this.toggleSwitch=document.querySelector('.theme-switch input[type="checkbox"]'),this.isStart=!1,this.isPause=!1,this.time=10,this.now=0,this.minutes="00",this.seconds="00",this.isBreakTime=!1,this.isSetting=!0,this.isFocusTime=!0,this.count=0,this.isStop=!1;var r=localStorage.getItem("theme")?localStorage.getItem("'theme"):null;r&&(document.documentElement.setAttribute("data-theme",r),"dark"===r&&(this.toggleSwitch.checked=!0))}switchTheme(r){r.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}ngOnInit(){}start(){this.isStart=!0;var r=setInterval(()=>{if(this.time>0){this.now++;var a=this.time-this.now,c=Math.floor(a/60);this.minutes=c<10?"0"+c:c.toString();var h=Math.floor(a-60*c);this.seconds=h<10?"0"+h:h.toString(),10==h&&c<1&&this.playAudioFinishBreak(),(0==c&&0==h||this.isPause||this.isBreakTime||this.isFocusTime)&&(0==c&&0==h&&(this.count=1,this.time=0,this.isFocusTime=!0,this.isSetting=!0,this.isStart=!1),clearInterval(r))}},1e3)}pause(){this.isPause=!0}resume(){this.isPause=!1,this.start()}add(){this.count++,this.time=60*this.count;var r=this.time-this.now,a=Math.floor(r/60);this.minutes=a<10?"0"+a:a.toString();var c=Math.floor(r-60*a);this.seconds=c<10?"0"+c:c.toString()}sub(){if(this.count>0){this.count--,this.time=60*this.count;var r=this.time-this.now,a=Math.floor(r/60),c=Math.floor(r-60*a);this.minutes=a<10?"0"+a:a.toString(),this.seconds=c<10?"0"+c:c.toString()}this.count<=0&&(this.seconds="00",this.minutes="00",this.count=0)}save(){this.time=60*this.count,this.isBreakTime=!1,this.isSetting=!1,this.isFocusTime=!1,this.isStart=!1}stop(){this.isFocusTime=!0,this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isBreakTime=!1,this.isStop=!0,this.isSetting=!0}back(){this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isBreakTime=!1,this.isSetting=!0,this.isFocusTime=!0}next(){this.time=60*this.count,this.isFocusTime=!1,this.isSetting=!1,this.isStart=!1,this.isBreakTime=!1}cancel(){this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isFocusTime=!1,this.isBreakTime=!0}playAudioFinishBreak(){let r=new Audio;r.src="../assets/finishBreakAudio.wav",r.load(),r.play()}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-start"]],decls:37,vars:14,consts:[["id","card"],["id","top-title"],["src","assets/tomato.png","alt","tomato image",1,"pomo"],["id","cancel","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"],["id","settings"],["id","setting","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M 9.6679688 2 L 9.1757812 4.5234375 C 8.3550224 4.8338012 7.5961042 5.2674041 6.9296875 5.8144531 L 4.5058594 4.9785156 L 2.1738281 9.0214844 L 4.1132812 10.707031 C 4.0445153 11.128986 4 11.558619 4 12 C 4 12.441381 4.0445153 12.871014 4.1132812 13.292969 L 2.1738281 14.978516 L 4.5058594 19.021484 L 6.9296875 18.185547 C 7.5961042 18.732596 8.3550224 19.166199 9.1757812 19.476562 L 9.6679688 22 L 14.332031 22 L 14.824219 19.476562 C 15.644978 19.166199 16.403896 18.732596 17.070312 18.185547 L 19.494141 19.021484 L 21.826172 14.978516 L 19.886719 13.292969 C 19.955485 12.871014 20 12.441381 20 12 C 20 11.558619 19.955485 11.128986 19.886719 10.707031 L 21.826172 9.0214844 L 19.494141 4.9785156 L 17.070312 5.8144531 C 16.403896 5.2674041 15.644978 4.8338012 14.824219 4.5234375 L 14.332031 2 L 9.6679688 2 z M 12 8 C 14.209 8 16 9.791 16 12 C 16 14.209 14.209 16 12 16 C 9.791 16 8 14.209 8 12 C 8 9.791 9.791 8 12 8 z"],["id","guide",4,"ngIf"],["id","info","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M12,2C6.477,2,2,6.477,2,12s4.477,10,10,10s10-4.477,10-10S17.523,2,12,2z M12,17L12,17c-0.552,0-1-0.448-1-1v-4 c0-0.552,0.448-1,1-1h0c0.552,0,1,0.448,1,1v4C13,16.552,12.552,17,12,17z M12.5,9h-1C11.224,9,11,8.776,11,8.5v-1 C11,7.224,11.224,7,11.5,7h1C12.776,7,13,7.224,13,7.5v1C13,8.776,12.776,9,12.5,9z"],["id","time"],["id","mins"],["id","secs"],["id","sub",3,"click",4,"ngIf"],["id","add",3,"click",4,"ngIf"],["id","cmd"],["class","btn",3,"click",4,"ngIf"],["id","bottom-title"],["type","checkbox","name","dark","id","checkbox",1,"theme-switch",3,"click"],["id","guide"],["id","sub",3,"click"],["id","add",3,"click"],[1,"btn",3,"click"]],template:function(r,a){1&r&&(g.TgZ(0,"main",0),g.TgZ(1,"header"),g.TgZ(2,"h1",1),g._uU(3,"Pomoguru"),g.qZA(),g._UZ(4,"img",2),g.O4$(),g.TgZ(5,"svg",3),g._UZ(6,"path",4),g.qZA(),g.qZA(),g.kcU(),g._UZ(7,"hr"),g.TgZ(8,"div",5),g.O4$(),g.TgZ(9,"svg",6),g._UZ(10,"path",7),g.qZA(),g.YNc(11,_O,2,0,"p",8),g.YNc(12,vO,2,0,"p",8),g.TgZ(13,"svg",9),g._UZ(14,"path",10),g.qZA(),g.qZA(),g.kcU(),g.TgZ(15,"div",11),g.TgZ(16,"span",12),g._uU(17),g.qZA(),g._uU(18,":"),g.TgZ(19,"span",13),g._uU(20),g.qZA(),g.qZA(),g.YNc(21,EO,2,0,"button",14),g.YNc(22,wO,2,0,"button",15),g.TgZ(23,"div",16),g.YNc(24,CO,2,0,"button",17),g.YNc(25,bO,2,0,"button",17),g.YNc(26,IO,2,0,"button",17),g.YNc(27,DO,2,0,"button",17),g.YNc(28,TO,2,0,"button",17),g.YNc(29,SO,2,0,"button",17),g.YNc(30,AO,2,0,"button",17),g.YNc(31,xO,2,0,"button",17),g.qZA(),g.qZA(),g.TgZ(32,"h1",18),g._uU(33," Pomoguru "),g._UZ(34,"img",2),g.qZA(),g.TgZ(35,"input",19),g.NdJ("click",function(h){return a.switchTheme(h)}),g.qZA(),g._uU(36,"dark mode")),2&r&&(g.xp6(11),g.Q6J("ngIf",1==a.isBreakTime),g.xp6(1),g.Q6J("ngIf",1==a.isFocusTime),g.xp6(5),g.Oqu(a.minutes),g.xp6(3),g.Oqu(a.seconds),g.xp6(1),g.Q6J("ngIf",a.isSetting),g.xp6(1),g.Q6J("ngIf",a.isSetting),g.xp6(2),g.Q6J("ngIf",0==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",0==a.isPause&&1==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",1==a.isPause&&0==a.isBreakTime&&0==a.isFocusTime&&1==a.isStart),g.xp6(1),g.Q6J("ngIf",1==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",1==a.isBreakTime),g.xp6(1),g.Q6J("ngIf",1==a.isBreakTime),g.xp6(1),g.Q6J("ngIf",1==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",1==a.isFocusTime))},directives:[xi],styles:[""]}),i})(),NO=(()=>{class i{constructor(){this.title="POMOGURU"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(r,a){1&r&&(g._UZ(0,"app-header"),g._UZ(1,"app-start"))},directives:[yO,RO],styles:[""]}),i})();const MO_firebase={apiKey:"AIzaSyD9x8SOTESWohB9wz8L28RvGYXBXslgP68",authDomain:"pomoguru-d0b61.firebaseapp.com",projectId:"pomoguru-d0b61",storageBucket:"pomoguru-d0b61.appspot.com",messagingSenderId:"585145924935",appId:"1:585145924935:web:cfd87a76e0f76f18552062",measurementId:"G-TF98GVXFLG"};let OO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i,bootstrap:[NO]}),i.\u0275inj=g.cJS({providers:[],imports:[[nl,Q_,Ei.hO.initializeApp(MO_firebase),b,pR,iO,Vo,Bh,cS]]}),i})();(0,g.G48)(),jy().bootstrapModule(OO).catch(i=>console.error(i))},4762:(Qe,De,F)=>{"use strict";function fe(oe,ye){var ae={};for(var _e in oe)Object.prototype.hasOwnProperty.call(oe,_e)&&ye.indexOf(_e)<0&&(ae[_e]=oe[_e]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(_e=Object.getOwnPropertySymbols(oe);he<_e.length;he++)ye.indexOf(_e[he])<0&&Object.prototype.propertyIsEnumerable.call(oe,_e[he])&&(ae[_e[he]]=oe[_e[he]])}return ae}function de(oe,ye,ae,_e){return new(ae||(ae=Promise))(function(Q,Oe){function Je(ut){try{nt(_e.next(ut))}catch(cn){Oe(cn)}}function Tt(ut){try{nt(_e.throw(ut))}catch(cn){Oe(cn)}}function nt(ut){ut.done?Q(ut.value):function(Q){return Q instanceof ae?Q:new ae(function(Oe){Oe(Q)})}(ut.value).then(Je,Tt)}nt((_e=_e.apply(oe,ye||[])).next())})}function Y(oe,ye){var _e,he,Q,Oe,ae={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Oe={next:Je(0),throw:Je(1),return:Je(2)},"function"==typeof Symbol&&(Oe[Symbol.iterator]=function(){return this}),Oe;function Je(nt){return function(ut){return function(nt){if(_e)throw new TypeError("Generator is already executing.");for(;ae;)try{if(_e=1,he&&(Q=2&nt[0]?he.return:nt[0]?he.throw||((Q=he.return)&&Q.call(he),0):he.next)&&!(Q=Q.call(he,nt[1])).done)return Q;switch(he=0,Q&&(nt=[2&nt[0],Q.value]),nt[0]){case 0:case 1:Q=nt;break;case 4:return ae.label++,{value:nt[1],done:!1};case 5:ae.label++,he=nt[1],nt=[0];continue;case 7:nt=ae.ops.pop(),ae.trys.pop();continue;default:if(!(Q=(Q=ae.trys).length>0&&Q[Q.length-1])&&(6===nt[0]||2===nt[0])){ae=0;continue}if(3===nt[0]&&(!Q||nt[1]>Q[0]&&nt[1]<Q[3])){ae.label=nt[1];break}if(6===nt[0]&&ae.label<Q[1]){ae.label=Q[1],Q=nt;break}if(Q&&ae.label<Q[2]){ae.label=Q[2],ae.ops.push(nt);break}Q[2]&&ae.ops.pop(),ae.trys.pop();continue}nt=ye.call(oe,ae)}catch(ut){nt=[6,ut],he=0}finally{_e=Q=0}if(5&nt[0])throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}([nt,ut])}}}function X(oe){var ye="function"==typeof Symbol&&Symbol.iterator,ae=ye&&oe[ye],_e=0;if(ae)return ae.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&_e>=oe.length&&(oe=void 0),{value:oe&&oe[_e++],done:!oe}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(oe,ye){var ae="function"==typeof Symbol&&oe[Symbol.iterator];if(!ae)return oe;var he,Oe,_e=ae.call(oe),Q=[];try{for(;(void 0===ye||ye-- >0)&&!(he=_e.next()).done;)Q.push(he.value)}catch(Je){Oe={error:Je}}finally{try{he&&!he.done&&(ae=_e.return)&&ae.call(_e)}finally{if(Oe)throw Oe.error}}return Q}function ie(oe,ye,ae){if(ae||2===arguments.length)for(var Q,_e=0,he=ye.length;_e<he;_e++)(Q||!(_e in ye))&&(Q||(Q=Array.prototype.slice.call(ye,0,_e)),Q[_e]=ye[_e]);return oe.concat(Q||Array.prototype.slice.call(ye))}F.d(De,{_T:()=>fe,mG:()=>de,Jh:()=>Y,XA:()=>X,CR:()=>K,ev:()=>ie})},8239:(Qe,De,F)=>{"use strict";function g(V,fe,ve,ue,be,de,Y){try{var k=V[de](Y),L=k.value}catch(X){return void ve(X)}k.done?fe(L):Promise.resolve(L).then(ue,be)}function B(V){return function(){var fe=this,ve=arguments;return new Promise(function(ue,be){var de=V.apply(fe,ve);function Y(L){g(de,ue,be,Y,k,"next",L)}function k(L){g(de,ue,be,Y,k,"throw",L)}Y(void 0)})}}F.d(De,{Z:()=>B})}},Qe=>{Qe(Qe.s=4422)}]);