(self.webpackChunkpomoguru=self.webpackChunkpomoguru||[]).push([[179],{8255:ze=>{function we(L){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+L+"'");throw g.code="MODULE_NOT_FOUND",g})}we.keys=()=>[],we.resolve=we,we.id=8255,ze.exports=we},3018:(ze,we,L)=>{"use strict";L.d(we,{deG:()=>Ca,tb:()=>WD,AFp:()=>Ky,ip1:()=>kp,CZH:()=>Qd,hGG:()=>Hp,z2F:()=>Vp,sBO:()=>by,Sil:()=>kc,_Vd:()=>bd,EJc:()=>YD,SBq:()=>ei,qLn:()=>q,vpe:()=>ts,gxx:()=>Jl,tBr:()=>Ta,XFs:()=>De,OlP:()=>En,zs3:()=>In,ZZ4:()=>eo,aQg:()=>up,soG:()=>Jd,YKP:()=>pE,v3s:()=>Mw,h0i:()=>St,PXZ:()=>xw,R0b:()=>ni,FiY:()=>Yr,Lbi:()=>Qy,g9A:()=>zD,Qsj:()=>aE,FYo:()=>Dd,JOm:()=>$s,Tiy:()=>vy,q3G:()=>Jt,tp0:()=>js,EAV:()=>Jx,Rgc:()=>Sd,dDg:()=>Jy,DyG:()=>_l,q4F:()=>bc,GfV:()=>Ey,s_b:()=>zn,ifc:()=>_n,eFA:()=>dT,G48:()=>Cw,Gpc:()=>te,X6Q:()=>e_,_c5:()=>a1,VLi:()=>Hx,c2e:()=>KD,zSh:()=>Xl,wAp:()=>et,vHH:()=>Se,EiD:()=>tf,mCW:()=>Ao,qzn:()=>Rr,JVY:()=>Fg,pB0:()=>Vg,eBb:()=>Jh,L6k:()=>Lg,LAX:()=>Aa,cg1:()=>H0,Tjo:()=>s1,kL8:()=>gd,yhl:()=>Hs,dqk:()=>B,sIi:()=>jo,CqO:()=>$o,QGY:()=>m0,F4k:()=>rI,RDi:()=>As,AaK:()=>Z,z3N:()=>Qr,qOj:()=>Sm,TTD:()=>Ih,_Bn:()=>RI,xp6:()=>GC,uIk:()=>Kv,ekj:()=>Go,Suo:()=>By,Xpm:()=>Yc,lG2:()=>Jp,Yz7:()=>un,cJS:()=>Ei,oAB:()=>du,Yjl:()=>Xp,Y36:()=>Pf,_UZ:()=>g0,qZA:()=>pc,TgZ:()=>p0,EpF:()=>gc,n5z:()=>vg,Ikx:()=>_c,LFG:()=>bn,$8M:()=>$i,NdJ:()=>Um,CRH:()=>jy,kcU:()=>ul,O4$:()=>Hi,oxw:()=>_0,Q6J:()=>kf,iGM:()=>Kd,MAs:()=>t0,CHM:()=>Sh,LSH:()=>hi,kYT:()=>ca,YNc:()=>Bb,_uU:()=>yc,Oqu:()=>S0,hij:()=>Jm,Gf:()=>Cp});var g=L(9765),ee=L(5319),U=L(7574),_e=L(6682),me=L(2441);var pe=L(1307);function W(){return new g.xQ}function F(s){for(let o in s)if(s[o]===F)return o;throw Error("Could not find renamed property on target object.")}function K(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Z(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Z).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Y(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const fe=F({__forward_ref__:F});function te(s){return s.__forward_ref__=te,s.toString=function(){return Z(this())},s}function X(s){return Oe(s)?s():s}function Oe(s){return"function"==typeof s&&s.hasOwnProperty(fe)&&s.__forward_ref__===te}class Se extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function ke(s){return"string"==typeof s?s:null==s?"":String(s)}function yt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ke(s)}function ae(s,o){const u=o?` in ${o}`:"";throw new Se("201",`No provider for ${yt(s)} found${u}`)}function an(s,o){null==s&&function(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function un(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ei(s){return{providers:s.providers||[],imports:s.imports||[]}}function Tr(s){return aa(s,On)||aa(s,lu)}function aa(s,o){return s.hasOwnProperty(o)?s[o]:null}function Is(s){return s&&(s.hasOwnProperty(Vr)||s.hasOwnProperty(ct))?s[Vr]:null}const On=F({\u0275prov:F}),Vr=F({\u0275inj:F}),lu=F({ngInjectableDef:F}),ct=F({ngInjectorDef:F});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let Gt;function ln(s){const o=Gt;return Gt=s,o}function Lt(s,o,u){const l=Tr(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&De.Optional?null:void 0!==o?o:void ae(Z(s),"Injector")}function Ke(s){return{toString:s}.toString()}var yn=(()=>((yn=yn||{})[yn.OnPush=0]="OnPush",yn[yn.Default=1]="Default",yn))(),_n=(()=>((_n=_n||{})[_n.Emulated=0]="Emulated",_n[_n.None=2]="None",_n[_n.ShadowDom=3]="ShadowDom",_n))();const Sr="undefined"!=typeof globalThis&&globalThis,ao="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,B=Sr||$||ao||H,He={},je=[],Vt=F({\u0275cmp:F}),dn=F({\u0275dir:F}),Kt=F({\u0275pipe:F}),Ur=F({\u0275mod:F}),At=F({\u0275loc:F}),Yt=F({\u0275fac:F}),tr=F({__NG_ELEMENT_ID__:F});let Kc=0;function Yc(s){return Ke(()=>{const u={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||je,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||_n.Emulated,id:"c",styles:s.styles||je,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,v=s.pipes;return l.id+=Kc++,l.inputs=wi(s.inputs,u),l.outputs=wi(s.outputs),f&&f.forEach(E=>E(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(fh):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(Qc):null,l})}function fh(s){return Zn(s)||function(s){return s[dn]||null}(s)}function Qc(s){return function(s){return s[Kt]||null}(s)}const ua={};function du(s){return Ke(()=>{const o={type:s.type,bootstrap:s.bootstrap||je,declarations:s.declarations||je,imports:s.imports||je,exports:s.exports||je,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ua[s.id]=s.type),o})}function ca(s,o){return Ke(()=>{const u=gr(s,!0);u.declarations=o.declarations||je,u.imports=o.imports||je,u.exports=o.exports||je})}function wi(s,o){if(null==s)return He;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=l,o&&(o[d]=f)}return u}const Jp=Yc;function Xp(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zn(s){return s[Vt]||null}function gr(s,o){const u=s[Ur]||null;if(!u&&!0===o)throw new Error(`Type ${Z(s)} does not have '\u0275mod' property.`);return u}function Hr(s){return Array.isArray(s)&&"object"==typeof s[1]}function jt(s){return Array.isArray(s)&&!0===s[1]}function pu(s){return 0!=(8&s.flags)}function Xc(s){return 2==(2&s.flags)}function $r(s){return 1==(1&s.flags)}function Ci(s){return null!==s.template}function _h(s){return 0!=(512&s[2])}function ls(s,o){return s.hasOwnProperty(Yt)?s[Yt]:null}class bh{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ih(){return mu}function mu(s){return s.type.prototype.ngOnChanges&&(s.setInput=I_),bi}function bi(){const s=yu(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===He)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function I_(s,o,u,l){const d=yu(s)||function(s,o){return s[D_]=o}(s,{previous:He,current:null}),f=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[u],I=v[E];f[E]=new bh(I&&I.currentValue,o,v===He),s[l]=o}Ih.ngInherit=!0;const D_="__ngSimpleChanges__";function yu(s){return s[D_]||null}const nl="http://www.w3.org/2000/svg";let po;function As(s){po=s}function en(s){return!!s.listen}const sl={createRenderer:(s,o)=>void 0!==po?po:"undefined"!=typeof document?document:void 0};function tn(s){for(;Array.isArray(s);)s=s[0];return s}function Eu(s,o){return tn(o[s])}function Gr(s,o){return tn(o[s.index])}function xs(s,o){return s.data[o]}function yr(s,o){const u=o[s];return Hr(u)?u:u[0]}function Cu(s){return 4==(4&s[2])}function bu(s){return 128==(128&s[2])}function Rs(s,o){return null==o?null:s[o]}function al(s){s[18]=0}function Dh(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const at={lFrame:hg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Th(){return at.bindingsEnabled}function be(){return at.lFrame.lView}function xt(){return at.lFrame.tView}function Sh(s){return at.lFrame.contextLView=s,s[8]}function vn(){let s=ug();for(;null!==s&&64===s.type;)s=s.parent;return s}function ug(){return at.lFrame.currentTNode}function ui(s,o){const u=at.lFrame;u.currentTNode=s,u.isParent=o}function Ah(){return at.lFrame.isParent}function ga(){return at.isInCheckNoChangesMode}function Ms(s){at.isInCheckNoChangesMode=s}function Os(){return at.lFrame.bindingIndex++}function Nh(s,o){const u=at.lFrame;u.bindingIndex=u.bindingRootIndex=s,Au(o)}function Au(s){at.lFrame.currentDirectiveIndex=s}function yo(){return at.lFrame.currentQueryIndex}function Ph(s){at.lFrame.currentQueryIndex=s}function S_(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function A_(s,o,u){if(u&De.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&De.Host||(d=S_(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const l=at.lFrame=dg();return l.currentTNode=o,l.lView=s,!0}function xu(s){const o=dg(),u=s[1];at.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function dg(){const s=at.lFrame,o=null===s?null:s.child;return null===o?hg(s):o}function hg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function fg(){const s=at.lFrame;return at.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const CC=fg;function pg(){const s=fg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function xr(){return at.lFrame.selectedIndex}function _o(s){at.lFrame.selectedIndex=s}function nn(){const s=at.lFrame;return xs(s.tView,s.selectedIndex)}function Hi(){at.lFrame.currentNamespace=nl}function ul(){at.lFrame.currentNamespace=null}function ma(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:S}=f;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=S&&(s.destroyHooks||(s.destroyHooks=[])).push(u,S)}}function ya(s,o,u){Lh(s,o,3,u)}function Fh(s,o,u,l){(3&s[2])===u&&Lh(s,o,u,l)}function Ru(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Lh(s,o,u,l){const f=null!=l?l:-1,v=o.length-1;let E=0;for(let I=void 0!==l?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=l&&E>=l)break}else o[I]<0&&(s[18]+=65536),(E<f||-1==f)&&(M_(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function M_(s,o,u,l){const d=u[l]<0,f=u[l+1],E=s[d?-u[l]:u[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class Nu{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function rn(s,o,u){const l=en(s);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const v=u[d++],E=u[d++],I=u[d++];l?s.setAttribute(o,E,I,v):o.setAttributeNS(v,E,I)}else{const v=f,E=u[++d];dl(v)?l&&s.setProperty(o,v,E):l?s.setAttribute(o,v,E):o.setAttribute(v,E),d++}}return d}function Uh(s){return 3===s||4===s||6===s}function dl(s){return 64===s.charCodeAt(0)}function Bh(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||jh(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function jh(s,o,u,l,d){let f=0,v=s.length;if(-1===o)v=-1;else for(;f<s.length;){const E=s[f++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=f-1;break}}}for(;f<s.length;){const E=s[f];if("number"==typeof E)break;if(E===u){if(null===l)return void(null!==d&&(s[f+1]=d));if(l===s[f+1])return void(s[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==v&&(s.splice(v,0,o),f=v+1),s.splice(f++,0,u),null!==l&&s.splice(f++,0,l),null!==d&&s.splice(f++,0,d)}function gg(s){return-1!==s}function Mu(s){return 32767&s}function Ou(s,o){let u=function(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let Pu=!0;function hl(s){const o=Pu;return Pu=s,o}let Xe=0;function Fs(s,o){const u=_a(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,qr(l.data,s),qr(o,null),qr(l.blueprint,null));const d=vo(s,o),f=s.injectorIndex;if(gg(d)){const v=Mu(d),E=Ou(d,o),I=E[1].data;for(let T=0;T<8;T++)o[f+T]=E[v+T]|I[v+T]}return o[f+8]=d,f}function qr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function _a(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function vo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){const f=d[1],v=f.type;if(l=2===v?f.declTNode:1===v?d[6]:null,null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function _r(s,o,u){!function(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(tr)&&(l=u[tr]),null==l&&(l=u[tr]=Xe++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function k_(s,o,u){if(u&De.Optional)return s;ae(o,"NodeInjector")}function va(s,o,u,l){if(u&De.Optional&&void 0===l&&(l=null),0==(u&(De.Self|De.Host))){const d=s[9],f=ln(void 0);try{return d?d.get(o,l,u&De.Optional):Lt(o,l,u&De.Optional)}finally{ln(f)}}return k_(l,o,u)}function zr(s,o,u,l=De.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(tr)?s[tr]:void 0;return"number"==typeof o?o>=0?255&o:F_:o}(u);if("function"==typeof f){if(!A_(o,s,l))return l&De.Host?k_(d,u,l):va(o,u,l,d);try{const v=f(l);if(null!=v||l&De.Optional)return v;ae(u)}finally{CC()}}else if("number"==typeof f){let v=null,E=_a(s,o),I=-1,T=l&De.Host?o[16][6]:null;for((-1===E||l&De.SkipSelf)&&(I=-1===E?vo(s,o):o[E+8],-1!==I&&ku(l,!1)?(v=o[1],E=Mu(I),o=Ou(I,o)):E=-1);-1!==E;){const S=o[1];if(L_(f,E,S.data)){const N=gl(E,o,u,v,l,T);if(N!==yg)return N}I=o[E+8],-1!==I&&ku(l,o[1].data[E+8]===T)&&L_(f,E,o)?(v=S,E=Mu(I),o=Ou(I,o)):E=-1}}}return va(o,u,l,d)}const yg={};function F_(){return new li(vn(),be())}function gl(s,o,u,l,d,f){const v=o[1],E=v.data[s+8],S=ml(E,v,u,null==l?Xc(E)&&Pu:l!=v&&0!=(3&E.type),d&De.Host&&f===E);return null!==S?Ea(o,v,S,E):yg}function ml(s,o,u,l,d){const f=s.providerIndexes,v=o.data,E=1048575&f,I=s.directiveStart,S=f>>20,O=d?E+S:s.directiveEnd;for(let V=l?E:E+S;V<O;V++){const G=v[V];if(V<I&&u===G||V>=I&&G.type===u)return V}if(d){const V=v[I];if(V&&Ci(V)&&V.type===u)return I}return null}function Ea(s,o,u,l){let d=s[u];const f=o.data;if(function(s){return s instanceof Nu}(d)){const v=d;v.resolving&&function(s,o){throw new Se("200",`Circular dependency in DI detected for ${s}`)}(yt(f[u]));const E=hl(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?ln(v.injectImpl):null;A_(s,l,De.Default);try{d=s[u]=v.factory(void 0,f,s,l),o.firstCreatePass&&u>=l.directiveStart&&function(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(l){const v=mu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==I&&ln(I),hl(E),v.resolving=!1,CC()}}return d}function L_(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function ku(s,o){return!(s&De.Self||s&De.Host&&o)}class li{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return zr(this._tNode,this._lView,o,void 0,u)}}function vg(s){return Ke(()=>{const o=s.prototype.constructor,u=o[Yt]||Fu(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const f=d[Yt]||Fu(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Fu(s){return Oe(s)?()=>{const o=Fu(X(s));return o&&o()}:ls(s)}function $i(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const f=u[d];if(Uh(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(vn(),s)}const wa="__parameters__";function Eo(s,o,u){return Ke(()=>{const l=function(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...f){if(this instanceof d)return l.apply(this,f),this;const v=new d(...f);return E.annotation=v,E;function E(I,T,S){const N=I.hasOwnProperty(wa)?I[wa]:Object.defineProperty(I,wa,{value:[]})[wa];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(v),I}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class En{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=un({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ca=new En("AnalyzeForEntryComponents"),_l=Function;function di(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),di(l,o)):o!==s&&o.push(l)}return o}function Wr(s,o){s.forEach(u=>Array.isArray(u)?Wr(u,o):o(u))}function vl(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function gs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function vr(s,o,u){let l=rr(s,o);return l>=0?s[1|l]=u:(l=~l,function(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Lu(s,o){const u=rr(s,o);if(u>=0)return s[1|u]}function rr(s,o){return function(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const f=l+(d-l>>1),v=s[f<<u];if(o===v)return f<<u;v>o?d=f:l=f+1}return~(d<<u)}(s,o,1)}const Co={},zh="__NG_DI_FLAG__",Vs="ngTempTokenPath",Cl=/\n/gm,ju="__source",$u=F({provide:String,useValue:F});let Us;function bo(s){const o=Us;return Us=s,o}function z_(s,o=De.Default){if(void 0===Us)throw new Error("inject() must be called from an injection context");return null===Us?Lt(s,void 0,o):Us.get(s,o&De.Optional?null:void 0,o)}function bn(s,o=De.Default){return(Gt||z_)(X(s),o)}function Bs(s){const o=[];for(let u=0;u<s.length;u++){const l=X(s[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=De.Default;for(let v=0;v<l.length;v++){const E=l[v],I=xg(E);"number"==typeof I?-1===I?d=E.token:f|=I:d=E}o.push(bn(d,f))}else o.push(bn(l))}return o}function Da(s,o){return s[zh]=o,s.prototype[zh]=o,s}function xg(s){return s[zh]}function Bn(s,o,u,l){const d=s[Vs];throw o[ju]&&d.unshift(o[ju]),s.message=function(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=Z(o);if(Array.isArray(o))d=o.map(Z).join(" -> ");else if("object"==typeof o){let f=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];f.push(v+":"+("string"==typeof E?JSON.stringify(E):Z(E)))}d=`{${f.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(Cl,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[Vs]=null,s}const Ta=Da(Eo("Inject",s=>({token:s})),-1),Yr=Da(Eo("Optional"),8),js=Da(Eo("SkipSelf"),4);let _s;function Wi(s){var o;return(null===(o=function(){if(void 0===_s&&(_s=null,B.trustedTypes))try{_s=B.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return _s}())||void 0===o?void 0:o.createHTML(s))||s}class To{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Y_ extends To{getTypeName(){return"HTML"}}class SC extends To{getTypeName(){return"Style"}}class So extends To{getTypeName(){return"Script"}}class kg extends To{getTypeName(){return"URL"}}class Qh extends To{getTypeName(){return"ResourceURL"}}function Qr(s){return s instanceof To?s.changingThisBreaksApplicationSecurity:s}function Rr(s,o){const u=Hs(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Hs(s){return s instanceof To&&s.getTypeName()||null}function Fg(s){return new Y_(s)}function Lg(s){return new SC(s)}function Jh(s){return new So(s)}function Aa(s){return new kg(s)}function Vg(s){return new Qh(s)}class Al{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Wi(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Ug{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Wi(o),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Wi(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const v=u.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Bg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ao(s){return(s=String(s)).match(Bg)||s.match(xl)?s:"unsafe:"+s}function Si(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function xo(...s){const o={};for(const u of s)for(const l in u)u.hasOwnProperty(l)&&(o[l]=!0);return o}const Rl=Si("area,br,col,hr,img,wbr"),Hg=Si("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qu=Si("rp,rt"),Nl=xo(Rl,xo(Hg,Si("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xo(Qu,Si("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xo(Qu,Hg)),Ml=Si("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ju=Si("srcset"),Gg=xo(Ml,Ju,Si("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Si("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xu=Si("script,style,template");class Ol{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Nl.hasOwnProperty(u))return this.sanitizedSomething=!0,!Xu.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=o.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),v=f.name,E=v.toLowerCase();if(!Gg.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=f.value;Ml[E]&&(I=Ao(I)),Ju[E]&&(s=I,I=(s=String(s)).split(",").map(o=>Ao(o.trim())).join(", ")),this.buf.push(" ",v,'="',zg(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Nl.hasOwnProperty(u)&&!Rl.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(zg(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const qg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ef=/([^\#-~ |!])/g;function zg(s){return s.replace(/&/g,"&amp;").replace(qg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ef,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ec;function tf(s,o){let u=null;try{ec=ec||function(s){const o=new Ug(s);return function(){try{return!!(new window.DOMParser).parseFromString(Wi(""),"text/html")}catch(s){return!1}}()?new Al(o):o}(s);let l=o?String(o):"";u=ec.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=u.innerHTML,u=ec.getInertBodyElement(l)}while(l!==f);return Wi((new Ol).sanitizeChildren(Pl(u)||u))}finally{if(u){const l=Pl(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Pl(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Jt=(()=>((Jt=Jt||{})[Jt.NONE=0]="NONE",Jt[Jt.HTML=1]="HTML",Jt[Jt.STYLE=2]="STYLE",Jt[Jt.SCRIPT=3]="SCRIPT",Jt[Jt.URL=4]="URL",Jt[Jt.RESOURCE_URL=5]="RESOURCE_URL",Jt))();function hi(s){const o=function(){const s=be();return s&&s[12]}();return o?o.sanitize(Jt.URL,s)||"":Rr(s,"URL")?Qr(s):Ao(ke(s))}const Ll="__ngContext__";function zt(s,o){s[Ll]=o}function Kn(s){const o=function(s){return s[Ll]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function b(s){return s.ngOriginalError}function M(s,...o){s.error(...o)}class q{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),l=this._findContext(o),d=(s=o)&&s.ngErrorLogger||M;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(o){return o?o.ngDebugContext||this._findContext(b(o)):null}_findOriginalError(o){let u=o&&b(o);for(;u&&b(u);)u=b(u);return u||null}}const Bl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Ki(s){return s instanceof Function?s():s}var $s=(()=>(($s=$s||{})[$s.Important=1]="Important",$s[$s.DashCase=2]="DashCase",$s))();function rv(s,o){return undefined(s,o)}function jl(s){const o=s[3];return jt(o)?o[3]:o}function em(s){return MC(s[13])}function ov(s){return MC(s[4])}function MC(s){for(;null!==s&&!jt(s);)s=s[4];return s}function Hl(s,o,u,l,d){if(null!=l){let f,v=!1;jt(l)?f=l:Hr(l)&&(v=!0,l=l[0]);const E=tn(l);0===s&&null!==u?null==d?rm(o,u,E):Gs(o,u,E,d||null,!0):1===s&&null!==u?Gs(o,u,E,d||null,!0):2===s?function(s,o,u){const l=sm(s,o);l&&function(s,o,u,l){en(s)?s.removeChild(o,u,l):o.removeChild(u)}(s,l,o,u)}(o,E,v):3===s&&o.destroyNode(E),null!=f&&function(s,o,u,l,d){const f=u[7];f!==tn(u)&&Hl(o,s,l,f,d);for(let E=10;E<u.length;E++){const I=u[E];ff(I[1],I,s,o,l,f)}}(o,s,f,u,d)}}function uv(s,o,u){return en(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function PC(s,o){const u=s[9],l=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Dh(d,-1)),u.splice(l,1)}function lv(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const d=l[17];null!==d&&d!==s&&PC(d,l),o>0&&(s[u-1][4]=l[4]);const f=gs(s,10+o);!function(s,o){ff(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=f[19];null!==v&&v.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function kC(s,o){if(!(256&o[2])){const u=o[11];en(u)&&u.destroyNode&&ff(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return nm(s[1],s);for(;o;){let u=null;if(Hr(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)Hr(o)&&nm(o[1],o),o=o[3];null===o&&(o=s),Hr(o)&&nm(o[1],o),u=o&&o[4]}o=u}}(o)}}function nm(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof Nu)){const f=u[l+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const E=d[f[v]],I=f[v+1];try{I.call(E)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,l=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const v=u[f+1],E="function"==typeof v?v(o):tn(o[v]),I=l[d=u[f+2]],T=u[f+3];"boolean"==typeof T?E.removeEventListener(u[f],I,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),f+=2}else{const v=l[d=u[f+1]];u[f].call(v)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();o[7]=null}}(s,o),1===o[1].type&&en(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&jt(o[3])){u!==o[3]&&PC(u,o);const l=o[19];null!==l&&l.detachView(s)}}}function Jr(s,o,u){return function(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===_n.None||d===_n.Emulated)return null}return Gr(l,u)}(s,o.parent,u)}function Gs(s,o,u,l,d){en(s)?s.insertBefore(o,u,l,d):o.insertBefore(u,l,d)}function rm(s,o,u){en(s)?s.appendChild(o,u):o.appendChild(u)}function im(s,o,u,l,d){null!==l?Gs(s,o,u,l,d):rm(s,o,u)}function sm(s,o){return en(s)?s.parentNode(o):o.parentNode}let hv=function(s,o,u){return 40&s.type?Gr(s,u):null};function hf(s,o,u,l){const d=Jr(s,l,o),f=o[11],E=function(s,o,u){return hv(s,o,u)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(u))for(let I=0;I<u.length;I++)im(f,d,u[I],E,!1);else im(f,d,u,E,!1)}function ql(s,o){if(null!==o){const u=o.type;if(3&u)return Gr(o,s);if(4&u)return Po(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return ql(s,l);{const d=s[o.index];return jt(d)?Po(-1,d):tn(d)}}if(32&u)return rv(o,s)()||tn(s[o.index]);{const l=uS(s,o);return null!==l?Array.isArray(l)?l[0]:ql(jl(s[16]),l):ql(s,o.next)}}return null}function uS(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Po(s,o){const u=10+s+1;if(u<o.length){const l=o[u],d=l[1].firstChild;if(null!==d)return ql(l,d)}return o[7]}function mv(s,o,u,l,d,f,v){for(;null!=u;){const E=l[u.index],I=u.type;if(v&&0===o&&(E&&zt(tn(E),l),u.flags|=4),64!=(64&u.flags))if(8&I)mv(s,o,u.child,l,d,f,!1),Hl(o,s,d,E,f);else if(32&I){const T=rv(u,l);let S;for(;S=T();)Hl(o,s,d,S,f);Hl(o,s,d,E,f)}else 16&I?yv(s,o,l,u,d,f):Hl(o,s,d,E,f);u=v?u.projectionNext:u.next}}function ff(s,o,u,l,d,f){mv(u,l,s.firstChild,o,d,f,!1)}function yv(s,o,u,l,d,f){const v=u[16],I=v[6].projection[l.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Hl(o,s,d,I[T],f);else mv(s,o,I,v[3],d,f,!0)}function VC(s,o,u){en(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function om(s,o,u){en(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function UC(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===l||s.charCodeAt(d+f)<=32)return d}u=d+1}}const BC="ng-template";function _v(s,o,u){let l=0;for(;l<s.length;){let d=s[l++];if(u&&"class"===d){if(d=s[l],-1!==UC(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function jC(s){return 4===s.type&&s.value!==BC}function hS(s,o,u){return o===(4!==s.type||u?s.value:BC)}function HC(s,o,u){let l=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(Uh(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!v)if(4&l){if(l=2|1&l,""!==I&&!hS(s,I,u)||""===I&&1===o.length){if(vs(l))return!1;v=!0}}else{const T=8&l?I:o[++E];if(8&l&&null!==s.attrs){if(!_v(s.attrs,T,u)){if(vs(l))return!1;v=!0}continue}const N=J1(8&l?"class":I,d,jC(s),u);if(-1===N){if(vs(l))return!1;v=!0;continue}if(""!==T){let O;O=N>f?"":d[N+1].toLowerCase();const V=8&l?O:null;if(V&&-1!==UC(V,T,0)||2&l&&T!==O){if(vs(l))return!1;v=!0}}}}else{if(!v&&!vs(l)&&!vs(I))return!1;if(v&&vs(I))continue;v=!1,l=I|1&l}}return vs(l)||v}function vs(s){return 0==(1&s)}function J1(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let f=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)f=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function $C(s,o,u=!1){for(let l=0;l<o.length;l++)if(HC(s,o[l],u))return!0;return!1}function vv(s,o){return s?":not("+o.trim()+")":o}function sc(s){let o=s[0],u=1,l=2,d="",f=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&l){const E=s[++u];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!vs(v)&&(o+=vv(f,d),d=""),l=v,f=f||!vs(l);u++}return""!==d&&(o+=vv(f,d)),o}const ht={};function GC(s){qC(xt(),be(),xr()+s,ga())}function qC(s,o,u,l){if(!l)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&ya(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Fh(o,f,0,u)}_o(u)}function um(s,o){return s<<17|o<<2}function Er(s){return s>>17&32767}function ir(s){return 2|s}function Mr(s){return(131068&s)>>2}function Ev(s,o){return-131069&s|o<<2}function cm(s){return 1|s}function AS(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],f=u[l+1];if(-1!==f){const v=s.data[f];Ph(d),v.contentQueries(2,o[f],f)}}}function ka(s,o,u,l,d,f,v,E,I,T){const S=o.blueprint.slice();return S[0]=d,S[2]=140|l,al(S),S[3]=S[15]=s,S[8]=u,S[10]=v||s&&s[10],S[11]=E||s&&s[11],S[12]=I||s&&s[12]||null,S[9]=T||s&&s[9]||null,S[6]=f,S[16]=2==o.type?s[16]:S,S}function Ws(s,o,u,l,d){let f=s.data[o];if(null===f)f=function(s,o,u,l,d){const f=ug(),v=Ah(),I=s.data[o]=function(s,o,u,l,d,f){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=I),null!==f&&(v?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I)),I}(s,o,u,l,d),at.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=l,f.attrs=d;const v=function(){const s=at.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return ui(f,!0),f}function Lo(s,o,u,l){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function yf(s,o,u){xu(o);try{const l=s.viewQuery;null!==l&&Vv(1,l,u);const d=s.template;null!==d&&eb(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&AS(s,o),s.staticViewQueries&&Vv(2,s.viewQuery,u);const f=s.components;null!==f&&function(s,o){for(let u=0;u<o.length;u++)kS(s,o[u])}(o,f)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,pg()}}function Fa(s,o,u,l){const d=o[2];if(256==(256&d))return;xu(o);const f=ga();try{al(o),function(s){at.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&eb(s,o,u,2,l);const v=3==(3&d);if(!f)if(v){const T=s.preOrderCheckHooks;null!==T&&ya(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Fh(o,T,0,null),Ru(o,0)}if(function(s){for(let o=em(s);null!==o;o=ov(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const d=u[l],f=d[3];0==(1024&d[2])&&Dh(f,1),d[2]|=1024}}}(o),function(s){for(let o=em(s);null!==o;o=ov(o))for(let u=10;u<o.length;u++){const l=o[u],d=l[1];bu(l)&&Fa(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&AS(s,o),!f)if(v){const T=s.contentCheckHooks;null!==T&&ya(o,T)}else{const T=s.contentHooks;null!==T&&Fh(o,T,1),Ru(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)_o(~d);else{const f=d,v=u[++l],E=u[++l];Nh(v,f),E(2,o[f])}}}finally{_o(-1)}}(s,o);const E=s.components;null!==E&&function(s,o){for(let u=0;u<o.length;u++)PS(s,o[u])}(o,E);const I=s.viewQuery;if(null!==I&&Vv(2,I,l),!f)if(v){const T=s.viewCheckHooks;null!==T&&ya(o,T)}else{const T=s.viewHooks;null!==T&&Fh(o,T,2),Ru(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Dh(o[3],-1))}finally{pg()}}function fm(s,o,u,l){const d=o[10],f=!ga(),v=Cu(o);try{f&&!v&&d.begin&&d.begin(),v&&yf(s,o,l),Fa(s,o,u,l)}finally{f&&!v&&d.end&&d.end()}}function eb(s,o,u,l,d){const f=xr(),v=2&l;try{_o(-1),v&&o.length>20&&qC(s,o,20,ga()),u(l,d)}finally{_o(f)}}function pm(s,o,u){!Th()||(function(s,o,u,l){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||Fs(u,o),zt(l,o);const v=u.initialInputs;for(let E=d;E<f;E++){const I=s.data[E],T=Ci(I);T&&uR(o,u,I);const S=Ea(o,s,E,u);zt(S,o),null!==v&&lb(0,E-d,S,I,0,v),T&&(yr(u.index,o)[8]=S)}}(s,o,u,Gr(u,o)),128==(128&u.flags)&&function(s,o,u){const l=u.directiveStart,d=u.directiveEnd,v=u.index,E=at.lFrame.currentDirectiveIndex;try{_o(v);for(let I=l;I<d;I++){const T=s.data[I],S=o[I];Au(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&ub(T,S)}}finally{_o(-1),Au(E)}}(s,o,u))}function Sv(s,o,u=Gr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let f=0;f<l.length;f+=2){const v=l[f+1],E=-1===v?u(o,s):s[v];s[d++]=E}}}function Av(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=gm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function gm(s,o,u,l,d,f,v,E,I,T){const S=20+l,N=S+d,O=function(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:ht);return u}(S,N),V="function"==typeof T?T():T;return O[1]={type:s,blueprint:O,template:u,queries:null,viewQuery:E,declTNode:o,data:O.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:V,incompleteFirstPass:!1}}function xv(s,o,u,l){const d=wm(o);null===u?d.push(l):(d.push(u),s.firstCreatePass&&pb(s).push(l,d.length-1))}function _f(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,d):u[l]=[o,d]}return u}function Or(s,o,u,l,d,f,v,E){const I=Gr(o,u);let S,T=o.inputs;!E&&null!=T&&(S=T[l])?(gb(s,u,S,l,d),Xc(o)&&function(s,o){const u=yr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(l=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,en(f)?f.setProperty(I,l,d):dl(l)||(I.setProperty?I.setProperty(l,d):I[l]=d))}function wf(s,o,u,l){let d=!1;if(Th()){const f=function(s,o,u){const l=s.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const v=l[f];$C(u,v.selectors,!1)&&(d||(d=[]),_r(Fs(u,o),s,v.type),Ci(v)?(Yl(s,u),d.unshift(v)):d.push(v))}return d}(s,o,u),v=null===l?null:{"":-1};if(null!==f){d=!0,NS(u,s.data.length,f.length);for(let S=0;S<f.length;S++){const N=f[S];N.providersResolver&&N.providersResolver(N)}let E=!1,I=!1,T=Lo(s,o,f.length,null);for(let S=0;S<f.length;S++){const N=f[S];u.mergedAttrs=Bh(u.mergedAttrs,N.hostAttrs),MS(s,u,o,T,N),cb(T,N,v),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const O=N.type.prototype;!E&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!I&&(O.ngOnChanges||O.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),I=!0),T++}!function(s,o){const l=o.directiveEnd,d=s.data,f=o.attrs,v=[];let E=null,I=null;for(let T=o.directiveStart;T<l;T++){const S=d[T],N=S.inputs,O=null===f||jC(o)?null:OS(N,f);v.push(O),E=_f(N,T,E),I=_f(S.outputs,T,I)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=I}(s,u)}v&&function(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Se("301",`Export of name '${o[d+1]}' not found!`);l.push(o[d],f)}}}(u,l,v)}return u.mergedAttrs=Bh(u.mergedAttrs,u.attrs),d}function mm(s,o,u,l,d,f){const v=f.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const I=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=I&&E.push(I),E.push(l,d,v)}}function ub(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Yl(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function cb(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;Ci(o)&&(u[""]=s)}}function NS(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function MS(s,o,u,l,d){s.data[l]=d;const f=d.factory||(d.factory=ls(d.type)),v=new Nu(f,Ci(d),null);s.blueprint[l]=v,u[l]=v,mm(s,o,0,l,Lo(s,u,d.hostVars,ht),d)}function uR(s,o,u){const l=Gr(o,s),d=Av(u),f=s[10],v=bf(s,ka(s,d,null,u.onPush?64:16,l,o,f,f.createRenderer(l,u),null,null));s[o.index]=v}function Vo(s,o,u,l,d,f){const v=Gr(s,o);!function(s,o,u,l,d,f,v){if(null==f)en(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const E=null==v?ke(f):v(f,l||"",d);en(s)?s.setAttribute(o,d,E,u):u?o.setAttributeNS(u,d,E):o.setAttribute(d,E)}}(o[11],v,f,s.value,u,l,d)}function lb(s,o,u,l,d,f){const v=f[o];if(null!==v){const E=l.setInput;for(let I=0;I<v.length;){const T=v[I++],S=v[I++],N=v[I++];null!==E?l.setInput(u,N,T,S):u[S]=N}}}function OS(s,o){let u=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return u}function Pv(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function PS(s,o){const u=yr(o,s);if(bu(u)){const l=u[1];80&u[2]?Fa(l,u,l.template,u[8]):u[5]>0&&_m(u)}}function _m(s){for(let l=em(s);null!==l;l=ov(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const v=f[1];Fa(v,f,v.template,f[8])}else f[5]>0&&_m(f)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=yr(u[l],s);bu(d)&&d[5]>0&&_m(d)}}function kS(s,o){const u=yr(o,s),l=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),yf(l,u,u[8])}function bf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Fv(s){for(;s;){s[2]|=64;const o=jl(s);if(_h(s)&&!o)return s;s=o}return null}function vm(s,o,u){const l=o[10];l.begin&&l.begin();try{Fa(s,o,s.template,u)}catch(d){throw Uv(o,d),d}finally{l.end&&l.end()}}function Em(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],l=Kn(u),d=l[1];fm(d,l,d.template,u)}}(s[8])}function Vv(s,o,u){Ph(0),o(s,u)}const LS=(()=>Promise.resolve(null))();function wm(s){return s[7]||(s[7]=[])}function pb(s){return s.cleanup||(s.cleanup=[])}function Uv(s,o){const u=s[9],l=u?u.get(q,null):null;l&&l.handleError(o)}function gb(s,o,u,l,d){for(let f=0;f<u.length;){const v=u[f++],E=u[f++],I=o[v],T=s.data[v];null!==T.setInput?T.setInput(I,d,l,E):I[E]=d}}function Zs(s,o,u){const l=Eu(o,s);!function(s,o,u){en(s)?s.setValue(o,u):o.textContent=u}(s[11],l,u)}function bm(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?f=E:1==f?d=Y(d,E):2==f&&(l=Y(l,E+": "+o[++v]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}const Jl=new En("INJECTOR",-1);class _b{get(o,u=Co){if(u===Co){const l=new Error(`NullInjectorError: No provider for ${Z(o)}!`);throw l.name="NullInjectorError",l}return u}}const Xl=new En("Set Injector scope."),If={},lR={};let Df;function vb(){return void 0===Df&&(Df=new _b),Df}function Bv(s,o=null,u=null,l){return new US(s,u,o||vb(),l)}class US{constructor(o,u,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&Wr(u,E=>this.processProvider(E,o,u)),Wr([o],E=>this.processInjectorType(E,[],f)),this.records.set(Jl,ed(void 0,this));const v=this.records.get(Xl);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:Z(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Co,l=De.Default){this.assertNotDestroyed();const d=bo(this),f=ln(void 0);try{if(!(l&De.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=("function"==typeof(s=o)||"object"==typeof s&&s instanceof En)&&Tr(o);E=I&&this.injectableDefInScope(I)?ed(Im(o),If):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&De.Self?vb():this.parent).get(o,u=l&De.Optional&&u===Co?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Vs]=v[Vs]||[]).unshift(Z(o)),d)throw v;return Bn(v,o,"R3InjectorError",this.source)}throw v}finally{ln(f),bo(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(Z(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,l){if(!(o=X(o)))return!1;let d=Is(o);const f=null==d&&o.ngModule||void 0,v=void 0===f?o:f,E=-1!==l.indexOf(v);if(void 0!==f&&(d=Is(f)),null==d)return!1;if(null!=d.imports&&!E){let S;l.push(v);try{Wr(d.imports,N=>{this.processInjectorType(N,u,l)&&(void 0===S&&(S=[]),S.push(N))})}finally{}if(void 0!==S)for(let N=0;N<S.length;N++){const{ngModule:O,providers:V}=S[N];Wr(V,G=>this.processProvider(G,O,V||je))}}this.injectorDefTypes.add(v);const I=ls(v)||(()=>new v);this.records.set(v,ed(I,If));const T=d.providers;if(null!=T&&!E){const S=o;Wr(T,N=>this.processProvider(N,S,T))}return void 0!==f&&void 0!==o.providers}processProvider(o,u,l){let d=ac(o=X(o))?o:X(o&&o.provide);const f=Tf(s=o)?ed(void 0,s.useValue):ed(Cb(s),If);var s;if(ac(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=ed(void 0,If,!0),v.factory=()=>Bs(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,f)}hydrate(o,u){return u.value===If&&(u.value=lR,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=X(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Im(s){const o=Tr(s),u=null!==o?o.factory:ls(s);if(null!==u)return u;if(s instanceof En)throw new Error(`Token ${Z(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const l=function(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${Z(s)}: (${l.join(", ")}).`)}const u=function(s){const o=s&&(s[On]||s[lu]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function Cb(s,o,u){let l;if(ac(s)){const d=X(s);return ls(d)||Im(d)}if(Tf(s))l=()=>X(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Bs(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))l=()=>bn(X(s.useExisting));else{const d=X(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return ls(d)||Im(d);l=()=>new d(...Bs(s.deps))}return l}function ed(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Tf(s){return null!==s&&"object"==typeof s&&$u in s}function ac(s){return"function"==typeof s}const GS=function(s,o,u){return function(s,o=null,u=null,l){const d=Bv(s,o,u,l);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};let In=(()=>{class s{static create(u,l){return Array.isArray(u)?GS(u,l,""):GS(u.providers,u.parent,u.name||"")}}return s.THROW_IF_NOT_FOUND=Co,s.NULL=new _b,s.\u0275prov=un({token:s,providedIn:"any",factory:()=>bn(Jl)}),s.__NG_ELEMENT_ID__=-1,s})();function nA(s,o){ma(Kn(s)[1],vn())}function Sm(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(Ci(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){l.push(d);const v=s;v.inputs=La(s.inputs),v.declaredInputs=La(s.declaredInputs),v.outputs=La(s.outputs);const E=d.hostBindings;E&&Et(s,E);const I=d.viewQuery,T=d.contentQueries;if(I&&Am(s,I),T&&uc(s,T),K(s.inputs,d.inputs),K(s.declaredInputs,d.declaredInputs),K(s.outputs,d.outputs),Ci(d)&&d.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let v=0;v<f.length;v++){const E=f[v];E&&E.ngInherit&&E(s),E===Sm&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Bh(d.hostAttrs,u=Bh(u,d.hostAttrs))}}(l)}function La(s){return s===He?{}:s===je?[]:s}function Am(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function uc(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,f)=>{o(l,d,f),u(l,d,f)}:o}function Et(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}let id=null;function ot(){if(!id){const s=B.Symbol;if(s&&s.iterator)id=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(id=l)}}}return id}function jo(s){return!!Zv(s)&&(Array.isArray(s)||!(s instanceof Map)&&ot()in s)}function Zv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ut(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Kv(s,o,u,l){const d=be();return Ut(d,Os(),o)&&(xt(),Vo(nn(),d,s,o,u,l)),Kv}function Bb(s,o,u,l,d,f,v,E){const I=be(),T=xt(),S=s+20,N=T.firstCreatePass?function(s,o,u,l,d,f,v,E,I){const T=o.consts,S=Ws(o,s,4,v||null,Rs(T,E));wf(o,u,S,Rs(T,I)),ma(o,S);const N=S.tViews=gm(2,S,l,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,S),N.queries=o.queries.embeddedTView(S)),S}(S,T,I,o,u,l,d,f,v):T.data[S];ui(N,!1);const O=I[11].createComment("");hf(T,I,O,N),zt(O,I),bf(I,I[S]=Pv(O,I,O,N)),$r(N)&&pm(T,I,N),null!=v&&Sv(I,N,E)}function t0(s){return function(s,o){return s[o]}(at.lFrame.contextLView,20+s)}function Pf(s,o=De.Default){const u=be();return null===u?bn(s,o):zr(vn(),u,X(s),o)}function kf(s,o,u){const l=be();return Ut(l,Os(),o)&&Or(xt(),nn(),l,s,o,l[11],u,!1),kf}function Ff(s,o,u,l,d){const v=d?"class":"style";gb(s,u,o.inputs[v],v,l)}function p0(s,o,u,l){const d=be(),f=xt(),v=20+s,E=d[11],I=d[v]=uv(E,o,at.lFrame.currentNamespace),T=f.firstCreatePass?function(s,o,u,l,d,f,v){const E=o.consts,T=Ws(o,s,2,d,Rs(E,f));return wf(o,u,T,Rs(E,v)),null!==T.attrs&&bm(T,T.attrs,!1),null!==T.mergedAttrs&&bm(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(v,f,d,0,o,u,l):f.data[v];ui(T,!0);const S=T.mergedAttrs;null!==S&&rn(E,I,S);const N=T.classes;null!==N&&om(E,I,N);const O=T.styles;null!==O&&VC(E,I,O),64!=(64&T.flags)&&hf(f,d,I,T),0===at.lFrame.elementDepthCount&&zt(I,d),at.lFrame.elementDepthCount++,$r(T)&&(pm(f,d,T),function(s,o,u){if(pu(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const v=s.data[f];v.contentQueries&&v.contentQueries(1,u[f],f)}}}(f,T,d)),null!==l&&Sv(d,T)}function pc(){let s=vn();Ah()?at.lFrame.isParent=!1:(s=s.parent,ui(s,!1));const o=s;at.lFrame.elementDepthCount--;const u=xt();u.firstCreatePass&&(ma(u,s),pu(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Ff(u,o,be(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Ff(u,o,be(),o.stylesWithoutHost,!1)}function g0(s,o,u,l){p0(s,o,u,l),pc()}function gc(){return be()}function m0(s){return!!s&&"function"==typeof s.then}function rI(s){return!!s&&"function"==typeof s.subscribe}const $o=rI;function Um(s,o,u,l){const d=be(),f=xt(),v=vn();return function(s,o,u,l,d,f,v,E){const I=$r(l),S=s.firstCreatePass&&pb(s),N=o[8],O=wm(o);let V=!0;if(3&l.type||E){const J=Gr(l,o),Ae=E?E(J):J,oe=O.length,Ze=E?rt=>E(tn(rt[l.index])):l.index;if(en(u)){let rt=null;if(!E&&I&&(rt=function(s,o,u,l){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const v=d[f];if(v===u&&d[f+1]===l){const E=o[7],I=d[f+2];return E.length>I?E[I]:null}"string"==typeof v&&(f+=2)}return null}(s,o,d,l.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=f,rt.__ngLastListenerFn__=f,V=!1;else{f=Cr(l,o,N,f,!1);const Mt=u.listen(Ae,d,f);O.push(f,Mt),S&&S.push(d,Ze,oe,oe+1)}}else f=Cr(l,o,N,f,!0),Ae.addEventListener(d,f,v),O.push(f),S&&S.push(d,Ze,oe,v)}else f=Cr(l,o,N,f,!1);const G=l.outputs;let se;if(V&&null!==G&&(se=G[d])){const J=se.length;if(J)for(let Ae=0;Ae<J;Ae+=2){const er=o[se[Ae]][se[Ae+1]].subscribe(f),ss=O.length;O.push(f,er),S&&S.push(d,l.index,ss,-(ss+1))}}}(f,d,d[11],v,s,o,!!u,l),Um}function y0(s,o,u,l){try{return!1!==u(l)}catch(d){return Uv(s,d),!1}}function Cr(s,o,u,l,d){return function f(v){if(v===Function)return l;const E=2&s.flags?yr(s.index,o):o;0==(32&o[2])&&Fv(E);let I=y0(o,0,l,v),T=f.__ngNextListenerFn__;for(;T;)I=y0(o,0,T,v)&&I,T=T.__ngNextListenerFn__;return d&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function _0(s=1){return function(s){return(at.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,at.lFrame.contextLView))[8]}(s)}function Wm(s,o,u,l,d){const f=s[u+1],v=null===o;let E=l?Er(f):Mr(f),I=!1;for(;0!==E&&(!1===I||v);){const S=s[E+1];oI(s[E],o)&&(I=!0,s[E+1]=l?cm(S):ir(S)),E=l?Er(S):Mr(S)}I&&(s[u+1]=l?ir(f):cm(f))}function oI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&rr(s,o)>=0}function Go(s,o){return function(s,o,u,l){const d=be(),f=xt(),v=function(s){const o=at.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function(s,o,u,l){const d=s.data;if(null===d[u+1]){const f=d[xr()],v=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(f,l)&&null===o&&!v&&(o=!1),o=function(s,o,u,l){const d=function(s){const o=at.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=qf(u=Qm(null,s,o,u,l),o.attrs,l),f=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(u=Qm(d,s,o,u,l),null===f){let I=function(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==Mr(l))return s[Er(l)]}(s,o,l);void 0!==I&&Array.isArray(I)&&(I=Qm(null,s,o,I[1],l),I=qf(I,o.attrs,l),function(s,o,u,l){s[Er(u?o.classBindings:o.styleBindings)]=l}(s,o,l,I))}else f=function(s,o,u){let l;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)l=qf(l,s[f].hostAttrs,u);return qf(l,o.attrs,u)}(s,o,l)}return void 0!==f&&(l?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,l),function(s,o,u,l,d,f){let v=f?o.classBindings:o.styleBindings,E=Er(v),I=Mr(v);s[l]=u;let S,T=!1;if(Array.isArray(u)){const N=u;S=N[1],(null===S||rr(N,S)>0)&&(T=!0)}else S=u;if(d)if(0!==I){const O=Er(s[E+1]);s[l+1]=um(O,E),0!==O&&(s[O+1]=Ev(s[O+1],l)),s[E+1]=function(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=um(E,0),0!==E&&(s[E+1]=Ev(s[E+1],l)),E=l;else s[l+1]=um(I,0),0===E?E=l:s[I+1]=Ev(s[I+1],l),I=l;T&&(s[l+1]=ir(s[l+1])),Wm(s,S,l,!0),Wm(s,S,l,!1),function(s,o,u,l,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&rr(f,o)>=0&&(u[l+1]=cm(u[l+1]))}(o,S,s,l,f),v=um(E,I),f?o.classBindings=v:o.styleBindings=v}(d,f,o,u,v,l)}}(f,s,v,l),o!==ht&&Ut(d,v,o)&&function(s,o,u,l,d,f,v,E){if(!(3&o.type))return;const I=s.data,T=I[E+1];zf(function(s){return 1==(1&s)}(T)?qo(I,o,u,d,Mr(T),v):void 0)||(zf(f)||function(s){return 2==(2&s)}(T)&&(f=qo(I,null,u,d,E,v)),function(s,o,u,l,d){const f=en(s);if(o)d?f?s.addClass(u,l):u.classList.add(l):f?s.removeClass(u,l):u.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:$s.DashCase;if(null==d)f?s.removeStyle(u,l,v):u.style.removeProperty(l);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),v|=$s.Important),f?s.setStyle(u,l,d,v):u.style.setProperty(l,d,E?"important":"")}}}(l,v,Eu(xr(),u),d,f))}(f,f.data[xr()],d,d[11],s,d[v+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Z(Qr(s)))),s}(o,u),l,v)}(s,o,null,!0),Go}function Qm(s,o,u,l,d){let f=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(f=o[E],l=qf(l,f.hostAttrs,d),f!==s);)E++;return null!==s&&(u.directiveStylingLast=E),l}function qf(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const v=o[f];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),vr(s,v,!!u||o[++f]))}return void 0===s?null:s}function qo(s,o,u,l,d,f){const v=null===o;let E;for(;d>0;){const I=s[d],T=Array.isArray(I),S=T?I[1]:I,N=null===S;let O=u[d+1];O===ht&&(O=N?je:void 0);let V=N?Lu(O,l):S===l?O:void 0;if(T&&!zf(V)&&(V=Lu(I,l)),zf(V)&&(E=V,v))return E;const G=s[d+1];d=v?Er(G):Mr(G)}if(null!==o){let I=f?o.residualClasses:o.residualStyles;null!=I&&(E=Lu(I,l))}return E}function zf(s){return void 0!==s}function yc(s,o=""){const u=be(),l=xt(),d=s+20,f=l.firstCreatePass?Ws(l,d,1,o,null):l.data[d],v=u[d]=function(s,o){return en(s)?s.createText(o):s.createTextNode(o)}(u[11],o);hf(l,u,v,f),ui(f,!1)}function S0(s){return Jm("",s,""),S0}function Jm(s,o,u){const l=be(),d=function(s,o,u,l){return Ut(s,Os(),u)?o+ke(u)+l:ht}(l,s,o,u);return d!==ht&&Zs(l,xr(),d),Jm}function _c(s,o,u){const l=be();return Ut(l,Os(),o)&&Or(xt(),nn(),l,s,o,l[11],u,!0),_c}const zo=void 0;var gI=["en",[["a","p"],["AM","PM"],zo],[["AM","PM"],zo,zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zo,"{1} 'at' {0}",zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Ha={};function H0(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=$0(o);if(u)return u;const l=o.split("-")[0];if(u=$0(l),u)return u;if("en"===l)return gI;throw new Error(`Missing locale data for the locale "${s}".`)}function gd(s){return H0(s)[et.PluralCase]}function $0(s){return s in Ha||(Ha[s]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[s]),Ha[s]}var et=(()=>((et=et||{})[et.LocaleId=0]="LocaleId",et[et.DayPeriodsFormat=1]="DayPeriodsFormat",et[et.DayPeriodsStandalone=2]="DayPeriodsStandalone",et[et.DaysFormat=3]="DaysFormat",et[et.DaysStandalone=4]="DaysStandalone",et[et.MonthsFormat=5]="MonthsFormat",et[et.MonthsStandalone=6]="MonthsStandalone",et[et.Eras=7]="Eras",et[et.FirstDayOfWeek=8]="FirstDayOfWeek",et[et.WeekendRange=9]="WeekendRange",et[et.DateFormat=10]="DateFormat",et[et.TimeFormat=11]="TimeFormat",et[et.DateTimeFormat=12]="DateTimeFormat",et[et.NumberSymbols=13]="NumberSymbols",et[et.NumberFormats=14]="NumberFormats",et[et.CurrencyCode=15]="CurrencyCode",et[et.CurrencySymbol=16]="CurrencySymbol",et[et.CurrencyName=17]="CurrencyName",et[et.Currencies=18]="Currencies",et[et.Directionality=19]="Directionality",et[et.PluralCase=20]="PluralCase",et[et.ExtraData=21]="ExtraData",et))();const Qf="en-US";let q0=Qf;function md(s){an(s,"Expected localeId to be defined"),"string"==typeof s&&(q0=s.toLowerCase().replace(/_/g,"-"))}function rE(s,o,u,l,d){if(s=X(s),Array.isArray(s))for(let f=0;f<s.length;f++)rE(s[f],o,u,l,d);else{const f=xt(),v=be();let E=ac(s)?s:X(s.provide),I=Cb(s);const T=vn(),S=1048575&T.providerIndexes,N=T.directiveStart,O=T.providerIndexes>>20;if(ac(s)||!s.multi){const V=new Nu(I,d,Pf),G=iE(E,o,d?S:S+O,N);-1===G?(_r(Fs(T,v),f,E),gy(f,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(V),v.push(V)):(u[G]=V,v[G]=V)}else{const V=iE(E,o,S+O,N),G=iE(E,o,S,S+O),se=V>=0&&u[V],J=G>=0&&u[G];if(d&&!J||!d&&!se){_r(Fs(T,v),f,E);const Ae=function(s,o,u,l,d){const f=new Nu(s,u,Pf);return f.multi=[],f.index=o,f.componentProviders=0,Cd(f,d,l&&!u),f}(d?yy:my,u.length,d,l,I);!d&&J&&(u[G].providerFactory=Ae),gy(f,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Ae),v.push(Ae)}else gy(f,s,V>-1?V:G,Cd(u[d?G:V],I,!d&&l));!d&&l&&J&&u[G].componentProviders++}}}function gy(s,o,u,l){const d=ac(o);if(d||function(s){return!!s.useClass}(o)){const v=(o.useClass||o).prototype.ngOnDestroy;if(v){const E=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const I=E.indexOf(u);-1===I?E.push(u,[l,v]):E[I+1].push(l,v)}else E.push(u,v)}}}function Cd(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function iE(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function my(s,o,u,l){return br(this.multi,[])}function yy(s,o,u,l){const d=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ea(u,u[1],this.providerFactory.index,l);f=E.slice(0,v),br(d,f);for(let I=v;I<E.length;I++)f.push(E[I])}else f=[],br(d,f);return f}function br(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function RI(s,o=[]){return u=>{u.providersResolver=(l,d)=>function(s,o,u){const l=xt();if(l.firstCreatePass){const d=Ci(s);rE(u,l.data,l.blueprint,d,!0),rE(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class NI{}const MI="ngComponent";class jA{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${Z(s)}. Did you add it to @NgModule.entryComponents?`);return o[MI]=s,o}(o)}}let bd=(()=>{class s{}return s.NULL=new jA,s})();function Zo(...s){}function Cc(s,o){return new ei(Gr(s,o))}const PI=function(){return Cc(vn(),be())};let ei=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=PI,s})();function sp(s){return s instanceof ei?s.nativeElement:s}class Dd{}let aE=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Ji(),s})();const Ji=function(){const s=be(),u=yr(vn().index,s);return function(s){return s[11]}(Hr(u)?u:s)};let vy=(()=>{class s{}return s.\u0275prov=un({token:s,providedIn:"root",factory:()=>null}),s})();class Ey{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const bc=new Ey("12.2.7");class cE{constructor(){}supports(o){return jo(o)}create(o){return new FI(o)}}const $A=(s,o)=>o;class FI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$A}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,f=null;for(;u||l;){const v=!l||u&&u.currentIndex<UI(l,d,f)?u:l,E=UI(v,d,f),I=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{f||(f=[]);const T=E-d,S=I-d;if(T!=S){for(let O=0;O<T;O++){const V=O<f.length?f[O]:f[O]=0,G=V+O;S<=G&&G<T&&(f[O]=V+1)}f[v.previousIndex]=S-T}}E!==I&&o(v,E,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!jo(o))throw new Error(`Error trying to diff '${Z(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,v,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)f=o[E],v=this._trackByFn(E,f),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,f,v,E)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,v,E),l=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ot()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,E=>{v=this._trackByFn(d,E),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,E,v,d)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new LI(u,l),f,d),o}_verifyReinsertion(o,u,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new VI),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class LI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wy{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class VI{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new wy,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UI(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class lE{constructor(){}supports(o){return o instanceof Map||Zv(o)}create(){return new Td}}class Td{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Zv(o)))throw new Error(`Error trying to diff '${Z(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,v=d._next;return f&&(f._next=v),v&&(v._prev=f),d._next=null,d._prev=null,d}const l=new Ic(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class Ic{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dE(){return new eo([new cE])}let eo=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||dE()),deps:[[s,new js,new Yr]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:dE}),s})();function Dc(){return new up([new lE])}let up=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||Dc()),deps:[[s,new js,new Yr]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:Dc}),s})();function cp(s,o,u,l,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&l.push(tn(f)),jt(f))for(let E=10;E<f.length;E++){const I=f[E],T=I[1].firstChild;null!==T&&cp(I[1],I,T,l)}const v=u.type;if(8&v)cp(s,o,u.child,l);else if(32&v){const E=rv(u,o);let I;for(;I=E();)l.push(I)}else if(16&v){const E=uS(o,u);if(Array.isArray(E))l.push(...E);else{const I=jl(o[16]);cp(I[1],I,E,l,!0)}}u=d?u.projectionNext:u.next}return l}class Ko{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return cp(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(jt(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(lv(o,l),gs(u,l))}this._attachedToViewContainer=!1}kC(this._lView[1],this._lView)}onDestroy(o){xv(this._lView[1],this._lView,null,o)}markForCheck(){Fv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){Ms(!0);try{vm(s,o,u)}finally{Ms(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,ff(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class qA extends Ko{constructor(o){super(o),this._view=o}detectChanges(){Em(this._view)}checkNoChanges(){!function(s){Ms(!0);try{Em(s)}finally{Ms(!1)}}(this._view)}get context(){return null}}const Cy=function(s){return function(s,o,u){if(Xc(s)&&!u){const l=yr(s.index,o);return new Ko(l,l)}return 47&s.type?new Ko(o[16],o):null}(vn(),be(),16==(16&s))};let by=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cy,s})();const ZA=[new lE],HI=new eo([new cE]),lp=new up(ZA),$I=function(){return Tn(vn(),be())};let Sd=(()=>{class s{}return s.__NG_ELEMENT_ID__=$I,s})();const dp=Sd,fE=class extends dp{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o){const u=this._declarationTContainer.tViews,l=ka(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(u)),yf(u,l,o),new Ko(l)}};function Tn(s,o){return 4&s.type?new fE(o,s,Cc(s,o)):null}class St{}class pE{}const Iy=function(){return Dy(vn(),be())};let zn=(()=>{class s{}return s.__NG_ELEMENT_ID__=Iy,s})();const qI=zn,zI=class extends qI{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){const o=vo(this._hostTNode,this._hostLView);if(gg(o)){const u=Ou(o,this._hostLView),l=Mu(o);return new li(u[1].data[l+8],u)}return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Oi(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){const d=o.createEmbeddedView(u||{});return this.insert(d,l),d}createComponent(o,u,l,d,f){const v=l||this.parentInjector;if(!f&&null==o.ngModule&&v){const I=v.get(St,null);I&&(f=I)}const E=o.create(v,d,void 0,f);return this.insert(E.hostView,u),E}insert(o,u){const l=o._lView,d=l[1];if(jt(l[3])){const S=this.indexOf(o);if(-1!==S)this.detach(S);else{const N=l[3],O=new zI(N,N[6],N[3]);O.detach(O.indexOf(o))}}const f=this._adjustIndex(u),v=this._lContainer;!function(s,o,u,l){const d=10+l,f=u.length;l>0&&(u[d-1][4]=o),l<f-10?(o[4]=u[d],vl(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,l,v,f);const E=Po(f,v),I=l[11],T=sm(I,v[7]);return null!==T&&function(s,o,u,l,d,f){l[0]=d,l[6]=o,ff(s,l,u,1,d,f)}(d,v[6],I,l,T,E),o.attachToViewContainerRef(),vl(gE(v),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Oi(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=lv(this._lContainer,u);l&&(gs(gE(this._lContainer),u),kC(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=lv(this._lContainer,u);return l&&null!=gs(gE(this._lContainer),u)?new Ko(l):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function Oi(s){return s[8]}function gE(s){return s[8]||(s[8]=[])}function Dy(s,o){let u;const l=o[s.index];if(jt(l))u=l;else{let d;if(8&s.type)d=tn(l);else{const f=o[11];d=f.createComment("");const v=Gr(s,o);Gs(f,sm(f,v),d,function(s,o){return en(s)?s.nextSibling(o):o.nextSibling}(f,v),!1)}o[s.index]=u=Pv(l,o,d,s),bf(o,u)}return new zI(u,s,o)}const Li={};class Xo extends bd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Zn(o);return new hD(u,this.ngModule)}}function Xa(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const dD=new En("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bl});class hD extends NI{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(sc).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Xa(this.componentDef.inputs)}get outputs(){return Xa(this.componentDef.outputs)}create(o,u,l,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(u,l,d)=>{const f=s.get(u,Li,d);return f!==Li||l===Li?f:o.get(u,l,d)}}}(o,d.injector):o,v=f.get(Dd,sl),E=f.get(vy,null),I=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=l?function(s,o,u){if(en(s))return s.selectRootElement(o,u===_n.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(I,l,this.componentDef.encapsulation):uv(v.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?nl:"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,O=function(s,o){return{components:[],scheduler:s||Bl,clean:LS,playerHandler:o||null,flags:0}}(),V=gm(0,null,null,1,0,null,null,null,null,null),G=ka(null,V,O,N,null,null,v,I,E,f);let se,J;xu(G);try{const Ae=function(s,o,u,l,d,f){const v=u[1];u[20]=s;const I=Ws(v,20,2,"#host",null),T=I.mergedAttrs=o.hostAttrs;null!==T&&(bm(I,T,!0),null!==s&&(rn(d,s,T),null!==I.classes&&om(d,s,I.classes),null!==I.styles&&VC(d,s,I.styles)));const S=l.createRenderer(s,o),N=ka(u,Av(o),null,o.onPush?64:16,u[20],I,l,S,f||null,null);return v.firstCreatePass&&(_r(Fs(I,u),v,o.type),Yl(v,I),NS(I,u.length,1)),bf(u,N),u[20]=N}(S,this.componentDef,G,v,I);if(S)if(l)rn(I,S,["ng-version",bc.full]);else{const{attrs:oe,classes:Ze}=function(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let f=s[l];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++l]):8===d&&u.push(f);else{if(!vs(d))break;d=f}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);oe&&rn(I,S,oe),Ze&&Ze.length>0&&om(I,S,Ze.join(" "))}if(J=xs(V,20),void 0!==u){const oe=J.projection=[];for(let Ze=0;Ze<this.ngContentSelectors.length;Ze++){const rt=u[Ze];oe.push(null!=rt?Array.from(rt):null)}}se=function(s,o,u,l,d){const f=u[1],v=function(s,o,u){const l=vn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),MS(s,l,o,Lo(s,o,1,null),u));const d=Ea(o,s,l.directiveStart,l);zt(d,o);const f=Gr(l,o);return f&&zt(f,o),d}(f,u,o);if(l.components.push(v),s[8]=v,d&&d.forEach(I=>I(v,o)),o.contentQueries){const I=vn();o.contentQueries(1,v,I.directiveStart)}const E=vn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(_o(E.index),mm(u[1],E,0,E.directiveStart,E.directiveEnd,o),ub(o,v)),v}(Ae,this.componentDef,G,O,[nA]),yf(V,G,null)}finally{pg()}return new Py(this.componentType,se,Cc(J,G),G,J)}}class Py extends class{}{constructor(o,u,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new qA(d),this.componentType=o}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Mc=new Map;class hx extends St{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xo(this);const l=gr(o),d=o[At]||null;d&&md(d),this._bootstrapComponents=Ki(l.bootstrap),this._r3Injector=Bv(o,u,[{provide:St,useValue:this},{provide:bd,useValue:this.componentFactoryResolver}],Z(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=In.THROW_IF_NOT_FOUND,l=De.Default){return o===In||o===St||o===Jl?this:this._r3Injector.get(o,u,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ky extends pE{constructor(o){super(),this.moduleType=o,null!==gr(o)&&function(s){const o=new Set;!function u(l){const d=gr(l,!0),f=d.id;null!==f&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${Z(o)} vs ${Z(o.name)}`)}(f,Mc.get(f),l),Mc.set(f,l));const v=Ki(d.imports);for(const E of v)o.has(E)||(o.add(E),u(E))}(s)}(o)}create(o){return new hx(this.moduleType,o)}}function $E(s){return o=>{setTimeout(s,void 0,o)}}const ts=class extends g.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){var d,f,v;let E=o,I=u||(()=>null),T=l;if(o&&"object"==typeof o){const N=o;E=null===(d=N.next)||void 0===d?void 0:d.bind(N),I=null===(f=N.error)||void 0===f?void 0:f.bind(N),T=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(I=$E(I),E&&(E=$E(E)),T&&(T=$E(T)));const S=super.subscribe({next:E,error:I,complete:T});return o instanceof ee.w&&o.add(S),S}};function mx(){return this._results[ot()]()}class Wd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ot(),l=Wd.prototype;l[u]||(l[u]=mx)}get changes(){return this._changes||(this._changes=new ts)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=di(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],f=o[l];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class qE{constructor(o){this.queryList=o,this.matches=null}clone(){return new qE(this.queryList)}setDirty(){this.queryList.setDirty()}}class zE{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<l;f++){const v=u.getByIndex(f);d.push(this.queries[v.indexInDeclarationView].clone())}return new zE(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==TD(o,u).matches&&this.queries[u].setDirty()}}class wD{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class WE{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,f=this.getByIndex(l).embeddedTView(o,d);f&&(f.indexInDeclarationView=l,null!==u?u.push(f):u=[f])}return null!==u?new WE(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ZE{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new ZE(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(o,u,_x(u,f)),this.matchTNodeWithReadOption(o,u,ml(u,o,f,!1,!1))}else l===Sd?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ml(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ei||d===zn||d===Sd&&4&u.type)this.addMatch(u.index,-2);else{const f=ml(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function _x(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function CD(s,o,u,l){return-1===u?function(s,o){return 11&s.type?Cc(s,o):4&s.type?Tn(s,o):null}(o,s):-2===u?function(s,o,u){return u===ei?Cc(o,s):u===Sd?Tn(o,s):u===zn?Dy(o,s):void 0}(s,o,l):Ea(s,s[1],u,o)}function Uy(s,o,u,l){const d=o[19].queries[l];if(null===d.matches){const f=s.data,v=u.matches,E=[];for(let I=0;I<v.length;I+=2){const T=v[I];E.push(T<0?null:CD(o,f[T],v[I+1],u.metadata.read))}d.matches=E}return d.matches}function Zd(s,o,u,l){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const v=Uy(s,o,d,u);for(let E=0;E<f.length;E+=2){const I=f[E];if(I>0)l.push(v[E/2]);else{const T=f[E+1],S=o[-I];for(let N=10;N<S.length;N++){const O=S[N];O[17]===O[3]&&Zd(O[1],O,T,l)}if(null!==S[9]){const N=S[9];for(let O=0;O<N.length;O++){const V=N[O];Zd(V[1],V,T,l)}}}}}return l}function Kd(s){const o=be(),u=xt(),l=yo();Ph(l+1);const d=TD(u,l);if(s.dirty&&Cu(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?Zd(u,o,l,[]):Uy(u,o,d,l);s.reset(f,sp),s.notifyOnChanges()}return!0}return!1}function Cp(s,o,u){const l=xt();l.firstCreatePass&&(ID(l,new wD(s,o,u),-1),2==(2&o)&&(l.staticViewQueries=!0)),QE(l,be(),o)}function By(s,o,u,l){const d=xt();if(d.firstCreatePass){const f=vn();ID(d,new wD(o,u,l),f.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}QE(d,be(),u)}function jy(){return s=be(),o=yo(),s[19].queries[o].queryList;var s,o}function QE(s,o,u){const l=new Wd(4==(4&u));xv(s,o,l,l.destroy),null===o[19]&&(o[19]=new zE),o[19].queries.push(new qE(l))}function ID(s,o,u){null===s.queries&&(s.queries=new WE),s.queries.track(new ZE(o,u))}function TD(s,o){return s.queries.getByIndex(o)}const kp=new En("Application Initializer");let Qd=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Zo,this.reject=Zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(m0(f))u.push(f);else if($o(f)){const v=new Promise((E,I)=>{f.subscribe({complete:E,error:I})});u.push(v)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(bn(kp,8))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();const Ky=new En("AppId"),dw={provide:Ky,useFactory:function(){return`${Yy()}${Yy()}${Yy()}`},deps:[]};function Yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zD=new En("Platform Initializer"),Qy=new En("Platform ID"),WD=new En("appBootstrapListener");let KD=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();const Jd=new En("LocaleId"),YD=new En("DefaultCurrencyCode");class kx{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const Fp=function(s){return new ky(s)},Fx=Fp,Lx=function(s){return Promise.resolve(Fp(s))},rT=function(s){const o=Fp(s),l=Ki(gr(s).declarations).reduce((d,f)=>{const v=Zn(f);return v&&d.push(new hD(v)),d},[]);return new kx(o,l)},hw=rT,Vx=function(s){return Promise.resolve(rT(s))};let kc=(()=>{class s{constructor(){this.compileModuleSync=Fx,this.compileModuleAsync=Lx,this.compileModuleAndAllComponentsSync=hw,this.compileModuleAndAllComponentsAsync=Vx}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();const oT=(()=>Promise.resolve(0))();function pw(s){"undefined"==typeof Zone?oT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ni{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ts(!1),this.onMicrotaskEmpty=new ts(!1),this.onStable=new ts(!1),this.onError=new ts(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=B.requestAnimationFrame,o=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(B,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,yw(s),s.isCheckStableRunning=!0,Lp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),yw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,f,v,E)=>{try{return _w(s),u.invokeTask(d,f,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),vw(s)}},onInvoke:(u,l,d,f,v,E,I)=>{try{return _w(s),u.invoke(d,f,v,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),vw(s)}},onHasTask:(u,l,d,f)=>{u.hasTask(d,f),l===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,yw(s),Lp(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,l,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ni.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ni.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+d,o,Bx,Zo,Zo);try{return f.runTask(v,u,l)}finally{f.cancelTask(v)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const Bx={};function Lp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function yw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function _w(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function vw(s){s._nesting--,Lp(s)}class jx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ts,this.onMicrotaskEmpty=new ts,this.onStable=new ts,this.onError=new ts}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}let Jy=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ni.assertNotInAngularZone(),pw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pw(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(bn(ni))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})(),Ew=(()=>{class s{constructor(){this._applications=new Map,ww.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return ww.findTestabilityInTree(this,u,l)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();class Xy{addToWindow(o){}findTestabilityInTree(o,u,l){return null}}function Hx(s){ww=s}let ww=new Xy,aT=!0,uT=!1;function e_(){return uT=!0,aT}function Cw(){if(uT)throw new Error("Cannot enable prod mode after platform setup.");aT=!1}let ns;const Fc=new En("AllowMultipleToken");class xw{constructor(o,u){this.name=o,this.token=u}}function dT(s,o,u=[]){const l=`Platform: ${o}`,d=new En(l);return(f=[])=>{let v=hT();if(!v||v.injector.get(Fc,!1))if(s)s(u.concat(f).concat({provide:d,useValue:!0}));else{const E=u.concat(f).concat({provide:d,useValue:!0},{provide:Xl,useValue:"platform"});!function(s){if(ns&&!ns.destroyed&&!ns.injector.get(Fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ns=s.get(Rw);const o=s.get(zD,null);o&&o.forEach(u=>u())}(In.create({providers:E,name:l}))}return function(s){const o=hT();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function hT(){return ns&&!ns.destroyed?ns:null}let Rw=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const E=function(s,o){let u;return u="noop"===s?new jx:("zone.js"===s?void 0:s)||new ni({enableLongStackTrace:e_(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:ni,useValue:E}];return E.run(()=>{const T=In.create({providers:I,parent:this.injector,name:u.moduleType.name}),S=u.create(T),N=S.injector.get(q,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const O=E.onError.subscribe({next:V=>{N.handleError(V)}});S.onDestroy(()=>{Nw(this._modules,S),O.unsubscribe()})}),function(s,o,u){try{const l=u();return m0(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(N,E,()=>{const O=S.injector.get(Qd);return O.runInitializers(),O.donePromise.then(()=>(md(S.injector.get(Jd,Qf)||Qf),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,l=[]){const d=fT({},l);return function(s,o,u){const l=new ky(u);return Promise.resolve(l)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const l=u.injector.get(Vp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${Z(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(bn(In))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();function fT(s,o){return Array.isArray(o)?o.reduce(fT,s):Object.assign(Object.assign({},s),o)}let Vp=(()=>{class s{constructor(u,l,d,f,v){this._zone=u,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new U.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),I=new U.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ni.assertNotInAngularZone(),pw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ni.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=(0,_e.T)(E,I.pipe(s=>(0,pe.x)()(function(s,o){return function(l){let d;d="function"==typeof s?s:function(){return s};const f=Object.create(l,me.N);return f.source=l,f.subjectFactory=d,f}}(W)(s))))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof NI?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(St),E=d.create(In.NULL,[],l||d.selector,f),I=E.location.nativeElement,T=E.injector.get(Jy,null),S=T&&E.injector.get(Ew);return T&&S&&S.registerApplication(I,T),E.onDestroy(()=>{this.detachView(E.hostView),Nw(this.components,E),S&&S.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Nw(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(WD,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(bn(ni),bn(In),bn(q),bn(bd),bn(Qd))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();function Nw(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class Mw{}class mT{}const Bp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Jx=(()=>{class s{constructor(u,l){this._compiler=u,this._config=l||Bp}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,d]=u.split("#");return void 0===d&&(d="default"),L(8255)(l).then(f=>f[d]).then(f=>on(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[l,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),L(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(v=>v[d+f]).then(v=>on(v,l,d))}}return s.\u0275fac=function(u){return new(u||s)(bn(kc),bn(mT,8))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();function on(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const s1=function(s){return null},a1=dT(null,"core",[{provide:Qy,useValue:"unknown"},{provide:Rw,deps:[In]},{provide:Ew,deps:[]},{provide:KD,deps:[]}]),Vc=[{provide:Vp,useClass:Vp,deps:[ni,In,q,bd,Qd]},{provide:dD,deps:[ni],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Qd,useClass:Qd,deps:[[new Yr,kp]]},{provide:kc,useClass:kc,deps:[]},dw,{provide:eo,useFactory:function(){return HI},deps:[]},{provide:up,useFactory:function(){return lp},deps:[]},{provide:Jd,useFactory:function(s){return md(s=s||"undefined"!=typeof $localize&&$localize.locale||Qf),s},deps:[[new Ta(Jd),new Yr,new js]]},{provide:YD,useValue:"USD"}];let Hp=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(bn(Vp))},s.\u0275mod=du({type:s}),s.\u0275inj=Ei({providers:Vc}),s})()},8939:(ze,we,L)=>{"use strict";L.d(we,{hO:()=>Z,xv:()=>W,Dh:()=>pe,GT:()=>ie,on:()=>k,pX:()=>me});var g=L(3018),ee=L(7841),U=L(9126);ze=L.hmd(ze);const _e=["ngOnDestroy"],me=(Y,fe,te,X={})=>new Proxy(Y,{get:(Oe,Me)=>te.runOutsideAngular(()=>{var Se;if(Y[Me])return(null===(Se=null==X?void 0:X.spy)||void 0===Se?void 0:Se.get)&&X.spy.get(Me,Y[Me]),Y[Me];if(_e.indexOf(Me)>-1)return()=>{};const Le=fe.toPromise().then(Ve=>{const ke=Ve&&Ve[Me];return"function"==typeof ke?ke.bind(Ve):ke&&ke.then?ke.then(yt=>te.run(()=>yt)):te.run(()=>ke)});return new Proxy(()=>{},{get:(Ve,ke)=>Le[ke],apply:(Ve,ke,yt)=>Le.then(Rt=>{var Ee;const re=Rt&&Rt(...yt);return(null===(Ee=null==X?void 0:X.spy)||void 0===Ee?void 0:Ee.apply)&&X.spy.apply(Me,yt,re),re})})})}),ie=(Y,fe)=>{fe.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(X=>{Object.defineProperty(Y.prototype,X,Object.getOwnPropertyDescriptor(te.prototype||te,X))})})};class ve{constructor(fe){return fe}}const pe=new g.OlP("angularfire2.app.options"),W=new g.OlP("angularfire2.app.name");function k(Y,fe,te){const Oe="object"==typeof te&&te||{};Oe.name=Oe.name||"string"==typeof te&&te||"[DEFAULT]";const Se=ee.Z.apps.filter(Le=>Le&&Le.name===Oe.name)[0]||fe.runOutsideAngular(()=>ee.Z.initializeApp(Y,Oe));try{JSON.stringify(Y)!==JSON.stringify(Se.options)&&F("error",`${Se.name} Firebase App already initialized with different options${ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Le){}return new ve(Se)}const F=(Y,...fe)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Y](...fe)},K={provide:ve,useFactory:k,deps:[pe,g.R0b,[new g.FiY,W]]};let Z=(()=>{class Y{constructor(te){ee.Z.registerVersion("angularfire",U.q4.full,"core"),ee.Z.registerVersion("angularfire",U.q4.full,"app-compat"),ee.Z.registerVersion("angular",g.q4F.full,te.toString())}static initializeApp(te,X){return{ngModule:Y,providers:[{provide:pe,useValue:te},{provide:W,useValue:X}]}}}return Y.\u0275fac=function(te){return new(te||Y)(g.LFG(g.Lbi))},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({providers:[K]}),Y})()},9126:(ze,we,L)=>{"use strict";L.d(we,{q4:()=>k,iC:()=>re,fc:()=>Rt,HU:()=>Le,cc:()=>Z});var g=L(3018);(0,L(5452).registerVersion)("firebase","9.1.1","app");var me=L(7771),ie=L(3637),ve=L(3342),pe=L(309),W=L(3101);ze=L.hmd(ze);const k=new g.GfV("7.0.4"),F=!!ze.hot,K=(ce,...Q)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[ce](...Q)};function Z(ce,Q,xe,We,bt){const[,tt,_t]=globalThis.\u0275AngularfireInstanceCache.find(Xt=>Xt[0]===ce)||[];if(tt)return function(ce,Q){try{return ce.toString()===Q.toString()}catch(xe){return ce===Q}}(bt,_t)||(K("error",`${Q} was already initialized on the ${xe} Firebase App with different settings.${F?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:bt,was:_t})),tt;{const Xt=We();return globalThis.\u0275AngularfireInstanceCache.push([ce,Xt,bt]),Xt}}function Oe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Me{constructor(Q,xe=me.N){this.zone=Q,this.delegate=xe}now(){return this.delegate.now()}schedule(Q,xe,We){const bt=this.zone;return this.delegate.schedule(function(_t){bt.runGuarded(()=>{Q.apply(this,[_t])})},xe,We)}}class Se{constructor(Q){this.zone=Q,this.task=null}call(Q,xe){const We=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oe,{},Oe,Oe)),xe.pipe((0,ve.b)({next:We,complete:We,error:We})).subscribe(Q).add(We)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Le=(()=>{class ce{constructor(xe){this.ngZone=xe,this.outsideAngular=xe.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=xe.run(()=>new Me(Zone.current,ie.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ce.\u0275fac=function(xe){return new(xe||ce)(g.LFG(g.R0b))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();function Ve(){const ce=globalThis.\u0275AngularFireScheduler;if(!ce)throw new Error("AngularFireModule has not been provided");return ce}function Rt(ce){return ce.pipe((0,pe.QV)(Ve().outsideAngular))}function re(ce){return Ve(),function(ce){return function(xe){return(xe=xe.lift(new Se(ce.ngZone))).pipe((0,W.R)(ce.outsideAngular),(0,pe.QV)(ce.insideAngular))}}(Ve())(ce)}},4486:(ze,we,L)=>{"use strict";L.d(we,{Z:()=>fe});var g=L(3854),ee=L(6034),U=L(5452),_e=L(5601);class me{constructor(X,Oe){this._delegate=X,this.firebase=Oe,(0,U._addComponent)(X,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(X,Oe=U._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(X);return!Se.isInitialized()&&"EXPLICIT"===(null===(Me=Se.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:Oe})}_removeServiceInstance(X,Oe=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(Oe)}_addComponent(X){(0,U._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,U._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function W(){const te=function(te){const X={},Oe={__esModule:!0,initializeApp:function(Rt,Ee={}){const re=U.initializeApp(Rt,Ee);if((0,g.r3)(X,re.name))return X[re.name];const ae=new te(re,Oe);return X[re.name]=ae,ae},app:Se,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(Rt){const Ee=Rt.name,re=Ee.replace("-compat","");if(U._registerComponent(Rt)&&"PUBLIC"===Rt.type){const ae=(he=Se())=>{if("function"!=typeof he[re])throw ve.create("invalid-app-argument",{appName:Ee});return he[re]()};void 0!==Rt.serviceProps&&(0,g.ZB)(ae,Rt.serviceProps),Oe[re]=ae,te.prototype[re]=function(...he){return this._getService.bind(this,Ee).apply(this,Rt.multipleInstances?he:[])}}return"PUBLIC"===Rt.type?Oe[re]:null},removeApp:function(Rt){delete X[Rt]},useAsService:function(Rt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:U}};function Se(Rt){if(!(0,g.r3)(X,Rt=Rt||U._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Rt});return X[Rt]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function(){return Object.keys(X).map(Rt=>X[Rt])}}),Se.App=te,Oe}(me);return te.INTERNAL=Object.assign(Object.assign({},te.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(Oe){(0,g.ZB)(te,Oe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),te}(),F=new _e.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const te=self.firebase.SDK_VERSION;te&&te.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fe=k;(0,U.registerVersion)("@firebase/app-compat","0.1.3",undefined)},5452:(ze,we,L)=>{"use strict";L.r(we),L.d(we,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>vi,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>mn,_addOrOverwriteComponent:()=>oi,_apps:()=>_t,_clearComponents:()=>Pt,_components:()=>Xt,_getProvider:()=>an,_registerComponent:()=>ai,_removeServiceInstance:()=>nt,deleteApp:()=>bs,getApp:()=>Tr,getApps:()=>aa,initializeApp:()=>Ei,onLog:()=>On,registerVersion:()=>Is,setLogLevel:()=>Vr});var g=L(8239),ee=L(6034),U=L(5601),_e=L(3854);class me{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function(ct){const De=ct.getComponent();return"VERSION"===(null==De?void 0:De.type)}(Gt)){const cn=Gt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Gt=>Gt).join(" ")}}const ve="@firebase/app",W=new U.Yd("@firebase/app"),bt="[DEFAULT]",tt={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Xt=new Map;function mn(ct,De){try{ct.container.addComponent(De)}catch(Gt){W.debug(`Component ${De.name} failed to register with FirebaseApp ${ct.name}`,Gt)}}function oi(ct,De){ct.container.addOrOverwriteComponent(De)}function ai(ct){const De=ct.name;if(Xt.has(De))return W.debug(`There were multiple attempts to register component ${De}.`),!1;Xt.set(De,ct);for(const Gt of _t.values())mn(Gt,ct);return!0}function an(ct,De){return ct.container.getProvider(De)}function nt(ct,De,Gt=bt){an(ct,De).clearInstance(Gt)}function Pt(){Xt.clear()}const os=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(De,Gt,cn){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const vi="9.1.1";function Ei(ct,De={}){"object"!=typeof De&&(De={name:De});const Gt=Object.assign({name:bt,automaticDataCollectionEnabled:!1},De),cn=Gt.name;if("string"!=typeof cn||!cn)throw os.create("bad-app-name",{appName:String(cn)});const ln=_t.get(cn);if(ln){if((0,_e.vZ)(ct,ln.options)&&(0,_e.vZ)(Gt,ln.config))return ln;throw os.create("duplicate-app",{appName:cn})}const Lt=new ee.H0(cn);for(const Ke of Xt.values())Lt.addComponent(Ke);const qe=new un(ct,Gt,Lt);return _t.set(cn,qe),qe}function Tr(ct=bt){const De=_t.get(ct);if(!De)throw os.create("no-app",{appName:ct});return De}function aa(){return Array.from(_t.values())}function bs(ct){return so.apply(this,arguments)}function so(){return(so=(0,g.Z)(function*(ct){const De=ct.name;_t.has(De)&&(_t.delete(De),yield Promise.all(ct.container.getProviders().map(Gt=>Gt.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function Is(ct,De,Gt){var cn;let ln=null!==(cn=tt[ct])&&void 0!==cn?cn:ct;Gt&&(ln+=`-${Gt}`);const Lt=ln.match(/\s|\//),qe=De.match(/\s|\//);if(Lt||qe){const Ke=[`Unable to register library "${ln}" with version "${De}":`];return Lt&&Ke.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),Lt&&qe&&Ke.push("and"),qe&&Ke.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void W.warn(Ke.join(" "))}ai(new ee.wA(`${ln}-version`,()=>({library:ln,version:De}),"VERSION"))}function On(ct,De){if(null!==ct&&"function"!=typeof ct)throw os.create("invalid-log-argument");(0,U.Am)(ct,De)}function Vr(ct){(0,U.Ub)(ct)}ai(new ee.wA("platform-logger",De=>new me(De),"PRIVATE")),Is(ve,"0.7.2",undefined),Is("fire-js","")},6034:(ze,we,L)=>{"use strict";L.d(we,{wA:()=>U,H0:()=>pe});var g=L(4762),ee=L(3854),U=function(){function W(k,F,K){this.name=k,this.instanceFactory=F,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return W.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},W.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},W.prototype.setServiceProps=function(k){return this.serviceProps=k,this},W.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},W}(),_e="[DEFAULT]",me=function(){function W(k,F){this.name=k,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return W.prototype.get=function(k){var F=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(F)){var K=new ee.BH;if(this.instancesDeferred.set(F,K),this.isInitialized(F)||this.shouldAutoInitialize())try{var Z=this.getOrInitializeService({instanceIdentifier:F});Z&&K.resolve(Z)}catch(Y){}}return this.instancesDeferred.get(F).promise},W.prototype.getImmediate=function(k){var F,K=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),Z=null!==(F=null==k?void 0:k.optional)&&void 0!==F&&F;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Y){if(Z)return null;throw Y}},W.prototype.getComponent=function(){return this.component},W.prototype.setComponent=function(k){var F,K;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:_e})}catch(Se){}try{for(var Z=(0,g.XA)(this.instancesDeferred.entries()),Y=Z.next();!Y.done;Y=Z.next()){var fe=(0,g.CR)(Y.value,2),X=fe[1],Oe=this.normalizeInstanceIdentifier(fe[0]);try{var Me=this.getOrInitializeService({instanceIdentifier:Oe});X.resolve(Me)}catch(Se){}}}catch(Se){F={error:Se}}finally{try{Y&&!Y.done&&(K=Z.return)&&K.call(Z)}finally{if(F)throw F.error}}}},W.prototype.clearInstance=function(k){void 0===k&&(k=_e),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},W.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var k;return(0,g.Jh)(this,function(F){switch(F.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(k.filter(function(K){return"INTERNAL"in K}).map(function(K){return K.INTERNAL.delete()}))),(0,g.CR)(k.filter(function(K){return"_delete"in K}).map(function(K){return K._delete()}))))];case 1:return F.sent(),[2]}})})},W.prototype.isComponentSet=function(){return null!=this.component},W.prototype.isInitialized=function(k){return void 0===k&&(k=_e),this.instances.has(k)},W.prototype.getOptions=function(k){return void 0===k&&(k=_e),this.instancesOptions.get(k)||{}},W.prototype.initialize=function(k){var F,K;void 0===k&&(k={});var Z=k.options,Y=void 0===Z?{}:Z,fe=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(fe))throw Error(this.name+"("+fe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var te=this.getOrInitializeService({instanceIdentifier:fe,options:Y});try{for(var X=(0,g.XA)(this.instancesDeferred.entries()),Oe=X.next();!Oe.done;Oe=X.next()){var Me=(0,g.CR)(Oe.value,2),Le=Me[1];fe===this.normalizeInstanceIdentifier(Me[0])&&Le.resolve(te)}}catch(ke){F={error:ke}}finally{try{Oe&&!Oe.done&&(K=X.return)&&K.call(X)}finally{if(F)throw F.error}}return te},W.prototype.onInit=function(k,F){var K,Z=this.normalizeInstanceIdentifier(F),Y=null!==(K=this.onInitCallbacks.get(Z))&&void 0!==K?K:new Set;Y.add(k),this.onInitCallbacks.set(Z,Y);var fe=this.instances.get(Z);return fe&&k(fe,Z),function(){Y.delete(k)}},W.prototype.invokeOnInitCallbacks=function(k,F){var K,Z,Y=this.onInitCallbacks.get(F);if(Y)try{for(var fe=(0,g.XA)(Y),te=fe.next();!te.done;te=fe.next()){var X=te.value;try{X(k,F)}catch(Oe){}}}catch(Oe){K={error:Oe}}finally{try{te&&!te.done&&(Z=fe.return)&&Z.call(fe)}finally{if(K)throw K.error}}},W.prototype.getOrInitializeService=function(k){var F=k.instanceIdentifier,K=k.options,Z=void 0===K?{}:K,Y=this.instances.get(F);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:ie(F),options:Z}),this.instances.set(F,Y),this.instancesOptions.set(F,Z),this.invokeOnInitCallbacks(Y,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Y)}catch(fe){}return Y||null},W.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=_e),this.component?this.component.multipleInstances?k:_e:k},W.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},W}();function ie(W){return W===_e?void 0:W}var pe=function(){function W(k){this.name=k,this.providers=new Map}return W.prototype.addComponent=function(k){var F=this.getProvider(k.name);if(F.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);F.setComponent(k)},W.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},W.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var F=new me(k,this);return this.providers.set(k,F),F},W.prototype.getProviders=function(){return Array.from(this.providers.values())},W}()},5601:(ze,we,L)=>{"use strict";L.d(we,{in:()=>ee,Yd:()=>ve,Ub:()=>pe,Am:()=>W});const g=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const U={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},_e=ee.INFO,me={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(k,F,...K)=>{if(F<k.logLevel)return;const Z=(new Date).toISOString(),Y=me[F];if(!Y)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[Y](`[${Z}]  ${k.name}:`,...K)};class ve{constructor(F){this.name=F,this._logLevel=_e,this._logHandler=ie,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in ee))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?U[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...F),this._logHandler(this,ee.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...F),this._logHandler(this,ee.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...F),this._logHandler(this,ee.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...F),this._logHandler(this,ee.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...F),this._logHandler(this,ee.ERROR,...F)}}function pe(k){g.forEach(F=>{F.setLogLevel(k)})}function W(k,F){for(const K of g){let Z=null;F&&F.level&&(Z=U[F.level]),K.userLogHandler=null===k?null:(Y,fe,...te)=>{const X=te.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch(Me){return null}}).filter(Oe=>Oe).join(" ");fe>=(null!=Z?Z:Y.logLevel)&&k({level:ee[fe].toLowerCase(),message:X,args:te,type:Y.name})}}}},3854:(ze,we,L)=>{"use strict";L.d(we,{BH:()=>Z,LL:()=>Q,ZR:()=>ce,tV:()=>W,r3:()=>an,Sg:()=>Y,ne:()=>bs,vZ:()=>os,ZB:()=>F,pd:()=>Tr,m9:()=>ao,z$:()=>fe,jU:()=>Oe,ru:()=>Me,d:()=>Le,xb:()=>Pt,w1:()=>Ve,hl:()=>Ee,uI:()=>te,UG:()=>X,b$:()=>Se,G6:()=>Rt,Mn:()=>ke,xO:()=>vi,zd:()=>Ei});const _e=function(H){const $=[];let B=0;for(let Ce=0;Ce<H.length;Ce++){let ne=H.charCodeAt(Ce);ne<128?$[B++]=ne:ne<2048?($[B++]=ne>>6|192,$[B++]=63&ne|128):55296==(64512&ne)&&Ce+1<H.length&&56320==(64512&H.charCodeAt(Ce+1))?(ne=65536+((1023&ne)<<10)+(1023&H.charCodeAt(++Ce)),$[B++]=ne>>18|240,$[B++]=ne>>12&63|128,$[B++]=ne>>6&63|128,$[B++]=63&ne|128):($[B++]=ne>>12|224,$[B++]=ne>>6&63|128,$[B++]=63&ne|128)}return $},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,$){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ne=0;ne<H.length;ne+=3){const He=H[ne],je=ne+1<H.length,Vt=je?H[ne+1]:0,dn=ne+2<H.length,Kt=dn?H[ne+2]:0;let Yt=(15&Vt)<<2|Kt>>6,tr=63&Kt;dn||(tr=64,je||(Yt=64)),Ce.push(B[He>>2],B[(3&He)<<4|Vt>>4],B[Yt],B[tr])}return Ce.join("")},encodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(H):this.encodeByteArray(_e(H),$)},decodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(H):function(H){const $=[];let B=0,Ce=0;for(;B<H.length;){const ne=H[B++];if(ne<128)$[Ce++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const He=H[B++];$[Ce++]=String.fromCharCode((31&ne)<<6|63&He)}else if(ne>239&&ne<365){const dn=((7&ne)<<18|(63&H[B++])<<12|(63&H[B++])<<6|63&H[B++])-65536;$[Ce++]=String.fromCharCode(55296+(dn>>10)),$[Ce++]=String.fromCharCode(56320+(1023&dn))}else{const He=H[B++],je=H[B++];$[Ce++]=String.fromCharCode((15&ne)<<12|(63&He)<<6|63&je)}}return $.join("")}(this.decodeStringToByteArray(H,$))},decodeStringToByteArray(H,$){this.init_();const B=$?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ne=0;ne<H.length;){const He=B[H.charAt(ne++)],Vt=ne<H.length?B[H.charAt(ne)]:0;++ne;const Kt=ne<H.length?B[H.charAt(ne)]:64;++ne;const At=ne<H.length?B[H.charAt(ne)]:64;if(++ne,null==He||null==Vt||null==Kt||null==At)throw Error();Ce.push(He<<2|Vt>>4),64!==Kt&&(Ce.push(Vt<<4&240|Kt>>2),64!==At&&Ce.push(Kt<<6&192|At))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},pe=function(H){return function(H){const $=_e(H);return ie.encodeByteArray($,!0)}(H).replace(/\./g,"")},W=function(H){try{return ie.decodeString(H,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function F(H,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return $}for(const B in $)!$.hasOwnProperty(B)||!K(B)||(H[B]=F(H[B],$[B]));return H}function K(H){return"__proto__"!==H}class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,B)=>{this.resolve=$,this.reject=B})}wrapCallback($){return(B,Ce)=>{B?this.reject(B):this.resolve(Ce),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(B):$(B,Ce))}}}function Y(H,$){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=$||"demo-project",ne=H.iat||0,He=H.sub||H.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ne,exp:ne+3600,auth_time:ne,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},H);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(je)),""].join(".")}function fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function X(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Me(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return fe().indexOf("Electron/")>=0}function Ve(){const H=fe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ke(){return fe().indexOf("MSAppHost/")>=0}function Rt(){return!X()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){return"object"==typeof indexedDB}class ce extends Error{constructor($,B,Ce){super(B),this.code=$,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor($,B,Ce){this.service=$,this.serviceName=B,this.errors=Ce}create($,...B){const Ce=B[0]||{},ne=`${this.service}/${$}`,He=this.errors[$],je=He?function(H,$){return H.replace(We,(B,Ce)=>{const ne=$[Ce];return null!=ne?String(ne):`<${Ce}?>`})}(He,Ce):"Error";return new ce(ne,`${this.serviceName}: ${je} (${ne}).`,Ce)}}const We=/\{\$([^}]+)}/g;function an(H,$){return Object.prototype.hasOwnProperty.call(H,$)}function Pt(H){for(const $ in H)if(Object.prototype.hasOwnProperty.call(H,$))return!1;return!0}function os(H,$){if(H===$)return!0;const B=Object.keys(H),Ce=Object.keys($);for(const ne of B){if(!Ce.includes(ne))return!1;const He=H[ne],je=$[ne];if(un(He)&&un(je)){if(!os(He,je))return!1}else if(He!==je)return!1}for(const ne of Ce)if(!B.includes(ne))return!1;return!0}function un(H){return null!==H&&"object"==typeof H}function vi(H){const $=[];for(const[B,Ce]of Object.entries(H))Array.isArray(Ce)?Ce.forEach(ne=>{$.push(encodeURIComponent(B)+"="+encodeURIComponent(ne))}):$.push(encodeURIComponent(B)+"="+encodeURIComponent(Ce));return $.length?"&"+$.join("&"):""}function Ei(H){const $={};return H.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ne,He]=Ce.split("=");$[decodeURIComponent(ne)]=decodeURIComponent(He)}}),$}function Tr(H){const $=H.indexOf("?");if(!$)return"";const B=H.indexOf("#",$);return H.substring($,B>0?B:void 0)}function bs(H,$){const B=new so(H,$);return B.subscribe.bind(B)}class so{constructor($,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{$(this)}).catch(Ce=>{this.error(Ce)})}next($){this.forEachObserver(B=>{B.next($)})}error($){this.forEachObserver(B=>{B.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,B,Ce){let ne;if(void 0===$&&void 0===B&&void 0===Ce)throw new Error("Missing Observer.");ne=function(H,$){if("object"!=typeof H||null===H)return!1;for(const B of["next","error","complete"])if(B in H&&"function"==typeof H[B])return!0;return!1}($)?$:{next:$,error:B,complete:Ce},void 0===ne.next&&(ne.next=Vr),void 0===ne.error&&(ne.error=Vr),void 0===ne.complete&&(ne.complete=Vr);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(je){}}),this.observers.push(ne),He}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,$)}sendOne($,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{B(this.observers[$])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vr(){}function ao(H){return H&&H._delegate?H._delegate:H}},7841:(ze,we,L)=>{"use strict";L.d(we,{Z:()=>g.Z});var g=L(4486);g.Z.registerVersion("firebase","9.1.1","app-compat")},5128:(ze,we,L)=>{"use strict";L.r(we);var g=L(8239),ee=L(4486),U=L(3854),_e=L(5452),me=L(4762),ie=L(5601),ve=L(6034);const fe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},te=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},X=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new ie.Yd("@firebase/auth");function Se(C,...m){Me.logLevel<=ie.in.ERROR&&Me.error(`Auth (${_e.SDK_VERSION}): ${C}`,...m)}function Le(C,...m){throw Rt(C,...m)}function Ve(C,...m){return Rt(C,...m)}function ke(C,m,_){const b=Object.assign(Object.assign({},te()),{[m]:_});return new U.LL("auth","Firebase",b).create(m,{appName:C.name})}function yt(C,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Le(C,"argument-error"),ke(C,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rt(C,...m){if("string"!=typeof C){const _=m[0],b=[...m.slice(1)];return b[0]&&(b[0].appName=C.name),C._errorFactory.create(_,...b)}return X.create(C,...m)}function Ee(C,m,..._){if(!C)throw Rt(m,..._)}function re(C){const m="INTERNAL ASSERTION FAILED: "+C;throw Se(m),new Error(m)}function ae(C,m){C||re(m)}const he=new Map;function ue(C){ae(C instanceof Function,"Expected a class definition");let m=he.get(C);return m?(ae(m instanceof C,"Instance stored in cache mismatched with class"),m):(m=new C,he.set(C,m),m)}function xe(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function We(){return"http:"===bt()||"https:"===bt()}function bt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Xt{constructor(m,_){this.shortDelay=m,this.longDelay=_,ae(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function mn(C,m){ae(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class oi{static initialize(m,_,b){this.fetchImpl=m,_&&(this.headersImpl=_),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ai={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new Xt(3e4,6e4);function nt(C,m){return C.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:C.tenantId}):m}function Pt(C,m,_,b){return io.apply(this,arguments)}function io(){return(io=(0,g.Z)(function*(C,m,_,b,x={}){return os(C,x,()=>{let M={},q={};b&&("GET"===m?q=b:M={body:JSON.stringify(b)});const ge=(0,U.xO)(Object.assign({key:C.config.apiKey},q)).slice(1),Pe=new(oi.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Pe.set("X-Firebase-Locale",C.languageCode),oi.fetch()(Tr(C,C.config.apiHost,_,ge),Object.assign({method:m,headers:Pe,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function os(C,m,_){return un.apply(this,arguments)}function un(){return(un=(0,g.Z)(function*(C,m,_){C._canInitEmulator=!1;const b=Object.assign(Object.assign({},ai),m);try{const x=new aa(C),M=yield Promise.race([_(),x.promise]);x.clearNetworkTimeout();const q=yield M.json();if("needConfirmation"in q)throw bs(C,"account-exists-with-different-credential",q);if(M.ok&&!("errorMessage"in q))return q;{const ge=M.ok?q.errorMessage:q.error.message,[Pe,Ge]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw bs(C,"credential-already-in-use",q);if("EMAIL_EXISTS"===Pe)throw bs(C,"email-already-in-use",q);const st=b[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw ke(C,st,Ge);Le(C,st)}}catch(x){if(x instanceof U.ZR)throw x;Le(C,"network-request-failed")}})).apply(this,arguments)}function vi(C,m,_,b){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,g.Z)(function*(C,m,_,b,x={}){const M=yield Pt(C,m,_,b,x);return"mfaPendingCredential"in M&&Le(C,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function Tr(C,m,_,b){const x=`${m}${_}?${b}`;return C.config.emulator?mn(C.config,x):`${C.config.apiScheme}://${x}`}class aa{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,b)=>{this.timer=setTimeout(()=>b(Ve(this.auth,"timeout")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bs(C,m,_){const b={appName:C.name};_.email&&(b.email=_.email),_.phoneNumber&&(b.phoneNumber=_.phoneNumber);const x=Ve(C,m,b);return x.customData._tokenResponse=_,x}function Is(){return(Is=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function On(C,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function lu(C,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function De(C){if(C)try{const m=new Date(Number(C));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function ln(){return(ln=(0,g.Z)(function*(C,m=!1){const _=(0,U.m9)(C),b=yield _.getIdToken(m),x=qe(b);Ee(x&&x.exp&&x.auth_time&&x.iat,_.auth,"internal-error");const M="object"==typeof x.firebase?x.firebase:void 0,q=null==M?void 0:M.sign_in_provider;return{claims:x,token:b,authTime:De(Lt(x.auth_time)),issuedAtTime:De(Lt(x.iat)),expirationTime:De(Lt(x.exp)),signInProvider:q||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Lt(C){return 1e3*Number(C)}function qe(C){const[m,_,b]=C.split(".");if(void 0===m||void 0===_||void 0===b)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,U.tV)(_);return x?JSON.parse(x):(Se("Failed to decode base64 JWT payload"),null)}catch(x){return Se("Caught error parsing JWT payload as JSON",x),null}}function yn(C,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,g.Z)(function*(C,m,_=!1){if(_)return m;try{return yield m}catch(b){throw b instanceof U.ZR&&as(b)&&C.auth.currentUser===C&&(yield C.auth.signOut()),b}})).apply(this,arguments)}function as({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class _n{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const b=this.getInterval(m);this.timerId=setTimeout((0,g.Z)(function*(){yield _.iteration()}),b)}iteration(){var m=this;return(0,g.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class Sr{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=De(this.lastLoginAt),this.creationTime=De(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ao(C){return H.apply(this,arguments)}function H(){return(H=(0,g.Z)(function*(C){var m;const _=C.auth,b=yield C.getIdToken(),x=yield yn(C,lu(_,{idToken:b}));Ee(null==x?void 0:x.users.length,_,"internal-error");const M=x.users[0];C._notifyReloadListener(M);const q=(null===(m=M.providerUserInfo)||void 0===m?void 0:m.length)?ne(M.providerUserInfo):[],ge=Ce(C.providerData,q),st=!!C.isAnonymous&&!(C.email&&M.passwordHash||(null==ge?void 0:ge.length)),Je={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ge,metadata:new Sr(M.createdAt,M.lastLoginAt),isAnonymous:st};Object.assign(C,Je)})).apply(this,arguments)}function B(){return(B=(0,g.Z)(function*(C){const m=(0,U.m9)(C);yield ao(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ce(C,m){return[...C.filter(b=>!m.some(x=>x.providerId===b.providerId)),...m]}function ne(C){return C.map(m=>{var{providerId:_}=m,b=(0,me._T)(m,["providerId"]);return{providerId:_,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function je(){return(je=(0,g.Z)(function*(C,m){const _=yield os(C,{},()=>{const b=(0,U.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:x,apiKey:M}=C.config,q=Tr(C,x,"/v1/token",`key=${M}`);return oi.fetch()(q,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ee(m.idToken,"internal-error"),Ee(void 0!==m.idToken,"internal-error"),Ee(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(C){const m=qe(C);return Ee(m,"internal-error"),Ee(void 0!==m.exp,"internal-error"),Ee(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var b=this;return(0,g.Z)(function*(){return Ee(!b.accessToken||b.refreshToken,m,"user-token-expired"),_||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(m,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var b=this;return(0,g.Z)(function*(){const{accessToken:x,refreshToken:M,expiresIn:q}=yield function(C,m){return je.apply(this,arguments)}(m,_);b.updateTokensAndExpiration(x,M,Number(q))})()}updateTokensAndExpiration(m,_,b){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(m,_){const{refreshToken:b,accessToken:x,expirationTime:M}=_,q=new Vt;return b&&(Ee("string"==typeof b,"internal-error",{appName:m}),q.refreshToken=b),x&&(Ee("string"==typeof x,"internal-error",{appName:m}),q.accessToken=x),M&&(Ee("number"==typeof M,"internal-error",{appName:m}),q.expirationTime=M),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return re("not implemented")}}function dn(C,m){Ee("string"==typeof C||void 0===C,"internal-error",{appName:m})}class Kt{constructor(m){var{uid:_,auth:b,stsTokenManager:x}=m,M=(0,me._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new _n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.metadata=new Sr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,g.Z)(function*(){const b=yield yn(_,_.stsTokenManager.getToken(_.auth,m));return Ee(b,_.auth,"internal-error"),_.accessToken!==b&&(_.accessToken=b,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),b})()}getIdTokenResult(m){return function(C){return ln.apply(this,arguments)}(this,m)}reload(){return function(C){return B.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ee(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Kt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var b=this;return(0,g.Z)(function*(){let x=!1;m.idToken&&m.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(m),x=!0),_&&(yield ao(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var m=this;return(0,g.Z)(function*(){const _=yield m.getIdToken();return yield yn(m,function(C,m){return Is.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var b,x,M,q,ge,Pe,Ge,st;const Je=null!==(b=_.displayName)&&void 0!==b?b:void 0,wn=null!==(x=_.email)&&void 0!==x?x:void 0,Zt=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,ic=null!==(q=_.photoURL)&&void 0!==q?q:void 0,Yg=null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,Mo=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,lf=null!==(Ge=_.createdAt)&&void 0!==Ge?Ge:void 0,ev=null!==(st=_.lastLoginAt)&&void 0!==st?st:void 0,{uid:Bl,emailVerified:Qg,isAnonymous:Jg,providerData:df,stsTokenManager:Oo}=_;Ee(Bl&&Oo,m,"internal-error");const Ki=Vt.fromJSON(this.name,Oo);Ee("string"==typeof Bl,m,"internal-error"),dn(Je,m.name),dn(wn,m.name),Ee("boolean"==typeof Qg,m,"internal-error"),Ee("boolean"==typeof Jg,m,"internal-error"),dn(Zt,m.name),dn(ic,m.name),dn(Yg,m.name),dn(Mo,m.name),dn(lf,m.name),dn(ev,m.name);const Xg=new Kt({uid:Bl,auth:m,email:wn,emailVerified:Qg,displayName:Je,isAnonymous:Jg,photoURL:ic,phoneNumber:Zt,tenantId:Yg,stsTokenManager:Ki,createdAt:lf,lastLoginAt:ev});return df&&Array.isArray(df)&&(Xg.providerData=df.map(tv=>Object.assign({},tv))),Mo&&(Xg._redirectEventId=Mo),Xg}static _fromIdTokenResponse(m,_,b=!1){return(0,g.Z)(function*(){const x=new Vt;x.updateFromServerResponse(_);const M=new Kt({uid:_.localId,auth:m,stsTokenManager:x,isAnonymous:b});return yield ao(M),M})()}}const At=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(_,b){var x=this;return(0,g.Z)(function*(){x.storage[_]=b})()}_get(_){var b=this;return(0,g.Z)(function*(){const x=b.storage[_];return void 0===x?null:x})()}_remove(_){var b=this;return(0,g.Z)(function*(){delete b.storage[_]})()}_addListener(_,b){}_removeListener(_,b){}}return C.type="NONE",C})();function Yt(C,m,_){return`firebase:${C}:${m}:${_}`}class tr{constructor(m,_,b){this.persistence=m,this.auth=_,this.userKey=b;const{config:x,name:M}=this.auth;this.fullUserKey=Yt(this.userKey,x.apiKey,M),this.fullPersistenceKey=Yt("persistence",x.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,g.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Kt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,g.Z)(function*(){if(_.persistence===m)return;const b=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,b?_.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,b="authUser"){return(0,g.Z)(function*(){if(!_.length)return new tr(ue(At),m,b);const x=(yield Promise.all(_.map(function(){var Ge=(0,g.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let M=x[0]||ue(At);const q=Yt(b,m.config.apiKey,m.name);let ge=null;for(const Ge of _)try{const st=yield Ge._get(q);if(st){const Je=Kt._fromJSON(m,st);Ge!==M&&(ge=Je),M=Ge;break}}catch(st){}const Pe=x.filter(Ge=>Ge._shouldAllowMigration);return M._shouldAllowMigration&&Pe.length?(M=Pe[0],ge&&(yield M._set(q,ge.toJSON())),yield Promise.all(_.map(function(){var Ge=(0,g.Z)(function*(st){if(st!==M)try{yield st._remove(q)}catch(Je){}});return function(st){return Ge.apply(this,arguments)}}())),new tr(M,m,b)):new tr(M,m,b)})()}}function Kc(C){const m=C.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Qc(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Yc(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(du(m))return"Blackberry";if(ca(m))return"Webos";if(hh(m))return"Safari";if((m.includes("chrome/")||fh(m))&&!m.includes("edge/"))return"Chrome";if(ua(m))return"Android";{const b=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Yc(C=(0,U.z$)()){return/firefox\//i.test(C)}function hh(C=(0,U.z$)()){const m=C.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fh(C=(0,U.z$)()){return/crios\//i.test(C)}function Qc(C=(0,U.z$)()){return/iemobile/i.test(C)}function ua(C=(0,U.z$)()){return/android/i.test(C)}function du(C=(0,U.z$)()){return/blackberry/i.test(C)}function ca(C=(0,U.z$)()){return/webos/i.test(C)}function wi(C=(0,U.z$)()){return/iphone|ipad|ipod/i.test(C)}function ji(C=(0,U.z$)()){return wi(C)||ua(C)||ca(C)||du(C)||/windows phone/i.test(C)||Qc(C)}function gr(C,m=[]){let _;switch(C){case"Browser":_=Kc((0,U.z$)());break;case"Worker":_=`${Kc((0,U.z$)())}-${C}`;break;default:_=C}const b=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${_e.SDK_VERSION}/${b}`}class w_{constructor(m,_){this.app=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ue(this),this.idTokenSubscription=new Ue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(m,_){var b=this;return _&&(this._popupRedirectResolver=ue(_)),this._initializationPromise=this.queue((0,g.Z)(function*(){var x;b._deleted||(b.persistenceManager=yield tr.create(b,m),!b._deleted&&((null===(x=b._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(_),!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,g.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,g.Z)(function*(){var b;let x=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const M=null===(b=_.redirectUser)||void 0===b?void 0:b._redirectEventId,q=null==x?void 0:x._redirectEventId,ge=yield _.tryRedirectSignIn(m);(!M||M===q)&&(null==ge?void 0:ge.user)&&(x=ge.user)}return x?x._redirectEventId?(Ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)):_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,g.Z)(function*(){let b=null;try{b=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(x){yield _._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,g.Z)(function*(){try{yield ao(m)}catch(b){if("auth/network-request-failed"!==b.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var m=this;return(0,g.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,g.Z)(function*(){const b=m?(0,U.m9)(m):null;return b&&Ee(b.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(b&&b._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,g.Z)(function*(){if(!_._deleted)return m&&Ee(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,g.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,g.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,g.Z)(function*(){yield _.assertedPersistence.setPersistence(ue(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new U.LL("auth","Firebase",m())}onAuthStateChanged(m,_,b){return this.registerStateListener(this.authStateSubscription,m,_,b)}onIdTokenChanged(m,_,b){return this.registerStateListener(this.idTokenSubscription,m,_,b)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var b=this;return(0,g.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(_);return null===m?x.removeCurrentUser():x.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,g.Z)(function*(){if(!_.redirectPersistenceManager){const b=m&&ue(m)||_._popupRedirectResolver;Ee(b,_,"argument-error"),_.redirectPersistenceManager=yield tr.create(_,[ue(b._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,g.Z)(function*(){var b,x;return _._isInitialized&&(yield _.queue((0,g.Z)(function*(){}))),(null===(b=_._currentUser)||void 0===b?void 0:b._redirectEventId)===m?_._currentUser:(null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,g.Z)(function*(){if(m===_.currentUser)return _.queue((0,g.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,b,x){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(q,this,"internal-error"),q.then(()=>M(this.currentUser)),"function"==typeof _?m.addObserver(_,b,x):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,g.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Bt(C){return(0,U.m9)(C)}class Ue{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,U.ne)(_=>this.observer=_)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qt(C){const m=C.indexOf(":");return m<0?"":C.substr(0,m+1)}function Ds(C){if(!C)return null;const m=Number(C);return isNaN(m)?null:m}class mr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return re("not implemented")}_getIdTokenResponse(m){return re("not implemented")}_linkToIdToken(m,_){return re("not implemented")}_getReauthenticationResolver(m){return re("not implemented")}}function hn(C,m){return co.apply(this,arguments)}function co(){return(co=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:resetPassword",nt(C,m))})).apply(this,arguments)}function la(C,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Jc(C,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",nt(C,m))})).apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signInWithPassword",nt(C,m))})).apply(this,arguments)}function Un(C,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:sendOobCode",nt(C,m))})).apply(this,arguments)}function us(C,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(C,m){return Un(C,m)})).apply(this,arguments)}function qt(C,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,g.Z)(function*(C,m){return Un(C,m)})).apply(this,arguments)}function gh(C,m){return da.apply(this,arguments)}function da(){return(da=(0,g.Z)(function*(C,m){return Un(C,m)})).apply(this,arguments)}function mh(C,m){return ha.apply(this,arguments)}function ha(){return(ha=(0,g.Z)(function*(C,m){return Un(C,m)})).apply(this,arguments)}function cs(){return(cs=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signInWithEmailLink",nt(C,m))})).apply(this,arguments)}function yh(){return(yh=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signInWithEmailLink",nt(C,m))})).apply(this,arguments)}class Hr extends mr{constructor(m,_,b,x=null){super("password",b),this._email=m,this._password=_,this._tenantId=x}static _fromEmailAndPassword(m,_){return new Hr(m,_,"password")}static _fromEmailAndCode(m,_,b=null){return new Hr(m,_,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,g.Z)(function*(){switch(_.signInMethod){case"password":return function(C,m){return Ss.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(C,m){return cs.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Le(m,"internal-error")}})()}_linkToIdToken(m,_){var b=this;return(0,g.Z)(function*(){switch(b.signInMethod){case"password":return la(m,{idToken:_,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(C,m){return yh.apply(this,arguments)}(m,{idToken:_,email:b._email,oobCode:b._password});default:Le(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function jt(C,m){return pu.apply(this,arguments)}function pu(){return(pu=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signInWithIdp",nt(C,m))})).apply(this,arguments)}class $r extends mr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new $r(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Le("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:x}=_,M=(0,me._T)(_,["providerId","signInMethod"]);if(!b||!x)return null;const q=new $r(b,x);return Object.assign(q,M),q}_getIdTokenResponse(m){return jt(m,this.buildRequest())}_linkToIdToken(m,_){const b=this.buildRequest();return b.idToken=_,jt(m,b)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,jt(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,U.xO)(_)}return m}}function Ci(C,m){return _h.apply(this,arguments)}function _h(){return(_h=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:sendVerificationCode",nt(C,m))})).apply(this,arguments)}function vh(){return(vh=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signInWithPhoneNumber",nt(C,m))})).apply(this,arguments)}function eg(){return(eg=(0,g.Z)(function*(C,m){const _=yield vi(C,"POST","/v1/accounts:signInWithPhoneNumber",nt(C,m));if(_.temporaryProof)throw bs(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const pC={USER_NOT_FOUND:"user-not-found"};function tg(){return(tg=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signInWithPhoneNumber",nt(C,Object.assign(Object.assign({},m),{operation:"REAUTH"})),pC)})).apply(this,arguments)}class fa extends mr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new fa({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new fa({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function(C,m){return vh.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function(C,m){return eg.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(C,m){return tg.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:b,verificationCode:x}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:b,code:x}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:b,phoneNumber:x,temporaryProof:M}=m;return b||_||x||M?new fa({verificationId:_,verificationCode:b,phoneNumber:x,temporaryProof:M}):null}}class el{constructor(m){var _,b,x,M,q,ge;const Pe=(0,U.zd)((0,U.pd)(m)),Ge=null!==(_=Pe.apiKey)&&void 0!==_?_:null,st=null!==(b=Pe.oobCode)&&void 0!==b?b:null,Je=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Pe.mode)&&void 0!==x?x:null);Ee(Ge&&st&&Je,"argument-error"),this.apiKey=Ge,this.operation=Je,this.code=st,this.continueUrl=null!==(M=Pe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(q=Pe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ge=Pe.tenantId)&&void 0!==ge?ge:null}static parseLink(m){const _=function(C){const m=(0,U.zd)((0,U.pd)(C)).link,_=m?(0,U.zd)((0,U.pd)(m)).deep_link_id:null,b=(0,U.zd)((0,U.pd)(C)).deep_link_id;return(b?(0,U.zd)((0,U.pd)(b)).link:null)||b||_||m||C}(m);try{return new el(_)}catch(b){return null}}}let ng=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,b){return Hr._fromEmailAndPassword(_,b)}static credentialWithLink(_,b){const x=el.parseLink(b);return Ee(x,"argument-error"),Hr._fromEmailAndCode(_,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ho{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class gu extends ho{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class fo extends gu{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Ee("providerId"in _&&"signInMethod"in _,"argument-error"),$r._fromParams(_)}credential(m){return this._credential(m)}_credential(m){return Ee(m.idToken||m.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return fo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return fo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:M,nonce:q,providerId:ge}=m;if(!b&&!x&&!_&&!M||!ge)return null;try{return new fo(ge)._credential({idToken:_,accessToken:b,rawNonce:q,pendingToken:M})}catch(Pe){return null}}}let Eh=(()=>{class C extends gu{constructor(){super("facebook.com")}static credential(_){return $r._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(b){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),wh=(()=>{class C extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(_,b){return $r._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:b})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:x}=_;if(!b&&!x)return null;try{return C.credential(b,x)}catch(M){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ch=(()=>{class C extends gu{constructor(){super("github.com")}static credential(_){return $r._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(b){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class pa extends mr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return jt(m,this.buildRequest())}_linkToIdToken(m,_){const b=this.buildRequest();return b.idToken=_,jt(m,b)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,jt(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:x,pendingToken:M}=_;return b&&x&&M&&b===x?new pa(b,M):null}static _create(m,_){return new pa(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let bh=(()=>{class C extends gu{constructor(){super("twitter.com")}static credential(_,b){return $r._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:b})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=_;if(!b||!x)return null;try{return C.credential(b,x)}catch(M){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ih(C,m){return mu.apply(this,arguments)}function mu(){return(mu=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signUp",nt(C,m))})).apply(this,arguments)}class bi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,b,x=!1){return(0,g.Z)(function*(){const M=yield Kt._fromIdTokenResponse(m,b,x),q=I_(b);return new bi({user:M,providerId:q,_tokenResponse:b,operationType:_})})()}static _forOperation(m,_,b){return(0,g.Z)(function*(){yield m._updateTokensIfNecessary(b,!0);const x=I_(b);return new bi({user:m,providerId:x,_tokenResponse:b,operationType:_})})()}}function I_(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function yu(){return(yu=(0,g.Z)(function*(C){var m;const _=Bt(C);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new bi({user:_.currentUser,providerId:null,operationType:"signIn"});const b=yield Ih(_,{returnSecureToken:!0}),x=yield bi._fromIdTokenResponse(_,"signIn",b,!0);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class tl extends U.ZR{constructor(m,_,b,x){var M;super(_.code,_.message),this.operationType=b,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,tl.prototype),this.appName=m.name,this.code=_.code,this.tenantId=null!==(M=m.tenantId)&&void 0!==M?M:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(m,_,b,x){return new tl(m,_,b,x)}}function _u(C,m,_,b){return("reauthenticate"===m?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?tl._fromErrorAndOperation(C,M,m,b):M})}function rg(C){return new Set(C.map(({providerId:m})=>m).filter(m=>!!m))}function nl(){return(nl=(0,g.Z)(function*(C,m){const _=(0,U.m9)(C);yield As(!0,_,m);const{providerUserInfo:b}=yield On(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),x=rg(b||[]);return _.providerData=_.providerData.filter(M=>x.has(M.providerId)),x.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function rl(C,m){return po.apply(this,arguments)}function po(){return(po=(0,g.Z)(function*(C,m,_=!1){const b=yield yn(C,m._linkToIdToken(C.auth,yield C.getIdToken()),_);return bi._forOperation(C,"link",b)})).apply(this,arguments)}function As(C,m,_){return vu.apply(this,arguments)}function vu(){return(vu=(0,g.Z)(function*(C,m,_){yield ao(m);const x=!1===C?"provider-already-linked":"no-such-provider";Ee(rg(m.providerData).has(_)===C,m.auth,x)})).apply(this,arguments)}function il(C,m){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(C,m,_=!1){const{auth:b}=C,x="reauthenticate";try{const M=yield yn(C,_u(b,x,m,C),_);Ee(M.idToken,b,"internal-error");const q=qe(M.idToken);Ee(q,b,"internal-error");const{sub:ge}=q;return Ee(C.uid===ge,b,"user-mismatch"),bi._forOperation(C,x,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Le(b,"user-mismatch"),M}})).apply(this,arguments)}function ig(C,m){return sl.apply(this,arguments)}function sl(){return(sl=(0,g.Z)(function*(C,m,_=!1){const b="signIn",x=yield _u(C,b,m),M=yield bi._fromIdTokenResponse(C,b,x);return _||(yield C._updateCurrentUser(M.user)),M})).apply(this,arguments)}function ol(C,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(C,m){return ig(Bt(C),m)})).apply(this,arguments)}function sg(C,m){return og.apply(this,arguments)}function og(){return(og=(0,g.Z)(function*(C,m){const _=(0,U.m9)(C);return yield As(!1,_,m.providerId),rl(_,m)})).apply(this,arguments)}function Eu(C,m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*(C,m){return il((0,U.m9)(C),m)})).apply(this,arguments)}function EC(C,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,g.Z)(function*(C,m){return vi(C,"POST","/v1/accounts:signInWithCustomToken",nt(C,m))})).apply(this,arguments)}function yr(){return(yr=(0,g.Z)(function*(C,m){const _=Bt(C),b=yield EC(_,{token:m,returnSecureToken:!0}),x=yield bi._fromIdTokenResponse(_,"signIn",b);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Cu{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?bu._fromServerResponse(m,_):Le(m,"internal-error")}}class bu extends Cu{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new bu(_)}}function Iu(C,m,_){var b;Ee((null===(b=_.url)||void 0===b?void 0:b.length)>0,C,"invalid-continue-uri"),Ee(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ee(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Ee(_.android.packageName.length>0,C,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function al(){return(al=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C),x={requestType:"PASSWORD_RESET",email:m};_&&Iu(b,x,_),yield qt(b,x)})).apply(this,arguments)}function at(){return(at=(0,g.Z)(function*(C,m,_){yield hn((0,U.m9)(C),{oobCode:m,newPassword:_})})).apply(this,arguments)}function go(){return(go=(0,g.Z)(function*(C,m){yield Jc((0,U.m9)(C),{oobCode:m})})).apply(this,arguments)}function Du(C,m){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,g.Z)(function*(C,m){const _=(0,U.m9)(C),b=yield hn(_,{oobCode:m}),x=b.requestType;switch(Ee(x,_,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(b.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(b.mfaInfo,_,"internal-error");default:Ee(b.email,_,"internal-error")}let M=null;return b.mfaInfo&&(M=Cu._fromServerResponse(Bt(_),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:x}})).apply(this,arguments)}function mo(){return(mo=(0,g.Z)(function*(C,m){const{data:_}=yield Du((0,U.m9)(C),m);return _.email})).apply(this,arguments)}function be(){return(be=(0,g.Z)(function*(C,m,_){const b=Bt(C),x=yield Ih(b,{returnSecureToken:!0,email:m,password:_}),M=yield bi._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}function vn(){return(vn=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C),x={requestType:"EMAIL_SIGNIN",email:m};Ee(_.handleCodeInApp,b,"argument-error"),_&&Iu(b,x,_),yield gh(b,x)})).apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C),x=ng.credentialWithLink(m,_||xe());return Ee(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),ol(b,x)})).apply(this,arguments)}function Ah(C,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:createAuthUri",nt(C,m))})).apply(this,arguments)}function cg(){return(cg=(0,g.Z)(function*(C,m){const b={identifier:m,continueUri:We()?xe():"http://localhost"},{signinMethods:x}=yield Ah((0,U.m9)(C),b);return x||[]})).apply(this,arguments)}function Ms(){return(Ms=(0,g.Z)(function*(C,m){const _=(0,U.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};m&&Iu(_.auth,x,m);const{email:M}=yield us(_.auth,x);M!==C.email&&(yield C.reload())})).apply(this,arguments)}function ci(){return(ci=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:m};_&&Iu(b.auth,M,_);const{email:q}=yield mh(b.auth,M);q!==C.email&&(yield C.reload())})).apply(this,arguments)}function xh(C,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,g.Z)(function*(C,m){return Pt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Rh(){return(Rh=(0,g.Z)(function*(C,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const b=(0,U.m9)(C),M={idToken:yield b.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},q=yield yn(b,xh(b.auth,M));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const ge=b.providerData.find(({providerId:Pe})=>"password"===Pe);ge&&(ge.displayName=b.displayName,ge.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)})).apply(this,arguments)}function Mh(C,m,_){return Au.apply(this,arguments)}function Au(){return(Au=(0,g.Z)(function*(C,m,_){const{auth:b}=C,M={idToken:yield C.getIdToken(),returnSecureToken:!0};m&&(M.email=m),_&&(M.password=_);const q=yield yn(C,la(b,M));yield C._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class yo{constructor(m,_,b={}){this.isNewUser=m,this.providerId=_,this.profile=b}}class Ph extends yo{constructor(m,_,b,x){super(m,_,b),this.username=x}}class S_ extends yo{constructor(m,_){super(m,"facebook.com",_)}}class A_ extends Ph{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class xu extends yo{constructor(m,_){super(m,"google.com",_)}}class dg extends Ph{constructor(m,_,b){super(m,"twitter.com",_,b)}}function hg(C){const{user:m,_tokenResponse:_}=C;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(C){var m,_;if(!C)return null;const{providerId:b}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},M=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!b&&(null==C?void 0:C.idToken)){const q=null===(_=null===(m=qe(C.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(q)return new yo(M,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new S_(M,x);case"github.com":return new A_(M,x);case"google.com":return new xu(M,x);case"twitter.com":return new dg(M,x,C.screenName||null);case"custom":case"anonymous":return new yo(M,null);default:return new yo(M,b,x)}}(_)}class Hi{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Hi("enroll",m)}static _fromMfaPendingCredential(m){return new Hi("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,b;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Hi._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(b=m.multiFactorSession)||void 0===b?void 0:b.idToken)return Hi._fromIdtoken(m.multiFactorSession.idToken)}return null}}class kh{constructor(m,_,b){this.session=m,this.hints=_,this.signInResolver=b}static _fromError(m,_){const b=Bt(m),x=(_.serverResponse.mfaInfo||[]).map(q=>Cu._fromServerResponse(b,q));Ee(_.serverResponse.mfaPendingCredential,b,"internal-error");const M=Hi._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new kh(M,x,function(){var q=(0,g.Z)(function*(ge){const Pe=yield ge._process(b,M);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const Ge=Object.assign(Object.assign({},_.serverResponse),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(_.operationType){case"signIn":const st=yield bi._fromIdTokenResponse(b,_.operationType,Ge);return yield b._updateCurrentUser(st.user),st;case"reauthenticate":return Ee(_.user,b,"internal-error"),bi._forOperation(_.user,_.operationType,Ge);default:Le(b,"internal-error")}});return function(ge){return q.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,g.Z)(function*(){return _.signInResolver(m)})()}}function x_(C,m){return Pt(C,"POST","/v2/accounts/mfaEnrollment:start",nt(C,m))}class ma{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(b=>Cu._fromServerResponse(m.auth,b)))})}static _fromUser(m){return new ma(m)}getSession(){var m=this;return(0,g.Z)(function*(){return Hi._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var b=this;return(0,g.Z)(function*(){const x=m,M=yield b.getSession(),q=yield yn(b.user,x._process(b.user.auth,M,_));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(m){var _=this;return(0,g.Z)(function*(){const b="string"==typeof m?m:m.uid,x=yield _.user.getIdToken(),M=yield yn(_.user,function(C,m){return Pt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(C,m))}(_.user.auth,{idToken:x,mfaEnrollmentId:b}));_.enrolledFactors=_.enrolledFactors.filter(({uid:q})=>q!==b),yield _.user._updateTokensIfNecessary(M);try{yield _.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const ya=new WeakMap,Ru="__sak";class Lh{constructor(m,_){this.storage=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const cl=(()=>{class C extends Lh{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(_,b)=>this.onStorageEvent(_,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,U.z$)();return hh(C)||wi(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),M=this.localCache[b];x!==M&&_(b,M,x)}}onStorageEvent(_,b=!1){if(!_.key)return void this.forAllChangedKeys((ge,Pe,Ge)=>{this.notifyListeners(ge,Ge)});const x=_.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(x);if(_.newValue!==ge)null!==_.newValue?this.storage.setItem(x,_.newValue):this.storage.removeItem(x);else if(this.localCache[x]===_.newValue&&!b)return}const M=()=>{const ge=this.storage.getItem(x);!b&&this.localCache[x]===ge||this.notifyListeners(x,ge)},q=this.storage.getItem(x);(0,U.w1)()&&10===document.documentMode&&q!==_.newValue&&_.newValue!==_.oldValue?setTimeout(M,10):M()}notifyListeners(_,b){this.localCache[_]=b;const x=this.listeners[_];if(x)for(const M of Array.from(x))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(b)}_removeListener(_,b){this.listeners[_]&&(this.listeners[_].delete(b),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,b){var x=()=>super._set,M=this;return(0,g.Z)(function*(){yield x().call(M,_,b),M.localCache[_]=JSON.stringify(b)})()}_get(_){var b=()=>super._get,x=this;return(0,g.Z)(function*(){const M=yield b().call(x,_);return x.localCache[_]=JSON.stringify(M),M})()}_remove(_){var b=()=>super._remove,x=this;return(0,g.Z)(function*(){yield b().call(x,_),delete x.localCache[_]})()}}return C.type="LOCAL",C})(),hs=(()=>{class C extends Lh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,b){}_removeListener(_,b){}}return C.type="SESSION",C})();let ks=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const b=this.receivers.find(M=>M.isListeningto(_));if(b)return b;const x=new C(_);return this.receivers.push(x),x}isListeningto(_){return this.eventTarget===_}handleEvent(_){var b=this;return(0,g.Z)(function*(){const x=_,{eventId:M,eventType:q,data:ge}=x.data,Pe=b.handlersMap[q];if(!(null==Pe?void 0:Pe.size))return;x.ports[0].postMessage({status:"ack",eventId:M,eventType:q});const Ge=Array.from(Pe).map(function(){var Je=(0,g.Z)(function*(wn){return wn(x.origin,ge)});return function(wn){return Je.apply(this,arguments)}}()),st=yield function(C){return Promise.all(C.map(function(){var m=(0,g.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(b){return{fulfilled:!1,reason:b}}});return function(_){return m.apply(this,arguments)}}()))}(Ge);x.ports[0].postMessage({status:"done",eventId:M,eventType:q,response:st})})()}_subscribe(_,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(b)}_unsubscribe(_,b){this.handlersMap[_]&&b&&this.handlersMap[_].delete(b),(!b||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ll(C="",m=10){let _="";for(let b=0;b<m;b++)_+=Math.floor(10*Math.random());return C+_}class bC{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,b=50){var x=this;return(0,g.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let q,ge;return new Promise((Pe,Ge)=>{const st=ll("",20);M.port1.start();const Je=setTimeout(()=>{Ge(new Error("unsupported_event"))},b);ge={messageChannel:M,onMessage(wn){const Zt=wn;if(Zt.data.eventId===st)switch(Zt.data.status){case"ack":clearTimeout(Je),q=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Pe(Zt.data.response);break;default:clearTimeout(Je),clearTimeout(q),Ge(new Error("invalid_response"))}}},x.handlers.add(ge),M.port1.addEventListener("message",ge.onMessage),x.target.postMessage({eventType:m,eventId:st,data:_},[M.port2])}).finally(()=>{ge&&x.removeMessageHandler(ge)})})()}}function rn(){return window}function dl(){return void 0!==rn().WorkerGlobalScope&&"function"==typeof rn().importScripts}function jh(){return(jh=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const mg="firebaseLocalStorageDb",Pu="firebaseLocalStorage",hl="fbase_key";class fl{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function pl(C,m){return C.transaction([Pu],m?"readwrite":"readonly").objectStore(Pu)}function Xe(){const C=indexedDB.open(mg,1);return new Promise((m,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const b=C.result;try{b.createObjectStore(Pu,{keyPath:hl})}catch(x){_(x)}}),C.addEventListener("success",(0,g.Z)(function*(){const b=C.result;b.objectStoreNames.contains(Pu)?m(b):(b.close(),yield function(){const C=indexedDB.deleteDatabase(mg);return new fl(C).toPromise()}(),m(yield Xe()))}))})}function fs(C,m,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,g.Z)(function*(C,m,_){const b=pl(C,!0).put({[hl]:m,value:_});return new fl(b).toPromise()})).apply(this,arguments)}function _a(){return(_a=(0,g.Z)(function*(C,m){const _=pl(C,!1).get(m),b=yield new fl(_).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function vo(C,m){const _=pl(C,!0).delete(m);return new fl(_).toPromise()}const va=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,g.Z)(function*(){return _.db||(_.db=yield Xe()),_.db})()}_withRetries(_){var b=this;return(0,g.Z)(function*(){let x=0;for(;;)try{const M=yield b._openDb();return yield _(M)}catch(M){if(x++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,g.Z)(function*(){return dl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,g.Z)(function*(){_.receiver=ks._getInstance(dl()?self:null),_.receiver._subscribe("keyChanged",function(){var b=(0,g.Z)(function*(x,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(x,M){return b.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var b=(0,g.Z)(function*(x,M){return["keyChanged"]});return function(x,M){return b.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,g.Z)(function*(){var b,x;if(_.activeServiceWorker=yield function(){return jh.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new bC(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);!M||(null===(b=M[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=M[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var b=this;return(0,g.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:_},b.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Xe();return yield fs(_,Ru,"1"),yield vo(_,Ru),!0}catch(_){}return!1})()}_withPendingWrite(_){var b=this;return(0,g.Z)(function*(){b.pendingWrites++;try{yield _()}finally{b.pendingWrites--}})()}_set(_,b){var x=this;return(0,g.Z)(function*(){return x._withPendingWrite((0,g.Z)(function*(){return yield x._withRetries(M=>fs(M,_,b)),x.localCache[_]=b,x.notifyServiceWorker(_)}))})()}_get(_){var b=this;return(0,g.Z)(function*(){const x=yield b._withRetries(M=>function(C,m){return _a.apply(this,arguments)}(M,_));return b.localCache[_]=x,x})()}_remove(_){var b=this;return(0,g.Z)(function*(){return b._withPendingWrite((0,g.Z)(function*(){return yield b._withRetries(x=>vo(x,_)),delete b.localCache[_],b.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,g.Z)(function*(){const b=yield _._withRetries(q=>{const ge=pl(q,!1).getAll();return new fl(ge).toPromise()});if(!b)return[];if(0!==_.pendingWrites)return[];const x=[],M=new Set;for(const{fbase_key:q,value:ge}of b)M.add(q),JSON.stringify(_.localCache[q])!==JSON.stringify(ge)&&(_.notifyListeners(q,ge),x.push(q));for(const q of Object.keys(_.localCache))_.localCache[q]&&!M.has(q)&&(_.notifyListeners(q,null),x.push(q));return x})()}notifyListeners(_,b){this.localCache[_]=b;const x=this.listeners[_];if(x)for(const M of Array.from(x))M(b)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(b)}_removeListener(_,b){this.listeners[_]&&(this.listeners[_].delete(b),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function zr(C,m){return Pt(C,"POST","/v2/accounts/mfaSignIn:start",nt(C,m))}function gl(){return(gl=(0,g.Z)(function*(C){return(yield Pt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ea(C){return new Promise((m,_)=>{const b=document.createElement("script");b.setAttribute("src",C),b.onload=m,b.onerror=x=>{const M=Ve("internal-error");M.customData=x,_(M)},b.type="text/javascript",b.charset="UTF-8",function(){var C,m;return null!==(m=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==m?m:document}().appendChild(b)})}function _g(C){return`__${C}${Math.floor(1e6*Math.random())}`}const li=1e12;class vg{constructor(m){this.auth=m,this.counter=li,this._widgets=new Map}render(m,_){const b=this.counter;return this._widgets.set(b,new Fu(m,this.auth.name,_||{})),this.counter++,b}reset(m){var _;const b=m||li;null===(_=this._widgets.get(b))||void 0===_||_.delete(),this._widgets.delete(b)}getResponse(m){var _;return(null===(_=this._widgets.get(m||li))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,g.Z)(function*(){var b;return null===(b=_._widgets.get(m||li))||void 0===b||b.execute(),""})()}}class Fu{constructor(m,_,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof m?document.getElementById(m):m;Ee(x,"argument-error",{appName:_}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}();const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ps=_g("rcb"),wa=new Xt(3e4,6e4);class Gi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!rn().grecaptcha}load(m,_=""){return Ee((C=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(rn().grecaptcha):new Promise((b,x)=>{const M=rn().setTimeout(()=>{x(Ve(m,"network-request-failed"))},wa.get());rn()[ps]=()=>{rn().clearTimeout(M),delete rn()[ps];const ge=rn().grecaptcha;if(!ge)return void x(Ve(m,"internal-error"));const Pe=ge.render;ge.render=(Ge,st)=>{const Je=Pe(Ge,st);return this.counter++,Je},this.hostLanguage=_,b(ge)},Ea(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:ps,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),x(Ve(m,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!rn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eo{load(m){return(0,g.Z)(function*(){return new vg(m)})()}clearedOneInstance(){}}const V_="recaptcha",XT={theme:"light",type:"image"};class Eg{constructor(m,_=Object.assign({},XT),b){this.parameters=_,this.type=V_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bt(b),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof m?document.getElementById(m):m;Ee(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eo:new Gi,this.validateStartingState()}verify(){var m=this;return(0,g.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),b=m.getAssertedRecaptcha();return b.getResponse(_)||new Promise(M=>{const q=ge=>{!ge||(m.tokenChangeListeners.delete(q),M(ge))};m.tokenChangeListeners.add(q),m.isInvisible&&b.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(b=>b(_)),"function"==typeof m)m(_);else if("string"==typeof m){const b=rn()[m];"function"==typeof b&&b(_)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,g.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const b=document.createElement("div");_.appendChild(b),_=b}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,g.Z)(function*(){Ee(We()&&!dl(),m.auth,"internal-error"),yield function(){let C=null;return new Promise(m=>{"complete"!==document.readyState?(C=()=>m(),window.addEventListener("load",C)):m()}).catch(m=>{throw C&&window.removeEventListener("load",C),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function(C){return gl.apply(this,arguments)}(m.auth);Ee(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hh{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=fa._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Ca(){return(Ca=(0,g.Z)(function*(C,m,_){const b=Bt(C),x=yield $h(b,m,(0,U.m9)(_));return new Hh(x,M=>ol(b,M))})).apply(this,arguments)}function Cg(){return(Cg=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C);yield As(!1,b,"phone");const x=yield $h(b.auth,m,(0,U.m9)(_));return new Hh(x,M=>sg(b,M))})).apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C),x=yield $h(b.auth,m,(0,U.m9)(_));return new Hh(x,M=>Eu(b,M))})).apply(this,arguments)}function $h(C,m,_){return bg.apply(this,arguments)}function bg(){return(bg=(0,g.Z)(function*(C,m,_){var b;const x=yield _.verify();try{let M;if(Ee("string"==typeof x,C,"argument-error"),Ee(_.type===V_,C,"argument-error"),M="string"==typeof m?{phoneNumber:m}:m,"session"in M){const q=M.session;if("phoneNumber"in M)return Ee("enroll"===q.type,C,"internal-error"),(yield x_(C,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Ee("signin"===q.type,C,"internal-error");const ge=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return Ee(ge,C,"missing-multi-factor-info"),(yield zr(C,{mfaPendingCredential:q.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Ci(C,{phoneNumber:M.phoneNumber,recaptchaToken:x});return q}}finally{_._reset()}})).apply(this,arguments)}function Ig(){return(Ig=(0,g.Z)(function*(C,m){yield rl((0,U.m9)(C),m)})).apply(this,arguments)}let yl=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=Bt(_)}verifyPhoneNumber(_,b){return $h(this.auth,_,(0,U.m9)(b))}static credential(_,b){return fa._fromVerification(_,b)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:b,temporaryProof:x}=_;return b&&x?fa._fromTokenResponse(b,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function xn(C,m){return m?ue(m):(Ee(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Di extends mr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return jt(m,this._buildIdpRequest())}_linkToIdToken(m,_){return jt(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return jt(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Dg(C){return ig(C.auth,new Di(C),C.bypassAuthState)}function Pn(C){const{auth:m,user:_}=C;return Ee(_,m,"internal-error"),il(_,new Di(C),C.bypassAuthState)}function _l(C){return wo.apply(this,arguments)}function wo(){return(wo=(0,g.Z)(function*(C){const{auth:m,user:_}=C;return Ee(_,m,"internal-error"),rl(_,new Di(C),C.bypassAuthState)})).apply(this,arguments)}class U_{constructor(m,_,b,x,M=!1){this.auth=m,this.resolver=b,this.user=x,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,g.Z)(function*(b,x){m.pendingPromise={resolve:b,reject:x};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(M){m.reject(M)}});return function(b,x){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,g.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:M,tenantId:q,error:ge,type:Pe}=m;if(ge)return void _.reject(ge);const Ge={auth:_.auth,requestUri:b,sessionId:x,tenantId:q||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Ge))}catch(st){_.reject(st)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Dg;case"linkViaPopup":case"linkViaRedirect":return _l;case"reauthViaPopup":case"reauthViaRedirect":return Pn;default:Le(this.auth,"internal-error")}}resolve(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B_=new Xt(2e3,1e4);function Wr(){return(Wr=(0,g.Z)(function*(C,m,_){const b=Bt(C);yt(C,m,ho);const x=xn(b,_);return new ys(b,"signInViaPopup",m,x).executeNotNull()})).apply(this,arguments)}function gs(){return(gs=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C);yt(b.auth,m,ho);const x=xn(b.auth,_);return new ys(b.auth,"reauthViaPopup",m,x,b).executeNotNull()})).apply(this,arguments)}function El(){return(El=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C);yt(b.auth,m,ho);const x=xn(b.auth,_);return new ys(b.auth,"linkViaPopup",m,x,b).executeNotNull()})).apply(this,arguments)}let ys=(()=>{class C extends U_{constructor(_,b,x,M,q){super(_,b,M,q),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,g.Z)(function*(){const b=yield _.execute();return Ee(b,_.auth,"internal-error"),b})()}onExecution(){var _=this;return(0,g.Z)(function*(){ae(1===_.filter.length,"Popup operations only handle one event");const b=ll();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],b),_.authWindow.associatedEvent=b,_.resolver._originValidation(_.auth).catch(x=>{_.reject(x)}),_.resolver._isIframeWebStorageSupported(_.auth,x=>{x||_.reject(Ve(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var b,x;this.pollId=(null===(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,B_.get())};_()}}return C.currentPopupAction=null,C})();const Tg=new Map;class j_ extends U_{constructor(m,_,b=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,b),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,g.Z)(function*(){let b=Tg.get(_.auth._key());if(!b){try{const M=(yield function(C,m){return vr.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;b=()=>Promise.resolve(M)}catch(x){b=()=>Promise.reject(x)}Tg.set(_.auth._key(),b)}return b()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,b=this;return(0,g.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(b,m);if("unknown"!==m.type){if(m.eventId){const x=yield b.auth._redirectUserForId(m.eventId);if(x)return b.user=x,_().call(b,m);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function vr(){return(vr=(0,g.Z)(function*(C,m){const _=Gh(m),b="true"===(yield Ls(C)._get(_));return yield Ls(C)._remove(_),b})).apply(this,arguments)}function Lu(C,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(C,m){return Ls(C)._set(Gh(m),"true")})).apply(this,arguments)}function Ls(C){return ue(C._redirectPersistence)}function Gh(C){return Yt("pendingRedirect",C.config.apiKey,C.name)}function qh(){return(qh=(0,g.Z)(function*(C,m,_){const b=Bt(C);yt(C,m,ho);const x=xn(b,_);return yield Lu(x,b),x._openRedirect(b,m,"signInViaRedirect")})).apply(this,arguments)}function Uu(){return(Uu=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C);yt(b.auth,m,ho);const x=xn(b.auth,_);yield Lu(x,b.auth);const M=yield It(b);return x._openRedirect(b.auth,m,"reauthViaRedirect",M)})).apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(C,m,_){const b=(0,U.m9)(C);yt(b.auth,m,ho);const x=xn(b.auth,_);yield As(!1,b,m.providerId),yield Lu(x,b.auth);const M=yield It(b);return x._openRedirect(b.auth,m,"linkViaRedirect",M)})).apply(this,arguments)}function Vs(){return(Vs=(0,g.Z)(function*(C,m){return yield Bt(C)._initializationPromise,wl(C,m,!1)})).apply(this,arguments)}function wl(C,m){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,g.Z)(function*(C,m,_=!1){const b=Bt(C),x=xn(b,m),q=yield new j_(b,x,_).execute();return q&&!_&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,m)),q})).apply(this,arguments)}function It(C){return ju.apply(this,arguments)}function ju(){return(ju=(0,g.Z)(function*(C){const m=ll(`${C.uid}:::`);return C._redirectEventId=m,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),m})).apply(this,arguments)}class $u{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(m,b)&&(_=!0,this.sendToConsumer(m,b),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bo(C);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var b;if(m.error&&!bo(m)){const x=(null===(b=m.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";_.onError(Ve(this.auth,x))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const b=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&b}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Us(m))}saveEventToCache(m){this.cachedEventUids.add(Us(m)),this.lastProcessedEventTime=Date.now()}}function Us(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(m=>m).join("-")}function bo({type:C,error:m}){return"unknown"===C&&"auth/no-auth-event"===(null==m?void 0:m.code)}function bn(C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,g.Z)(function*(C,m={}){return Pt(C,"GET","/v1/projects",m)})).apply(this,arguments)}const W_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bs=/^https?/;function xg(){return(xg=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:m}=yield bn(C);for(const _ of m)try{if(Bn(_))return}catch(b){}Le(C,"unauthorized-domain")})).apply(this,arguments)}function Bn(C){const m=xe(),{protocol:_,hostname:b}=new URL(m);if(C.startsWith("chrome-extension://")){const q=new URL(C);return""===q.hostname&&""===b?"chrome-extension:"===_&&C.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&q.hostname===b}if(!Bs.test(_))return!1;if(W_.test(C))return b===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Ti=new Xt(3e4,6e4);function Z_(){const C=rn().___jsl;if(null==C?void 0:C.H)for(const m of Object.keys(C.H))if(C.H[m].r=C.H[m].r||[],C.H[m].L=C.H[m].L||[],C.H[m].r=[...C.H[m].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let Yr=null;function Gu(C){return Yr=Yr||function(C){return new Promise((m,_)=>{var b,x,M;function q(){Z_(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Z_(),_(Ve(C,"network-request-failed"))},timeout:Ti.get()})}if(null===(x=null===(b=rn().gapi)||void 0===b?void 0:b.iframes)||void 0===x?void 0:x.Iframe)m(gapi.iframes.getContext());else{if(!(null===(M=rn().gapi)||void 0===M?void 0:M.load)){const ge=_g("iframefcb");return rn()[ge]=()=>{gapi.load?q():_(Ve(C,"network-request-failed"))},Ea(`https://apis.google.com/js/api.js?onload=${ge}`)}q()}}).catch(m=>{throw Yr=null,m})}(C),Yr}const js=new Xt(5e3,15e3),bl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zu(C){const m=C.config;Ee(m.authDomain,C,"auth-domain-config-required");const _=m.emulator?mn(m,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,b={apiKey:m.apiKey,appName:C.name,v:_e.SDK_VERSION},x=qu.get(C.config.apiHost);x&&(b.eid=x);const M=C._getFrameworks();return M.length&&(b.fw=M.join(",")),`${_}?${(0,U.xO)(b).slice(1)}`}function Dt(){return(Dt=(0,g.Z)(function*(C){const m=yield Gu(C),_=rn().gapi;return Ee(_,C,"internal-error"),m.open({where:document.body,url:zu(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bl,dontclear:!0},b=>new Promise(function(){var x=(0,g.Z)(function*(M,q){yield b.restyle({setHideOnLeave:!1});const ge=Ve(C,"network-request-failed"),Pe=rn().setTimeout(()=>{q(ge)},js.get());function Ge(){rn().clearTimeout(Pe),M(b)}b.ping(Ge).then(Ge,()=>{q(ge)})});return function(M,q){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const zi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function _s(C,m,_,b,x,M){Ee(C.config.authDomain,C,"auth-domain-config-required"),Ee(C.config.apiKey,C,"invalid-api-key");const q={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:b,v:_e.SDK_VERSION,eventId:x};if(m instanceof ho){m.setDefaultLanguage(C.languageCode),q.providerId=m.providerId||"",(0,U.xb)(m.getCustomParameters())||(q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Pe,Ge]of Object.entries(M||{}))q[Pe]=Ge}if(m instanceof gu){const Pe=m.getScopes().filter(Ge=>""!==Ge);Pe.length>0&&(q.scopes=Pe.join(","))}C.tenantId&&(q.tid=C.tenantId);const ge=q;for(const Pe of Object.keys(ge))void 0===ge[Pe]&&delete ge[Pe];return`${function({config:C}){return C.emulator?mn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,U.xO)(ge).slice(1)}`}const Wi="webStorageSupport";class Sa extends class{constructor(m){this.factorId=m}_process(m,_,b){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,b);case"signin":return this._finalizeSignIn(m,_.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Sa(m)}_finalizeEnroll(m,_,b){return function(C,m){return Pt(C,"POST","/v2/accounts/mfaEnrollment:finalize",nt(C,m))}(m,{idToken:_,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function(C,m){return Pt(C,"POST","/v2/accounts/mfaSignIn:finalize",nt(C,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yh=(()=>{class C{constructor(){}static assertion(_){return Sa._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var C;class Pg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,g.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(b=>{var x;m((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function So(){return window}function Qr(){return(Qr=(0,g.Z)(function*(C,m,_){var b;const{BuildInfo:x}=So();ae(m.sessionId,"AuthEvent did not contain a session ID");const M=yield Vg(m.sessionId),q={};return wi()?q.ibi=x.packageName:ua()?q.apn=x.packageName:Le(C,"operation-not-supported-in-this-environment"),x.displayName&&(q.appDisplayName=x.displayName),q.sessionId=M,_s(C,_,m.type,void 0,null!==(b=m.eventId)&&void 0!==b?b:void 0,q)})).apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(C){const{BuildInfo:m}=So(),_={};wi()?_.iosBundleId=m.packageName:ua()?_.androidPackageName=m.packageName:Le(C,"operation-not-supported-in-this-environment"),yield bn(C,_)})).apply(this,arguments)}function Jh(){return(Jh=(0,g.Z)(function*(C,m,_){const{cordova:b}=So();let x=()=>{};try{yield new Promise((M,q)=>{let ge=null;function Pe(){var Je;M();const wn=null===(Je=b.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof wn&&wn(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Ge(){ge||(ge=window.setTimeout(()=>{q(Ve(C,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===(null==document?void 0:document.visibilityState)&&Ge()}m.addPassiveListener(Pe),document.addEventListener("resume",Ge,!1),ua()&&document.addEventListener("visibilitychange",st,!1),x=()=>{m.removePassiveListener(Pe),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",st,!1),ge&&window.clearTimeout(ge)}})}finally{x()}})).apply(this,arguments)}function Vg(C){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,g.Z)(function*(C){const m=Al(C),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Al(C){if(ae(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const m=new ArrayBuffer(C.length),_=new Uint8Array(m);for(let b=0;b<C.length;b++)_[b]=C.charCodeAt(b);return _}C="Browser",(0,_e._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const b=m.getProvider("app").getImmediate(),{apiKey:x,authDomain:M}=b.options;return(q=>{Ee(x&&!x.includes(":"),"invalid-api-key",{appName:q.name}),Ee(!(null==M?void 0:M.includes(":")),"argument-error",{appName:q.name});const ge={apiKey:x,authDomain:M,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gr(C)},Pe=new w_(q,ge);return function(C,m){const _=(null==m?void 0:m.persistence)||[],b=(Array.isArray(_)?_:[_]).map(ue);(null==m?void 0:m.errorMap)&&C._updateErrorMap(m.errorMap),C._initializeWithPersistence(b,null==m?void 0:m.popupRedirectResolver)}(Pe,_),Pe})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,b)=>{m.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new ve.wA("auth-internal",m=>{const _=Bt(m.getProvider("auth").getImmediate());return new Pg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)("@firebase/auth","0.18.1",void 0);class Xh extends $u{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,g.Z)(function*(){yield m.initPromise})()}}function xl(C){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,g.Z)(function*(C){const m=yield xo()._get(Rl(C));return m&&(yield xo()._remove(Rl(C))),m})).apply(this,arguments)}function Si(){const C=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const b=Math.floor(Math.random()*m.length);C.push(m.charAt(b))}return C.join("")}function xo(){return ue(cl)}function Rl(C){return Yt("authEvent",C.config.apiKey,C.name)}function Ro(C){if(!(null==C?void 0:C.includes("?")))return{};const[m,..._]=C.split("?");return(0,U.zd)(_.join("?"))}function Ml(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ve("no-auth-event")}}function Xu(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function qg(C=(0,U.z$)()){return!("file:"!==Xu()&&"ionic:"!==Xu()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pl(){try{const C=self.localStorage,m=ll();if(C)return C.setItem(m,"1"),C.removeItem(m),!function(C=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,U.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,U.hl)()}catch(C){return nf()&&(0,U.hl)()}return!1}function nf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jt(){return("http:"===Xu()||"https:"===Xu()||(0,U.ru)()||qg())&&!((0,U.b$)()||(0,U.UG)())&&Pl()&&!nf()}function Wg(){return qg()&&"undefined"!=typeof document}function hi(){return(hi=(0,g.Z)(function*(){return!!Wg()&&new Promise(C=>{const m=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),C(!0)})})})).apply(this,arguments)}const Nr={LOCAL:"local",NONE:"none",SESSION:"session"},Ai=Ee,Zg="persistence";function sf(C){return of.apply(this,arguments)}function of(){return(of=(0,g.Z)(function*(C){yield C._initializationPromise;const m=tc(),_=Yt(Zg,C.config.apiKey,C.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(_,C._getPersistence())})).apply(this,arguments)}function tc(){return"undefined"!=typeof window?window:null}const xa=Ee;class fn{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=wl}_openPopup(m,_,b,x){var M=this;return(0,g.Z)(function*(){var q;ae(null===(q=M.eventManagers[m._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ge=_s(m,_,b,xe(),x);return function(C,m,_,b=500,x=600){const M=Math.max((window.screen.availHeight-x)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let ge="";const Pe=Object.assign(Object.assign({},zi),{width:b.toString(),height:x.toString(),top:M,left:q}),Ge=(0,U.z$)().toLowerCase();_&&(ge=fh(Ge)?"_blank":_),Yc(Ge)&&(m=m||"http://localhost",Pe.scrollbars="yes");const st=Object.entries(Pe).reduce((wn,[Zt,ic])=>`${wn}${Zt}=${ic},`,"");if(function(C=(0,U.z$)()){var m;return wi(C)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ge)&&"_self"!==ge)return function(C,m){const _=document.createElement("a");_.href=C,_.target=m;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(b)}(m||"",ge),new Wh(null);const Je=window.open(m||"",ge,st);Ee(Je,C,"popup-blocked");try{Je.focus()}catch(wn){}return new Wh(Je)}(m,ge,ll())})()}_openRedirect(m,_,b,x){var M=this;return(0,g.Z)(function*(){return yield M._originValidation(m),C=_s(m,_,b,xe(),x),rn().location.href=C,new Promise(()=>{});var C})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:x,promise:M}=this.eventManagers[_];return x?Promise.resolve(x):(ae(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(m);return this.eventManagers[_]={promise:b},b}initAndGetManager(m){var _=this;return(0,g.Z)(function*(){const b=yield function(C){return Dt.apply(this,arguments)}(m),x=new $u(m);return b.register("authEvent",M=>(Ee(null==M?void 0:M.authEvent,m,"invalid-auth-event"),{status:x.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:x},_.iframes[m._key()]=b,x})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Wi,{type:Wi},x=>{var M;const q=null===(M=null==x?void 0:x[0])||void 0===M?void 0:M[Wi];void 0!==q&&_(!!q),Le(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(C){return xg.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ji()||hh()||wi()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=hs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wl}_initialize(m){var _=this;return(0,g.Z)(function*(){const b=m._key();let x=_.eventManagers.get(b);return x||(x=new Xh(m),_.eventManagers.set(b,x),_.attachCallbackListeners(m,x)),x})()}_openPopup(m){Le(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,b,x){var M=this;return(0,g.Z)(function*(){!function(C){var m,_,b,x,M,q,ge,Pe,Ge,st;const Je=So();Ee("function"==typeof(null===(m=null==Je?void 0:Je.universalLinks)||void 0===m?void 0:m.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(_=null==Je?void 0:Je.BuildInfo)||void 0===_?void 0:_.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(M=null===(x=null===(b=null==Je?void 0:Je.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===M?void 0:M.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Pe=null===(ge=null===(q=null==Je?void 0:Je.cordova)||void 0===q?void 0:q.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Pe?void 0:Pe.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(st=null===(Ge=null==Je?void 0:Je.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===st?void 0:st.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const q=yield M._initialize(m);yield q.initialized(),q.resetRedirect(),Tg.clear(),yield M._originValidation(m);const ge=function(C,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Si(),postBody:null,tenantId:C.tenantId,error:Ve(C,"no-auth-event")}}(m,b,x);yield function(C,m){return xo()._set(Rl(C),m)}(m,ge);const Pe=yield function(C,m,_){return Qr.apply(this,arguments)}(m,ge,_),Ge=yield function(C){const{cordova:m}=So();return new Promise(_=>{m.plugins.browsertab.isAvailable(b=>{let x=null;b?m.plugins.browsertab.openUrl(C):x=m.InAppBrowser.open(C,function(C=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),_(x)})})}(Pe);return function(C,m,_){return Jh.apply(this,arguments)}(m,q,Ge)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(C){return Hs.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:b,handleOpenURL:x,BuildInfo:M}=So(),q=setTimeout((0,g.Z)(function*(){yield xl(m),_.onEvent(Ml())}),500),ge=function(){var st=(0,g.Z)(function*(Je){clearTimeout(q);const wn=yield xl(m);let Zt=null;wn&&(null==Je?void 0:Je.url)&&(Zt=function(C,m){var _,b;const x=function(C){const m=Ro(C),_=m.link?decodeURIComponent(m.link):void 0,b=Ro(_).link,x=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Ro(x).link||x||b||_||C}(m);if(x.includes("/__/auth/callback")){const M=Ro(x),q=M.firebaseError?function(C){try{return JSON.parse(C)}catch(m){return null}}(decodeURIComponent(M.firebaseError)):null,ge=null===(b=null===(_=null==q?void 0:q.code)||void 0===_?void 0:_.split("auth/"))||void 0===b?void 0:b[1],Pe=ge?Ve(ge):null;return Pe?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:x,postBody:null}}return null}(wn,Je.url)),_.onEvent(Zt||Ml())});return function(wn){return st.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ge);const Pe=x,Ge=`${M.packageName.toLowerCase()}://`;So().handleOpenURL=function(){var st=(0,g.Z)(function*(Je){if(Je.toLowerCase().startsWith(Ge)&&ge({url:Je}),"function"==typeof Pe)try{Pe(Je)}catch(wn){console.error(wn)}});return function(Je){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=hs,this._completeRedirectFn=wl}_initialize(m){var _=this;return(0,g.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,b,x){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(m,_,b,x)})()}_openRedirect(m,_,b,x){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(m,_,b,x)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Wg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xa(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,g.Z)(function*(){if(m.underlyingResolver)return;const _=yield function(){return hi.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function Fl(C){return C.unwrap()}function Ll(C){return No(C)}function zt(C,m){var _;const b=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new X_(C,function(C,m){var _;const b=(0,U.m9)(C),x=m;return Ee(m.operationType,b,"argument-error"),Ee(null===(_=x.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,b,"argument-error"),kh._fromError(b,x)}(C,m));else if(b){const x=No(m),M=m;x&&(M.credential=x,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}function No(C){const{_tokenResponse:m}=C instanceof U.ZR?C.customData:C;if(!m)return null;if(!(C instanceof U.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return yl.credentialFromResult(C);const _=m.providerId;if(!_||"password"===_)return null;let b;switch(_){case"google.com":b=wh;break;case"facebook.com":b=Eh;break;case"github.com":b=Ch;break;case"twitter.com":b=bh;break;default:const{oauthIdToken:x,oauthAccessToken:M,oauthTokenSecret:q,pendingToken:ge,nonce:Pe}=m;return M||q||x||ge?ge?_.startsWith("saml.")?pa._create(_,ge):$r._fromParams({providerId:_,signInMethod:_,pendingToken:ge,idToken:x,accessToken:M}):new fo(_).credential({idToken:x,accessToken:M,rawNonce:Pe}):null}return C instanceof U.ZR?b.credentialFromError(C):b.credentialFromResult(C)}function Kn(C,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,g.Z)(function*(C,m){let _;try{_=yield m}catch(M){throw M instanceof U.ZR&&zt(C,M),M}const{operationType:b,user:x}=_;return{operationType:b,credential:Ll(_),additionalUserInfo:hg(_),user:Zi.getOrCreate(x)}})).apply(this,arguments)}function Na(C,m){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,g.Z)(function*(C,m){const _=yield m;return{verificationId:_.verificationId,confirm:b=>Kn(C,_.confirm(b))}})).apply(this,arguments)}class X_{constructor(m,_){this.resolver=_,this.auth=function(C){return C.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Kn(Fl(this.auth),this.resolver.resolveSignIn(m))}}class Zi{constructor(m){this._delegate=m,this.multiFactor=function(C){const m=(0,U.m9)(C);return ya.has(m)||ya.set(m,ma._fromUser(m)),ya.get(m)}(m)}static getOrCreate(m){return Zi.USER_MAP.has(m)||Zi.USER_MAP.set(m,new Zi(m)),Zi.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,g.Z)(function*(){return Kn(_.auth,sg(_._delegate,m))})()}linkWithPhoneNumber(m,_){var b=this;return(0,g.Z)(function*(){return Na(b.auth,function(C,m,_){return Cg.apply(this,arguments)}(b._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,g.Z)(function*(){return Kn(_.auth,function(C,m,_){return El.apply(this,arguments)}(_._delegate,m,fn))})()}linkWithRedirect(m){var _=this;return(0,g.Z)(function*(){return yield sf(Bt(_.auth)),function(C,m,_){return function(C,m,_){return Co.apply(this,arguments)}(C,m,_)}(_._delegate,m,fn)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,g.Z)(function*(){return Kn(_.auth,Eu(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return Na(this.auth,function(C,m,_){return qi.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Kn(this.auth,function(C,m,_){return gs.apply(this,arguments)}(this._delegate,m,fn))}reauthenticateWithRedirect(m){var _=this;return(0,g.Z)(function*(){return yield sf(Bt(_.auth)),function(C,m,_){return function(C,m,_){return Uu.apply(this,arguments)}(C,m,_)}(_._delegate,m,fn)})()}sendEmailVerification(m){return function(C,m){return Ms.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,g.Z)(function*(){return yield function(C,m){return nl.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function(C,m){return Mh((0,U.m9)(C),m,null)}(this._delegate,m)}updatePassword(m){return function(C,m){return Mh((0,U.m9)(C),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(C,m){return Ig.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(C,m){return Rh.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function(C,m,_){return ci.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zi.USER_MAP=new WeakMap;const nc=Ee;let Ma=(()=>{class C{constructor(_,b){if(this.app=_,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=_.options;nc(x,"invalid-api-key",{appName:_.name});let M=[At];if("undefined"!=typeof window){M=function(C,m){const _=tc();if(!(null==_?void 0:_.sessionStorage))return[];const b=Yt(Zg,C,m);switch(_.sessionStorage.getItem(b)){case Nr.NONE:return[At];case Nr.LOCAL:return[va,hs];case Nr.SESSION:return[hs];default:return[]}}(x,_.name);for(const ge of[va,cl,hs])M.includes(ge)||M.push(ge)}nc(x,"invalid-api-key",{appName:_.name});const q="undefined"!=typeof window?fn:void 0;this._delegate=b.initialize({options:{persistence:M,popupRedirectResolver:q}}),this._delegate._updateErrorMap(fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,b){!function(C,m,_){const b=Bt(C);Ee(b._canInitEmulator,b,"emulator-config-failed"),Ee(/^https?:\/\//.test(m),b,"invalid-emulator-scheme");const x=!!(null==_?void 0:_.disableWarnings),M=Qt(m),{host:q,port:ge}=function(C){const m=Qt(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(m.length));if(!_)return{host:"",port:null};const b=_[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const M=x[1];return{host:M,port:Ds(b.substr(M.length+1))}}{const[M,q]=b.split(":");return{host:M,port:Ds(q)}}}(m);b.config.emulator={url:`${M}//${q}${null===ge?"":`:${ge}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:ge,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function m(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(x)}(this._delegate,_,b)}applyActionCode(_){return function(C,m){return go.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Du(this._delegate,_)}confirmPasswordReset(_,b){return function(C,m,_){return at.apply(this,arguments)}(this._delegate,_,b)}createUserWithEmailAndPassword(_,b){var x=this;return(0,g.Z)(function*(){return Kn(x._delegate,function(C,m,_){return be.apply(this,arguments)}(x._delegate,_,b))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(C,m){return cg.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(C,m){const _=el.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,g.Z)(function*(){nc(Jt(),_._delegate,"operation-not-supported-in-this-environment");const b=yield function(C,m){return Vs.apply(this,arguments)}(_._delegate,fn);return b?Kn(_._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(C,m){Bt(C)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,b,x){const{next:M,error:q,complete:ge}=af(_,b,x);return this._delegate.onAuthStateChanged(M,q,ge)}onIdTokenChanged(_,b,x){const{next:M,error:q,complete:ge}=af(_,b,x);return this._delegate.onIdTokenChanged(M,q,ge)}sendSignInLinkToEmail(_,b){return function(C,m,_){return vn.apply(this,arguments)}(this._delegate,_,b)}sendPasswordResetEmail(_,b){return function(C,m,_){return al.apply(this,arguments)}(this._delegate,_,b||void 0)}setPersistence(_){var b=this;return(0,g.Z)(function*(){let x;switch(function(C,m){Ai(Object.values(Nr).includes(m),C,"invalid-persistence-type"),(0,U.b$)()?Ai(m!==Nr.SESSION,C,"unsupported-persistence-type"):(0,U.UG)()?Ai(m===Nr.NONE,C,"unsupported-persistence-type"):nf()?Ai(m===Nr.NONE||m===Nr.LOCAL&&(0,U.hl)(),C,"unsupported-persistence-type"):Ai(m===Nr.NONE||Pl(),C,"unsupported-persistence-type")}(b._delegate,_),_){case Nr.SESSION:x=hs;break;case Nr.LOCAL:x=(yield ue(va)._isAvailable())?va:cl;break;case Nr.NONE:x=At;break;default:return Le("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Kn(this._delegate,function(C){return yu.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Kn(this._delegate,ol(this._delegate,_))}signInWithCustomToken(_){return Kn(this._delegate,function(C,m){return yr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,b){return Kn(this._delegate,function(C,m,_){return ol((0,U.m9)(C),ng.credential(m,_))}(this._delegate,_,b))}signInWithEmailLink(_,b){return Kn(this._delegate,function(C,m,_){return ui.apply(this,arguments)}(this._delegate,_,b))}signInWithPhoneNumber(_,b){return Na(this._delegate,function(C,m,_){return Ca.apply(this,arguments)}(this._delegate,_,b))}signInWithPopup(_){var b=this;return(0,g.Z)(function*(){return nc(Jt(),b._delegate,"operation-not-supported-in-this-environment"),Kn(b._delegate,function(C,m,_){return Wr.apply(this,arguments)}(b._delegate,_,fn))})()}signInWithRedirect(_){var b=this;return(0,g.Z)(function*(){return nc(Jt(),b._delegate,"operation-not-supported-in-this-environment"),yield sf(b._delegate),function(C,m,_){return function(C,m,_){return qh.apply(this,arguments)}(C,m,_)}(b._delegate,_,fn)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(C,m){return mo.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Nr,C})();function af(C,m,_){let b=C;"function"!=typeof C&&({next:b,error:m,complete:_}=C);const x=b;return{next:q=>x(q&&Zi.getOrCreate(q)),error:m,complete:_}}class Ul{constructor(){this.providerId="phone",this._delegate=new yl(Fl(ee.Z.auth()))}static credential(m,_){return yl.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Ul.PHONE_SIGN_IN_METHOD=yl.PHONE_SIGN_IN_METHOD,Ul.PROVIDER_ID=yl.PROVIDER_ID;const rc=Ee;class uf{constructor(m,_,b=ee.Z.app()){var x;rc(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Eg(m,_,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new ve.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),b=m.getProvider("auth");return new Ma(_,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ng,FacebookAuthProvider:Eh,GithubAuthProvider:Ch,GoogleAuthProvider:wh,OAuthProvider:fo,PhoneAuthProvider:Ul,PhoneMultiFactorGenerator:Yh,RecaptchaVerifier:uf,TwitterAuthProvider:bh,Auth:Ma,AuthCredential:mr,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.4")}(ee.Z)},7574:(ze,we,L)=>{"use strict";L.d(we,{y:()=>F});var g=L(7393),U=L(9181),_e=L(6490),ie=L(6554),ve=L(4487);var k=L(2494);let F=(()=>{class Z{constructor(fe){this._isScalar=!1,fe&&(this._subscribe=fe)}lift(fe){const te=new Z;return te.source=this,te.operator=fe,te}subscribe(fe,te,X){const{operator:Oe}=this,Me=function(Z,Y,fe){if(Z){if(Z instanceof g.L)return Z;if(Z[U.b])return Z[U.b]()}return Z||Y||fe?new g.L(Z,Y,fe):new g.L(_e.c)}(fe,te,X);if(Me.add(Oe?Oe.call(Me,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Me.syncErrorThrowable?this._subscribe(Me):this._trySubscribe(Me)),k.v.useDeprecatedSynchronousErrorHandling&&Me.syncErrorThrowable&&(Me.syncErrorThrowable=!1,Me.syncErrorThrown))throw Me.syncErrorValue;return Me}_trySubscribe(fe){try{return this._subscribe(fe)}catch(te){k.v.useDeprecatedSynchronousErrorHandling&&(fe.syncErrorThrown=!0,fe.syncErrorValue=te),function(Z){for(;Z;){const{closed:Y,destination:fe,isStopped:te}=Z;if(Y||te)return!1;Z=fe&&fe instanceof g.L?fe:null}return!0}(fe)?fe.error(te):console.warn(te)}}forEach(fe,te){return new(te=K(te))((X,Oe)=>{let Me;Me=this.subscribe(Se=>{try{fe(Se)}catch(Le){Oe(Le),Me&&Me.unsubscribe()}},Oe,X)})}_subscribe(fe){const{source:te}=this;return te&&te.subscribe(fe)}[ie.L](){return this}pipe(...fe){return 0===fe.length?this:function(Z){return 0===Z.length?ve.y:1===Z.length?Z[0]:function(fe){return Z.reduce((te,X)=>X(te),fe)}}(fe)(this)}toPromise(fe){return new(fe=K(fe))((te,X)=>{let Oe;this.subscribe(Me=>Oe=Me,Me=>X(Me),()=>te(Oe))})}}return Z.create=Y=>new Z(Y),Z})();function K(Z){if(Z||(Z=k.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},6490:(ze,we,L)=>{"use strict";L.d(we,{c:()=>U});var g=L(2494),ee=L(4449);const U={closed:!0,next(_e){},error(_e){if(g.v.useDeprecatedSynchronousErrorHandling)throw _e;(0,ee.z)(_e)},complete(){}}},9765:(ze,we,L)=>{"use strict";L.d(we,{Yc:()=>ve,xQ:()=>pe});var g=L(7574),ee=L(7393),U=L(5319),_e=L(7971),me=L(8858),ie=L(9181);class ve extends ee.L{constructor(F){super(F),this.destination=F}}let pe=(()=>{class k extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new ve(this)}lift(K){const Z=new W(this,this);return Z.operator=K,Z}next(K){if(this.closed)throw new _e.N;if(!this.isStopped){const{observers:Z}=this,Y=Z.length,fe=Z.slice();for(let te=0;te<Y;te++)fe[te].next(K)}}error(K){if(this.closed)throw new _e.N;this.hasError=!0,this.thrownError=K,this.isStopped=!0;const{observers:Z}=this,Y=Z.length,fe=Z.slice();for(let te=0;te<Y;te++)fe[te].error(K);this.observers.length=0}complete(){if(this.closed)throw new _e.N;this.isStopped=!0;const{observers:K}=this,Z=K.length,Y=K.slice();for(let fe=0;fe<Z;fe++)Y[fe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(K){if(this.closed)throw new _e.N;return super._trySubscribe(K)}_subscribe(K){if(this.closed)throw new _e.N;return this.hasError?(K.error(this.thrownError),U.w.EMPTY):this.isStopped?(K.complete(),U.w.EMPTY):(this.observers.push(K),new me.W(this,K))}asObservable(){const K=new g.y;return K.source=this,K}}return k.create=(F,K)=>new W(F,K),k})();class W extends pe{constructor(F,K){super(),this.destination=F,this.source=K}next(F){const{destination:K}=this;K&&K.next&&K.next(F)}error(F){const{destination:K}=this;K&&K.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:K}=this;return K?this.source.subscribe(F):U.w.EMPTY}}},8858:(ze,we,L)=>{"use strict";L.d(we,{W:()=>ee});var g=L(5319);class ee extends g.w{constructor(_e,me){super(),this.subject=_e,this.subscriber=me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const _e=this.subject,me=_e.observers;if(this.subject=null,!me||0===me.length||_e.isStopped||_e.closed)return;const ie=me.indexOf(this.subscriber);-1!==ie&&me.splice(ie,1)}}},7393:(ze,we,L)=>{"use strict";L.d(we,{L:()=>ve});var g=L(9105),ee=L(6490),U=L(5319),_e=L(9181),me=L(2494),ie=L(4449);class ve extends U.w{constructor(k,F,K){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof ve?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new pe(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new pe(this,k,F,K)}}[_e.b](){return this}static create(k,F,K){const Z=new ve(k,F,K);return Z.syncErrorThrowable=!1,Z}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class pe extends ve{constructor(k,F,K,Z){super(),this._parentSubscriber=k;let Y,fe=this;(0,g.m)(F)?Y=F:F&&(Y=F.next,K=F.error,Z=F.complete,F!==ee.c&&(fe=Object.create(F),(0,g.m)(fe.unsubscribe)&&this.add(fe.unsubscribe.bind(fe)),fe.unsubscribe=this.unsubscribe.bind(this))),this._context=fe,this._next=Y,this._error=K,this._complete=Z}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;me.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:K}=me.v;if(this._error)K&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(F.syncErrorThrowable)K?(F.syncErrorValue=k,F.syncErrorThrown=!0):(0,ie.z)(k),this.unsubscribe();else{if(this.unsubscribe(),K)throw k;(0,ie.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const F=()=>this._complete.call(this._context);me.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,F){try{k.call(this._context,F)}catch(K){if(this.unsubscribe(),me.v.useDeprecatedSynchronousErrorHandling)throw K;(0,ie.z)(K)}}__tryOrSetError(k,F,K){if(!me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,K)}catch(Z){return me.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=Z,k.syncErrorThrown=!0,!0):((0,ie.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(ze,we,L)=>{"use strict";L.d(we,{w:()=>ie});var g=L(9796),ee=L(1555),U=L(9105);const me=(()=>{function pe(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((k,F)=>`${F+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return pe.prototype=Object.create(Error.prototype),pe})();class ie{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:F,_unsubscribe:K,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ie)k.remove(this);else if(null!==k)for(let Y=0;Y<k.length;++Y)k[Y].remove(this);if((0,U.m)(K)){F&&(this._unsubscribe=void 0);try{K.call(this)}catch(Y){W=Y instanceof me?ve(Y.errors):[Y]}}if((0,g.k)(Z)){let Y=-1,fe=Z.length;for(;++Y<fe;){const te=Z[Y];if((0,ee.K)(te))try{te.unsubscribe()}catch(X){W=W||[],X instanceof me?W=W.concat(ve(X.errors)):W.push(X)}}}if(W)throw new me(W)}add(W){let k=W;if(!W)return ie.EMPTY;switch(typeof W){case"function":k=new ie(W);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ie)){const Z=k;k=new ie,k._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:F}=k;if(null===F)k._parentOrParents=this;else if(F instanceof ie){if(F===this)return k;k._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return k;F.push(this)}const K=this._subscriptions;return null===K?this._subscriptions=[k]:K.push(k),k}remove(W){const k=this._subscriptions;if(k){const F=k.indexOf(W);-1!==F&&k.splice(F,1)}}}var pe;function ve(pe){return pe.reduce((W,k)=>W.concat(k instanceof me?k.errors:k),[])}ie.EMPTY=((pe=new ie).closed=!0,pe)},2494:(ze,we,L)=>{"use strict";L.d(we,{v:()=>ee});let g=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const _e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+_e.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=U},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(ze,we,L)=>{"use strict";L.d(we,{IY:()=>_e,Ds:()=>ie,ft:()=>pe});var g=L(7393),ee=L(7574),U=L(7444);class _e extends g.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends g.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function pe(W,k){if(k.closed)return;if(W instanceof ee.y)return W.subscribe(k);let F;try{F=(0,U.s)(W)(k)}catch(K){k.error(K)}return F}},2441:(ze,we,L)=>{"use strict";L.d(we,{c:()=>me,N:()=>ie});var g=L(9765),ee=L(7574),U=L(5319),_e=L(1307);class me extends ee.y{constructor(F,K){super(),this.source=F,this.subjectFactory=K,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new U.w,F.add(this.source.subscribe(new ve(this.getSubject(),this))),F.closed&&(this._connection=null,F=U.w.EMPTY)),F}refCount(){return(0,_e.x)()(this)}}const ie=(()=>{const k=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class ve extends g.Yc{constructor(F,K){super(F),this.connectable=K}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const K=F._connection;F._refCount=0,F._subject=null,F._connection=null,K&&K.unsubscribe()}}}},9193:(ze,we,L)=>{"use strict";L.d(we,{E:()=>ee,c:()=>U});var g=L(7574);const ee=new g.y(me=>me.complete());function U(me){return me?function(me){return new g.y(ie=>me.schedule(()=>ie.complete()))}(me):ee}},4402:(ze,we,L)=>{"use strict";L.d(we,{D:()=>fe});var g=L(7574),ee=L(7444),U=L(5319),_e=L(6554),ve=L(4087),pe=L(377),F=L(4072),K=L(9489);function fe(te,X){return X?function(te,X){if(null!=te){if(function(te){return te&&"function"==typeof te[_e.L]}(te))return function(te,X){return new g.y(Oe=>{const Me=new U.w;return Me.add(X.schedule(()=>{const Se=te[_e.L]();Me.add(Se.subscribe({next(Le){Me.add(X.schedule(()=>Oe.next(Le)))},error(Le){Me.add(X.schedule(()=>Oe.error(Le)))},complete(){Me.add(X.schedule(()=>Oe.complete()))}}))})),Me})}(te,X);if((0,F.t)(te))return function(te,X){return new g.y(Oe=>{const Me=new U.w;return Me.add(X.schedule(()=>te.then(Se=>{Me.add(X.schedule(()=>{Oe.next(Se),Me.add(X.schedule(()=>Oe.complete()))}))},Se=>{Me.add(X.schedule(()=>Oe.error(Se)))}))),Me})}(te,X);if((0,K.z)(te))return(0,ve.r)(te,X);if(function(te){return te&&"function"==typeof te[pe.hZ]}(te)||"string"==typeof te)return function(te,X){if(!te)throw new Error("Iterable cannot be null");return new g.y(Oe=>{const Me=new U.w;let Se;return Me.add(()=>{Se&&"function"==typeof Se.return&&Se.return()}),Me.add(X.schedule(()=>{Se=te[pe.hZ](),Me.add(X.schedule(function(){if(Oe.closed)return;let Le,Ve;try{const ke=Se.next();Le=ke.value,Ve=ke.done}catch(ke){return void Oe.error(ke)}Ve?Oe.complete():(Oe.next(Le),this.schedule())}))})),Me})}(te,X)}throw new TypeError((null!==te&&typeof te||te)+" is not observable")}(te,X):te instanceof g.y?te:new g.y((0,ee.s)(te))}},6693:(ze,we,L)=>{"use strict";L.d(we,{n:()=>_e});var g=L(7574),ee=L(5015),U=L(4087);function _e(me,ie){return ie?(0,U.r)(me,ie):new g.y((0,ee.V)(me))}},6682:(ze,we,L)=>{"use strict";L.d(we,{T:()=>me});var g=L(7574),ee=L(4869),U=L(3282),_e=L(6693);function me(...ie){let ve=Number.POSITIVE_INFINITY,pe=null,W=ie[ie.length-1];return(0,ee.K)(W)?(pe=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(ve=ie.pop())):"number"==typeof W&&(ve=ie.pop()),null===pe&&1===ie.length&&ie[0]instanceof g.y?ie[0]:(0,U.J)(ve)((0,_e.n)(ie,pe))}},5917:(ze,we,L)=>{"use strict";L.d(we,{of:()=>_e});var g=L(4869),ee=L(6693),U=L(4087);function _e(...me){let ie=me[me.length-1];return(0,g.K)(ie)?(me.pop(),(0,U.r)(me,ie)):(0,ee.n)(me)}},8002:(ze,we,L)=>{"use strict";L.d(we,{U:()=>ee});var g=L(7393);function ee(me,ie){return function(pe){if("function"!=typeof me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return pe.lift(new U(me,ie))}}class U{constructor(ie,ve){this.project=ie,this.thisArg=ve}call(ie,ve){return ve.subscribe(new _e(ie,this.project,this.thisArg))}}class _e extends g.L{constructor(ie,ve,pe){super(ie),this.project=ve,this.count=0,this.thisArg=pe||this}_next(ie){let ve;try{ve=this.project.call(this.thisArg,ie,this.count++)}catch(pe){return void this.destination.error(pe)}this.destination.next(ve)}}},3282:(ze,we,L)=>{"use strict";L.d(we,{J:()=>U});var g=L(9773),ee=L(4487);function U(_e=Number.POSITIVE_INFINITY){return(0,g.zg)(ee.y,_e)}},9773:(ze,we,L)=>{"use strict";L.d(we,{zg:()=>_e});var g=L(8002),ee=L(4402),U=L(5345);function _e(pe,W,k=Number.POSITIVE_INFINITY){return"function"==typeof W?F=>F.pipe(_e((K,Z)=>(0,ee.D)(pe(K,Z)).pipe((0,g.U)((Y,fe)=>W(K,Y,Z,fe))),k)):("number"==typeof W&&(k=W),F=>F.lift(new me(pe,k)))}class me{constructor(W,k=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=k}call(W,k){return k.subscribe(new ie(W,this.project,this.concurrent))}}class ie extends U.Ds{constructor(W,k,F=Number.POSITIVE_INFINITY){super(W),this.project=k,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let k;const F=this.index++;try{k=this.project(W,F)}catch(K){return void this.destination.error(K)}this.active++,this._innerSub(k)}_innerSub(W){const k=new U.IY(this),F=this.destination;F.add(k);const K=(0,U.ft)(W,k);K!==k&&F.add(K)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ze,we,L)=>{"use strict";L.d(we,{ht:()=>F,QV:()=>W});var g=L(7393),ee=L(9193),U=L(5917),_e=L(7574);class pe{constructor(Y,fe,te){this.kind=Y,this.value=fe,this.error=te,this.hasValue="N"===Y}observe(Y){switch(this.kind){case"N":return Y.next&&Y.next(this.value);case"E":return Y.error&&Y.error(this.error);case"C":return Y.complete&&Y.complete()}}do(Y,fe,te){switch(this.kind){case"N":return Y&&Y(this.value);case"E":return fe&&fe(this.error);case"C":return te&&te()}}accept(Y,fe,te){return Y&&"function"==typeof Y.next?this.observe(Y):this.do(Y,fe,te)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return Z=this.error,new _e.y(fe=>fe.error(Z));case"C":return(0,ee.c)()}var Z;throw new Error("unexpected notification kind value")}static createNext(Y){return void 0!==Y?new pe("N",Y):pe.undefinedValueNotification}static createError(Y){return new pe("E",void 0,Y)}static createComplete(){return pe.completeNotification}}function W(Z,Y=0){return function(te){return te.lift(new k(Z,Y))}}pe.completeNotification=new pe("C"),pe.undefinedValueNotification=new pe("N",void 0);class k{constructor(Y,fe=0){this.scheduler=Y,this.delay=fe}call(Y,fe){return fe.subscribe(new F(Y,this.scheduler,this.delay))}}class F extends g.L{constructor(Y,fe,te=0){super(Y),this.scheduler=fe,this.delay=te}static dispatch(Y){const{notification:fe,destination:te}=Y;fe.observe(te),this.unsubscribe()}scheduleMessage(Y){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new K(Y,this.destination)))}_next(Y){this.scheduleMessage(pe.createNext(Y))}_error(Y){this.scheduleMessage(pe.createError(Y)),this.unsubscribe()}_complete(){this.scheduleMessage(pe.createComplete()),this.unsubscribe()}}class K{constructor(Y,fe){this.notification=Y,this.destination=fe}}},1307:(ze,we,L)=>{"use strict";L.d(we,{x:()=>ee});var g=L(7393);function ee(){return function(ie){return ie.lift(new U(ie))}}class U{constructor(ie){this.connectable=ie}call(ie,ve){const{connectable:pe}=this;pe._refCount++;const W=new _e(ie,pe),k=ve.subscribe(W);return W.closed||(W.connection=pe.connect()),k}}class _e extends g.L{constructor(ie,ve){super(ie),this.connectable=ve}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const ve=ie._refCount;if(ve<=0)return void(this.connection=null);if(ie._refCount=ve-1,ve>1)return void(this.connection=null);const{connection:pe}=this,W=ie._connection;this.connection=null,W&&(!pe||W===pe)&&W.unsubscribe()}}},3101:(ze,we,L)=>{"use strict";L.d(we,{R:()=>X});var g=L(7574);let ee=1;const U=Promise.resolve(),_e={};function me(Me){return Me in _e&&(delete _e[Me],!0)}const ie={setImmediate(Me){const Se=ee++;return _e[Se]=!0,U.then(()=>me(Se)&&Me()),Se},clearImmediate(Me){me(Me)}};var pe=L(6465),k=L(6102);const Z=new class extends k.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Le}=this;let Ve,ke=-1,yt=Le.length;Se=Se||Le.shift();do{if(Ve=Se.execute(Se.state,Se.delay))break}while(++ke<yt&&(Se=Le.shift()));if(this.active=!1,Ve){for(;++ke<yt&&(Se=Le.shift());)Se.unsubscribe();throw Ve}}}(class extends pe.o{constructor(Se,Le){super(Se,Le),this.scheduler=Se,this.work=Le}requestAsyncId(Se,Le,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(Se,Le,Ve):(Se.actions.push(this),Se.scheduled||(Se.scheduled=ie.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Le,Ve=0){if(null!==Ve&&Ve>0||null===Ve&&this.delay>0)return super.recycleAsyncId(Se,Le,Ve);0===Se.actions.length&&(ie.clearImmediate(Le),Se.scheduled=void 0)}});var Y=L(9796);class te extends g.y{constructor(Se,Le=0,Ve=Z){var Me;super(),this.source=Se,this.delayTime=Le,this.scheduler=Ve,(!(!(0,Y.k)(Me=Le)&&Me-parseFloat(Me)+1>=0)||Le<0)&&(this.delayTime=0),(!Ve||"function"!=typeof Ve.schedule)&&(this.scheduler=Z)}static create(Se,Le=0,Ve=Z){return new te(Se,Le,Ve)}static dispatch(Se){const{source:Le,subscriber:Ve}=Se;return this.add(Le.subscribe(Ve))}_subscribe(Se){return this.scheduler.schedule(te.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function X(Me,Se=0){return function(Ve){return Ve.lift(new Oe(Me,Se))}}class Oe{constructor(Se,Le){this.scheduler=Se,this.delay=Le}call(Se,Le){return new te(Le,this.delay,this.scheduler).subscribe(Se)}}},3342:(ze,we,L)=>{"use strict";L.d(we,{b:()=>_e});var g=L(7393);function ee(){}var U=L(9105);function _e(ve,pe,W){return function(F){return F.lift(new me(ve,pe,W))}}class me{constructor(pe,W,k){this.nextOrObserver=pe,this.error=W,this.complete=k}call(pe,W){return W.subscribe(new ie(pe,this.nextOrObserver,this.error,this.complete))}}class ie extends g.L{constructor(pe,W,k,F){super(pe),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=F||ee,(0,U.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||ee,this._tapError=W.error||ee,this._tapComplete=W.complete||ee)}_next(pe){try{this._tapNext.call(this._context,pe)}catch(W){return void this.destination.error(W)}this.destination.next(pe)}_error(pe){try{this._tapError.call(this._context,pe)}catch(W){return void this.destination.error(W)}this.destination.error(pe)}_complete(){try{this._tapComplete.call(this._context)}catch(pe){return void this.destination.error(pe)}return this.destination.complete()}}},4087:(ze,we,L)=>{"use strict";L.d(we,{r:()=>U});var g=L(7574),ee=L(5319);function U(_e,me){return new g.y(ie=>{const ve=new ee.w;let pe=0;return ve.add(me.schedule(function(){pe!==_e.length?(ie.next(_e[pe++]),ie.closed||ve.add(this.schedule())):ie.complete()})),ve})}},6465:(ze,we,L)=>{"use strict";L.d(we,{o:()=>U});var g=L(5319);class ee extends g.w{constructor(me,ie){super()}schedule(me,ie=0){return this}}class U extends ee{constructor(me,ie){super(me,ie),this.scheduler=me,this.work=ie,this.pending=!1}schedule(me,ie=0){if(this.closed)return this;this.state=me;const ve=this.id,pe=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(pe,ve,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(pe,this.id,ie),this}requestAsyncId(me,ie,ve=0){return setInterval(me.flush.bind(me,this),ve)}recycleAsyncId(me,ie,ve=0){if(null!==ve&&this.delay===ve&&!1===this.pending)return ie;clearInterval(ie)}execute(me,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(me,ie);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,ie){let pe,ve=!1;try{this.work(me)}catch(W){ve=!0,pe=!!W&&W||new Error(W)}if(ve)return this.unsubscribe(),pe}_unsubscribe(){const me=this.id,ie=this.scheduler,ve=ie.actions,pe=ve.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==pe&&ve.splice(pe,1),null!=me&&(this.id=this.recycleAsyncId(ie,me,null)),this.delay=null}}},6102:(ze,we,L)=>{"use strict";L.d(we,{v:()=>ee});let g=(()=>{class U{constructor(me,ie=U.now){this.SchedulerAction=me,this.now=ie}schedule(me,ie=0,ve){return new this.SchedulerAction(this,me).schedule(ve,ie)}}return U.now=()=>Date.now(),U})();class ee extends g{constructor(_e,me=g.now){super(_e,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(_e,me=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(_e,me,ie):super.schedule(_e,me,ie)}flush(_e){const{actions:me}=this;if(this.active)return void me.push(_e);let ie;this.active=!0;do{if(ie=_e.execute(_e.state,_e.delay))break}while(_e=me.shift());if(this.active=!1,ie){for(;_e=me.shift();)_e.unsubscribe();throw ie}}}},3637:(ze,we,L)=>{"use strict";L.d(we,{z:()=>U,P:()=>_e});var g=L(6465);const U=new(L(6102).v)(g.o),_e=U},7771:(ze,we,L)=>{"use strict";L.d(we,{c:()=>ie,N:()=>me});var g=L(6465),U=L(6102);const me=new class extends U.v{}(class extends g.o{constructor(pe,W){super(pe,W),this.scheduler=pe,this.work=W}schedule(pe,W=0){return W>0?super.schedule(pe,W):(this.delay=W,this.state=pe,this.scheduler.flush(this),this)}execute(pe,W){return W>0||this.closed?super.execute(pe,W):this._execute(pe,W)}requestAsyncId(pe,W,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(pe,W,k):pe.flush(this)}}),ie=me},377:(ze,we,L)=>{"use strict";L.d(we,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ze,we,L)=>{"use strict";L.d(we,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ze,we,L)=>{"use strict";L.d(we,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ze,we,L)=>{"use strict";L.d(we,{N:()=>ee});const ee=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(ze,we,L)=>{"use strict";function g(ee){setTimeout(()=>{throw ee},0)}L.d(we,{z:()=>g})},4487:(ze,we,L)=>{"use strict";function g(ee){return ee}L.d(we,{y:()=>g})},9796:(ze,we,L)=>{"use strict";L.d(we,{k:()=>g});const g=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(ze,we,L)=>{"use strict";L.d(we,{z:()=>g});const g=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(ze,we,L)=>{"use strict";function g(ee){return"function"==typeof ee}L.d(we,{m:()=>g})},1555:(ze,we,L)=>{"use strict";function g(ee){return null!==ee&&"object"==typeof ee}L.d(we,{K:()=>g})},4072:(ze,we,L)=>{"use strict";function g(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}L.d(we,{t:()=>g})},4869:(ze,we,L)=>{"use strict";function g(ee){return ee&&"function"==typeof ee.schedule}L.d(we,{K:()=>g})},7444:(ze,we,L)=>{"use strict";L.d(we,{s:()=>F});var g=L(5015),ee=L(4449),_e=L(377),ie=L(6554),pe=L(9489),W=L(4072),k=L(1555);const F=K=>{if(K&&"function"==typeof K[ie.L])return(K=>Z=>{const Y=K[ie.L]();if("function"!=typeof Y.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Y.subscribe(Z)})(K);if((0,pe.z)(K))return(0,g.V)(K);if((0,W.t)(K))return(K=>Z=>(K.then(Y=>{Z.closed||(Z.next(Y),Z.complete())},Y=>Z.error(Y)).then(null,ee.z),Z))(K);if(K&&"function"==typeof K[_e.hZ])return(K=>Z=>{const Y=K[_e.hZ]();for(;;){let fe;try{fe=Y.next()}catch(te){return Z.error(te),Z}if(fe.done){Z.complete();break}if(Z.next(fe.value),Z.closed)break}return"function"==typeof Y.return&&Z.add(()=>{Y.return&&Y.return()}),Z})(K);{const Y=`You provided ${(0,k.K)(K)?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Y)}}},5015:(ze,we,L)=>{"use strict";L.d(we,{V:()=>g});const g=ee=>U=>{for(let _e=0,me=ee.length;_e<me&&!U.closed;_e++)U.next(ee[_e]);U.complete()}},7238:(ze,we,L)=>{"use strict";var g=L(3018);let ee=null;function U(){return ee}const ve=new g.OlP("DocumentToken");let pe=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:W,token:i,providedIn:"platform"}),i})();function W(){return(0,g.LFG)(F)}const k=new g.OlP("Location Initialized");let F=(()=>{class i extends pe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(r){const a=U().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=U().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,c){K()?this._history.pushState(r,a,c):this.location.hash=c}replaceState(r,a,c){K()?this._history.replaceState(r,a,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=(0,g.Yz7)({factory:Z,token:i,providedIn:"platform"}),i})();function K(){return!!window.history.pushState}function Z(){return new F((0,g.LFG)(ve))}function Y(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function fe(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function te(i){return i&&"?"!==i[0]?"?"+i:i}let X=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Oe,token:i,providedIn:"root"}),i})();function Oe(i){const n=(0,g.LFG)(ve).location;return new Se((0,g.LFG)(pe),n&&n.origin||"")}const Me=new g.OlP("appBaseHref");let Se=(()=>{class i extends X{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Y(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+te(this._platformLocation.search),c=this._platformLocation.hash;return c&&r?`${a}${c}`:a}pushState(r,a,c,h){const y=this.prepareExternalUrl(c+te(h));this._platformLocation.pushState(r,a,y)}replaceState(r,a,c,h){const y=this.prepareExternalUrl(c+te(h));this._platformLocation.replaceState(r,a,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(pe),g.LFG(Me,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Le=(()=>{class i extends X{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=Y(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,c,h){let y=this.prepareExternalUrl(c+te(h));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(r,a,y)}replaceState(r,a,c,h){let y=this.prepareExternalUrl(c+te(h));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(pe),g.LFG(Me,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ve=(()=>{class i{constructor(r,a){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const c=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=fe(Rt(c)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+te(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Rt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",c=null){this._platformStrategy.pushState(c,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+te(a)),c)}replaceState(r,a="",c=null){this._platformStrategy.replaceState(c,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+te(a)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformStrategy).historyGo)||void 0===c||c.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(c=>c(r,a))}subscribe(r,a,c){return this._subject.subscribe({next:r,error:a,complete:c})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(X),g.LFG(pe))},i.normalizeQueryParams=te,i.joinWithSlash=Y,i.stripTrailingSlash=fe,i.\u0275prov=(0,g.Yz7)({factory:ke,token:i,providedIn:"root"}),i})();function ke(){return new Ve((0,g.LFG)(X),(0,g.LFG)(pe))}function Rt(i){return i.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))();const Tr=g.kL8;class mr{}let co=(()=>{class i extends mr{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(Tr(a||this.locale)(r)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.soG))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),us=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new jr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class jr{constructor(){this.$implicit=null,this.ngIf=null}}function qt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,g.AaK)(n)}'.`)}let b_=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[{provide:mr,useClass:co}]}),i})();function mu(i){return"server"===i}let yu=(()=>{class i{}return i.\u0275prov=(0,g.Yz7)({token:i,providedIn:"root",factory:()=>new tl((0,g.LFG)(ve),window)}),i})();class tl{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=a.currentNode;for(;c;){const h=c.shadowRoot;if(h){const y=h.getElementById(n)||h.querySelector(`[name="${n}"]`);if(y)return y}c=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,c=r.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(a-h[0],c-h[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=_u(this.window.history)||_u(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function _u(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class po extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new po,ee||(ee=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(As=As||document.querySelector("base"),As?As.getAttribute("href"):null);return null==r?null:function(i){il=il||document.createElement("a"),il.setAttribute("href",i);const n=il.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){As=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[c,h]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(c.trim()===n)return decodeURIComponent(h)}return null}(document.cookie,n)}}let il,As=null;const ig=new g.OlP("TRANSITION_ID"),ol=[{provide:g.ip1,useFactory:function(i,n,r){return()=>{r.get(g.CZH).donePromise.then(()=>{const a=U(),c=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<c.length;h++)a.remove(c[h])})}},deps:[ig,ve,g.zs3],multi:!0}];class tn{static init(){(0,g.VLi)(new tn)}addToWindow(n){g.dqk.getAngularTestability=(a,c=!0)=>{const h=n.findTestabilityInTree(a,c);if(null==h)throw new Error("Could not find testability for element.");return h},g.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(a=>{const c=g.dqk.getAllAngularTestabilities();let h=c.length,y=!1;const w=function(D){y=y||D,h--,0==h&&a(y)};c.forEach(function(D){D.whenStable(w)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const c=n.getTestability(r);return null!=c?c:a?U().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let sg=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const go=new g.OlP("EventManagerPlugins");let Du=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(c=>c.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,c){return this._findPluginFor(a).addEventListener(r,a,c)}addGlobalEventListener(r,a,c){return this._findPluginFor(a).addGlobalEventListener(r,a,c)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const c=this._plugins;for(let h=0;h<c.length;h++){const y=c[h];if(y.supports(r))return this._eventNameToPlugin.set(r,y),y}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(go),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Tu{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const c=U().getGlobalEventTarget(this._doc,n);if(!c)throw new Error(`Unsupported event target ${c} for event ${r}`);return this.addEventListener(c,r,a)}}let Th=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),a.add(c))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),mo=(()=>{class i extends Th{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,c){r.forEach(h=>{const y=this._doc.createElement("style");y.textContent=h,c.push(a.appendChild(y))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(ag),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,c)=>{this._addStylesToHost(r,c,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(ag))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function ag(i){U().remove(i)}const be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xt=/%COMP%/g;function Ns(i,n,r){for(let a=0;a<n.length;a++){let c=n[a];Array.isArray(c)?Ns(i,c,r):(c=c.replace(xt,i),r.push(c))}return r}function T_(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let ga=(()=>{class i{constructor(r,a,c){this.eventManager=r,this.sharedStylesHost=a,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Ms(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case g.ifc.Emulated:{let c=this.rendererByCompId.get(a.id);return c||(c=new Os(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,c)),c.applyToHost(r),c}case 1:case g.ifc.ShadowDom:return new ds(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const c=Ns(a.id,a.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Du),g.LFG(mo),g.LFG(g.AFp))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Ms{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(be[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,c){if(c){r=c+":"+r;const h=be[c];h?n.setAttributeNS(h,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const c=be[a];c?n.removeAttributeNS(c,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,c){c&(g.JOm.DashCase|g.JOm.Important)?n.style.setProperty(r,a,c&g.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&g.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,T_(a)):this.eventManager.addEventListener(n,r,T_(a))}}class Os extends Ms{constructor(n,r,a,c){super(n),this.component=a;const h=Ns(c+"-"+a.id,a.styles,[]);r.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(xt,c+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(xt,i)}(c+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class ds extends Ms{constructor(n,r,a,c){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Ns(c.id,c.styles,[]);for(let y=0;y<h.length;y++){const w=document.createElement("style");w.textContent=h[y],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Rh=(()=>{class i extends Tu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,c){return r.addEventListener(a,c,!1),()=>this.removeEventListener(r,a,c)}removeEventListener(r,a,c){return r.removeEventListener(a,c)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const xu=["alt","control","meta","shift"],hg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let _o=(()=>{class i extends Tu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,c){const h=i.parseEventName(a),y=i.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(r,h.domEventName,y))}static parseEventName(r){const a=r.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const h=i._normalizeKey(a.pop());let y="";if(xu.forEach(D=>{const A=a.indexOf(D);A>-1&&(a.splice(A,1),y+=D+".")}),y+=h,0!=a.length||0===h.length)return null;const w={};return w.domEventName=c,w.fullKey=y,w}static getEventFullKey(r){let a="",c=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&fg.hasOwnProperty(n)&&(n=fg[n]))}return hg[n]||n}(r);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),xu.forEach(h=>{h!=c&&xr[h](r)&&(a+=h+".")}),a+=c,a}static eventCallback(r,a,c){return h=>{i.getEventFullKey(h)===r&&c.runGuarded(()=>a(h))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ve))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const M_=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){po.makeCurrent(),tn.init()},multi:!0},{provide:ve,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Ps=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:go,useClass:Rh,multi:!0,deps:[ve,g.R0b,g.Lbi]},{provide:go,useClass:_o,multi:!0,deps:[ve]},[],{provide:ga,useClass:ga,deps:[Du,mo,g.AFp]},{provide:g.FYo,useExisting:ga},{provide:Th,useExisting:mo},{provide:mo,useClass:mo,deps:[ve]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Du,useClass:Du,deps:[go,g.R0b]},{provide:class{},useClass:sg,deps:[]},[]];let Nu=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:g.AFp,useValue:r.appId},{provide:ig,useExisting:g.AFp},ol]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(i,12))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:Ps,imports:[b_,g.hGG]}),i})();"undefined"!=typeof window&&window;var Wt=L(4402),Xe=L(5917),fs=L(9765),Fs=L(7971);class qr extends fs.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Fs.N;return this._value}next(n){super.next(this._value=n)}}var _a=L(4869),vo=L(9796),_r=L(7393);class P_ extends _r.L{notifyNext(n,r,a,c,h){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class k_ extends _r.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var va=L(7444),zr=L(7574);function yg(i,n,r,a,c=new k_(i,r,a)){if(!c.closed)return n instanceof zr.y?n.subscribe(c):(0,va.s)(n)(c)}var F_=L(6693);const gl={};class Ea{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new _g(n,this.resultSelector))}}class _g extends P_{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(gl),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(yg(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const c=this.values,y=this.toRespond?c[a]===gl?--this.toRespond:this.toRespond:0;c[a]=r,0===y&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const ku=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var li=L(3282);function Fu(...i){return(0,li.J)(1)((0,Xe.of)(...i))}var $i=L(9193);function ps(i){return new zr.y(n=>{let r;try{r=i()}catch(c){return void n.error(c)}return(r?(0,Wt.D)(r):(0,$i.c)()).subscribe(n)})}var wa=L(2441),lt=L(8002),Gi=L(5345);function An(i,n){return"function"==typeof n?r=>r.pipe(An((a,c)=>(0,Wt.D)(i(a,c)).pipe((0,lt.U)((h,y)=>n(a,h,c,y))))):r=>r.lift(new Eo(i))}class Eo{constructor(n){this.project=n}call(n,r){return r.subscribe(new V_(n,this.project))}}class V_ extends Gi.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(c){return void this.destination.error(c)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new Gi.IY(this),c=this.destination;c.add(a),this.innerSubscription=(0,Gi.ft)(n,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Eg=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function wg(i){return n=>0===i?(0,$i.c)():n.lift(new Hh(i))}class Hh{constructor(n){if(this.total=n,this.total<0)throw new Eg}call(n,r){return r.subscribe(new En(n,this.total))}}class En extends _r.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function Ca(...i){const n=i[i.length-1];return(0,_a.K)(n)?(i.pop(),r=>Fu(i,r,n)):r=>Fu(i,r)}function ba(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(c){return c.lift(new Cg(i,n,r))}}class Cg{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new IC(n,this.accumulator,this.seed,this.hasSeed))}}class IC extends _r.L{constructor(n,r,a,c){super(n),this.accumulator=r,this._seed=a,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(c){this.destination.error(c)}this.seed=a,this.destination.next(a)}}function qi(i,n){return function(a){return a.lift(new $h(i,n))}}class $h{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new bg(n,this.predicate,this.thisArg))}}class bg extends _r.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}function Ia(i){return function(r){const a=new Ig(i),c=r.lift(a);return a.caught=c}}class Ig{constructor(n){this.selector=n}call(n,r){return r.subscribe(new yl(n,this.selector,this.caught))}}class yl extends Gi.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const a=new Gi.IY(this);this.add(a);const c=(0,Gi.ft)(r,a);c!==a&&this.add(c)}}}var xn=L(9773);function Di(i,n){return(0,xn.zg)(i,n,1)}function Dg(i){return function(r){return 0===i?(0,$i.c)():r.lift(new Pn(i))}}class Pn{constructor(n){if(this.total=n,this.total<0)throw new Eg}call(n,r){return r.subscribe(new _l(n,this.total))}}class _l extends _r.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,c=this.count++;r.length<a?r.push(n):r[c%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,c=this.ring;for(let h=0;h<a;h++){const y=r++%a;n.next(c[y])}}n.complete()}}function wo(i=di){return n=>n.lift(new U_(i))}class U_{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new B_(n,this.errorFactory))}}class B_ extends _r.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function di(){return new ku}function Wr(i=null){return n=>n.lift(new vl(i))}class vl{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new gs(n,this.defaultValue))}}class gs extends _r.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ms=L(4487);function ys(i,n){const r=arguments.length>=2;return a=>a.pipe(i?qi((c,h)=>i(c,h,a)):ms.y,wg(1),r?Wr(n):wo(()=>new ku))}var Zr=L(3342),Tg=L(1307),j_=L(5319);class vr{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Lu(n,this.callback))}}class Lu extends _r.L{constructor(n,r){super(n),this.add(new j_.w(r))}}class rr{constructor(n,r){this.id=n,this.url=r}}class Ag extends rr{constructor(n,r,a="imperative",c=null){super(n,r),this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ls extends rr{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gh extends rr{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class H_ extends rr{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $_ extends rr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qh extends rr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G_ extends rr{constructor(n,r,a,c,h){super(n,r),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vu extends rr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uu extends rr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bu{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class q_{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Co{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zh{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wl{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cl{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const It="primary";class ju{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Hu(i){return new ju(i)}const $u="ngNavigationCancelingError";function Us(i){const n=Error("NavigationCancelingError: "+i);return n[$u]=!0,n}function z_(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const c={};for(let h=0;h<a.length;h++){const y=a[h],w=i[h];if(y.startsWith(":"))c[y.substring(1)]=w;else if(y!==w.path)return null}return{consumed:i.slice(0,a.length),posParams:c}}function Kr(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let c;for(let h=0;h<r.length;h++)if(c=r[h],!W_(i[c],n[c]))return!1;return!0}function W_(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((c,h)=>a[h]===c)}return i===n}function Bs(i){return Array.prototype.concat.apply([],i)}function Da(i){return i.length>0?i[i.length-1]:null}function Bn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function Ti(i){return(0,g.CqO)(i)?i:(0,g.QGY)(i)?(0,Wt.D)(Promise.resolve(i)):(0,Xe.of)(i)}const Ta={exact:function Rg(i,n,r){if(!Do(i.segments,n.segments)||!zu(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!Rg(i.children[a],n.children[a],r))return!1;return!0},subset:bl},Yr={exact:function(i,n){return Kr(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>W_(i[r],n[r]))},ignored:()=>!0};function Gu(i,n,r){return Ta[r.paths](i.root,n.root,r.matrixParams)&&Yr[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function bl(i,n,r){return qu(i,n,n.segments,r)}function qu(i,n,r,a){if(i.segments.length>r.length){const c=i.segments.slice(0,r.length);return!(!Do(c,r)||n.hasChildren()||!zu(c,r,a))}if(i.segments.length===r.length){if(!Do(i.segments,r)||!zu(i.segments,r,a))return!1;for(const c in n.children)if(!i.children[c]||!bl(i.children[c],n.children[c],a))return!1;return!0}{const c=r.slice(0,i.segments.length),h=r.slice(i.segments.length);return!!(Do(i.segments,c)&&zu(i.segments,c,a)&&i.children[It])&&qu(i.children[It],n,h,a)}}function zu(i,n,r){return n.every((a,c)=>Yr[r](i[c].parameters,a.parameters))}class Io{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hu(this.queryParams)),this._queryParamMap}toString(){return TC.serialize(this)}}class Dt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Bn(r,(a,c)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dl(this)}}class zi{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Hu(this.parameters)),this._parameterMap}toString(){return K_(this)}}function Do(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class Il{}class Wh{parse(n){const r=new So(n);return new Io(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${Zu(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(c=>`${_s(r)}=${_s(c)}`).join("&"):`${_s(r)}=${_s(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const TC=new Wh;function Dl(i){return i.segments.map(n=>K_(n)).join("/")}function Zu(i,n){if(!i.hasChildren())return Dl(i);if(n){const r=i.children[It]?Zu(i.children[It],!1):"",a=[];return Bn(i.children,(c,h)=>{h!==It&&a.push(`${h}:${Zu(c,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return Bn(i.children,(a,c)=>{c===It&&(r=r.concat(n(a,c)))}),Bn(i.children,(a,c)=>{c!==It&&(r=r.concat(n(a,c)))}),r}(i,(a,c)=>c===It?[Zu(i.children[It],!1)]:[`${c}:${Zu(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[It]?`${Dl(i)}/${r[0]}`:`${Dl(i)}/(${r.join("//")})`}}function Mg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _s(i){return Mg(i).replace(/%3B/gi,";")}function Wi(i){return Mg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tl(i){return decodeURIComponent(i)}function Kh(i){return Tl(i.replace(/\+/g,"%20"))}function K_(i){return`${Wi(i.path)}${function(i){return Object.keys(i).map(n=>`;${Wi(n)}=${Wi(i[n])}`).join("")}(i.parameters)}`}const Og=/^[^\/()?;=#]+/;function Ku(i){const n=i.match(Og);return n?n[0]:""}const Pg=/^[^=?&#]+/,Y_=/^[^?&#]+/;class So{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[It]=new Dt(n,r)),a}parseSegment(){const n=Ku(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new zi(Tl(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=Ku(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const c=Ku(this.remaining);c&&(a=c,this.capture(a))}n[Tl(r)]=Tl(a)}parseQueryParam(n){const r=function(i){const n=i.match(Pg);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const y=function(i){const n=i.match(Y_);return n?n[0]:""}(this.remaining);y&&(a=y,this.capture(a))}const c=Kh(r),h=Kh(a);if(n.hasOwnProperty(c)){let y=n[c];Array.isArray(y)||(y=[y],n[c]=y),y.push(h)}else n[c]=h}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Ku(this.remaining),c=this.remaining[a.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let h;a.indexOf(":")>-1?(h=a.substr(0,a.indexOf(":")),this.capture(h),this.capture(":")):n&&(h=It);const y=this.parseChildren();r[h]=1===Object.keys(y).length?y[It]:new Dt([],y),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class kg{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=Qh(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=Qh(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=Qr(n,this._root);return r.length<2?[]:r[r.length-2].children.map(c=>c.value).filter(c=>c!==n)}pathFromRoot(n){return Qr(n,this._root).map(r=>r.value)}}function Qh(i,n){if(i===n.value)return n;for(const r of n.children){const a=Qh(i,r);if(a)return a}return null}function Qr(i,n){if(i===n.value)return[n];for(const r of n.children){const a=Qr(i,r);if(a.length)return a.unshift(n),a}return[]}class Rr{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function Hs(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class Fg extends kg{constructor(n,r){super(n),this.snapshot=r,Xh(this,n)}toString(){return this.snapshot.toString()}}function Lg(i,n){const r=function(i,n){const y=new Al([],{},{},"",{},It,n,null,i.root,-1,{});return new Ug("",new Rr(y,[]))}(i,n),a=new qr([new zi("",{})]),c=new qr({}),h=new qr({}),y=new qr({}),w=new qr(""),D=new Aa(a,c,y,w,h,It,n,r.root);return D.snapshot=r.root,new Fg(new Rr(D,[]),r)}class Aa{constructor(n,r,a,c,h,y,w,D){this.url=n,this.params=r,this.queryParams=a,this.fragment=c,this.data=h,this.outlet=y,this.component=w,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(n=>Hu(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(n=>Hu(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vg(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const c=r[a],h=r[a-1];if(c.routeConfig&&""===c.routeConfig.path)a--;else{if(h.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class Al{constructor(n,r,a,c,h,y,w,D,A,R,P){this.url=n,this.params=r,this.queryParams=a,this.fragment=c,this.data=h,this.outlet=y,this.component=w,this.routeConfig=D,this._urlSegment=A,this._lastPathIndex=R,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ug extends kg{constructor(n,r){super(r),this.url=n,Xh(this,r)}toString(){return Bg(this._root)}}function Xh(i,n){n.value._routerState=i,n.children.forEach(r=>Xh(i,r))}function Bg(i){const n=i.children.length>0?` { ${i.children.map(Bg).join(", ")} } `:"";return`${i.value}${n}`}function jg(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Kr(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Kr(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Kr(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Kr(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function xl(i,n){return Kr(i.params,n.params)&&function(i,n){return Do(i,n)&&i.every((r,a)=>Kr(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||xl(i.parent,n.parent))}function Yu(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const c=function(i,n,r){return n.children.map(a=>{for(const c of r.children)if(i.shouldReuseRoute(a.value,c.value.snapshot))return Yu(i,a,c);return Yu(i,a)})}(i,n,r);return new Rr(a,c)}{if(i.shouldAttach(n.value)){const h=i.retrieve(n.value);if(null!==h){const y=h.route;return Si(n,y),y}}const a=function(i){return new Aa(new qr(i.url),new qr(i.params),new qr(i.queryParams),new qr(i.fragment),new qr(i.data),i.outlet,i.component,i)}(n.value),c=n.children.map(h=>Yu(i,h));return new Rr(a,c)}}function Si(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Si(i.children[r],n.children[r])}function Qu(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Ro(i){return"object"==typeof i&&null!=i&&i.outlets}function $g(i,n,r,a,c){let h={};return a&&Bn(a,(y,w)=>{h[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),new Io(r.root===i?n:Q_(r.root,i,n),h,c)}function Q_(i,n,r){const a={};return Bn(i.children,(c,h)=>{a[h]=c===n?r:Q_(c,n,r)}),new Dt(i.segments,a)}class Nl{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&Qu(a[0]))throw new Error("Root segment cannot have matrix parameters");const c=a.find(Ro);if(c&&c!==Da(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ju{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function Xu(i,n,r){if(i||(i=new Dt([],{})),0===i.segments.length&&i.hasChildren())return Ol(i,n,r);const a=function(i,n,r){let a=0,c=n;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(a>=r.length)return h;const y=i.segments[c],w=r[a];if(Ro(w))break;const D=`${w}`,A=a<r.length-1?r[a+1]:null;if(c>0&&void 0===D)break;if(D&&A&&"object"==typeof A&&void 0===A.outlets){if(!tf(D,A,y))return h;a+=2}else{if(!tf(D,{},y))return h;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}(i,n,r),c=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const h=new Dt(i.segments.slice(0,a.pathIndex),{});return h.children[It]=new Dt(i.segments.slice(a.pathIndex),i.children),Ol(h,0,c)}return a.match&&0===c.length?new Dt(i.segments,{}):a.match&&!i.hasChildren()?ef(i,n,r):a.match?Ol(i,0,c):ef(i,n,r)}function Ol(i,n,r){if(0===r.length)return new Dt(i.segments,{});{const a=function(i){return Ro(i[0])?i[0].outlets:{[It]:i}}(r),c={};return Bn(a,(h,y)=>{"string"==typeof h&&(h=[h]),null!==h&&(c[y]=Xu(i.children[y],n,h))}),Bn(i.children,(h,y)=>{void 0===a[y]&&(c[y]=h)}),new Dt(i.segments,c)}}function ef(i,n,r){const a=i.segments.slice(0,n);let c=0;for(;c<r.length;){const h=r[c];if(Ro(h)){const D=zg(h.outlets);return new Dt(a,D)}if(0===c&&Qu(r[0])){a.push(new zi(i.segments[n].path,ec(r[0]))),c++;continue}const y=Ro(h)?h.outlets[It]:`${h}`,w=c<r.length-1?r[c+1]:null;y&&w&&Qu(w)?(a.push(new zi(y,ec(w))),c+=2):(a.push(new zi(y,{})),c++)}return new Dt(a,{})}function zg(i){const n={};return Bn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=ef(new Dt([],{}),0,r))}),n}function ec(i){const n={};return Bn(i,(r,a)=>n[a]=`${r}`),n}function tf(i,n,r){return i==r.path&&Kr(n,r.parameters)}class nf{constructor(n,r,a,c){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=c}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),jg(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const c=Hs(r);n.children.forEach(h=>{const y=h.value.outlet;this.deactivateRoutes(h,c[y],a),delete c[y]}),Bn(c,(h,y)=>{this.deactivateRouteAndItsChildren(h,a)})}deactivateRoutes(n,r,a){const c=n.value,h=r?r.value:null;if(c===h)if(c.component){const y=a.getContext(c.outlet);y&&this.deactivateChildRoutes(n,r,y.children)}else this.deactivateChildRoutes(n,r,a);else h&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const c=a.outlet.detach(),h=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:h})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),c=a&&n.value.component?a.children:r,h=Hs(n);for(const y of Object.keys(h))this.deactivateRouteAndItsChildren(h[y],c);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const c=Hs(r);n.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],a),this.forwardEvent(new wl(h.value.snapshot))}),n.children.length&&this.forwardEvent(new zh(n.value.snapshot))}activateRoutes(n,r,a){const c=n.value,h=r?r.value:null;if(jg(c),c===h)if(c.component){const y=a.getOrCreateContext(c.outlet);this.activateChildRoutes(n,r,y.children)}else this.activateChildRoutes(n,r,a);else if(c.component){const y=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const w=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),y.children.onOutletReAttached(w.contexts),y.attachRef=w.componentRef,y.route=w.route.value,y.outlet&&y.outlet.attach(w.componentRef,w.route.value),Jt(w.route)}else{const w=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(c.snapshot),D=w?w.module.componentFactoryResolver:null;y.attachRef=null,y.route=c,y.resolver=D,y.outlet&&y.outlet.activateWith(c,D),this.activateChildRoutes(n,null,y.children)}}else this.activateChildRoutes(n,null,a)}}function Jt(i){jg(i.value),i.children.forEach(Jt)}class rf{constructor(n,r){this.routes=n,this.module=r}}function hi(i){return"function"==typeof i}function Ai(i){return i instanceof Io}const kl=Symbol("INITIAL_VALUE");function tc(){return An(i=>function(...i){let n,r;return(0,_a.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,vo.k)(i[0])&&(i=i[0]),(0,F_.n)(i,r).lift(new Ea(n))}(i.map(n=>n.pipe(wg(1),Ca(kl)))).pipe(ba((n,r)=>{let a=!1;return r.reduce((c,h,y)=>c!==kl?c:(h===kl&&(a=!0),a||!1!==h&&y!==r.length-1&&!Ai(h)?c:h),n)},kl),qi(n=>n!==kl),(0,lt.U)(n=>Ai(n)?n:!0===n),wg(1)))}let xa=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&g._UZ(0,"router-outlet")},directives:function(){return[dv]},encapsulation:2}),i})();function fn(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];Fl(a,Kg(n,a))}}function Fl(i,n){i.children&&fn(i.children,n)}function Kg(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function Ll(i){const n=i.children&&i.children.map(Ll),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==It&&(r.component=xa),r}function zt(i){return i.outlet||It}function No(i,n){const r=i.filter(a=>zt(a)===n);return r.push(...i.filter(a=>zt(a)!==n)),r}const Kn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ra(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},Kn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(n.matcher||z_)(r,i,n);if(!h)return Object.assign({},Kn);const y={};Bn(h.posParams,(D,A)=>{y[A]=D.path});const w=h.consumed.length>0?Object.assign(Object.assign({},y),h.consumed[h.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:w,positionalParamSegments:null!==(a=h.posParams)&&void 0!==a?a:{}}}function Na(i,n,r,a,c="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>Ma(i,n,a)&&zt(a)!==It)}(i,r,a)){const y=new Dt(n,function(i,n,r,a){const c={};c[It]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const h of r)if(""===h.path&&zt(h)!==It){const y=new Dt([],{});y._sourceSegment=i,y._segmentIndexShift=n.length,c[zt(h)]=y}return c}(i,n,a,new Dt(r,i.children)));return y._sourceSegment=i,y._segmentIndexShift=n.length,{segmentGroup:y,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>Ma(i,n,a))}(i,r,a)){const y=new Dt(i.segments,function(i,n,r,a,c,h){const y={};for(const w of a)if(Ma(i,r,w)&&!c[zt(w)]){const D=new Dt([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===h?i.segments.length:n.length,y[zt(w)]=D}return Object.assign(Object.assign({},c),y)}(i,n,r,a,i.children,c));return y._sourceSegment=i,y._segmentIndexShift=n.length,{segmentGroup:y,slicedSegments:r}}const h=new Dt(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:r}}function Ma(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function af(i,n,r,a){return!!(zt(i)===a||a!==It&&Ma(n,r,i))&&("**"===i.path||Ra(n,i,r).matched)}function Ul(i,n,r){return 0===n.length&&!i.children[r]}class rc{constructor(n){this.segmentGroup=n||null}}class uf{constructor(n){this.urlTree=n}}function Oa(i){return new zr.y(n=>n.error(new rc(i)))}function cf(i){return new zr.y(n=>n.error(new uf(i)))}function C(i){return new zr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class b{constructor(n,r,a,c,h){this.configLoader=r,this.urlSerializer=a,this.urlTree=c,this.config=h,this.allowRedirects=!0,this.ngModule=n.get(g.h0i)}apply(){const n=Na(this.urlTree.root,[],[],this.config).segmentGroup,r=new Dt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,It).pipe((0,lt.U)(h=>this.createUrlTree(M(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ia(h=>{if(h instanceof uf)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof rc?this.noMatchError(h):h}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,It).pipe((0,lt.U)(c=>this.createUrlTree(M(c),n.queryParams,n.fragment))).pipe(Ia(c=>{throw c instanceof rc?this.noMatchError(c):c}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const c=n.segments.length>0?new Dt([],{[It]:n}):n;return new Io(c,r,a)}expandSegmentGroup(n,r,a,c){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,lt.U)(h=>new Dt([],h))):this.expandSegment(n,a,r,a.segments,c,!0)}expandChildren(n,r,a){const c=[];for(const h of Object.keys(a.children))"primary"===h?c.unshift(h):c.push(h);return(0,Wt.D)(c).pipe(Di(h=>{const y=a.children[h],w=No(r,h);return this.expandSegmentGroup(n,w,y,h).pipe((0,lt.U)(D=>({segment:D,outlet:h})))}),ba((h,y)=>(h[y.outlet]=y.segment,h),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?qi((c,h)=>i(c,h,a)):ms.y,Dg(1),r?Wr(n):wo(()=>new ku))}())}expandSegment(n,r,a,c,h,y){return(0,Wt.D)(a).pipe(Di(w=>this.expandSegmentAgainstRoute(n,r,a,w,c,h,y).pipe(Ia(A=>{if(A instanceof rc)return(0,Xe.of)(null);throw A}))),ys(w=>!!w),Ia((w,D)=>{if(w instanceof ku||"EmptyError"===w.name){if(Ul(r,c,h))return(0,Xe.of)(new Dt([],{}));throw new rc(r)}throw w}))}expandSegmentAgainstRoute(n,r,a,c,h,y,w){return af(c,r,h,y)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(n,r,c,h,y):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,c,h,y):Oa(r):Oa(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,c,h,y){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,c,y):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,c,h,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,c){const h=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?cf(h):this.lineralizeSegments(a,h).pipe((0,xn.zg)(y=>{const w=new Dt(y,{});return this.expandSegment(n,w,r,y,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,c,h,y){const{matched:w,consumedSegments:D,lastChild:A,positionalParamSegments:R}=Ra(r,c,h);if(!w)return Oa(r);const P=this.applyRedirectCommands(D,c.redirectTo,R);return c.redirectTo.startsWith("/")?cf(P):this.lineralizeSegments(c,P).pipe((0,xn.zg)(j=>this.expandSegment(n,r,a,j.concat(h.slice(A)),y,!1)))}matchSegmentAgainstRoute(n,r,a,c,h){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,Xe.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,lt.U)(j=>(a._loadedConfig=j,new Dt(c,{})))):(0,Xe.of)(new Dt(c,{}));const{matched:y,consumedSegments:w,lastChild:D}=Ra(r,a,c);if(!y)return Oa(r);const A=c.slice(D);return this.getChildConfig(n,a,c).pipe((0,xn.zg)(P=>{const j=P.module,z=P.routes,{segmentGroup:de,slicedSegments:Re}=Na(r,w,A,z),Be=new Dt(de.segments,de.children);if(0===Re.length&&Be.hasChildren())return this.expandChildren(j,z,Be).pipe((0,lt.U)(mt=>new Dt(w,mt)));if(0===z.length&&0===Re.length)return(0,Xe.of)(new Dt(w,{}));const ft=zt(a)===h;return this.expandSegment(j,Be,z,Re,ft?It:h,!0).pipe((0,lt.U)(it=>new Dt(w.concat(it.segments),it.children)))}))}getChildConfig(n,r,a){return r.children?(0,Xe.of)(new rf(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,Xe.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,xn.zg)(c=>{return c?this.configLoader.load(n.injector,r).pipe((0,lt.U)(h=>(r._loadedConfig=h,h))):(i=r,new zr.y(n=>n.error(Us(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Xe.of)(new rf([],n))}runCanLoadGuards(n,r,a){const c=r.canLoad;if(!c||0===c.length)return(0,Xe.of)(!0);const h=c.map(y=>{const w=n.get(y);let D;if((i=w)&&hi(i.canLoad))D=w.canLoad(r,a);else{if(!hi(w))throw new Error("Invalid CanLoad guard");D=w(r,a)}var i;return Ti(D)});return(0,Xe.of)(h).pipe(tc(),(0,Zr.b)(y=>{if(!Ai(y))return;const w=Us(`Redirecting to "${this.urlSerializer.serialize(y)}"`);throw w.url=y,w}),(0,lt.U)(y=>!0===y))}lineralizeSegments(n,r){let a=[],c=r.root;for(;;){if(a=a.concat(c.segments),0===c.numberOfChildren)return(0,Xe.of)(a);if(c.numberOfChildren>1||!c.children[It])return C(n.redirectTo);c=c.children[It]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,c){const h=this.createSegmentGroup(n,r.root,a,c);return new Io(h,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return Bn(n,(c,h)=>{if("string"==typeof c&&c.startsWith(":")){const w=c.substring(1);a[h]=r[w]}else a[h]=c}),a}createSegmentGroup(n,r,a,c){const h=this.createSegments(n,r.segments,a,c);let y={};return Bn(r.children,(w,D)=>{y[D]=this.createSegmentGroup(n,w,a,c)}),new Dt(h,y)}createSegments(n,r,a,c){return r.map(h=>h.path.startsWith(":")?this.findPosParam(n,h,c):this.findOrReturn(h,a))}findPosParam(n,r,a){const c=a[r.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return c}findOrReturn(n,r){let a=0;for(const c of r){if(c.path===n.path)return r.splice(a),c;a++}return n}}function M(i){const n={};for(const a of Object.keys(i.children)){const h=M(i.children[a]);(h.segments.length>0||h.hasChildren())&&(n[a]=h)}return function(i){if(1===i.numberOfChildren&&i.children[It]){const n=i.children[It];return new Dt(i.segments.concat(n.segments),n.children)}return i}(new Dt(i.segments,n))}class ge{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Pe{constructor(n,r){this.component=n,this.route=r}}function Ge(i,n,r){const a=i._root;return Zt(a,n?n._root:null,r,[a.value])}function Je(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function Zt(i,n,r,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=Hs(n);return i.children.forEach(y=>{(function(i,n,r,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,y=n?n.value:null,w=r?r.getContext(i.value.outlet):null;if(y&&h.routeConfig===y.routeConfig){const D=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Do(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Do(i.url,n.url)||!Kr(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xl(i,n)||!Kr(i.queryParams,n.queryParams);case"paramsChange":default:return!xl(i,n)}}(y,h,h.routeConfig.runGuardsAndResolvers);D?c.canActivateChecks.push(new ge(a)):(h.data=y.data,h._resolvedData=y._resolvedData),Zt(i,n,h.component?w?w.children:null:r,a,c),D&&w&&w.outlet&&w.outlet.isActivated&&c.canDeactivateChecks.push(new Pe(w.outlet.component,y))}else y&&Mo(n,w,c),c.canActivateChecks.push(new ge(a)),Zt(i,null,h.component?w?w.children:null:r,a,c)})(y,h[y.value.outlet],r,a.concat([y.value]),c),delete h[y.value.outlet]}),Bn(h,(y,w)=>Mo(y,r.getContext(w),c)),c}function Mo(i,n,r){const a=Hs(i),c=i.value;Bn(a,(h,y)=>{Mo(h,c.component?n?n.children.getContext(y):null:n,r)}),r.canDeactivateChecks.push(new Pe(c.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,c))}class Xg{}function tv(i){return new zr.y(n=>n.error(i))}class K1{constructor(n,r,a,c,h,y){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=y}recognize(){const n=Na(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,It);if(null===r)return null;const a=new Al([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new Rr(a,r),h=new Ug(this.url,c);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(n){const r=n.value,a=Vg(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const h of Object.keys(r.children)){const y=r.children[h],w=No(n,h),D=this.processSegmentGroup(w,y,h);if(null===D)return null;a.push(...D)}const c=NC(a);return c.sort((n,r)=>n.value.outlet===It?-1:r.value.outlet===It?1:n.value.outlet.localeCompare(r.value.outlet)),c}processSegment(n,r,a,c){for(const h of n){const y=this.processSegmentAgainstRoute(h,r,a,c);if(null!==y)return y}return Ul(r,a,c)?[]:null}processSegmentAgainstRoute(n,r,a,c){if(n.redirectTo||!af(n,r,a,c))return null;let h,y=[],w=[];if("**"===n.path){const z=a.length>0?Da(a).parameters:{};h=new Al(a,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sv(n),zt(n),n.component,n,jl(r),iv(r)+a.length,em(n))}else{const z=Ra(r,n,a);if(!z.matched)return null;y=z.consumedSegments,w=a.slice(z.lastChild),h=new Al(y,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sv(n),zt(n),n.component,n,jl(r),iv(r)+y.length,em(n))}const D=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:R}=Na(r,y,w,D.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);var i;if(0===R.length&&A.hasChildren()){const z=this.processChildren(D,A);return null===z?null:[new Rr(h,z)]}if(0===D.length&&0===R.length)return[new Rr(h,[])];const P=zt(n)===c,j=this.processSegment(D,A,R,P?It:c);return null===j?null:[new Rr(h,j)]}}function rv(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function NC(i){const n=[],r=new Set;for(const a of i){if(!rv(a)){n.push(a);continue}const c=n.find(h=>a.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...a.children),r.add(c)):n.push(a)}for(const a of r){const c=NC(a.children);n.push(new Rr(a.value,c))}return n.filter(a=>!r.has(a))}function jl(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function iv(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function sv(i){return i.data||{}}function em(i){return i.resolve||{}}function tm(i){return An(n=>{const r=i(n);return r?(0,Wt.D)(r).pipe((0,lt.U)(()=>n)):(0,Xe.of)(n)})}class nS extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const cv=new g.OlP("ROUTES");class OC{constructor(n,r,a,c){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=c}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactory(r.loadChildren).pipe((0,lt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);const y=h.create(n);return new rf(Bs(y.injector.get(cv,void 0,g.XFs.Self|g.XFs.Optional)).map(Ll),y)}),Ia(h=>{throw r._loader$=void 0,h}));return r._loader$=new wa.c(c,()=>new fs.xQ).pipe((0,Tg.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,Wt.D)(this.loader.load(n)):Ti(n()).pipe((0,xn.zg)(r=>r instanceof g.YKP?(0,Xe.of)(r):(0,Wt.D)(this.compiler.compileModuleAsync(r))))}}class rS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $l,this.attachRef=null}}class $l{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new rS,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class PC{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function lv(i){throw i}function kC(i,n,r){return n.parse("/")}function nm(i,n){return(0,Xe.of)(null)}const sS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jr=(()=>{class i{constructor(r,a,c,h,y,w,D,A){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=c,this.location=h,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fs.xQ,this.errorHandler=lv,this.malformedUriErrorHandler=kC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nm,afterPreactivation:nm},this.urlHandlingStrategy=new PC,this.routeReuseStrategy=new nS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=y.get(g.h0i),this.console=y.get(g.c2e);const j=y.get(g.R0b);this.isNgZoneEnabled=j instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new Io(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new OC(w,D,z=>this.triggerEvent(new Bu(z)),z=>this.triggerEvent(new q_(z))),this.routerState=Lg(this.currentUrlTree,this.rootComponentType),this.transitions=new qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(qi(c=>0!==c.id),(0,lt.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),An(c=>{let h=!1,y=!1;return(0,Xe.of)(c).pipe((0,Zr.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),An(w=>{const D=this.browserUrlTree.toString(),A=!this.navigated||w.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return Gs(w.source)&&(this.browserUrlTree=w.extractedUrl),(0,Xe.of)(w).pipe(An(P=>{const j=this.transitions.getValue();return a.next(new Ag(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),j!==this.transitions.getValue()?$i.E:Promise.resolve(P)}),function(i,n,r,a){return An(c=>function(i,n,r,a,c){return new b(i,n,r,a,c).apply()}(i,n,r,c.extractedUrl,a).pipe((0,lt.U)(h=>Object.assign(Object.assign({},c),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zr.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(i,n,r,a,c){return(0,xn.zg)(h=>function(i,n,r,a,c="emptyOnly",h="legacy"){try{const y=new K1(i,n,r,a,c,h).recognize();return null===y?tv(new Xg):(0,Xe.of)(y)}catch(y){return tv(y)}}(i,n,h.urlAfterRedirects,r(h.urlAfterRedirects),a,c).pipe((0,lt.U)(y=>Object.assign(Object.assign({},h),{targetSnapshot:y}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zr.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const j=new $_(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);a.next(j)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:z,source:de,restoredState:Re,extras:Be}=w,ft=new Ag(j,this.serializeUrl(z),de,Re);a.next(ft);const Ct=Lg(z,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},w),{targetSnapshot:Ct,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),$i.E}),tm(w=>{const{targetSnapshot:D,id:A,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:j,replaceUrl:z}}=w;return this.hooks.beforePreactivation(D,{navigationId:A,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!j,replaceUrl:!!z})}),(0,Zr.b)(w=>{const D=new qh(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),(0,lt.U)(w=>Object.assign(Object.assign({},w),{guards:Ge(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(i,n){return(0,xn.zg)(r=>{const{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:y}}=r;return 0===y.length&&0===h.length?(0,Xe.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,Wt.D)(i).pipe((0,xn.zg)(c=>function(i,n,r,a,c){const h=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,Xe.of)(!0);const y=h.map(w=>{const D=Je(w,n,c);let A;if(function(i){return i&&hi(i.canDeactivate)}(D))A=Ti(D.canDeactivate(i,n,r,a));else{if(!hi(D))throw new Error("Invalid CanDeactivate guard");A=Ti(D(i,n,r,a))}return A.pipe(ys())});return(0,Xe.of)(y).pipe(tc())}(c.component,c.route,r,n,a)),ys(c=>!0!==c,!0))}(y,a,c,i).pipe((0,xn.zg)(w=>w&&function(i){return"boolean"==typeof i}(w)?function(i,n,r,a){return(0,Wt.D)(n).pipe(Di(c=>Fu(function(i,n){return null!==i&&n&&n(new Co(i)),(0,Xe.of)(!0)}(c.route.parent,a),function(i,n){return null!==i&&n&&n(new Vs(i)),(0,Xe.of)(!0)}(c.route,a),function(i,n,r){const a=n[n.length-1],h=n.slice(0,n.length-1).reverse().map(y=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(y)).filter(y=>null!==y).map(y=>ps(()=>{const w=y.guards.map(D=>{const A=Je(D,y.node,r);let R;if(function(i){return i&&hi(i.canActivateChild)}(A))R=Ti(A.canActivateChild(a,i));else{if(!hi(A))throw new Error("Invalid CanActivateChild guard");R=Ti(A(a,i))}return R.pipe(ys())});return(0,Xe.of)(w).pipe(tc())}));return(0,Xe.of)(h).pipe(tc())}(i,c.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,Xe.of)(!0);const c=a.map(h=>ps(()=>{const y=Je(h,n,r);let w;if(function(i){return i&&hi(i.canActivate)}(y))w=Ti(y.canActivate(n,i));else{if(!hi(y))throw new Error("Invalid CanActivate guard");w=Ti(y(n,i))}return w.pipe(ys())}));return(0,Xe.of)(c).pipe(tc())}(i,c.route,r))),ys(c=>!0!==c,!0))}(a,h,i,n):(0,Xe.of)(w)),(0,lt.U)(w=>Object.assign(Object.assign({},r),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,Zr.b)(w=>{if(Ai(w.guardsResult)){const A=Us(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw A.url=w.guardsResult,A}const D=new G_(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(D)}),qi(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),tm(w=>{if(w.guards.canActivateChecks.length)return(0,Xe.of)(w).pipe((0,Zr.b)(D=>{const A=new Vu(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}),An(D=>{let A=!1;return(0,Xe.of)(D).pipe(function(i,n){return(0,xn.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:c}}=r;if(!c.length)return(0,Xe.of)(r);let h=0;return(0,Wt.D)(c).pipe(Di(y=>function(i,n,r,a){return function(i,n,r,a){const c=Object.keys(i);if(0===c.length)return(0,Xe.of)({});const h={};return(0,Wt.D)(c).pipe((0,xn.zg)(y=>function(i,n,r,a){const c=Je(i,n,a);return Ti(c.resolve?c.resolve(n,r):c(n,r))}(i[y],n,r,a).pipe((0,Zr.b)(w=>{h[y]=w}))),Dg(1),(0,xn.zg)(()=>Object.keys(h).length===c.length?(0,Xe.of)(h):$i.E))}(i._resolve,i,n,a).pipe((0,lt.U)(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),Vg(i,r).resolve),null)))}(y.route,a,i,n)),(0,Zr.b)(()=>h++),Dg(1),(0,xn.zg)(y=>h===c.length?(0,Xe.of)(r):$i.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zr.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,Zr.b)(D=>{const A=new Uu(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}))}),tm(w=>{const{targetSnapshot:D,id:A,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:j,replaceUrl:z}}=w;return this.hooks.afterPreactivation(D,{navigationId:A,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!j,replaceUrl:!!z})}),(0,lt.U)(w=>{const D=function(i,n,r){const a=Yu(i,n._root,r?r._root:void 0);return new Fg(a,n)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:D})}),(0,Zr.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((i,n,r)=>(0,lt.U)(a=>(new nf(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,Zr.b)({next(){h=!0},complete(){h=!0}}),function(i){return n=>n.lift(new vr(i))}(()=>{if(!h&&!y){const w=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,w)):this.cancelNavigationTransition(c,w)}this.currentNavigation=null}),Ia(w=>{if(y=!0,function(i){return i&&i[$u]}(w)){const D=Ai(w.url);D||(this.navigated=!0,this.restoreHistory(c,!0));const A=new Gh(c.id,this.serializeUrl(c.extractedUrl),w.message);a.next(A),D?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),P={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gs(c.source)};this.scheduleNavigation(R,"imperative",null,P,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const D=new H_(c.id,this.serializeUrl(c.extractedUrl),w);a.next(D);try{c.resolve(this.errorHandler(w))}catch(A){c.reject(A)}}return $i.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:c,state:h,urlTree:y}=a,w={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(w.state=D)}this.scheduleNavigation(y,c,h,w)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const c=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!c||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){fn(r),this.config=r.map(Ll),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:c,queryParams:h,fragment:y,queryParamsHandling:w,preserveFragment:D}=a,A=c||this.routerState.root,R=D?this.currentUrlTree.fragment:y;let P=null;switch(w){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=h||null}return null!==P&&(P=this.removeEmptyProps(P)),function(i,n,r,a,c){if(0===r.length)return $g(n.root,n.root,n,a,c);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Nl(!0,0,i);let n=0,r=!1;const a=i.reduce((c,h,y)=>{if("object"==typeof h&&null!=h){if(h.outlets){const w={};return Bn(h.outlets,(D,A)=>{w[A]="string"==typeof D?D.split("/"):D}),[...c,{outlets:w}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===y?(h.split("/").forEach((w,D)=>{0==D&&"."===w||(0==D&&""===w?r=!0:".."===w?n++:""!=w&&c.push(w))}),c):[...c,h]},[]);return new Nl(r,n,a)}(r);if(h.toRoot())return $g(n.root,new Dt([],{}),n,a,c);const y=function(i,n,r){if(i.isAbsolute)return new Ju(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const h=r.snapshot._urlSegment;return new Ju(h,h===n.root,0)}const a=Qu(i.commands[0])?0:1;return function(i,n,r){let a=i,c=n,h=r;for(;h>c;){if(h-=c,a=a.parent,!a)throw new Error("Invalid number of '../'");c=a.segments.length}return new Ju(a,!1,c-h)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(h,n,i),w=y.processChildren?Ol(y.segmentGroup,y.index,h.commands):Xu(y.segmentGroup,y.index,h.commands);return $g(y.segmentGroup,w,n,a,c)}(A,this.currentUrlTree,r,P,null!=R?R:null)}navigateByUrl(r,a={skipLocationChange:!1}){const c=Ai(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,r)}return a}isActive(r,a){let c;if(c=!0===a?Object.assign({},sS):!1===a?Object.assign({},oS):a,Ai(r))return Gu(this.currentUrlTree,r,c);const h=this.parseUrl(r);return Gu(this.currentUrlTree,h,c)}removeEmptyProps(r){return Object.keys(r).reduce((a,c)=>{const h=r[c];return null!=h&&(a[c]=h),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Ls(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,c,h,y){var w,D;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),R=Gs(a)&&A&&!Gs(A.source),z=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===r.toString();if(R&&z)return Promise.resolve(!0);let de,Re,Be;y?(de=y.resolve,Re=y.reject,Be=y.promise):Be=new Promise((it,mt)=>{de=it,Re=mt});const ft=++this.navigationId;let Ct;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Ct=c&&c.\u0275routerPageId?c.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Ct=0,this.setTransition({id:ft,targetPageId:Ct,source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:h,resolve:de,reject:Re,promise:Be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Be.catch(it=>Promise.reject(it))}setBrowserUrl(r,a){const c=this.urlSerializer.serialize(r),h=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl?this.location.replaceState(c,"",h):this.location.go(c,"",h)}restoreHistory(r,a=!1){var c,h;if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===y?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===y&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(y)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const c=new Gh(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(c),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.DyG),g.LFG(Il),g.LFG($l),g.LFG(Ve),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function Gs(i){return"imperative"!==i}let dv=(()=>{class i{constructor(r,a,c,h,y){this.parentContexts=r,this.location=a,this.resolver=c,this.changeDetector=y,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=h||It,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const y=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,D=new LC(r,w,this.location.injector);this.activated=this.location.createComponent(y,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36($l),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},i.\u0275dir=g.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class LC{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===Aa?this.route:n===$l?this.childContexts:this.parent.get(n,r)}}class hv{}class pv{preload(n,r){return(0,Xe.of)(null)}}let hf=(()=>{class i{constructor(r,a,c,h,y){this.router=r,this.injector=h,this.preloadingStrategy=y,this.loader=new OC(a,c,A=>r.triggerEvent(new Bu(A)),A=>r.triggerEvent(new q_(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(qi(r=>r instanceof Ls),Di(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(g.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const c=[];for(const h of a)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const y=h._loadedConfig;c.push(this.processRoutes(y.module,y.routes))}else h.loadChildren&&!h.canLoad?c.push(this.preloadConfig(r,h)):h.children&&c.push(this.processRoutes(r,h.children));return(0,Wt.D)(c).pipe((0,li.J)(),(0,lt.U)(h=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,Xe.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,xn.zg)(h=>(a._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Jr),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(hv))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),ql=(()=>{class i{constructor(r,a,c={}){this.router=r,this.viewportScroller=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Ag?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ls&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Cl&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new Cl(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Jr),g.LFG(yu),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Po=new g.OlP("ROUTER_CONFIGURATION"),gv=new g.OlP("ROUTER_FORROOT_GUARD"),ff=[Ve,{provide:Il,useClass:Wh},{provide:Jr,useFactory:function(i,n,r,a,c,h,y,w={},D,A){const R=new Jr(null,i,n,r,a,c,h,Bs(y));return D&&(R.urlHandlingStrategy=D),A&&(R.routeReuseStrategy=A),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(w,R),w.enableTracing&&R.events.subscribe(P=>{var j,z;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(z=console.groupEnd)||void 0===z||z.call(console)}),R},deps:[Il,$l,Ve,g.zs3,g.v3s,g.Sil,cv,Po,[class{},new g.FiY],[class{},new g.FiY]]},$l,{provide:Aa,useFactory:function(i){return i.routerState.root},deps:[Jr]},{provide:g.v3s,useClass:g.EAV},hf,pv,class{preload(n,r){return r().pipe(Ia(()=>(0,Xe.of)(null)))}},{provide:Po,useValue:{enableTracing:!1}}];function cS(){return new g.PXZ("Router",Jr)}let yv=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[ff,om(r),{provide:gv,useFactory:VC,deps:[[Jr,new g.FiY,new g.tp0]]},{provide:Po,useValue:a||{}},{provide:X,useFactory:dS,deps:[pe,[new g.tBr(Me),new g.FiY],Po]},{provide:ql,useFactory:lS,deps:[Jr,yu,Po]},{provide:hv,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:pv},{provide:g.PXZ,multi:!0,useFactory:cS},[_v,{provide:g.ip1,multi:!0,useFactory:jC,deps:[_v]},{provide:HC,useFactory:hS,deps:[_v]},{provide:g.tb,multi:!0,useExisting:HC}]]}}static forChild(r){return{ngModule:i,providers:[om(r)]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(gv,8),g.LFG(Jr,8))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();function lS(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new ql(i,n,r)}function dS(i,n,r={}){return r.useHash?new Le(i,n):new Se(i,n)}function VC(i){return"guarded"}function om(i){return[{provide:g.deG,multi:!0,useValue:i},{provide:cv,multi:!0,useValue:i}]}let _v=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fs.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const c=new Promise(w=>a=w),h=this.injector.get(Jr),y=this.injector.get(Po);return"disabled"===y.initialNavigation?(h.setUpLocationChangeListener(),a(!0)):"enabled"===y.initialNavigation||"enabledBlocking"===y.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),h.initialNavigation()):a(!0),c})}bootstrapListener(r){const a=this.injector.get(Po),c=this.injector.get(hf),h=this.injector.get(ql),y=this.injector.get(Jr),w=this.injector.get(g.z2F);r===w.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&y.initialNavigation(),c.setUpPreloading(),h.init(),y.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function jC(i){return i.appInitializer.bind(i)}function hS(i){return i.bootstrapListener.bind(i)}const HC=new g.OlP("Router Initializer"),$C=[];let fS=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[yv.forRoot($C)],yv]}),i})();var pS=L(1555);function am(i,n){return new zr.y(r=>{const a=i.length;if(0===a)return void r.complete();const c=new Array(a);let h=0,y=0;for(let w=0;w<a;w++){const D=(0,Wt.D)(i[w]);let A=!1;r.add(D.subscribe({next:R=>{A||(A=!0,y++),c[w]=R},error:R=>r.error(R),complete:()=>{h++,(h===a||!A)&&(y===a&&r.next(n?n.reduce((R,P,j)=>(R[P]=c[j],R),{}):c),r.complete())}}))}})}let vv=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i}),i})(),sc=(()=>{class i extends vv{}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();const Yi=new g.OlP("NgValueAccessor"),GC={provide:Yi,useExisting:(0,g.Gpc)(()=>Er),multi:!0},um=new g.OlP("CompositionEventMode");let Er=(()=>{class i extends vv{constructor(r,a,c){super(r,a),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=U()?U().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(um,8))},i.\u0275dir=g.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&g.NdJ("input",function(h){return a._handleInput(h.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(h){return a._compositionEnd(h.target.value)})},features:[g._Bn([GC]),g.qOj]}),i})();function ko(i){return null==i||0===i.length}const ir=new g.OlP("NgValidators"),Mr=new g.OlP("NgAsyncValidators");function oc(i){return null}function WC(i){return null!=i}function Cv(i){const n=(0,g.QGY)(i)?(0,Wt.D)(i):i;return(0,g.CqO)(n),n}function ES(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function ZC(i,n){return n.map(r=>r(i))}function bv(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function Dv(i){return null!=i?function(i){if(!i)return null;const n=i.filter(WC);return 0==n.length?null:function(r){return ES(ZC(r,n))}}(bv(i)):null}function KC(i){return null!=i?function(i){if(!i)return null;const n=i.filter(WC);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,vo.k)(n))return am(n,null);if((0,pS.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return am(r.map(a=>n[a]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return am(i=1===i.length&&(0,vo.k)(i[0])?i[0]:i,null).pipe((0,lt.U)(r=>n(...r)))}return am(i,null)}(ZC(r,n).map(Cv)).pipe((0,lt.U)(ES))}}(bv(i)):null}function wS(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function YC(i){return i?Array.isArray(i)?i:[i]:[]}function Tv(i,n){return Array.isArray(i)?i.includes(n):i===n}function IS(i,n){const r=YC(n);return YC(i).forEach(c=>{Tv(r,c)||r.push(c)}),r}function DS(i,n){return YC(n).filter(r=>!Tv(i,r))}let TS=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Dv(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=KC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i}),i})(),fi=(()=>{class i extends TS{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=g.n5z(i)))(a||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();class Pa extends TS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fo{constructor(n){this._cd=n}is(n){var r,a,c;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(c=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===c?void 0:c[n])}}let zl=(()=>{class i extends Fo{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Pa,2))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&g.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[g.qOj]}),i})(),mf=(()=>{class i extends Fo{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(fi,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){2&r&&g.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))("ng-submitted",a.is("submitted"))},features:[g.qOj]}),i})();function Ws(i,n){Fa(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&pm(i,n)})}(i,n),function(i,n){const r=(a,c)=>{n.valueAccessor.writeValue(a),c&&n.viewToModelUpdate(a)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&pm(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Lo(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Fa(i,n){const r=function(i){return i._rawValidators}(i);null!==n.validator?i.setValidators(wS(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const a=function(i){return i._rawAsyncValidators}(i);null!==n.asyncValidator?i.setAsyncValidators(wS(a,n.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const c=()=>i.updateValueAndValidity();Lo(n._rawValidators,c),Lo(n._rawAsyncValidators,c)}function pm(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function _f(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const vf="VALID",Or="INVALID",Kl="PENDING",Ef="DISABLED";function sb(i){return(wf(i)?i.validators:i)||null}function Nv(i){return Array.isArray(i)?Dv(i):i||null}function ob(i,n){return(wf(n)?n.asyncValidators:i)||null}function ab(i){return Array.isArray(i)?KC(i):i||null}function wf(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class mm{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=Nv(this._rawValidators),this._composedAsyncValidatorFn=ab(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===vf}get invalid(){return this.status===Or}get pending(){return this.status==Kl}get disabled(){return this.status===Ef}get enabled(){return this.status!==Ef}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=Nv(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=ab(n)}addValidators(n){this.setValidators(IS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(IS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(DS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(DS(n,this._rawAsyncValidators))}hasValidator(n){return Tv(this._rawValidators,n)}hasAsyncValidator(n){return Tv(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Kl,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Ef,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=vf,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vf||this.status===Kl)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ef:vf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Kl,this._hasOwnPendingAsyncValidator=!0;const r=Cv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let a=i;return n.forEach(c=>{a=a instanceof Mv?a.controls.hasOwnProperty(c)?a.controls[c]:null:a instanceof RS&&a.at(c)||null}),a}(this,n)}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Ef:this.errors?Or:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kl)?Kl:this._anyControlsHaveStatus(Or)?Or:vf}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){wf(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ym extends mm{constructor(n=null,r,a){super(sb(r),ob(a,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_f(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_f(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Mv extends mm{constructor(n,r,a){super(sb(r),ob(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,c)=>{a.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=r instanceof ym?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((c,h)=>{a=r(a,c,h)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class RS extends mm{constructor(n,r,a){super(sb(r),ob(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((a,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,c)=>{this.at(c)&&this.at(c).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,c)=>{a.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof ym?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const ub={provide:fi,useExisting:(0,g.Gpc)(()=>Cf)},Yl=(()=>Promise.resolve(null))();let Cf=(()=>{class i extends fi{constructor(r,a){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new g.vpe,this.form=new Mv({},Dv(r),KC(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Yl.then(()=>{const a=this._findContainer(r.path);r.control=a.registerControl(r.name,r.control),Ws(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Yl.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name),_f(this._directives,r)})}addFormGroup(r){Yl.then(()=>{const a=this._findContainer(r.path),c=new Mv({});(function(i,n){Fa(i,n)})(c,r),a.registerControl(r.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Yl.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,a){Yl.then(()=>{this.form.get(r.path).setValue(a)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function(i,n){i._syncPendingControls(),n.forEach(r=>{const a=r.control;"submit"===a.updateOn&&a._pendingChange&&(r.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(ir,10),g.Y36(Mr,10))},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,a){1&r&&g.NdJ("submit",function(h){return a.onSubmit(h)})("reset",function(){return a.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([ub]),g.qOj]}),i})();const OS={provide:Pa,useExisting:(0,g.Gpc)(()=>Ql)},Pv=(()=>Promise.resolve(null))();let Ql=(()=>{class i extends Pa{constructor(r,a,c,h){super(),this.control=new ym,this._registered=!1,this.update=new g.vpe,this._parent=r,this._setValidators(a),this._setAsyncValidators(c),this.valueAccessor=function(i,n){if(!n)return null;let r,a,c;return Array.isArray(n),n.forEach(h=>{h.constructor===Er?r=h:function(i){return Object.getPrototypeOf(i.constructor)===sc}(h)?a=h:c=h}),c||a||r||null}(0,h)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ws(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){Pv.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const a=r.isDisabled.currentValue,c=""===a||a&&"false"!==a;Pv.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(fi,9),g.Y36(ir,10),g.Y36(Mr,10),g.Y36(Yi,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([OS]),g.qOj,g.TTD]}),i})(),kv=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),bf=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();const Em=new g.OlP("NgModelWithFormControlWarning"),Cb={provide:ir,useExisting:(0,g.Gpc)(()=>Tf),multi:!0};let Tf=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?function(i){return ko(i.value)?{required:!0}:null}(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,a){2&r&&g.uIk("required",a.required?"":null)},inputs:{required:"required"},features:[g._Bn([Cb])]}),i})();const dR={provide:ir,useExisting:(0,g.Gpc)(()=>Dm),multi:!0};let Dm=(()=>{class i{constructor(){this._validator=oc}ngOnChanges(r){"pattern"in r&&(this._createValidator(),this._onChange&&this._onChange())}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}_createValidator(){this._validator=function(i){if(!i)return oc;let n,r;return"string"==typeof i?(r="","^"!==i.charAt(0)&&(r+="^"),r+=i,"$"!==i.charAt(i.length-1)&&(r+="$"),n=new RegExp(r)):(r=i.toString(),n=i),a=>{if(ko(a.value))return null;const c=a.value;return n.test(c)?null:{pattern:{requiredPattern:r,actualValue:c}}}}(this.pattern)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,a){2&r&&g.uIk("pattern",a.pattern?a.pattern:null)},inputs:{pattern:"pattern"},features:[g._Bn([dR]),g.TTD]}),i})(),qS=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[bf]]}),i})(),Uo=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[qS]}),i})(),jv=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:Em,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[qS]}),i})();const Ab=["captchaWrapperElem"];let td=(()=>{class i{constructor(r){this.zone=r,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(r,a,c,h){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{c(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(c.bind(this,window[this.windowGrecaptcha]));const y=document.createElement("script");y.innerHTML="",y.src=this.getCaptchaScriptUrl(r,a,h),y.async=!0,y.defer=!0,document.getElementsByTagName("head")[0].appendChild(y)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(r){return r?`&hl=${r}`:""}getCaptchaScriptUrl(r,a,c){return`https://www.${r?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${a}${this.getLanguageParam(c)}`}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Hv=(()=>{class i{constructor(r,a,c,h){this.renderer=r,this.zone=a,this.injector=c,this.scriptService=h,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.type="image",this.tabIndex=0,this.success=new g.vpe,this.load=new g.vpe,this.reset=new g.vpe,this.ready=new g.vpe,this.error=new g.vpe,this.expire=new g.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.isLoaded=!1}ngAfterViewInit(){var r;this.control=null===(r=this.injector.get(Pa,void 0,g.XFs.Optional))||void 0===r?void 0:r.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(r){r&&r.hl&&!r.hl.firstChange&&r.hl.currentValue!==r.hl.previousValue&&this.scriptService.cleanup(),r&&r.useGlobalDomain&&!r.useGlobalDomain.firstChange&&r.useGlobalDomain.currentValue!==r.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(r){const a=document.getElementById(r);if(!a)throw Error(`Captcha element with id '${r}' was not found`);this.captchaElem=a}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(r){this.currentResponse=r,this.success.next(r),this.zone.run(()=>{this.onChange(r),this.onTouched(r)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript(this.useGlobalDomain,"explicit",r=>{this.onloadCallback(r)},this.hl)}onloadCallback(r){if(this.reCaptchaApi=r,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const r=this.renderer.createElement("div");r.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,r),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(r){}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.R0b),g.Y36(g.zs3),g.Y36(td))},i.\u0275dir=g.lG2({type:i,inputs:{useGlobalDomain:"useGlobalDomain",type:"type",tabIndex:"tabIndex",siteKey:"siteKey",hl:"hl"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[g.TTD]}),i})();var nd=(()=>{return(i=nd||(nd={}))[i.InvisibleReCaptcha=0]="InvisibleReCaptcha",i[i.ReCaptcha2=1]="ReCaptcha2",nd;var i})();let xb=(()=>{class i extends Hv{constructor(r,a,c,h){super(r,a,c,h),this.renderer=r,this.zone=a,this.injector=c,this.scriptService=h,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=nd.ReCaptcha2}ngOnChanges(r){super.ngOnChanges(r)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:r=>this.zone.run(()=>this.handleCallback(r)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.R0b),g.Y36(g.zs3),g.Y36(td))},i.\u0275cmp=g.Xpm({type:i,selectors:[["ngx-recaptcha2"]],viewQuery:function(r,a){if(1&r&&g.Gf(Ab,5),2&r){let c;g.iGM(c=g.CRH())&&(a.captchaWrapperElem=c.first)}},inputs:{theme:"theme",size:"size",hl:"hl"},features:[g._Bn([{provide:Yi,useExisting:(0,g.Gpc)(()=>i),multi:!0}]),g.qOj,g.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(r,a){1&r&&g._UZ(0,"div",null,0)},encapsulation:2}),i})(),WS=(()=>{class i{constructor(r,a){this.scriptService=r,this.zone=a}execute(r,a,c,h,y){this.executeAsPromise(r,a,h).then(c).catch(w=>y?y(w):console.error(w))}executeAsPromise(r,a,c){return new Promise((h,y)=>{this.scriptService.registerCaptchaScript(!(!c||!c.useGlobalDomain),r,A=>{this.zone.runOutsideAngular(()=>{try{A.execute(r,{action:a}).then(R=>this.zone.run(()=>h(R)))}catch(R){y(R)}})})})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(td),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Sf=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[td,WS],imports:[[b_]]}),i})();var pi=L(8939),Rb=L(6682),rd=L(309),Nb=L(7771),Mb=L(8858);class ZS extends fs.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new KS(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,h=a.length;let y;if(this.closed)throw new Fs.N;if(this.isStopped||this.hasError?y=j_.w.EMPTY:(this.observers.push(n),y=new Mb.W(this,n)),c&&n.add(n=new rd.ht(n,c)),r)for(let w=0;w<h&&!n.closed;w++)n.next(a[w]);else for(let w=0;w<h&&!n.closed;w++)n.next(a[w].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),y}_getNow(){return(this.scheduler||Nb.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,c=this._events,h=c.length;let y=0;for(;y<h&&!(n-c[y].time<a);)y++;return h>r&&(y=Math.max(y,h-r)),y>0&&c.splice(0,y),c}}class KS{constructor(n,r){this.time=n,this.value=r}}function Ob(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},c=>c.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let c,y,h=0,w=!1,D=!1;return function(R){let P;h++,!c||w?(w=!1,c=new ZS(i,n,a),P=c.subscribe(this),y=R.subscribe({next(j){c.next(j)},error(j){w=!0,c.error(j)},complete(){D=!0,y=void 0,c.complete()}}),D&&(y=void 0)):P=c.subscribe(this),this.add(()=>{h--,P.unsubscribe(),P=void 0,y&&!D&&r&&0===h&&(y.unsubscribe(),y=void 0,c=void 0)})}}(a))}function $v(i,n){return n?An(()=>i,n):An(()=>i)}var Pb=L(3101),sn=L(9126),Gv=L(7841);const JS=new g.OlP("angularfire2.auth.use-emulator"),XS=new g.OlP("angularfire2.auth.settings"),Tm=new g.OlP("angularfire2.auth.tenant-id"),kb=new g.OlP("angularfire2.auth.langugage-code"),qv=new g.OlP("angularfire2.auth.use-device-language"),zv=new g.OlP("angularfire.auth.persistence"),eA=(i,n,r,a,c,h,y,w)=>(0,sn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=n.runOutsideAngular(()=>i.auth());if(r&&D.useEmulator(...r),a&&(D.tenantId=a),D.languageCode=c,h&&D.useDeviceLanguage(),y)for(const[A,R]of Object.entries(y))D.settings[A]=R;return w&&D.setPersistence(w),D},[r,a,c,h,y,w]);let gi=(()=>{class i{constructor(r,a,c,h,y,w,D,A,R,P,j){const z=new fs.xQ,de=(0,Xe.of)(void 0).pipe((0,rd.QV)(y.outsideAngular),An(()=>h.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5128)))),(0,lt.U)(()=>(0,pi.on)(r,h,a)),(0,lt.U)(Re=>eA(Re,h,w,A,R,P,D,j)),Ob({bufferSize:1,refCount:!1}));if(mu(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{de.pipe(ys()).subscribe();const Be=de.pipe(An(it=>it.getRedirectResult().then(mt=>mt,()=>null)),sn.iC,Ob({bufferSize:1,refCount:!1})),ft=de.pipe(An(it=>new zr.y(mt=>({unsubscribe:h.runOutsideAngular(()=>it.onAuthStateChanged(Vn=>mt.next(Vn),Vn=>mt.error(Vn),()=>mt.complete()))})))),Ct=de.pipe(An(it=>new zr.y(mt=>({unsubscribe:h.runOutsideAngular(()=>it.onIdTokenChanged(Vn=>mt.next(Vn),Vn=>mt.error(Vn),()=>mt.complete()))}))));this.authState=Be.pipe($v(ft),(0,Pb.R)(y.outsideAngular),(0,rd.QV)(y.insideAngular)),this.user=Be.pipe($v(Ct),(0,Pb.R)(y.outsideAngular),(0,rd.QV)(y.insideAngular)),this.idToken=this.user.pipe(An(it=>it?(0,Wt.D)(it.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(An(it=>it?(0,Wt.D)(it.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,Rb.T)(Be,z,this.authState.pipe(qi(it=>!it))).pipe((0,lt.U)(it=>(null==it?void 0:it.user)?it:null),(0,Pb.R)(y.outsideAngular),(0,rd.QV)(y.insideAngular))}return(0,pi.pX)(this,de,h,{spy:{apply:(Re,Be,ft)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&ft.then(Ct=>z.next(Ct))}}})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(pi.Dh),g.LFG(pi.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(sn.HU),g.LFG(JS,8),g.LFG(XS,8),g.LFG(Tm,8),g.LFG(kb,8),g.LFG(qv,8),g.LFG(zv,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),fR=(()=>{class i{constructor(){Gv.Z.registerVersion("angularfire",sn.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[gi]}),i})();var tA=L(3637);function Fb(){return i=>i.lift(new Lb)}class Lb{call(n,r){return r.subscribe(new Vb(n))}}class Vb extends _r.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class nA{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new pR(n,this.compare,this.keySelector))}}class pR extends _r.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:c}=this;r=c?c(n):n}catch(c){return this.destination.error(c)}let a=!1;if(this.hasKey)try{const{compare:c}=this;a=c(this.key,r)}catch(c){return this.destination.error(c)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}L(5128);var $e,Sm=L(4486),ye=L(8239),La=L(5452),Am=L(6034),uc=L(5601),Et=L(3854),iA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bo={},id=id||{},ot=iA||self;function Af(){}function xi(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function jo(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Wv="closure_uid_"+(1e9*Math.random()>>>0),Zv=0;function Ks(i,n,r){return i.call.apply(i.bind,arguments)}function xf(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),i.apply(n,c)}}return function(){return i.apply(n,arguments)}}function Ut(i,n,r){return(Ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ks:xf).apply(null,arguments)}function Ys(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function jn(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,c,h){for(var y=Array(arguments.length-2),w=2;w<arguments.length;w++)y[w-2]=arguments[w];return n.prototype[c].apply(a,y)}}function Yn(){this.s=this.s,this.o=this.o}var sd={};Yn.prototype.s=!1,Yn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Wv)&&i[Wv]||(i[Wv]=++Zv)}(this);delete sd[i]}},Yn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cc=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},lc=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const a=i.length,c="string"==typeof i?i.split(""):i;for(let h=0;h<a;h++)h in c&&n.call(r,c[h],h,i)};function dc(i){return Array.prototype.concat.apply([],arguments)}function Va(i){const n=i.length;if(0<n){const r=Array(n);for(let a=0;a<n;a++)r[a]=i[a];return r}return[]}function Ho(i){return/^[\s\xa0]*$/.test(i)}var Pr,hc=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Hn(i,n){return-1!=i.indexOf(n)}function xm(i,n){return i<n?-1:i>n?1:0}e:{var Yv=ot.navigator;if(Yv){var Qv=Yv.userAgent;if(Qv){Pr=Qv;break e}}Pr=""}function Rm(i,n,r){for(const a in i)n.call(r,i[a],a,i)}function Jv(i){const n={};for(const r in i)n[r]=i[r];return n}var Xv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function e0(i,n){let r,a;for(let c=1;c<arguments.length;c++){for(r in a=arguments[c],a)i[r]=a[r];for(let h=0;h<Xv.length;h++)r=Xv[h],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function Nm(i){return Nm[" "](i),i}Nm[" "]=Af;var Rf,i,Bb=Hn(Pr,"Opera"),ad=Hn(Pr,"Trident")||Hn(Pr,"MSIE"),t0=Hn(Pr,"Edge"),Mm=t0||ad,jb=Hn(Pr,"Gecko")&&!(Hn(Pr.toLowerCase(),"webkit")&&!Hn(Pr,"Edge"))&&!(Hn(Pr,"Trident")||Hn(Pr,"MSIE"))&&!Hn(Pr,"Edge"),gR=Hn(Pr.toLowerCase(),"webkit")&&!Hn(Pr,"Edge");function Hb(){var i=ot.document;return i?i.documentMode:void 0}e:{var n0="",Om=(i=Pr,jb?/rv:([^\);]+)(\)|;)/.exec(i):t0?/Edge\/([\d\.]+)/.exec(i):ad?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gR?/WebKit\/(\S+)/.exec(i):Bb?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Om&&(n0=Om?Om[1]:""),ad){var r0=Hb();if(null!=r0&&r0>parseFloat(n0)){Rf=String(r0);break e}}Rf=n0}var aA={};function mR(){return n=aA,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=hc(String(Rf)).split("."),r=hc("9").split("."),a=Math.max(n.length,r.length);for(let y=0;0==i&&y<a;y++){var c=n[y]||"",h=r[y]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==c[0].length&&0==h[0].length)break;i=xm(0==c[1].length?0:parseInt(c[1],10),0==h[1].length?0:parseInt(h[1],10))||xm(0==c[2].length,0==h[2].length)||xm(c[2],h[2]),c=c[3],h=h[3]}while(0==i)}return 0<=i}();var n}var yR=ot.document&&ad&&(Hb()||parseInt(Rf,10))||void 0,_R=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ot.addEventListener("test",Af,n),ot.removeEventListener("test",Af,n)}catch(r){}return i}();function Xr(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function Nf(i,n){if(Xr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(jb){e:{try{Nm(n.nodeName);var c=!0;break e}catch(h){}c=!1}c||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:vR[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Nf.Z.h.call(this)}}Xr.prototype.h=function(){this.defaultPrevented=!0},jn(Nf,Xr);var vR={2:"touch",3:"pen",4:"mouse"};Nf.prototype.h=function(){Nf.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Mf="closure_listenable_"+(1e6*Math.random()|0),uA=0;function a0(i,n,r,a,c){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=c,this.key=++uA,this.ca=this.fa=!1}function ud(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Pm(i){this.src=i,this.g={},this.h=0}function $b(i,n){var r=n.type;if(r in i.g){var h,a=i.g[r],c=cc(a,n);(h=0<=c)&&Array.prototype.splice.call(a,c,1),h&&(ud(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Gb(i,n,r,a){for(var c=0;c<i.length;++c){var h=i[c];if(!h.ca&&h.listener==n&&h.capture==!!r&&h.ia==a)return c}return-1}Pm.prototype.add=function(i,n,r,a,c){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var y=Gb(i,n,a,c);return-1<y?(n=i[y],r||(n.fa=!1)):((n=new a0(n,this.src,h,!!a,c)).fa=r,i.push(n)),n};var qb="closure_lm_"+(1e6*Math.random()|0),u0={};function c0(i,n,r,a,c){if(a&&a.once)return fc(i,n,r,a,c);if(Array.isArray(n)){for(var h=0;h<n.length;h++)c0(i,n[h],r,a,c);return null}return r=Fm(r),i&&i[Mf]?i.N(n,r,jo(a)?!!a.capture:!!a,c):cA(i,n,r,!1,a,c)}function cA(i,n,r,a,c,h){if(!n)throw Error("Invalid event type");var y=jo(c)?!!c.capture:!!c,w=cd(i);if(w||(i[qb]=w=new Pm(i)),(r=w.add(n,r,a,y,h)).proxy)return r;if(a=function(){var n=Zb;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)_R||(c=y),void 0===c&&(c=!1),i.addEventListener(n.toString(),a,c);else if(i.attachEvent)i.attachEvent(Wb(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function fc(i,n,r,a,c){if(Array.isArray(n)){for(var h=0;h<n.length;h++)fc(i,n[h],r,a,c);return null}return r=Fm(r),i&&i[Mf]?i.O(n,r,jo(a)?!!a.capture:!!a,c):cA(i,n,r,!0,a,c)}function zb(i,n,r,a,c){if(Array.isArray(n))for(var h=0;h<n.length;h++)zb(i,n[h],r,a,c);else a=jo(a)?!!a.capture:!!a,r=Fm(r),i&&i[Mf]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=Gb(h=i.g[n],r,a,c))&&(ud(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[n],i.h--))):i&&(i=cd(i))&&(n=i.g[n.toString()],i=-1,n&&(i=Gb(n,r,a,c)),(r=-1<i?n[i]:null)&&km(r))}function km(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[Mf])$b(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(Wb(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=cd(n))?($b(r,i),0==r.h&&(r.src=null,n[qb]=null)):ud(i)}}}function Wb(i){return i in u0?u0[i]:u0[i]="on"+i}function Zb(i,n){if(i.ca)i=!0;else{n=new Nf(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&km(i),i=r.call(a,n)}return i}function cd(i){return(i=i[qb])instanceof Pm?i:null}var l0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fm(i){return"function"==typeof i?i:(i[l0]||(i[l0]=function(n){return i.handleEvent(n)}),i[l0])}function sr(){Yn.call(this),this.i=new Pm(this),this.P=this,this.I=null}function wr(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new Xr(n,i);else if(n instanceof Xr)n.target=n.target||i;else{var c=n;e0(n=new Xr(a,i),c)}if(c=!0,r)for(var h=r.length-1;0<=h;h--){var y=n.g=r[h];c=Lm(y,a,!0,n)&&c}if(c=Lm(y=n.g=i,a,!0,n)&&c,c=Lm(y,a,!1,n)&&c,r)for(h=0;h<r.length;h++)c=Lm(y=n.g=r[h],a,!1,n)&&c}function Lm(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var c=!0,h=0;h<n.length;++h){var y=n[h];if(y&&!y.ca&&y.capture==r){var w=y.listener,D=y.ia||y.src;y.fa&&$b(i.i,y),c=!1!==w.call(D,a)&&c}}return c&&!a.defaultPrevented}jn(sr,Yn),sr.prototype[Mf]=!0,sr.prototype.removeEventListener=function(i,n,r,a){zb(this,i,n,r,a)},sr.prototype.M=function(){if(sr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)ud(r[a]);delete i.g[n],i.h--}}this.I=null},sr.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},sr.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var d0=ot.JSON.stringify;function dA(){var i=hA;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var Xb,Yb=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Qb,i=>i.reset());class Qb{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Jb(i){ot.setTimeout(()=>{throw i},0)}function Of(i,n){Xb||function(){var i=ot.Promise.resolve(void 0);Xb=function(){i.then(Pf)}}(),f0||(Xb(),f0=!0),hA.add(i,n)}var f0=!1,hA=new class{constructor(){this.h=this.g=null}add(n,r){const a=Yb.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a}};function Pf(){for(var i;i=dA();){try{i.h.call(i.g)}catch(r){Jb(r)}var n=Yb;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}f0=!1}function Vm(i,n){sr.call(this),this.h=i||1,this.g=n||ot,this.j=Ut(this.kb,this),this.l=Date.now()}function kf(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ff(i,n,r){if("function"==typeof i)r&&(i=Ut(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ut(i.handleEvent,i)}return 2147483647<Number(n)?-1:ot.setTimeout(i,n||0)}function eI(i){i.g=Ff(()=>{i.g=null,i.i&&(i.i=!1,eI(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}jn(Vm,sr),($e=Vm.prototype).da=!1,$e.S=null,$e.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wr(this,"tick"),this.da&&(kf(this),this.start()))}},$e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.M=function(){Vm.Z.M.call(this),kf(this),delete this.g};class p0 extends Yn{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:eI(this)}M(){super.M(),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pc(i){Yn.call(this),this.h=i,this.g={}}jn(pc,Yn);var g0=[];function fA(i,n,r,a){Array.isArray(r)||(r&&(g0[0]=r.toString()),r=g0);for(var c=0;c<r.length;c++){var h=c0(n,r[c],a||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function tI(i){Rm(i.g,function(n,r){this.g.hasOwnProperty(r)&&km(n)},i),i.g={}}function Lf(){this.g=!0}function gc(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var h=c[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var y=1;y<c.length;y++)c[y]=""}}}return d0(r)}catch(w){return n}}(i,r)+(a?" "+a:"")})}pc.prototype.M=function(){pc.Z.M.call(this),tI(this)},pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lf.prototype.Aa=function(){this.g=!1},Lf.prototype.info=function(){};var $o={},Um=null;function Vf(){return Um=Um||new sr}function iI(i){Xr.call(this,$o.Ma,i)}function ld(i){const n=Vf();wr(n,new iI(n,i))}function y0(i,n){Xr.call(this,$o.STAT_EVENT,i),this.stat=n}function Cr(i){const n=Vf();wr(n,new y0(n,i))}function _0(i,n){Xr.call(this,$o.Na,i),this.size=n}function Uf(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){i()},n)}$o.Ma="serverreachability",jn(iI,Xr),$o.STAT_EVENT="statevent",jn(y0,Xr),$o.Na="timingevent",jn(_0,Xr);var Bm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jm(){}function v0(){}jm.prototype.h=null;var qm,dd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $m(){Xr.call(this,"d")}function Gm(){Xr.call(this,"c")}function Bf(){}function hd(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new pc(this),this.P=ER,this.W=new Vm(i=Mm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new E0}function E0(){this.i=null,this.g="",this.h=!1}jn($m,Xr),jn(Gm,Xr),jn(Bf,jm),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},qm=new Bf;var ER=45e3,w0={},zm={};function Wm(i,n,r){i.K=1,i.v=Hf(or(n)),i.s=r,i.U=!0,oI(i,null)}function oI(i,n){i.F=Date.now(),jf(i),i.A=or(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),T0(r.h,"t",a),i.C=0,r=i.l.H,i.h=new E0,i.g=MA(i.l,r?n:null,!i.s),0<i.O&&(i.L=new p0(Ut(i.Ia,i,i.g),i.O)),fA(i.V,i.g,"readystatechange",i.gb),n=i.H?Jv(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),ld(1),function(i,n,r,a,c,h){i.info(function(){if(i.g)if(h)for(var y="",w=h.split("&"),D=0;D<w.length;D++){var A=w[D].split("=");if(1<A.length){var R=A[0];A=A[1];var P=R.split("_");y=2<=P.length&&"type"==P[1]?y+(R+"=")+A+"&":y+(R+"=redacted&")}}else y=null;else y=h;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+n+"\n"+r+"\n"+y})}(i.j,i.u,i.A,i.m,i.X,i.s)}function $n(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function C0(i,n,r){let c,a=!0;for(;!i.I&&i.C<r.length;){if(c=gA(i,r),c==zm){4==n&&(i.o=4,Cr(14),a=!1),gc(i.j,i.m,null,"[Incomplete Response]");break}if(c==w0){i.o=4,Cr(15),gc(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}gc(i.j,i.m,c,null),Ba(i,c)}$n(i)&&c!=zm&&c!=w0&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Cr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),G0(n),n.L=!0,Cr(11))):(gc(i.j,i.m,r,"[Invalid Chunked Response]"),Ua(i),fd(i))}function gA(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?zm:(r=Number(n.substring(r,a)),isNaN(r)?w0:(a+=1)+r>n.length?zm:(n=n.substr(a,r),i.C=a+r,n))}function jf(i){i.Y=Date.now()+i.P,b0(i,i.P)}function b0(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Uf(Ut(i.eb,i),n)}function Zm(i){i.B&&(ot.clearTimeout(i.B),i.B=null)}function fd(i){0==i.l.G||i.I||Qf(i.l,i)}function Ua(i){Zm(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,kf(i.W),tI(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function Ba(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||Xm(r.i,i)))if(r.I=i.N,!i.J&&Xm(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(A){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(r.u)r.ta=c[1],0<r.ta-r.U&&37500>c[2]&&r.N&&0==r.A&&!r.v&&(r.v=Uf(Ut(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;sy(r),iy(r)}et(r),Cr(18)}if(1>=R0(r.i)&&r.ka){try{r.ka()}catch(A){}r.ka=void 0}}else Js(r,11)}else if((i.J||r.g==i)&&sy(r),!Ho(n))for(c=r.Ca.g.parse(n),n=0;n<c.length;n++){let A=c[n];if(r.U=A[0],A=A[1],2==r.G)if("c"==A[0]){r.J=A[1],r.la=A[2];const R=A[3];null!=R&&(r.ma=R,r.h.info("VER="+r.ma));const P=A[4];null!=P&&(r.za=P,r.h.info("SVER="+r.za));const j=A[5];null!=j&&"number"==typeof j&&0<j&&(r.K=a=1.5*j,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;const z=i.g;if(z){const de=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var h=a.i;!h.g&&(Hn(de,"spdy")||Hn(de,"quic")||Hn(de,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ey(h,h.h),h.h=null))}if(a.D){const Re=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Re&&(a.sa=Re,kt(a.F,a.D,Re))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var y=i;if((a=r).oa=Dn(a,a.H?a.la:null,a.W),y.J){N0(a.i,y);var w=y,D=a.K;D&&w.setTimeout(D),w.B&&(Zm(w),jf(w)),a.g=y}else NA(a);0<r.l.length&&j0(r)}else"stop"!=A[0]&&"close"!=A[0]||Js(r,7);else 3==r.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Js(r,7):zo(r):"noop"!=A[0]&&r.j&&r.j.wa(A),r.A=0)}ld(4)}catch(A){}}function I0(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(xi(i)||"string"==typeof i)lc(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(xi(i)||"string"==typeof i){r=[];for(var a=i.length,c=0;c<a;c++)r.push(c)}else for(c in r=[],a=0,i)r[a++]=c;c=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(xi(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var h=0;h<c;h++)n.call(void 0,a[h],r&&r[h],i)}}function mc(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof mc)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function D0(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];ja(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var c={};for(r=n=0;n<i.g.length;)ja(c,a=i.g[n])||(i.g[r++]=a,c[a]=1),n++;i.g.length=r}}function ja(i,n){return Object.prototype.hasOwnProperty.call(i,n)}($e=hd.prototype).setTimeout=function(i){this.P=i},$e.gb=function(i){i=i.target;const n=this.L;n&&3==Qs(i)?n.l():this.Ia(i)},$e.Ia=function(i){try{if(i==this.g)e:{const R=Qs(this.g);var n=this.g.Da();const P=this.g.ba();if(!(3>R)&&(3!=R||Mm||this.g&&(this.h.h||this.g.ga()||U0(this.g)))){this.I||4!=R||7==n||ld(8==n||0>=P?3:2),Zm(this);var r=this.g.ba();this.N=r;t:if($n(this)){var a=U0(this.g);i="";var c=a.length,h=4==Qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ua(this),fd(this);var y="";break t}this.h.i=new ot.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,i+=this.h.i.decode(a[n],{stream:h&&n==c-1});a.splice(0,c),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==r,function(i,n,r,a,c,h,y){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+n+"\n"+r+"\n"+h+" "+y})}(this.j,this.u,this.A,this.m,this.X,R,r),this.i){if(this.$&&!this.J){t:{if(this.g){var w,D=this.g;if((w=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ho(w)){var A=w;break t}}A=null}if(!(r=A)){this.i=!1,this.o=3,Cr(12),Ua(this),fd(this);break e}gc(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ba(this,r)}this.U?(C0(this,R,y),Mm&&this.i&&3==R&&(fA(this.V,this.W,"tick",this.fb),this.W.start())):(gc(this.j,this.m,y,null),Ba(this,y)),4==R&&Ua(this),this.i&&!this.I&&(4==R?Qf(this.l,this):(this.i=!1,jf(this)))}else 400==r&&0<y.indexOf("Unknown SID")?(this.o=3,Cr(12)):(this.o=0,Cr(13)),Ua(this),fd(this)}}}catch(R){}},$e.fb=function(){if(this.g){var i=Qs(this.g),n=this.g.ga();this.C<n.length&&(Zm(this),C0(this,i,n),this.i&&4!=i&&jf(this))}},$e.cancel=function(){this.I=!0,Ua(this)},$e.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(ld(3),Cr(17)),Ua(this),this.o=2,fd(this)):b0(this,this.Y-i)},($e=mc.prototype).R=function(){D0(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},$e.T=function(){return D0(this),this.g.concat()},$e.get=function(i,n){return ja(this.h,i)?this.h[i]:n},$e.set=function(i,n){ja(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},$e.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var c=r[a],h=this.get(c);i.call(n,h,c,this)}};var yA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Go(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Go){this.g=void 0!==n?n:i.g,Km(this,i.j),this.s=i.s,Ym(this,i.i),Ri(this,i.m),this.l=i.l,n=i.h;var r=new pd;r.i=n.i,n.g&&(r.g=new mc(n.g),r.h=n.h),Qi(this,r),this.o=i.o}else i&&(r=String(i).match(yA))?(this.g=!!n,Km(this,r[1]||"",!0),this.s=$f(r[2]||""),Ym(this,r[3]||"",!0),Ri(this,r[4]),this.l=$f(r[5]||"",!0),Qi(this,r[6]||"",!0),this.o=$f(r[7]||"")):(this.g=!!n,this.h=new pd(null,this.g))}function or(i){return new Go(i)}function Km(i,n,r){i.j=r?$f(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function Ym(i,n,r){i.i=r?$f(n,!0):n}function Ri(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function Qi(i,n,r){n instanceof pd?(i.h=n,function(i,n){n&&!i.j&&(qo(i),i.i=null,i.g.forEach(function(r,a){var c=a.toLowerCase();a!=c&&(zf(this,a),T0(this,c,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Gf(n,cI)),i.h=new pd(n,i.g))}function kt(i,n,r){i.h.set(n,r)}function Hf(i){return kt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function $f(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Gf(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,vA),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function vA(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Go.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Gf(n,Qm,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Gf(n,Qm,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Gf(r,"/"==r.charAt(0)?EA:qf,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Gf(r,wA)),i.join("")};var Qm=/[#\/\?@]/g,qf=/[#\?:]/g,EA=/[#\?]/g,cI=/[#\?@]/g,wA=/#/g;function pd(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function qo(i){i.g||(i.g=new mc,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),c=null;if(0<=a){var h=i[r].substring(0,a);c=i[r].substring(a+1)}else h=i[r];n(h,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function zf(i,n){qo(i),n=yc(i,n),ja(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,ja((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&D0(i)))}function lI(i,n){return qo(i),n=yc(i,n),ja(i.g.h,n)}function T0(i,n,r){zf(i,n),0<r.length&&(i.i=null,i.g.set(yc(i,n),Va(r)),i.h+=r.length)}function yc(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function A0(i){this.l=i||dI,i=ot.PerformanceNavigationTiming?0<(i=ot.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ot.g&&ot.g.Ea&&ot.g.Ea()&&ot.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=pd.prototype).add=function(i,n){qo(this),this.i=null,i=yc(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},$e.forEach=function(i,n){qo(this),this.g.forEach(function(r,a){lc(r,function(c){i.call(n,c,a,this)},this)},this)},$e.T=function(){qo(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var c=i[a],h=0;h<c.length;h++)r.push(n[a]);return r},$e.R=function(i){qo(this);var n=[];if("string"==typeof i)lI(this,i)&&(n=dc(n,this.g.get(yc(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=dc(n,i[r])}return n},$e.set=function(i,n){return qo(this),this.i=null,lI(this,i=yc(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},$e.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],c=encodeURIComponent(String(a));a=this.R(a);for(var h=0;h<a.length;h++){var y=c;""!==a[h]&&(y+="="+encodeURIComponent(String(a[h]))),i.push(y)}}return this.i=i.join("&")};var dI=10;function x0(i){return!!i.h||!!i.g&&i.g.size>=i.j}function R0(i){return i.h?1:i.g?i.g.size:0}function Xm(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function ey(i,n){i.g?i.g.add(n):i.h=n}function N0(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function M0(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return Va(i.i)}function O0(){}function CA(){this.g=new O0}function bA(i,n,r){const a=r||"";try{I0(i,function(c,h){let y=c;jo(c)&&(y=d0(c)),n.push(a+h+"="+encodeURIComponent(y))})}catch(c){throw n.push(a+"type="+encodeURIComponent("_badmap")),c}}function ty(i,n,r,a,c){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,c(a)}catch(h){}}function Wf(i){this.l=i.$b||null,this.j=i.ib||!1}function ny(i,n){sr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=P0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}A0.prototype.cancel=function(){if(this.i=M0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},O0.prototype.stringify=function(i){return ot.JSON.stringify(i,void 0)},O0.prototype.parse=function(i){return ot.JSON.parse(i,void 0)},jn(Wf,jm),Wf.prototype.g=function(){return new ny(this.l,this.j)},Wf.prototype.i=function(i){return function(){return i}}({}),jn(ny,sr);var P0=0;function hI(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Zf(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Kf(i)}function Kf(i){i.onreadystatechange&&i.onreadystatechange.call(i)}($e=ny.prototype).open=function(i,n){if(this.readyState!=P0)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Kf(this)},$e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||ot).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zf(this)),this.readyState=P0},$e.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ot.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hI(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},$e.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?Zf(this):Kf(this),3==this.readyState&&hI(this)}},$e.Ua=function(i){this.g&&(this.response=this.responseText=i,Zf(this))},$e.Ta=function(i){this.g&&(this.response=i,Zf(this))},$e.ha=function(){this.g&&Zf(this)},$e.setRequestHeader=function(i,n){this.v.append(i,n)},$e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(ny.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var DA=ot.JSON.parse;function Gn(i){sr.call(this),this.headers=new mc,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fI,this.K=this.L=!1}jn(Gn,sr);var fI="",TA=/^https?$/i,SA=["POST","PUT"];function xA(i){return"content-type"==i.toLowerCase()}function k0(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,F0(i),Yf(i)}function F0(i){i.D||(i.D=!0,wr(i,"complete"),wr(i,"error"))}function L0(i){if(i.h&&void 0!==id&&(!i.C[1]||4!=Qs(i)||2!=i.ba()))if(i.v&&4==Qs(i))Ff(i.Fa,0,i);else if(wr(i,"readystatechange"),4==Qs(i)){i.h=!1;try{const w=i.ba();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var a;if(a=0===w){var c=String(i.H).match(yA)[1]||null;if(!c&&ot.self&&ot.self.location){var h=ot.self.location.protocol;c=h.substr(0,h.length-1)}a=!TA.test(c?c.toLowerCase():"")}r=a}if(r)wr(i,"complete"),wr(i,"success");else{i.m=6;try{var y=2<Qs(i)?i.g.statusText:""}catch(D){y=""}i.j=y+" ["+i.ba()+"]",F0(i)}}finally{Yf(i)}}}function Yf(i,n){if(i.g){V0(i);const r=i.g,a=i.C[0]?Af:null;i.g=null,i.C=null,n||wr(i,"ready");try{r.onreadystatechange=a}catch(c){}}}function V0(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ot.clearTimeout(i.A),i.A=null)}function Qs(i){return i.g?i.g.readyState:0}function U0(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case fI:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function ry(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){let n="";return Rm(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):kt(i,n,r))}function _c(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function B0(i){this.za=0,this.l=[],this.h=new Lf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_c("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_c("baseRetryDelayMs",5e3,i),this.$a=_c("retryDelaySeedMs",1e4,i),this.Ya=_c("forwardChannelMaxRetries",2,i),this.ra=_c("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new A0(i&&i.concurrentRequestLimit),this.Ca=new CA,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function zo(i){if(gI(i),3==i.G){var n=i.V++,r=or(i.F);kt(r,"SID",i.J),kt(r,"RID",n),kt(r,"TYPE","terminate"),gd(i,r),(n=new hd(i,i.h,n,void 0)).K=2,n.v=Hf(or(r)),r=!1,ot.navigator&&ot.navigator.sendBeacon&&(r=ot.navigator.sendBeacon(n.v.toString(),"")),!r&&ot.Image&&((new Image).src=n.v,r=!0),r||(n.g=MA(n.l,null),n.g.ea(n.v)),n.F=Date.now(),jf(n)}Jf(i)}function iy(i){i.g&&(G0(i),i.g.cancel(),i.g=null)}function gI(i){iy(i),i.u&&(ot.clearTimeout(i.u),i.u=null),sy(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ot.clearTimeout(i.m),i.m=null)}function Ha(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&j0(i)}function j0(i){x0(i.i)||i.m||(i.m=!0,Of(i.Ha,i),i.C=0)}function RA(i,n){var r;r=n?n.m:i.V++;const a=or(i.F);kt(a,"SID",i.J),kt(a,"RID",r),kt(a,"AID",i.U),gd(i,a),i.o&&i.s&&ry(a,i.o,i.s),r=new hd(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=$0(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ey(i.i,r),Wm(r,a,n)}function gd(i,n){i.j&&I0({},function(r,a){kt(n,a,r)})}function $0(i,n,r){r=Math.min(i.l.length,r);var a=i.j?Ut(i.j.Oa,i.j,i):null;e:{var c=i.l;let h=-1;for(;;){const y=["count="+r];-1==h?0<r?(h=c[0].h,y.push("ofs="+h)):h=0:y.push("ofs="+h);let w=!0;for(let D=0;D<r;D++){let A=c[D].h;const R=c[D].g;if(A-=h,0>A)h=Math.max(0,c[D].h-100),w=!1;else try{bA(R,y,"req"+A+"_")}catch(P){a&&a(R)}}if(w){a=y.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,a}function NA(i){i.g||i.u||(i.Y=1,Of(i.Ga,i),i.A=0)}function et(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Uf(Ut(i.Ga,i),yI(i,i.A)),i.A++,0))}function G0(i){null!=i.B&&(ot.clearTimeout(i.B),i.B=null)}function mI(i){i.g=new hd(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=or(i.oa);kt(n,"RID","rpc"),kt(n,"SID",i.J),kt(n,"CI",i.N?"0":"1"),kt(n,"AID",i.U),gd(i,n),kt(n,"TYPE","xmlhttp"),i.o&&i.s&&ry(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Hf(or(n)),r.s=null,r.U=!0,oI(r,i)}function sy(i){null!=i.v&&(ot.clearTimeout(i.v),i.v=null)}function Qf(i,n){var r=null;if(i.g==n){sy(i),G0(i),i.g=null;var a=2}else{if(!Xm(i.i,n))return;r=n.D,N0(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var c=i.C;wr(a=Vf(),new _0(a,r,n,c)),j0(i)}else NA(i);else if(3==(c=n.o)||0==c&&0<i.I||!(1==a&&function(i,n){return!(R0(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Uf(Ut(i.Ha,i,n),yI(i,i.C)),i.C++,0)))}(i,n)||2==a&&et(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),c){case 1:Js(i,5);break;case 4:Js(i,10);break;case 3:Js(i,6);break;default:Js(i,2)}}function yI(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Js(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=Ut(i.jb,i);r||(r=new Go("//www.google.com/images/cleardot.gif"),ot.location&&"http"==ot.location.protocol||Km(r,"https"),Hf(r)),function(i,n){const r=new Lf;if(ot.Image){const a=new Image;a.onload=Ys(ty,r,a,"TestLoadImage: loaded",!0,n),a.onerror=Ys(ty,r,a,"TestLoadImage: error",!1,n),a.onabort=Ys(ty,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=Ys(ty,r,a,"TestLoadImage: timeout",!1,n),ot.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else Cr(2);i.G=0,i.j&&i.j.va(n),Jf(i),gI(i)}function Jf(i){i.G=0,i.I=-1,i.j&&((0!=M0(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Va(i.l),i.l.length=0),i.j.ua())}function Dn(i,n,r){let a=function(i){return i instanceof Go?or(i):new Go(i,void 0)}(r);if(""!=a.i)n&&Ym(a,n+"."+a.i),Ri(a,a.m);else{const c=ot.location;a=function(i,n,r,a){var c=new Go(null,void 0);return i&&Km(c,i),n&&Ym(c,n),r&&Ri(c,r),a&&(c.l=a),c}(c.protocol,n?n+"."+c.hostname:c.hostname,+c.port,r)}return i.aa&&Rm(i.aa,function(c,h){kt(a,h,c)}),r=i.sa,(n=i.D)&&r&&kt(a,n,r),kt(a,"VER",i.ma),gd(i,a),a}function MA(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Gn(r&&i.Ba&&!i.qa?new Wf({ib:!0}):i.qa)).L=i.H,n}function q0(){}function md(){if(ad&&!(10<=Number(yR)))throw Error("Environmental error: no available transport.")}function Ni(i,n){sr.call(this),this.g=new B0(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Ho(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ho(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new vc(this)}function z0(i){$m.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function W0(){Gm.call(this),this.status=1}function vc(i){this.g=i}($e=Gn.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qm.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:qm),this.g.onreadystatechange=Ut(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(h){return void k0(this,h)}i=r||"";const c=new mc(this.headers);a&&I0(a,function(h,y){c.set(y,h)}),a=function(i){e:{var n=xA;const r=i.length,a="string"==typeof i?i.split(""):i;for(let c=0;c<r;c++)if(c in a&&n.call(void 0,a[c],c,i)){n=c;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(c.T()),r=ot.FormData&&i instanceof ot.FormData,!(0<=cc(SA,n))||a||r||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(h,y){this.g.setRequestHeader(y,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{V0(this),0<this.B&&((this.K=function(i){return ad&&mR()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.pa,this)):this.A=Ff(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){k0(this,h)}},$e.pa=function(){void 0!==id&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wr(this,"timeout"),this.abort(8))},$e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,wr(this,"complete"),wr(this,"abort"),Yf(this))},$e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yf(this,!0)),Gn.Z.M.call(this)},$e.Fa=function(){this.s||(this.F||this.v||this.l?L0(this):this.cb())},$e.cb=function(){L0(this)},$e.ba=function(){try{return 2<Qs(this)?this.g.status:-1}catch(i){return-1}},$e.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},$e.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),DA(n)}},$e.Da=function(){return this.m},$e.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=B0.prototype).ma=8,$e.G=1,$e.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},$e.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const c=new hd(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Jv(h),e0(h,this.P)):h=this.P),null===this.o&&(c.H=h),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var a=this.l[r];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=$0(this,c,n),kt(r=or(this.F),"RID",i),kt(r,"CVER",22),this.D&&kt(r,"X-HTTP-Session-Id",this.D),gd(this,r),this.o&&h&&ry(r,this.o,h),ey(this.i,c),this.Ra&&kt(r,"TYPE","init"),this.ja?(kt(r,"$req",n),kt(r,"SID","null"),c.$=!0,Wm(c,r,null)):Wm(c,r,n),this.G=2}}else 3==this.G&&(i?RA(this,i):0==this.l.length||x0(this.i)||RA(this))},$e.Ga=function(){if(this.u=null,mI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Uf(Ut(this.bb,this),i)}},$e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Cr(10),iy(this),mI(this))},$e.ab=function(){null!=this.v&&(this.v=null,iy(this),et(this),Cr(19))},$e.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Cr(2)):(this.h.info("Failed to ping google.com"),Cr(1))},($e=q0.prototype).xa=function(){},$e.wa=function(){},$e.va=function(){},$e.ua=function(){},$e.Oa=function(){},md.prototype.g=function(i,n){return new Ni(i,n)},jn(Ni,sr),Ni.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Of(Ut(i.hb,i,n))),Cr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=Dn(i,null,i.W),j0(i)},Ni.prototype.close=function(){zo(this.g)},Ni.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,Ha(this.g,n)}else this.v?((n={}).__data__=d0(i),Ha(this.g,n)):Ha(this.g,i)},Ni.prototype.M=function(){this.g.j=null,delete this.j,zo(this.g),delete this.g,Ni.Z.M.call(this)},jn(z0,$m),jn(W0,Gm),jn(vc,q0),vc.prototype.xa=function(){wr(this.g,"a")},vc.prototype.wa=function(i){wr(this.g,new z0(i))},vc.prototype.va=function(i){wr(this.g,new W0(i))},vc.prototype.ua=function(){wr(this.g,"b")},md.prototype.createWebChannel=md.prototype.g,Ni.prototype.send=Ni.prototype.u,Ni.prototype.open=Ni.prototype.m,Ni.prototype.close=Ni.prototype.close,Bm.NO_ERROR=0,Bm.TIMEOUT=8,Bm.HTTP_ERROR=6,sI.COMPLETE="complete",v0.EventType=dd,dd.OPEN="a",dd.CLOSE="b",dd.ERROR="c",dd.MESSAGE="d",sr.prototype.listen=sr.prototype.N,Gn.prototype.listenOnce=Gn.prototype.O,Gn.prototype.getLastError=Gn.prototype.La,Gn.prototype.getLastErrorCode=Gn.prototype.Da,Gn.prototype.getStatus=Gn.prototype.ba,Gn.prototype.getResponseJson=Gn.prototype.Qa,Gn.prototype.getResponseText=Gn.prototype.ga,Gn.prototype.send=Gn.prototype.ea;var _I=Bo.createWebChannelTransport=function(){return new md},OA=Bo.getStatEventTarget=function(){return Vf()},Z0=Bo.ErrorCode=Bm,PA=Bo.EventType=sI,Xf=Bo.Event=$o,vI=Bo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kA=Bo.FetchXmlHttpFactory=Wf,oy=Bo.WebChannel=v0,ay=Bo.XhrIo=Gn;class ar{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let Ec="9.1.0";const Wo=new uc.Yd("@firebase/firestore");function K0(){return Wo.logLevel}function Ne(i,...n){if(Wo.logLevel<=uc.in.DEBUG){const r=n.map(Y0);Wo.debug(`Firestore (${Ec}): ${i}`,...r)}}function qn(i,...n){if(Wo.logLevel<=uc.in.ERROR){const r=n.map(Y0);Wo.error(`Firestore (${Ec}): ${i}`,...r)}}function tp(i,...n){if(Wo.logLevel<=uc.in.WARN){const r=n.map(Y0);Wo.warn(`Firestore (${Ec}): ${i}`,...r)}}function Y0(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Ye(i="Unexpected state"){const n=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: `+i;throw qn(n),new Error(n)}function ut(i,n){i||Ye()}function Fe(i,n){return i}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class FA{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(ar.UNAUTHENTICATED))}shutdown(){}}class CR{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class bR{constructor(n){this.t=n,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let c=this.i;const h=A=>this.i!==c?(c=this.i,r(A)):Promise.resolve();let y=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new ur,n.enqueueRetryable(()=>h(this.currentUser))};const w=()=>{const A=y;n.enqueueRetryable((0,ye.Z)(function*(){yield A.promise,yield h(a.currentUser)}))},D=A=>{Ne("FirebaseCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(A=>D(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?D(A):(Ne("FirebaseCredentialsProvider","Auth not yet detected"),y.resolve(),y=new ur)}},0),w()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(Ne("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ut("string"==typeof a.accessToken),new FA(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ut(null===n||"string"==typeof n),new ar(n)}}class wI{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=ar.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class uy{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new wI(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mi{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function LA(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}Mi.T=-1;class Q0{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const c=LA(40);for(let h=0;h<c.length;++h)a.length<20&&c[h]<r&&(a+=n.charAt(c[h]%n.length))}return a}}function Tt(i,n){return i<n?-1:i>n?1:0}function yd(i,n,r){return i.length===n.length&&i.every((a,c)=>r(a,n[c]))}function CI(i){return i+"\0"}class cr{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return cr.fromMillis(Date.now())}static fromDate(n){return cr.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new cr(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Tt(this.nanoseconds,n.nanoseconds):Tt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new wt(n)}static min(){return new wt(new cr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function bI(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function $a(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function II(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class np{constructor(n,r,a){void 0===r?r=0:r>n.length&&Ye(),void 0===a?a=n.length-r:a>n.length-r&&Ye(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===np.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof np?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let c=0;c<a;c++){const h=n.get(c),y=r.get(c);if(h<y)return-1;if(h>y)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class Ot extends np{construct(n,r,a){return new Ot(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(c=>c.length>0))}return new Ot(r)}static emptyPath(){return new Ot([])}}const VA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends np{construct(n,r,a){return new lr(n,r,a)}static isValidIdentifier(n){return VA.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(n){const r=[];let a="",c=0;const h=()=>{if(0===a.length)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let y=!1;for(;c<n.length;){const w=n[c];if("\\"===w){if(c+1===n.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const D=n[c+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=D,c+=2}else"`"===w?(y=!y,c++):"."!==w||y?(a+=w,c++):(h(),c++)}if(h(),y)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new lr(r)}static emptyPath(){return new lr([])}}class _d{constructor(n){this.fields=n,n.sort(lr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return yd(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class dr{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new dr(r)}static fromUint8Array(n){const r=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(n);return new dr(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Tt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const TI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(i){if(ut(!!i),"string"==typeof i){let n=0;const r=TI.exec(i);if(ut(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),n=Number(c)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Rn(i.seconds),nanos:Rn(i.nanos)}}function Rn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function vd(i){return"string"==typeof i?dr.fromBase64String(i):dr.fromUint8Array(i)}function cy(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function J0(i){const n=i.mapValue.fields.__previous_value__;return cy(n)?J0(n):n}function rp(i){const n=Ga(i.mapValue.fields.__local_write_time__.timestampValue);return new cr(n.seconds,n.nanos)}function wc(i){return null==i}function ly(i){return 0===i&&1/i==-1/0}function dy(i){return"number"==typeof i&&Number.isInteger(i)&&!ly(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Qe{constructor(n){this.path=n}static fromPath(n){return new Qe(Ot.fromString(n))}static fromName(n){return new Qe(Ot.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Ot.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return Ot.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Qe(new Ot(n.slice()))}}function qa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cy(i)?4:10:Ye()}function Xs(i,n){const r=qa(i);if(r!==qa(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return rp(i).isEqual(rp(n));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=Ga(a.timestampValue),y=Ga(c.timestampValue);return h.seconds===y.seconds&&h.nanos===y.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return c=n,vd(i.bytesValue).isEqual(vd(c.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,c){return Rn(a.geoPointValue.latitude)===Rn(c.geoPointValue.latitude)&&Rn(a.geoPointValue.longitude)===Rn(c.geoPointValue.longitude)}(i,n);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Rn(a.integerValue)===Rn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=Rn(a.doubleValue),y=Rn(c.doubleValue);return h===y?ly(h)===ly(y):isNaN(h)&&isNaN(y)}return!1}(i,n);case 9:return yd(i.arrayValue.values||[],n.arrayValue.values||[],Xs);case 10:return function(a,c){const h=a.mapValue.fields||{},y=c.mapValue.fields||{};if(bI(h)!==bI(y))return!1;for(const w in h)if(h.hasOwnProperty(w)&&(void 0===y[w]||!Xs(h[w],y[w])))return!1;return!0}(i,n);default:return Ye()}var c}function ip(i,n){return void 0!==(i.values||[]).find(r=>Xs(r,n))}function Ed(i,n){const r=qa(i),a=qa(n);if(r!==a)return Tt(r,a);switch(r){case 0:return 0;case 1:return Tt(i.booleanValue,n.booleanValue);case 2:return function(c,h){const y=Rn(c.integerValue||c.doubleValue),w=Rn(h.integerValue||h.doubleValue);return y<w?-1:y>w?1:y===w?0:isNaN(y)?isNaN(w)?0:-1:1}(i,n);case 3:return SI(i.timestampValue,n.timestampValue);case 4:return SI(rp(i),rp(n));case 5:return Tt(i.stringValue,n.stringValue);case 6:return function(c,h){const y=vd(c),w=vd(h);return y.compareTo(w)}(i.bytesValue,n.bytesValue);case 7:return function(c,h){const y=c.split("/"),w=h.split("/");for(let D=0;D<y.length&&D<w.length;D++){const A=Tt(y[D],w[D]);if(0!==A)return A}return Tt(y.length,w.length)}(i.referenceValue,n.referenceValue);case 8:return function(c,h){const y=Tt(Rn(c.latitude),Rn(h.latitude));return 0!==y?y:Tt(Rn(c.longitude),Rn(h.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(c,h){const y=c.values||[],w=h.values||[];for(let D=0;D<y.length&&D<w.length;++D){const A=Ed(y[D],w[D]);if(A)return A}return Tt(y.length,w.length)}(i.arrayValue,n.arrayValue);case 10:return function(c,h){const y=c.fields||{},w=Object.keys(y),D=h.fields||{},A=Object.keys(D);w.sort(),A.sort();for(let R=0;R<w.length&&R<A.length;++R){const P=Tt(w[R],A[R]);if(0!==P)return P;const j=Ed(y[w[R]],D[A[R]]);if(0!==j)return j}return Tt(w.length,A.length)}(i.mapValue,n.mapValue);default:throw Ye()}}function SI(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Tt(i,n);const r=Ga(i),a=Ga(n),c=Tt(r.seconds,a.seconds);return 0!==c?c:Tt(r.nanos,a.nanos)}function X0(i){return eE(i)}function eE(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const c=Ga(a);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?vd(i.bytesValue).toBase64():"referenceValue"in i?Qe.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let c="[",h=!0;for(const y of a.values||[])h?h=!1:c+=",",c+=eE(y);return c+"]"}(i.arrayValue):"mapValue"in i?function(a){const c=Object.keys(a.fields||{}).sort();let h="{",y=!0;for(const w of c)y?y=!1:h+=",",h+=`${w}:${eE(a.fields[w])}`;return h+"}"}(i.mapValue):Ye();var n}function hy(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function tE(i){return!!i&&"integerValue"in i}function fy(i){return!!i&&"arrayValue"in i}function nE(i){return!!i&&"nullValue"in i}function AI(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function py(i){return!!i&&"mapValue"in i}function wd(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return $a(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=wd(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wd(i.arrayValue.values[r]);return n}return Object.assign({},i)}class kr{constructor(n){this.value=n}static empty(){return new kr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!py(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=wd(r)}setAll(n){let r=lr.emptyPath(),a={},c=[];n.forEach((y,w)=>{if(!r.isImmediateParentOf(w)){const D=this.getFieldsMap(r);this.applyChanges(D,a,c),a={},c=[],r=w.popLast()}y?a[w.lastSegment()]=wd(y):c.push(w.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,a,c)}delete(n){const r=this.field(n.popLast());py(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return Xs(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let c=r.mapValue.fields[n.get(a)];py(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=c),r=c}return r.mapValue.fields}applyChanges(n,r,a){$a(r,(c,h)=>n[c]=h);for(const c of a)delete n[c]}clone(){return new kr(wd(this.value))}}function xI(i){const n=[];return $a(i.fields,(r,a)=>{const c=new lr([r]);if(py(a)){const h=xI(a.mapValue).fields;if(0===h.length)n.push(c);else for(const y of h)n.push(c.child(y))}else n.push(c)}),new _d(n)}class Cn{constructor(n,r,a,c,h){this.key=n,this.documentType=r,this.version=a,this.data=c,this.documentState=h}static newInvalidDocument(n){return new Cn(n,0,wt.min(),kr.empty(),0)}static newFoundDocument(n,r,a){return new Cn(n,1,r,a,0)}static newNoDocument(n,r){return new Cn(n,2,r,kr.empty(),0)}static newUnknownDocument(n,r){return new Cn(n,3,r,kr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Cn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Cn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rE{constructor(n,r=null,a=[],c=[],h=null,y=null,w=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=c,this.limit=h,this.startAt=y,this.endAt=w,this.A=null}}function gy(i,n=null,r=[],a=[],c=null,h=null,y=null){return new rE(i,n,r,a,c,h,y)}function Cd(i){const n=Fe(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+X0(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),wc(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=Id(n.startAt)),n.endAt&&(r+="|ub:",r+=Id(n.endAt)),n.A=r}return n.A}function my(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!HA(i.orderBy[c],n.orderBy[c]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((r=i.filters[c]).op!==(a=n.filters[c]).op||!r.field.isEqual(a.field)||!Xs(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!OI(i.startAt,n.startAt)&&OI(i.endAt,n.endAt)}function yy(i){return Qe.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class br extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new RI(n,r,a):"array-contains"===r?new MI(n,a):"in"===r?new IR(n,a):"not-in"===r?new jA(n,a):"array-contains-any"===r?new bd(n,a):new br(n,r,a)}static R(n,r,a){return"in"===r?new BA(n,a):new NI(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Ed(r,this.value)):null!==r&&qa(this.value)===qa(r)&&this.P(Ed(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Ye()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class RI extends br{constructor(n,r,a){super(n,r,a),this.key=Qe.fromName(a.referenceValue)}matches(n){const r=Qe.comparator(n.key,this.key);return this.P(r)}}class BA extends br{constructor(n,r){super(n,"in",r),this.keys=sE(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class NI extends br{constructor(n,r){super(n,"not-in",r),this.keys=sE(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function sE(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Qe.fromName(a.referenceValue))}class MI extends br{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return fy(r)&&ip(r.arrayValue,this.value)}}class IR extends br{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&ip(this.value.arrayValue,r)}}class jA extends br{constructor(n,r){super(n,"not-in",r)}matches(n){if(ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!ip(this.value.arrayValue,r)}}class bd extends br{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!fy(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>ip(this.value.arrayValue,a))}}class _y{constructor(n,r){this.position=n,this.before=r}}function Id(i){return`${i.before?"b":"a"}:${i.position.map(n=>X0(n)).join(",")}`}class Zo{constructor(n,r="asc"){this.field=n,this.dir=r}}function HA(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function Cc(i,n,r){let a=0;for(let c=0;c<i.position.length;c++){const h=n[c],y=i.position[c];if(a=h.field.isKeyField()?Qe.comparator(Qe.fromName(y.referenceValue),r.key):Ed(y,r.data.field(h.field)),"desc"===h.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function OI(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Xs(i.position[r],n.position[r]))return!1;return!0}class za{constructor(n,r=null,a=[],c=[],h=null,y="F",w=null,D=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=c,this.limit=h,this.limitType=y,this.startAt=w,this.endAt=D,this.V=null,this.S=null}}function PI(i,n,r,a,c,h,y,w){return new za(i,n,r,a,c,h,y,w)}function ei(i){return new za(i)}function sp(i){return!wc(i.limit)&&"F"===i.limitType}function oE(i){return!wc(i.limit)&&"L"===i.limitType}function Dd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function aE(i){for(const n of i.filters)if(n.v())return n.field;return null}function uE(i){return null!==i.collectionGroup}function op(i){const n=Fe(i);if(null===n.V){n.V=[];const r=aE(n),a=Dd(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new Zo(r)),n.V.push(new Zo(lr.keyField(),"asc"));else{let c=!1;for(const h of n.explicitOrderBy)n.V.push(h),h.field.isKeyField()&&(c=!0);if(!c){const h=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Zo(lr.keyField(),h))}}}return n.V}function Ji(i){const n=Fe(i);if(!n.S)if("F"===n.limitType)n.S=gy(n.path,n.collectionGroup,op(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const h of op(n))r.push(new Zo(h.field,"desc"===h.dir?"asc":"desc"));const a=n.endAt?new _y(n.endAt.position,!n.endAt.before):null,c=n.startAt?new _y(n.startAt.position,!n.startAt.before):null;n.S=gy(n.path,n.collectionGroup,r,n.filters,n.limit,a,c)}return n.S}function kI(i,n,r){return new za(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function ap(i,n){return my(Ji(i),Ji(n))&&i.limitType===n.limitType}function vy(i){return`${Cd(Ji(i))}|lt:${i.limitType}`}function Ey(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${X0(a.value)}`;var a}).join(", ")}]`),wc(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+Id(i.startAt)),i.endAt&&(n+=", endAt: "+Id(i.endAt)),`Target(${n})`}(Ji(i))}; limitType=${i.limitType})`}function bc(i,n){return n.isFoundDocument()&&function(r,a){const c=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Qe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(i,n)&&function(r,a){for(const c of r.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(i,n)&&function(r,a){for(const c of r.filters)if(!c.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!Cc(r.startAt,op(r),a)||r.endAt&&Cc(r.endAt,op(r),a)));var r,a}function cE(i){return(n,r)=>{let a=!1;for(const c of op(i)){const h=$A(c,n,r);if(0!==h)return h;a=a||c.field.isKeyField()}return 0}}function $A(i,n,r){const a=i.field.isKeyField()?Qe.comparator(n.key,r.key):function(c,h,y){const w=h.data.field(c),D=y.data.field(c);return null!==w&&null!==D?Ed(w,D):Ye()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ye()}}function GA(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ly(n)?"-0":n}}function FI(i){return{integerValue:""+i}}function LI(i,n){return dy(n)?FI(n):GA(i,n)}class wy{constructor(){this._=void 0}}function VI(i,n,r){return i instanceof Td?function(a,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(h.fields.__previous_value__=c),{mapValue:h}}(r,n):i instanceof Ic?dE(i,n):i instanceof eo?BI(i,n):function(a,c){const h=lE(a,c),y=up(h)+up(a.C);return tE(h)&&tE(a.C)?FI(y):GA(a.N,y)}(i,n)}function UI(i,n,r){return i instanceof Ic?dE(i,n):i instanceof eo?BI(i,n):r}function lE(i,n){return i instanceof Dc?tE(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class Td extends wy{}class Ic extends wy{constructor(n){super(),this.elements=n}}function dE(i,n){const r=cp(n);for(const a of i.elements)r.some(c=>Xs(c,a))||r.push(a);return{arrayValue:{values:r}}}class eo extends wy{constructor(n){super(),this.elements=n}}function BI(i,n){let r=cp(n);for(const a of i.elements)r=r.filter(c=>!Xs(c,a));return{arrayValue:{values:r}}}class Dc extends wy{constructor(n,r){super(),this.N=n,this.C=r}}function up(i){return Rn(i.integerValue||i.doubleValue)}function cp(i){return fy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ko{constructor(n,r){this.field=n,this.transform=r}}class zA{constructor(n,r){this.version=n,this.transformResults=r}}class Qn{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Qn}static exists(n){return new Qn(void 0,n)}static updateTime(n){return new Qn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Cy(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class by{}function WA(i,n,r){i instanceof lp?function(a,c,h){const y=a.value.clone(),w=$I(a.fieldTransforms,c,h.transformResults);y.setAll(w),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(i,n,r):i instanceof Wa?function(a,c,h){if(!Cy(a.precondition,c))return void c.convertToUnknownDocument(h.version);const y=$I(a.fieldTransforms,c,h.transformResults),w=c.data;w.setAll(KA(a)),w.setAll(y),c.convertToFoundDocument(h.version,w).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function hE(i,n,r){var c;i instanceof lp?function(a,c,h){if(!Cy(a.precondition,c))return;const y=a.value.clone(),w=Sd(a.fieldTransforms,h,c);y.setAll(w),c.convertToFoundDocument(HI(c),y).setHasLocalMutations()}(i,n,r):i instanceof Wa?function(a,c,h){if(!Cy(a.precondition,c))return;const y=Sd(a.fieldTransforms,h,c),w=c.data;w.setAll(KA(a)),w.setAll(y),c.convertToFoundDocument(HI(c),w).setHasLocalMutations()}(i,n,r):Cy(i.precondition,c=n)&&c.convertToNoDocument(wt.min())}function ZA(i,n){let r=null;for(const a of i.fieldTransforms){const c=n.data.field(a.field),h=lE(a.transform,c||null);null!=h&&(null==r&&(r=kr.empty()),r.set(a.field,h))}return r||null}function jI(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&yd(r,a,(c,h)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof Ic&&a instanceof Ic||r instanceof eo&&a instanceof eo?yd(r.elements,a.elements,Xs):r instanceof Dc&&a instanceof Dc?Xs(r.C,a.C):r instanceof Td&&a instanceof Td);var r,a}(c,h))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function HI(i){return i.isFoundDocument()?i.version:wt.min()}class lp extends by{constructor(n,r,a,c=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=c,this.type=0}}class Wa extends by{constructor(n,r,a,c,h=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=c,this.fieldTransforms=h,this.type=1}}function KA(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function $I(i,n,r){const a=new Map;ut(i.length===r.length);for(let c=0;c<r.length;c++){const h=i[c],y=h.transform,w=n.data.field(h.field);a.set(h.field,UI(y,w,r[c]))}return a}function Sd(i,n,r){const a=new Map;for(const c of i){const h=c.transform,y=r.data.field(c.field);a.set(c.field,VI(h,y,n))}return a}class dp extends by{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class fE extends by{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class YA{constructor(n){this.count=n}}var Tn,St;function pE(i){switch(i){case le.OK:return Ye();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ye()}}function GI(i){if(void 0===i)return qn("GRPC error has no .code"),le.UNKNOWN;switch(i){case Tn.OK:return le.OK;case Tn.CANCELLED:return le.CANCELLED;case Tn.UNKNOWN:return le.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return le.INTERNAL;case Tn.UNAVAILABLE:return le.UNAVAILABLE;case Tn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Tn.NOT_FOUND:return le.NOT_FOUND;case Tn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Tn.ABORTED:return le.ABORTED;case Tn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Tn.DATA_LOSS:return le.DATA_LOSS;default:return Ye()}}(St=Tn||(Tn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";class hr{constructor(n,r){this.comparator=n,this.root=r||zn.EMPTY}insert(n,r){return new hr(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(n){return new hr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,zn.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(n,a.key);if(0===c)return r+a.left.size;c<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Iy(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Iy(this.root,n,this.comparator,!1)}getReverseIterator(){return new Iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Iy(this.root,n,this.comparator,!0)}}class Iy{constructor(n,r,a,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=r?a(n.key,r):1,c&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class zn{constructor(n,r,a,c,h){this.key=n,this.value=r,this.color=null!=a?a:zn.RED,this.left=null!=c?c:zn.EMPTY,this.right=null!=h?h:zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,c,h){return new zn(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let c=this;const h=a(n,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(n,r,a),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(n,r,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,c=this;if(r(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(n,c.key)){if(c.right.isEmpty())return zn.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const n=this.left.check();if(n!==this.right.check())throw Ye();return n+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1,zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(i,n,r,a,c){return this}insert(i,n,r){return new zn(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(n){this.comparator=n,this.data=new hr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,n[1])>=0)return;r(c.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new qI(this.data.getIterator())}getIteratorFrom(n){return new qI(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof Nn)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=a.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new Nn(this.comparator);return r.data=n,r}}class qI{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const zI=new hr(Qe.comparator);function Oi(){return zI}const gE=new hr(Qe.comparator);function Dy(){return gE}const WI=new hr(Qe.comparator);function ZI(){return WI}const QA=new Nn(Qe.comparator);function $t(...i){let n=QA;for(const r of i)n=n.add(r);return n}const JA=new Nn(Tt);function hp(){return JA}class Za{constructor(n,r,a,c,h){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,Ka.createSynthesizedTargetChangeForCurrentChange(n,r)),new Za(wt.min(),a,hp(),Oi(),$t())}}class Ka{constructor(n,r,a,c,h){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Ka(dr.EMPTY_BYTE_STRING,r,$t(),$t(),$t())}}class mE{constructor(n,r,a,c){this.k=n,this.removedTargetIds=r,this.key=a,this.$=c}}class Ad{constructor(n,r){this.targetId=n,this.O=r}}class Ht{constructor(n,r,a=dr.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=c}}class Yo{constructor(){this.F=0,this.M=XA(),this.L=dr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=$t(),r=$t(),a=$t();return this.M.forEach((c,h)=>{switch(h){case 0:n=n.add(c);break;case 2:r=r.add(c);break;case 1:a=a.add(c);break;default:Ye()}}),new Ka(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=XA()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class xd{constructor(n){this.tt=n,this.et=new Map,this.nt=Oi(),this.st=Rd(),this.it=new Nn(Tt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:Ye()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,c)=>{this.ht(c)&&r(c)})}ft(n){const r=n.targetId,a=n.O.count,c=this.dt(r);if(c){const h=c.target;if(yy(h))if(0===a){const y=new Qe(h.path);this.at(r,y,Cn.newNoDocument(y,wt.min()))}else ut(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((h,y)=>{const w=this.dt(y);if(w){if(h.current&&yy(w.target)){const D=new Qe(w.target.path);null!==this.nt.get(D)||this.gt(y,D)||this.at(y,D,Cn.newNoDocument(D,n))}h.K&&(r.set(y,h.W()),h.G())}});let a=$t();this.st.forEach((h,y)=>{let w=!0;y.forEachWhile(D=>{const A=this.dt(D);return!A||2===A.purpose||(w=!1,!1)}),w&&(a=a.add(h))});const c=new Za(n,r,this.it,this.nt,a);return this.nt=Oi(),this.st=Rd(),this.it=new Nn(Tt),c}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const c=this.ut(n);this.gt(n,r)?c.H(r,1):c.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new Yo,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new Nn(Tt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Ne("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Yo),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function Rd(){return new hr(Qe.comparator)}function XA(){return new hr(Qe.comparator)}const gt={asc:"ASCENDING",desc:"DESCENDING"},Xi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class yE{constructor(n,r){this.databaseId=n,this.D=r}}function Es(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function ex(i,n){return i.D?n.toBase64():n.toUint8Array()}function KI(i,n){return Es(i,n.toTimestamp())}function Jn(i){return ut(!!i),wt.fromTimestamp(function(n){const r=Ga(n);return new cr(r.seconds,r.nanos)}(i))}function YI(i,n){return(r=i,new Ot(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function QI(i){const n=Ot.fromString(i);return ut(Ny(n)),n}function fp(i,n){return YI(i.databaseId,n.path)}function kn(i,n){const r=QI(n);if(r.get(1)!==i.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Qe(JI(r))}function pn(i,n){return YI(i.databaseId,n)}function es(i){const n=QI(i);return 4===n.length?Ot.emptyPath():JI(n)}function Nd(i){return new Ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function JI(i){return ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function _E(i,n,r){return{name:fp(i,n),fields:r.value.mapValue.fields}}function Ty(i,n,r){const a=kn(i,n.name),c=Jn(n.updateTime),h=new kr({mapValue:{fields:n.fields}}),y=Cn.newFoundDocument(a,c,h);return r&&y.setHasCommittedMutations(),r?y.setHasCommittedMutations():y}function Sy(i,n){let r;if(n instanceof lp)r={update:_E(i,n.key,n.value)};else if(n instanceof dp)r={delete:fp(i,n.key)};else if(n instanceof Wa)r={update:_E(i,n.key,n.data),updateMask:CE(n.fieldMask)};else{if(!(n instanceof fE))return Ye();r={verify:fp(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(c,h){const y=h.transform;if(y instanceof Td)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Ic)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof eo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Dc)return{fieldPath:h.field.canonicalString(),increment:y.C};throw Ye()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(c=n.precondition).updateTime?{updateTime:KI(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ye()),r;var c}function Ya(i,n){const r=n.currentDocument?void 0!==(c=n.currentDocument).updateTime?Qn.updateTime(Jn(c.updateTime)):void 0!==c.exists?Qn.exists(c.exists):Qn.none():Qn.none(),a=n.updateTransforms?n.updateTransforms.map(c=>function(h,y){let w=null;"setToServerValue"in y?(ut("REQUEST_TIME"===y.setToServerValue),w=new Td):"appendMissingElements"in y?w=new Ic(y.appendMissingElements.values||[]):"removeAllFromArray"in y?w=new eo(y.removeAllFromArray.values||[]):"increment"in y?w=new Dc(h,y.increment):Ye();const D=lr.fromServerFormat(y.fieldPath);return new Ko(D,w)}(i,c)):[];var c;if(n.update){const c=kn(i,n.update.name),h=new kr({mapValue:{fields:n.update.fields}});if(n.updateMask){const y=new _d((n.updateMask.fieldPaths||[]).map(A=>lr.fromServerFormat(A)));return new Wa(c,h,y,r,a)}return new lp(c,h,r,a)}if(n.delete){const c=kn(i,n.delete);return new dp(c,r)}if(n.verify){const c=kn(i,n.verify);return new fE(c,r)}return Ye()}function vE(i,n){return{documents:[pn(i,n.path)]}}function Ay(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=pn(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=pn(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(w){if(0===w.length)return;const D=w.map(A=>function(R){if("=="===R.op){if(AI(R.value))return{unaryFilter:{field:Sc(R.field),op:"IS_NAN"}};if(nE(R.value))return{unaryFilter:{field:Sc(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(AI(R.value))return{unaryFilter:{field:Sc(R.field),op:"IS_NOT_NAN"}};if(nE(R.value))return{unaryFilter:{field:Sc(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sc(R.field),op:eD(R.op),value:R.value}}}(A));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(n.filters);c&&(r.structuredQuery.where=c);const h=function(w){if(0!==w.length)return w.map(D=>{return{field:Sc((A=D).field),direction:xy(A.dir)};var A})}(n.orderBy);h&&(r.structuredQuery.orderBy=h);const y=(D=n.limit,i.D||wc(D)?D:{value:D});var D;return null!==y&&(r.structuredQuery.limit=y),n.startAt&&(r.structuredQuery.startAt=Tc(n.startAt)),n.endAt&&(r.structuredQuery.endAt=Tc(n.endAt)),r}function Od(i){let n=es(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let c=null;if(a>0){ut(1===a);const R=r.from[0];R.allDescendants?c=R.collectionId:n=n.child(R.collectionId)}let h=[];r.where&&(h=wE(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(R=>{return new Zo(Ac((P=R).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let w=null;r.limit&&(w=function(R){let P;return P="object"==typeof R?R.value:R,wc(P)?null:P}(r.limit));let D=null;r.startAt&&(D=XI(r.startAt));let A=null;return r.endAt&&(A=XI(r.endAt)),PI(n,c,y,h,w,"F",D,A)}function wE(i){return i?void 0!==i.unaryFilter?[nx(i)]:void 0!==i.fieldFilter?[Ry(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>wE(n)).reduce((n,r)=>n.concat(r)):Ye():[]}function Tc(i){return{before:i.before,values:i.position}}function XI(i){return new _y(i.values||[],!!i.before)}function xy(i){return gt[i]}function eD(i){return Xi[i]}function Sc(i){return{fieldPath:i.canonicalString()}}function Ac(i){return lr.fromServerFormat(i.fieldPath)}function Ry(i){return br.create(Ac(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ye()}}(i.fieldFilter.op),i.fieldFilter.value)}function nx(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Ac(i.unaryFilter.field);return br.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ac(i.unaryFilter.field);return br.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ac(i.unaryFilter.field);return br.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ac(i.unaryFilter.field);return br.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ye()}}function CE(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function Ny(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function to(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=dt(n)),n=DR(i.get(r),n);return dt(n)}function DR(i,n){let r=n;const a=i.length;for(let c=0;c<a;c++){const h=i.charAt(c);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function dt(i){return i+"\x01\x01"}function Qa(i){const n=i.length;if(ut(n>=2),2===n)return ut("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ot.emptyPath();const r=n-2,a=[];let c="";for(let h=0;h<n;){const y=i.indexOf("\x01",h);switch((y<0||y>r)&&Ye(),i.charAt(y+1)){case"\x01":const w=i.substring(h,y);let D;0===c.length?D=w:(c+=w,D=c,c=""),a.push(D);break;case"\x10":c+=i.substring(h,y),c+="\0";break;case"\x11":c+=i.substring(h,y+1);break;default:Ye()}h=y+2}return new Ot(a)}class gp{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Pi{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}Pi.store="owner",Pi.key="owner";class Ja{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}Ja.store="mutationQueues",Ja.keyPath="userId";class gn{constructor(n,r,a,c,h){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=h}}gn.store="mutations",gn.keyPath="batchId",gn.userMutationsIndex="userMutationsIndex",gn.userMutationsKeyPath=["userId","batchId"];class ti{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,to(r)]}static key(n,r,a){return[n,to(r),a]}}ti.store="documentMutations",ti.PLACEHOLDER=new ti;class TR{constructor(n,r){this.path=n,this.readTime=r}}class rx{constructor(n,r){this.path=n,this.version=r}}class Nt{constructor(n,r,a,c,h,y){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=c,this.readTime=h,this.parentPath=y}}Nt.store="remoteDocuments",Nt.readTimeIndex="readTimeIndex",Nt.readTimeIndexPath="readTime",Nt.collectionReadTimeIndex="collectionReadTimeIndex",Nt.collectionReadTimeIndexPath=["parentPath","readTime"];class no{constructor(n){this.byteSize=n}}no.store="remoteDocumentGlobal",no.key="remoteDocumentGlobalKey";class mi{constructor(n,r,a,c,h,y,w){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=y,this.query=w}}mi.store="targets",mi.keyPath="targetId",mi.queryTargetsIndexName="queryTargetsIndex",mi.queryTargetsKeyPath=["canonicalId","targetId"];class Xn{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}Xn.store="targetDocuments",Xn.keyPath=["targetId","path"],Xn.documentTargetsIndex="documentTargetsIndex",Xn.documentTargetsKeyPath=["path","targetId"];class ki{constructor(n,r,a,c){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}ki.key="targetGlobalKey",ki.store="targetGlobal";class xc{constructor(n,r){this.collectionId=n,this.parent=r}}xc.store="collectionParents",xc.keyPath=["collectionId","parent"];class Qo{constructor(n,r,a,c){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=c}}Qo.store="clientMetadata",Qo.keyPath="clientId";class Pd{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}Pd.store="bundles",Pd.keyPath="bundleId";class kd{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}kd.store="namedQueries",kd.keyPath="name";const ix=[Ja.store,gn.store,ti.store,Nt.store,mi.store,Pi.store,ki.store,Xn.store,Qo.store,no.store,xc.store,Pd.store,kd.store],My="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Ie{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Ie((a,c)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(a,c)},this.catchCallback=h=>{this.wrapFailure(r,h).next(a,c)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Ie?r:Ie.resolve(r)}catch(r){return Ie.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Ie.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Ie.reject(r)}static resolve(n){return new Ie((r,a)=>{r(n)})}static reject(n){return new Ie((r,a)=>{a(n)})}static waitFor(n){return new Ie((r,a)=>{let c=0,h=0,y=!1;n.forEach(w=>{++c,w.next(()=>{++h,y&&h===c&&r()},D=>a(D))}),y=!0,h===c&&r()})}static or(n){let r=Ie.resolve(!1);for(const a of n)r=r.next(c=>c?Ie.resolve(c):a());return r}static forEach(n,r){const a=[];return n.forEach((c,h)=>{a.push(r.call(this,c,h))}),this.waitFor(a)}}class mp{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new ur,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Oy(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const c=bE(a.target.error);this.Tt.reject(new Oy(n,c))}}static open(n,r,a,c){try{return new mp(r,n.transaction(c,a))}catch(h){throw new Oy(r,h)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Ne("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new ox(r)}}class Fi{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===Fi.Rt((0,Et.z$)())&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ne("SimpleDb","Removing database:",n),Nc(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Et.hl)())return!1;if(Fi.Pt())return!0;const n=(0,Et.z$)(),r=Fi.Rt(n),a=0<r&&r<10,c=Fi.vt(n),h=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||h)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,ye.Z)(function*(){return r.db||(Ne("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,c)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=y=>{a(y.target.result)},h.onblocked=()=>{c(new Oy(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=y=>{const w=y.target.error;c("VersionError"===w.name?new Te(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Te(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new Oy(n,w))},h.onupgradeneeded=y=>{Ne("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.At.Ct(y.target.result,h.transaction,y.oldVersion,r.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,c){var h=this;return(0,ye.Z)(function*(){const y="readonly"===r;let w=0;for(;;){++w;try{h.db=yield h.Dt(n);const D=mp.open(h.db,n,y?"readonly":"readwrite",a),A=c(D).catch(R=>(D.abort(R),Ie.reject(R))).toPromise();return A.catch(()=>{}),yield D.It,A}catch(D){const A="FirebaseError"!==D.name&&w<3;if(Ne("SimpleDb","Transaction failed with error:",D.message,"Retrying:",A),h.close(),!A)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sx{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Nc(this.kt.delete())}}class Oy extends Te{constructor(n,r){super(le.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Rc(i){return"IndexedDbTransactionError"===i.name}class ox{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(Ne("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),Nc(a)}add(n){return Ne("SimpleDb","ADD",this.store.name,n,n),Nc(this.store.add(n))}get(n){return Nc(this.store.get(n)).next(r=>(void 0===r&&(r=null),Ne("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Ne("SimpleDb","DELETE",this.store.name,n),Nc(this.store.delete(n))}count(){return Ne("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),c=[];return this.Bt(a,(h,y)=>{c.push(y)}).next(()=>c)}Ut(n,r){Ne("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const c=this.cursor(a);return this.Bt(c,(h,y,w)=>w.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const c=this.cursor(a);return this.Bt(c,r)}jt(n){const r=this.cursor({});return new Ie((a,c)=>{r.onerror=h=>{const y=bE(h.target.error);c(y)},r.onsuccess=h=>{const y=h.target.result;y?n(y.primaryKey,y.value).next(w=>{w?y.continue():a()}):a()}})}Bt(n,r){const a=[];return new Ie((c,h)=>{n.onerror=y=>{h(y.target.error)},n.onsuccess=y=>{const w=y.target.result;if(!w)return void c();const D=new sx(w),A=r(w.primaryKey,w.value,D);if(A instanceof Ie){const R=A.catch(P=>(D.done(),Ie.reject(P)));a.push(R)}D.isDone?c():null===D.Ft?w.continue():w.continue(D.Ft)}}).next(()=>Ie.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function Nc(i){return new Ie((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const c=bE(a.target.error);r(c)}})}let nD=!1;function bE(i){const n=Fi.Rt((0,Et.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nD||(nD=!0,setTimeout(()=>{throw a},0)),a}}return i}class rD extends tD{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function fr(i,n){const r=Fe(i);return Fi.St(r.Qt,n)}class IE{constructor(n,r,a,c){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(n.key)&&WA(h,n,a[c])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&hE(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&hE(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(wt.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),$t())}isEqual(n){return this.batchId===n.batchId&&yd(this.mutations,n.mutations,(r,a)=>jI(r,a))&&yd(this.baseMutations,n.baseMutations,(r,a)=>jI(r,a))}}class DE{constructor(n,r,a,c){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=c}static from(n,r,a){ut(n.mutations.length===a.length);let c=ZI();const h=n.mutations;for(let y=0;y<h.length;y++)c=c.insert(h[y].key,a[y].version);return new DE(n,r,a,c)}}class Jo{constructor(n,r,a,c,h=wt.min(),y=wt.min(),w=dr.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=w}withSequenceNumber(n){return new Jo(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Fd{constructor(n){this.Wt=n}}function iD(i,n){if(n.document)return Ty(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Qe.fromSegments(n.noDocument.path),a=Vd(n.noDocument.readTime),c=Cn.newNoDocument(r,a);return n.hasCommittedMutations?c.setHasCommittedMutations():c}if(n.unknownDocument){const r=Qe.fromSegments(n.unknownDocument.path),a=Vd(n.unknownDocument.version);return Cn.newUnknownDocument(r,a)}return Ye()}function TE(i,n,r){const a=SE(r),c=n.key.path.popLast().toArray();if(n.isFoundDocument()){const h={name:fp(w=i.Wt,(D=n).key),fields:D.data.value.mapValue.fields,updateTime:Es(w,D.version.toTimestamp())};return new Nt(null,null,h,n.hasCommittedMutations,a,c)}var w,D;if(n.isNoDocument()){const h=n.key.path.toArray(),y=Ld(n.version),w=n.hasCommittedMutations;return new Nt(null,new TR(h,y),null,w,a,c)}if(n.isUnknownDocument()){const h=n.key.path.toArray(),y=Ld(n.version);return new Nt(new rx(h,y),null,null,!0,a,c)}return Ye()}function SE(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function sD(i){const n=new cr(i[0],i[1]);return wt.fromTimestamp(n)}function Ld(i){const n=i.toTimestamp();return new gp(n.seconds,n.nanoseconds)}function Vd(i){const n=new cr(i.seconds,i.nanoseconds);return wt.fromTimestamp(n)}function Ud(i,n){const r=(n.baseMutations||[]).map(h=>Ya(i.Wt,h));for(let h=0;h<n.mutations.length-1;++h){const y=n.mutations[h];h+1<n.mutations.length&&void 0!==n.mutations[h+1].transform&&(y.updateTransforms=n.mutations[h+1].transform.fieldTransforms,n.mutations.splice(h+1,1),++h)}const a=n.mutations.map(h=>Ya(i.Wt,h)),c=cr.fromMillis(n.localWriteTimeMs);return new IE(n.batchId,c,r,a)}function Bd(i){const n=Vd(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Vd(i.lastLimboFreeSnapshotVersion):wt.min();let a;var c;return void 0!==i.query.documents?(ut(1===(c=i.query).documents.length),a=Ji(ei(es(c.documents[0])))):a=Ji(Od(i.query)),new Jo(a,i.targetId,0,i.lastListenSequenceNumber,n,r,dr.fromBase64String(i.resumeToken))}function oD(i,n){const r=Ld(n.snapshotVersion),a=Ld(n.lastLimboFreeSnapshotVersion);let c;c=yy(n.target)?vE(i.Wt,n.target):Ay(i.Wt,n.target);const h=n.resumeToken.toBase64();return new mi(n.targetId,Cd(n.target),r,h,n.sequenceNumber,a,c)}function AE(i){const n=Od({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?kI(n,n.limit,"L"):n}class SR{getBundleMetadata(n,r){return ax(n).get(r).next(a=>{if(a)return{id:(c=a).bundleId,createTime:Vd(c.createTime),version:c.version};var c})}saveBundleMetadata(n,r){return ax(n).put({bundleId:(a=r).id,createTime:Ld(Jn(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return ux(n).get(r).next(a=>{if(a)return{name:(c=a).name,query:AE(c.bundledQuery),readTime:Vd(c.readTime)};var c})}saveNamedQuery(n,r){return ux(n).put({name:(a=r).name,readTime:Ld(Jn(a.readTime)),bundledQuery:a.bundledQuery});var a}}function ax(i){return fr(i,Pd.store)}function ux(i){return fr(i,kd.store)}class xE{constructor(){this.Gt=new RE}addToCollectionParentIndex(n,r){return this.Gt.add(r),Ie.resolve()}getCollectionParents(n,r){return Ie.resolve(this.Gt.getEntries(r))}}class RE{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),c=this.index[r]||new Nn(Ot.comparator),h=!c.has(a);return this.index[r]=c.add(a),h}has(n){const r=n.lastSegment(),a=n.popLast(),c=this.index[r];return c&&c.has(a)}getEntries(n){return(this.index[n]||new Nn(Ot.comparator)).toArray()}}class cx{constructor(){this.zt=new RE}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),c=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const h={collectionId:a,parent:to(c)};return aD(n).put(h)}return Ie.resolve()}getCollectionParents(n,r){const a=[],c=IDBKeyRange.bound([r,""],[CI(r),""],!1,!0);return aD(n).Lt(c).next(h=>{for(const y of h){if(y.collectionId!==r)break;a.push(Qa(y.parent))}return a})}}function aD(i){return fr(i,xc.store)}const uD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yi{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new yi(n,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cD(i,n,r){const a=i.store(gn.store),c=i.store(ti.store),h=[],y=IDBKeyRange.only(r.batchId);let w=0;const D=a.Kt({range:y},(R,P,j)=>(w++,j.delete()));h.push(D.next(()=>{ut(1===w)}));const A=[];for(const R of r.mutations){const P=ti.key(n,R.key.path,r.batchId);h.push(c.delete(P)),A.push(R.key)}return Ie.waitFor(h).next(()=>A)}function yp(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw Ye();n=i.noDocument}return JSON.stringify(n).length}yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(41943040,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);class _p{constructor(n,r,a,c){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=c,this.Jt={}}static Yt(n,r,a,c){ut(""!==n.uid);const h=n.isAuthenticated()?n.uid:"";return new _p(h,r,a,c)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Li(n).Kt({index:gn.userMutationsIndex,range:a},(c,h,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(n,r,a,c){const h=Fn(n),y=Li(n);return y.add({}).next(w=>{ut("number"==typeof w);const D=new IE(w,r,a,c),A=function(j,z,de){const Re=de.baseMutations.map(ft=>Sy(j.Wt,ft)),Be=de.mutations.map(ft=>Sy(j.Wt,ft));return new gn(z,de.batchId,de.localWriteTime.toMillis(),Re,Be)}(this.N,this.userId,D),R=[];let P=new Nn((j,z)=>Tt(j.canonicalString(),z.canonicalString()));for(const j of c){const z=ti.key(this.userId,j.key.path,w);P=P.add(j.key.path.popLast()),R.push(y.put(A)),R.push(h.put(z,ti.PLACEHOLDER))}return P.forEach(j=>{R.push(this.Ht.addToCollectionParentIndex(n,j))}),n.addOnCommittedListener(()=>{this.Jt[w]=D.keys()}),Ie.waitFor(R).next(()=>D)})}lookupMutationBatch(n,r){return Li(n).get(r).next(a=>a?(ut(a.userId===this.userId),Ud(this.N,a)):null)}Xt(n,r){return this.Jt[r]?Ie.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const c=a.keys();return this.Jt[r]=c,c}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,c=IDBKeyRange.lowerBound([this.userId,a]);let h=null;return Li(n).Kt({index:gn.userMutationsIndex,range:c},(y,w,D)=>{w.userId===this.userId&&(ut(w.batchId>=a),h=Ud(this.N,w)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Li(n).Kt({index:gn.userMutationsIndex,range:r,reverse:!0},(c,h,y)=>{a=h.batchId,y.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Li(n).Lt(gn.userMutationsIndex,r).next(a=>a.map(c=>Ud(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=ti.prefixForPath(this.userId,r.path),c=IDBKeyRange.lowerBound(a),h=[];return Fn(n).Kt({range:c},(y,w,D)=>{const[A,R,P]=y,j=Qa(R);if(A===this.userId&&r.path.isEqual(j))return Li(n).get(P).next(z=>{if(!z)throw Ye();ut(z.userId===this.userId),h.push(Ud(this.N,z))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Nn(Tt);const c=[];return r.forEach(h=>{const y=ti.prefixForPath(this.userId,h.path),w=IDBKeyRange.lowerBound(y),D=Fn(n).Kt({range:w},(A,R,P)=>{const[j,z,de]=A,Re=Qa(z);j===this.userId&&h.path.isEqual(Re)?a=a.add(de):P.done()});c.push(D)}),Ie.waitFor(c).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,c=a.length+1,h=ti.prefixForPath(this.userId,a),y=IDBKeyRange.lowerBound(h);let w=new Nn(Tt);return Fn(n).Kt({range:y},(D,A,R)=>{const[P,j,z]=D,de=Qa(j);P===this.userId&&a.isPrefixOf(de)?de.length===c&&(w=w.add(z)):R.done()}).next(()=>this.Zt(n,w))}Zt(n,r){const a=[],c=[];return r.forEach(h=>{c.push(Li(n).get(h).next(y=>{if(null===y)throw Ye();ut(y.userId===this.userId),a.push(Ud(this.N,y))}))}),Ie.waitFor(c).next(()=>a)}removeMutationBatch(n,r){return cD(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Ie.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Ie.resolve();const a=IDBKeyRange.lowerBound(ti.prefixForUser(this.userId)),c=[];return Fn(n).Kt({range:a},(h,y,w)=>{if(h[0]===this.userId){const D=Qa(h[1]);c.push(D)}else w.done()}).next(()=>{ut(0===c.length)})})}containsKey(n,r){return lD(n,this.userId,r)}ee(n){return NE(n).get(this.userId).next(r=>r||new Ja(this.userId,-1,""))}}function lD(i,n,r){const a=ti.prefixForPath(n,r.path),c=a[1],h=IDBKeyRange.lowerBound(a);let y=!1;return Fn(i).Kt({range:h,qt:!0},(w,D,A)=>{const[R,P,j]=w;R===n&&P===c&&(y=!0),A.done()}).next(()=>y)}function Li(i){return fr(i,gn.store)}function Fn(i){return fr(i,ti.store)}function NE(i){return fr(i,Ja.store)}class Ir{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Ir(0)}static ie(){return new Ir(-1)}}class ME{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new Ir(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>wt.fromTimestamp(new cr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(c=>(c.highestListenSequenceNumber=r,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.oe(n,c)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>jd(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(ut(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let c=0;const h=[];return jd(n).Kt((y,w)=>{const D=Bd(w);D.sequenceNumber<=r&&null===a.get(D.targetId)&&(c++,h.push(this.removeTargetData(n,D)))}).next(()=>Ie.waitFor(h)).next(()=>c)}forEachTarget(n,r){return jd(n).Kt((a,c)=>{const h=Bd(c);r(h)})}re(n){return OE(n).get(ki.key).next(r=>(ut(null!==r),r))}oe(n,r){return OE(n).put(ki.key,r)}ae(n,r){return jd(n).put(oD(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=Cd(r),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let h=null;return jd(n).Kt({range:c,index:mi.queryTargetsIndexName},(y,w,D)=>{const A=Bd(w);my(r,A.target)&&(h=A,D.done())}).next(()=>h)}addMatchingKeys(n,r,a){const c=[],h=Xo(n);return r.forEach(y=>{const w=to(y.path);c.push(h.put(new Xn(a,w))),c.push(this.referenceDelegate.addReference(n,a,y))}),Ie.waitFor(c)}removeMatchingKeys(n,r,a){const c=Xo(n);return Ie.forEach(r,h=>{const y=to(h.path);return Ie.waitFor([c.delete([a,y]),this.referenceDelegate.removeReference(n,a,h)])})}removeMatchingKeysForTargetId(n,r){const a=Xo(n),c=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),c=Xo(n);let h=$t();return c.Kt({range:a,qt:!0},(y,w,D)=>{const A=Qa(y[1]),R=new Qe(A);h=h.add(R)}).next(()=>h)}containsKey(n,r){const a=to(r.path),c=IDBKeyRange.bound([a],[CI(a)],!1,!0);let h=0;return Xo(n).Kt({index:Xn.documentTargetsIndex,qt:!0,range:c},([y,w],D,A)=>{0!==y&&(h++,A.done())}).next(()=>h>0)}Et(n,r){return jd(n).get(r).next(a=>a?Bd(a):null)}}function jd(i){return fr(i,mi.store)}function OE(i){return fr(i,ki.store)}function Xo(i){return fr(i,Xn.store)}function Xa(i){return PE.apply(this,arguments)}function PE(){return(PE=(0,ye.Z)(function*(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==My)throw i;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function dD([i,n],[r,a]){const c=Tt(i,r);return 0===c?Tt(n,a):c}class lx{constructor(n){this.ue=n,this.buffer=new Nn(dD),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();dD(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class hD{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,ye.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(c){Rc(c)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Xa(c)}yield r._e(n)}))}}class dx{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return Ie.resolve(Mi.T);const a=new lx(r);return this.me.forEachTarget(n,c=>a.fe(c.sequenceNumber)).next(()=>this.me.ye(n,c=>a.fe(c))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(uD)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uD):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,c,h,y,w,D,A;const R=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),c=this.params.maximumSequenceNumbersToCollect):c=P,y=Date.now(),this.nthSequenceNumber(n,c))).next(P=>(a=P,w=Date.now(),this.removeTargets(n,a,r))).next(P=>(h=P,D=Date.now(),this.removeOrphanedDocuments(n,a))).next(P=>(A=Date.now(),K0()<=uc.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-R}ms\n\tDetermined least recently used ${c} in `+(w-y)+`ms\n\tRemoved ${h} targets in `+(D-w)+`ms\n\tRemoved ${P} documents in `+(A-D)+`ms\nTotal Duration: ${A-R}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:h,documentsRemoved:P})))}}class AR{constructor(n,r){this.db=n,this.garbageCollector=new dx(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(c=>a+c))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,c)=>r(c))}addReference(n,r,a){return Py(n,a)}removeReference(n,r,a){return Py(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return Py(n,r)}Ie(n,r){return function(a,c){let h=!1;return NE(a).jt(y=>lD(a,y,c).next(w=>(w&&(h=!0),Ie.resolve(!w)))).next(()=>h)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let h=0;return this.Te(n,(y,w)=>{if(w<=r){const D=this.Ie(n,y).next(A=>{if(!A)return h++,a.getEntry(n,y).next(()=>(a.removeEntry(y),Xo(n).delete([0,to(y.path)])))});c.push(D)}}).next(()=>Ie.waitFor(c)).next(()=>a.apply(n)).next(()=>h)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return Py(n,r)}Te(n,r){const a=Xo(n);let c,h=Mi.T;return a.Kt({index:Xn.documentTargetsIndex},([y,w],{path:D,sequenceNumber:A})=>{0===y?(h!==Mi.T&&r(new Qe(Qa(c)),h),h=A,c=D):h=Mi.T}).next(()=>{h!==Mi.T&&r(new Qe(Qa(c)),h)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Py(i,n){return Xo(i).put((a=i.currentSequenceNumber,new Xn(0,to(n.path),a)));var a}class Hd{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[c,h]of a)if(this.equalsFn(c,n))return h}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),c=this.inner[a];if(void 0!==c){for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],n))return void(c[h]=[n,r]);c.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],n))return 1===a.length?delete this.inner[r]:a.splice(c,1),!0;return!1}forEach(n){$a(this.inner,(r,a)=>{for(const[c,h]of a)n(c,h)})}isEmpty(){return II(this.inner)}}class Mc{constructor(){this.changes=new Hd(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:wt.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:Cn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Ie.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class xR{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return Oc(n).put(vp(r),a)}removeEntry(n,r){const a=Oc(n),c=vp(r);return a.delete(c)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return Oc(n).get(vp(r)).next(a=>this.Re(r,a))}be(n,r){return Oc(n).get(vp(r)).next(a=>({document:this.Re(r,a),size:yp(a)}))}getEntries(n,r){let a=Oi();return this.Pe(n,r,(c,h)=>{const y=this.Re(c,h);a=a.insert(c,y)}).next(()=>a)}ve(n,r){let a=Oi(),c=new hr(Qe.comparator);return this.Pe(n,r,(h,y)=>{const w=this.Re(h,y);a=a.insert(h,w),c=c.insert(h,yp(y))}).next(()=>({documents:a,Ve:c}))}Pe(n,r,a){if(r.isEmpty())return Ie.resolve();const c=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),h=r.getIterator();let y=h.getNext();return Oc(n).Kt({range:c},(w,D,A)=>{const R=Qe.fromSegments(w);for(;y&&Qe.comparator(y,R)<0;)a(y,null),y=h.getNext();y&&y.isEqual(R)&&(a(y,D),y=h.hasNext()?h.getNext():null),y?A.Mt(y.path.toArray()):A.done()}).next(()=>{for(;y;)a(y,null),y=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(n,r,a){let c=Oi();const h=r.path.length+1,y={};if(a.isEqual(wt.min())){const w=r.path.toArray();y.range=IDBKeyRange.lowerBound(w)}else{const w=r.path.toArray(),D=SE(a);y.range=IDBKeyRange.lowerBound([w,D],!0),y.index=Nt.collectionReadTimeIndex}return Oc(n).Kt(y,(w,D,A)=>{if(w.length!==h)return;const R=iD(this.N,D);r.path.isPrefixOf(R.key.path)?bc(r,R)&&(c=c.insert(R.key,R)):A.done()}).next(()=>c)}newChangeBuffer(n){return new fD(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return pD(n).get(no.key).next(r=>(ut(!!r),r))}Ae(n,r){return pD(n).put(no.key,r)}Re(n,r){if(r){const a=iD(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(wt.min()))return a}return Cn.newInvalidDocument(n)}}class fD extends Mc{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Hd(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(n){const r=[];let a=0,c=new Nn((h,y)=>Tt(h.canonicalString(),y.canonicalString()));return this.changes.forEach((h,y)=>{const w=this.De.get(h);if(y.document.isValidDocument()){const D=TE(this.Se.N,y.document,this.getReadTime(h));c=c.add(h.path.popLast()),a+=yp(D)-w,r.push(this.Se.addEntry(n,h,D))}else if(a-=w,this.trackRemovals){const D=TE(this.Se.N,Cn.newNoDocument(h,wt.min()),this.getReadTime(h));r.push(this.Se.addEntry(n,h,D))}else r.push(this.Se.removeEntry(n,h))}),c.forEach(h=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,h))}),r.push(this.Se.updateMetadata(n,a)),Ie.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:c})=>(c.forEach((h,y)=>{this.De.set(h,y)}),a))}}function pD(i){return fr(i,no.store)}function Oc(i){return fr(i,Nt.store)}function vp(i){return i.path.toArray()}class hx{constructor(n){this.N=n}Ct(n,r,a,c){ut(a<c&&a>=0&&c<=11);const h=new mp("createOrUpgrade",r);var w;a<1&&c>=1&&(n.createObjectStore(Pi.store),(w=n).createObjectStore(Ja.store,{keyPath:Ja.keyPath}),w.createObjectStore(gn.store,{keyPath:gn.keyPath,autoIncrement:!0}).createIndex(gn.userMutationsIndex,gn.userMutationsKeyPath,{unique:!0}),w.createObjectStore(ti.store),ky(n),function(w){w.createObjectStore(Nt.store)}(n));let y=Ie.resolve();return a<3&&c>=3&&(0!==a&&(function(w){w.deleteObjectStore(Xn.store),w.deleteObjectStore(mi.store),w.deleteObjectStore(ki.store)}(n),ky(n)),y=y.next(()=>function(w){const D=w.store(ki.store),A=new ki(0,0,wt.min().toTimestamp(),0);return D.put(ki.key,A)}(h))),a<4&&c>=4&&(0!==a&&(y=y.next(()=>function(w,D){return D.store(gn.store).Lt().next(A=>{w.deleteObjectStore(gn.store),w.createObjectStore(gn.store,{keyPath:gn.keyPath,autoIncrement:!0}).createIndex(gn.userMutationsIndex,gn.userMutationsKeyPath,{unique:!0});const R=D.store(gn.store),P=A.map(j=>R.put(j));return Ie.waitFor(P)})}(n,h))),y=y.next(()=>{!function(w){w.createObjectStore(Qo.store,{keyPath:Qo.keyPath})}(n)})),a<5&&c>=5&&(y=y.next(()=>this.Ce(h))),a<6&&c>=6&&(y=y.next(()=>(function(w){w.createObjectStore(no.store)}(n),this.Ne(h)))),a<7&&c>=7&&(y=y.next(()=>this.xe(h))),a<8&&c>=8&&(y=y.next(()=>this.ke(n,h))),a<9&&c>=9&&(y=y.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(n),function(w){const D=w.objectStore(Nt.store);D.createIndex(Nt.readTimeIndex,Nt.readTimeIndexPath,{unique:!1}),D.createIndex(Nt.collectionReadTimeIndex,Nt.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&c>=10&&(y=y.next(()=>this.$e(h))),a<11&&c>=11&&(y=y.next(()=>{(function(w){w.createObjectStore(Pd.store,{keyPath:Pd.keyPath})})(n),function(w){w.createObjectStore(kd.store,{keyPath:kd.keyPath})}(n)})),y}Ne(n){let r=0;return n.store(Nt.store).Kt((a,c)=>{r+=yp(c)}).next(()=>{const a=new no(r);return n.store(no.store).put(no.key,a)})}Ce(n){const r=n.store(Ja.store),a=n.store(gn.store);return r.Lt().next(c=>Ie.forEach(c,h=>{const y=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Lt(gn.userMutationsIndex,y).next(w=>Ie.forEach(w,D=>{ut(D.userId===h.userId);const A=Ud(this.N,D);return cD(n,h.userId,A).next(()=>{})}))}))}xe(n){const r=n.store(Xn.store),a=n.store(Nt.store);return n.store(ki.store).get(ki.key).next(c=>{const h=[];return a.Kt((y,w)=>{const D=new Ot(y),A=[0,to(D)];h.push(r.get(A).next(R=>R?Ie.resolve():r.put(new Xn(0,to(D),c.highestListenSequenceNumber))))}).next(()=>Ie.waitFor(h))})}ke(n,r){n.createObjectStore(xc.store,{keyPath:xc.keyPath});const a=r.store(xc.store),c=new RE,h=y=>{if(c.add(y)){const w=y.lastSegment(),D=y.popLast();return a.put({collectionId:w,parent:to(D)})}};return r.store(Nt.store).Kt({qt:!0},(y,w)=>{const D=new Ot(y);return h(D.popLast())}).next(()=>r.store(ti.store).Kt({qt:!0},([y,w,D],A)=>{const R=Qa(w);return h(R.popLast())}))}$e(n){const r=n.store(mi.store);return r.Kt((a,c)=>{const h=Bd(c),y=oD(this.N,h);return r.put(y)})}}function ky(i){i.createObjectStore(Xn.store,{keyPath:Xn.keyPath}).createIndex(Xn.documentTargetsIndex,Xn.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(mi.store,{keyPath:mi.keyPath}).createIndex(mi.queryTargetsIndexName,mi.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(ki.store)}const kE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FE{constructor(n,r,a,c,h,y,w,D,A,R){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=h,this.window=y,this.document=w,this.Fe=A,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!FE.bt())throw new Te(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AR(this,c),this.We=r+"main",this.N=new Fd(D),this.Ge=new Fi(this.We,11,new hx(this.N)),this.ze=new ME(this.referenceDelegate,this.N),this.Ht=new cx,this.He=new xR(this.N,this.Ht),this.Je=new SR,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,kE);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Mi(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,ye.Z)(function*(c){if(r.started)return n(c)});return function(c){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,ye.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,ye.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Fy(n).put(new Qo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Rc(n))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Ep(n).get(Pi.key).next(r=>Ie.resolve(this.cn(r)))}un(n){return Fy(n).delete(this.clientId)}hn(){var n=this;return(0,ye.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=fr(a,Qo.store);return c.Lt().next(h=>{const y=n.fn(h,18e5),w=h.filter(D=>-1===y.indexOf(D));return Ie.forEach(w,D=>c.delete(D.clientId)).next(()=>w)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Ie.resolve(!0):Ep(n).get(Pi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,kE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fy(n).Lt().next(a=>void 0===this.fn(a,5e3).find(c=>{if(this.clientId!==c.clientId){const y=!this.inForeground&&c.inForeground,w=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||y&&w)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Ne("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,ye.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Pi.store,Qo.store],r=>{const a=new rD(r,Mi.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Fy(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return _p.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let h;return Ne("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",ix,y=>(h=new rD(y,this.Le?this.Le.next():Mi.T),"readwrite-primary"===r?this.sn(h).next(w=>!!w||this.rn(h)).next(w=>{if(!w)throw qn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Te(le.FAILED_PRECONDITION,My);return a(h)}).next(w=>this.an(h).next(()=>w)):this.En(h).next(()=>a(h)))).then(y=>(h.raiseOnCommittedEvent(),y))}En(n){return Ep(n).get(Pi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Te(le.FAILED_PRECONDITION,kE)})}an(n){const r=new Pi(this.clientId,this.allowTabSynchronization,Date.now());return Ep(n).put(Pi.key,r)}static bt(){return Fi.bt()}on(n){const r=Ep(n);return r.get(Pi.key).next(a=>this.cn(a)?(Ne("IndexedDbPersistence","Releasing primary lease."),r.delete(Pi.key)):Ie.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(qn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Et.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Ne("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return qn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){qn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Ep(i){return fr(i,Pi.store)}function Fy(i){return fr(i,Qo.store)}function LE(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class fx{constructor(n,r){this.progress=n,this.Tn=r}}class gD{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(c=>{for(const h of a)h.applyToLocalView(c);return c})}bn(n,r){n.forEach((a,c)=>{for(const h of r)h.applyToLocalView(c)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return Qe.isDocumentKey((c=r).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(n,r.path):uE(r)?this.Sn(n,r,a):this.Dn(n,r,a);var c}Vn(n,r){return this.An(n,new Qe(r)).next(a=>{let c=Dy();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Sn(n,r,a){const c=r.collectionGroup;let h=Dy();return this.Ht.getCollectionParents(n,c).next(y=>Ie.forEach(y,w=>{const D=(A=r,R=w.child(c),new za(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,R;return this.Dn(n,D,a).next(A=>{A.forEach((R,P)=>{h=h.insert(R,P)})})}).next(()=>h))}Dn(n,r,a){let c,h;return this.He.getDocumentsMatchingQuery(n,r,a).next(y=>(c=y,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(y=>(h=y,this.Cn(n,h,c).next(w=>{c=w;for(const D of h)for(const A of D.mutations){const R=A.key;let P=c.get(R);null==P&&(P=Cn.newInvalidDocument(R),c=c.insert(R,P)),hE(A,P,D.localWriteTime),P.isFoundDocument()||(c=c.remove(R))}}))).next(()=>(c.forEach((y,w)=>{bc(r,w)||(c=c.remove(y))}),c))}Cn(n,r,a){let c=$t();for(const y of r)for(const w of y.mutations)w instanceof Wa&&null===a.get(w.key)&&(c=c.add(w.key));let h=a;return this.He.getEntries(n,c).next(y=>(y.forEach((w,D)=>{D.isFoundDocument()&&(h=h.insert(w,D))}),h))}}class VE{constructor(n,r,a,c){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=c}static kn(n,r){let a=$t(),c=$t();for(const h of r.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new VE(n,r.fromCache,a,c)}}class mD{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,c){return 0===(h=r).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||a.isEqual(wt.min())?this.Fn(n,r):this.On.Pn(n,c).next(h=>{const y=this.Mn(r,h);return(sp(r)||oE(r))&&this.Ln(r.limitType,y,c,a)?this.Fn(n,r):(K0()<=uc.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ey(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(w=>(y.forEach(D=>{w=w.insert(D.key,D)}),w)))});var h}Mn(n,r){let a=new Nn(cE(n));return r.forEach((c,h)=>{bc(n,h)&&(a=a.add(h))}),a}Ln(n,r,a,c){if(a.size!==r.size)return!0;const h="F"===n?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Fn(n,r){return K0()<=uc.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ey(r)),this.On.getDocumentsMatchingQuery(n,r,wt.min())}}class px{constructor(n,r,a,c){this.persistence=n,this.Bn=r,this.N=c,this.Un=new hr(Tt),this.qn=new Hd(h=>Cd(h),my),this.Kn=wt.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new gD(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function $d(i,n,r,a){return new px(i,n,r,a)}function UE(i,n){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,ye.Z)(function*(i,n){const r=Fe(i);let a=r.In,c=r.Qn;const h=yield r.persistence.runTransaction("Handle user change","readonly",y=>{let w;return r.In.getAllMutationBatches(y).next(D=>(w=D,a=r.persistence.getMutationQueue(n),c=new gD(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(y))).next(D=>{const A=[],R=[];let P=$t();for(const j of w){A.push(j.batchId);for(const z of j.mutations)P=P.add(z.key)}for(const j of D){R.push(j.batchId);for(const z of j.mutations)P=P.add(z.key)}return c.Pn(y,P).next(j=>({Wn:j,removedBatchIds:A,addedBatchIds:R}))})});return r.In=a,r.Qn=c,r.Bn.$n(r.Qn),h})).apply(this,arguments)}function yD(i,n){const r=Fe(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=n.batch.keys(),h=r.jn.newChangeBuffer({trackRemovals:!0});return function(y,w,D,A){const R=D.batch,P=R.keys();let j=Ie.resolve();return P.forEach(z=>{j=j.next(()=>A.getEntry(w,z)).next(de=>{const Re=D.docVersions.get(z);ut(null!==Re),de.version.compareTo(Re)<0&&(R.applyToRemoteDocument(de,D),de.isValidDocument()&&A.addEntry(de,D.commitVersion))})}),j.next(()=>y.In.removeMutationBatch(w,R))}(r,a,n,h).next(()=>h.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,c))})}function BE(i){const n=Fe(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function _D(i,n){const r=Fe(i),a=n.snapshotVersion;let c=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=r.jn.newChangeBuffer({trackRemovals:!0});c=r.Un;const w=[];n.targetChanges.forEach((A,R)=>{const P=c.get(R);if(!P)return;w.push(r.ze.removeMatchingKeys(h,A.removedDocuments,R).next(()=>r.ze.addMatchingKeys(h,A.addedDocuments,R)));const j=A.resumeToken;if(j.approximateByteSize()>0){const z=P.withResumeToken(j,a).withSequenceNumber(h.currentSequenceNumber);c=c.insert(R,z),de=P,Be=A,ut((Re=z).resumeToken.approximateByteSize()>0),(0===de.resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-de.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&w.push(r.ze.updateTargetData(h,z))}var de,Re,Be});let D=Oi();if(n.documentUpdates.forEach((A,R)=>{n.resolvedLimboDocuments.has(A)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(h,A))}),w.push(vD(h,y,n.documentUpdates,a,void 0).next(A=>{D=A})),!a.isEqual(wt.min())){const A=r.ze.getLastRemoteSnapshotVersion(h).next(R=>r.ze.setTargetsMetadata(h,h.currentSequenceNumber,a));w.push(A)}return Ie.waitFor(w).next(()=>y.apply(h)).next(()=>r.Qn.vn(h,D)).next(()=>D)}).then(h=>(r.Un=c,h))}function vD(i,n,r,a,c){let h=$t();return r.forEach(y=>h=h.add(y)),n.getEntries(i,h).next(y=>{let w=Oi();return r.forEach((D,A)=>{const R=y.get(D),P=(null==c?void 0:c.get(D))||a;A.isNoDocument()&&A.version.isEqual(wt.min())?(n.removeEntry(D,P),w=w.insert(D,A)):!R.isValidDocument()||A.version.compareTo(R.version)>0||0===A.version.compareTo(R.version)&&R.hasPendingWrites?(n.addEntry(A,P),w=w.insert(D,A)):Ne("LocalStore","Ignoring outdated watch update for ",D,". Current version:",R.version," Watch version:",A.version)}),w})}function gx(i,n){const r=Fe(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function Gd(i,n){const r=Fe(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return r.ze.getTargetData(a,n).next(h=>h?(c=h,Ie.resolve(c)):r.ze.allocateTargetId(a).next(y=>(c=new Jo(n,y,0,a.currentSequenceNumber),r.ze.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=r.Un.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function qd(i,n,r){return jE.apply(this,arguments)}function jE(){return(jE=(0,ye.Z)(function*(i,n,r){const a=Fe(i),c=a.Un.get(n),h=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",h,y=>a.persistence.referenceDelegate.removeTarget(y,c)))}catch(y){if(!Rc(y))throw y;Ne("LocalStore",`Failed to update sequence numbers for target ${n}: ${y}`)}a.Un=a.Un.remove(n),a.qn.delete(c.target)})).apply(this,arguments)}function Vy(i,n,r){const a=Fe(i);let c=wt.min(),h=$t();return a.persistence.runTransaction("Execute query","readonly",y=>function(w,D,A){const R=Fe(w),P=R.qn.get(A);return void 0!==P?Ie.resolve(R.Un.get(P)):R.ze.getTargetData(D,A)}(a,y,Ji(n)).next(w=>{if(w)return c=w.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(y,w.targetId).next(D=>{h=D})}).next(()=>a.Bn.getDocumentsMatchingQuery(y,n,r?c:wt.min(),r?h:$t())).next(w=>({documents:w,Gn:h})))}function ED(i,n){const r=Fe(i),a=Fe(r.ze),c=r.Un.get(n);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",h=>a.Et(h,n).next(y=>y?y.target:null))}function zd(i){const n=Fe(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,c,h){const y=Fe(a);let w=Oi(),D=SE(h);const A=Oc(c),R=IDBKeyRange.lowerBound(D,!0);return A.Kt({index:Nt.readTimeIndex,range:R},(P,j)=>{const z=iD(y.N,j);w=w.insert(z.key,z),D=j.readTime}).next(()=>({Tn:w,readTime:sD(D)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function HE(){return(HE=(0,ye.Z)(function*(i){const n=Fe(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const c=Oc(a);let h=wt.min();return c.Kt({index:Nt.readTimeIndex,reverse:!0},(y,w,D)=>{w.readTime&&(h=sD(w.readTime)),D.done()}).next(()=>h)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function ts(){return(ts=(0,ye.Z)(function*(i,n,r,a){const c=Fe(i);let h=$t(),y=Oi(),w=ZI();for(const R of r){const P=n.zn(R.metadata.name);R.document&&(h=h.add(P)),y=y.insert(P,n.Hn(R)),w=w.insert(P,n.Jn(R.metadata.readTime))}const D=c.jn.newChangeBuffer({trackRemovals:!0}),A=yield Gd(c,(R=a,Ji(ei(Ot.fromString(`__bundle__/docs/${R}`)))));var R;return c.persistence.runTransaction("Apply bundle documents","readwrite",R=>vD(R,D,y,wt.min(),w).next(P=>(D.apply(R),P)).next(P=>c.ze.removeMatchingKeysForTargetId(R,A.targetId).next(()=>c.ze.addMatchingKeys(R,h,A.targetId)).next(()=>c.Qn.vn(R,P)).next(()=>P)))})).apply(this,arguments)}function mx(i,n){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,ye.Z)(function*(i,n,r=$t()){const a=yield Gd(i,Ji(AE(n.bundledQuery))),c=Fe(i);return c.persistence.runTransaction("Save named query","readwrite",h=>{const y=Jn(n.readTime);if(a.snapshotVersion.compareTo(y)>=0)return c.Je.saveNamedQuery(h,n);const w=a.withResumeToken(dr.EMPTY_BYTE_STRING,y);return c.Un=c.Un.insert(w.targetId,w),c.ze.updateTargetData(h,w).next(()=>c.ze.removeMatchingKeysForTargetId(h,a.targetId)).next(()=>c.ze.addMatchingKeys(h,r,a.targetId)).next(()=>c.Je.saveNamedQuery(h,n))})})).apply(this,arguments)}class yx{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Ie.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:Jn(a.createTime)}),Ie.resolve()}getNamedQuery(n,r){return Ie.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:AE(a.bundledQuery),readTime:Jn(a.readTime)}),Ie.resolve();var a}}class GE{constructor(){this.Zn=new Nn(Dr.ts),this.es=new Nn(Dr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new Dr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new Dr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new Qe(new Ot([])),a=new Dr(r,n),c=new Dr(r,n+1),h=[];return this.es.forEachInRange([a,c],y=>{this.rs(y),h.push(y.key)}),h}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Qe(new Ot([])),a=new Dr(r,n),c=new Dr(r,n+1);let h=$t();return this.es.forEachInRange([a,c],y=>{h=h.add(y.key)}),h}containsKey(n){const r=new Dr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class Dr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Qe.comparator(n.key,r.key)||Tt(n.ls,r.ls)}static ns(n,r){return Tt(n.ls,r.ls)||Qe.comparator(n.key,r.key)}}class qE{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Nn(Dr.ts)}checkEmpty(n){return Ie.resolve(0===this.In.length)}addMutationBatch(n,r,a,c){const h=this.fs;this.fs++;const y=new IE(h,r,a,c);this.In.push(y);for(const w of c)this.ds=this.ds.add(new Dr(w.key,h)),this.Ht.addToCollectionParentIndex(n,w.key.path.popLast());return Ie.resolve(y)}lookupMutationBatch(n,r){return Ie.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const c=this._s(r+1),h=c<0?0:c;return Ie.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Ie.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new Dr(r,0),c=new Dr(r,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([a,c],y=>{const w=this.ws(y.ls);h.push(w)}),Ie.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Nn(Tt);return r.forEach(c=>{const h=new Dr(c,0),y=new Dr(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,y],w=>{a=a.add(w.ls)})}),Ie.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,c=a.length+1;let h=a;Qe.isDocumentKey(h)||(h=h.child(""));const y=new Dr(new Qe(h),0);let w=new Nn(Tt);return this.ds.forEachWhile(D=>{const A=D.key.path;return!!a.isPrefixOf(A)&&(A.length===c&&(w=w.add(D.ls)),!0)},y),Ie.resolve(this.gs(w))}gs(n){const r=[];return n.forEach(a=>{const c=this.ws(a);null!==c&&r.push(c)}),r}removeMutationBatch(n,r){ut(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return Ie.forEach(r.mutations,c=>{const h=new Dr(c.key,r.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new Dr(r,0),c=this.ds.firstAfterOrEqual(a);return Ie.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(n){return Ie.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class zE{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new hr(Qe.comparator),this.size=0}addEntry(n,r,a){const c=r.key,h=this.docs.get(c),y=h?h.size:0,w=this.ps(r);return this.docs=this.docs.insert(c,{document:r.clone(),size:w,readTime:a}),this.size+=w-y,this.Ht.addToCollectionParentIndex(n,c.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return Ie.resolve(a?a.document.clone():Cn.newInvalidDocument(r))}getEntries(n,r){let a=Oi();return r.forEach(c=>{const h=this.docs.get(c);a=a.insert(c,h?h.document.clone():Cn.newInvalidDocument(c))}),Ie.resolve(a)}getDocumentsMatchingQuery(n,r,a){let c=Oi();const h=new Qe(r.path.child("")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:w,value:{document:D,readTime:A}}=y.getNext();if(!r.path.isPrefixOf(w.path))break;A.compareTo(a)<=0||bc(r,D)&&(c=c.insert(D.key,D.clone()))}return Ie.resolve(c)}Es(n,r){return Ie.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new wD(this)}getSize(n){return Ie.resolve(this.size)}}class wD extends Mc{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,c)=>{c.document.isValidDocument()?r.push(this.Se.addEntry(n,c.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Ie.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class WE{constructor(n){this.persistence=n,this.Ts=new Hd(r=>Cd(r),my),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Is=0,this.As=new GE,this.targetCount=0,this.Rs=Ir.se()}forEachTarget(n,r){return this.Ts.forEach((a,c)=>r(c)),Ie.resolve()}getLastRemoteSnapshotVersion(n){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Ie.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),Ie.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new Ir(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Ie.resolve()}updateTargetData(n,r){return this.ae(r),Ie.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(n,r,a){let c=0;const h=[];return this.Ts.forEach((y,w)=>{w.sequenceNumber<=r&&null===a.get(w.targetId)&&(this.Ts.delete(y),h.push(this.removeMatchingKeysForTargetId(n,w.targetId)),c++)}),Ie.waitFor(h).next(()=>c)}getTargetCount(n){return Ie.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return Ie.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),Ie.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const c=this.persistence.referenceDelegate,h=[];return c&&r.forEach(y=>{h.push(c.markPotentiallyOrphaned(n,y))}),Ie.waitFor(h)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Ie.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return Ie.resolve(a)}containsKey(n,r){return Ie.resolve(this.As.containsKey(r))}}class ZE{constructor(n,r){this.bs={},this.Le=new Mi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new WE(this),this.Ht=new xE,this.He=new zE(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new Fd(r),this.Je=new yx(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new qE(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){Ne("MemoryPersistence","Starting transaction:",n);const c=new _x(this.Le.next());return this.referenceDelegate.vs(),a(c).next(h=>this.referenceDelegate.Vs(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Ss(n,r){return Ie.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class _x extends tD{constructor(n){super(),this.currentSequenceNumber=n}}class KE{constructor(n){this.persistence=n,this.Ds=new GE,this.Cs=null}static Ns(n){return new KE(n)}get xs(){if(this.Cs)return this.Cs;throw Ye()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),Ie.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),Ie.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Ie.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(c=>this.xs.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(c=>{c.forEach(h=>this.xs.add(h.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.xs,a=>{const c=Qe.fromPath(a);return this.ks(n,c).next(h=>{h||r.removeEntry(c)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Ie.or([()=>Ie.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function CD(i,n){return`firestore_clients_${i}_${n}`}function bD(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function Uy(i,n){return`firestore_targets_${i}_${n}`}class Zd{constructor(n,r,a,c){this.user=n,this.batchId=r,this.state=a,this.error=c}static $s(n,r,a){const c=JSON.parse(a);let h,y="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(h=new Te(c.error.code,c.error.message))),y?new Zd(n,r,c.state,h):(qn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Kd{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let c,h="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(c=new Te(a.error.code,a.error.message))),h?new Kd(n,a.state,c):(qn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Cp{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let c="object"==typeof a&&a.activeTargetIds instanceof Array,h=hp();for(let y=0;c&&y<a.activeTargetIds.length;++y)c=dy(a.activeTargetIds[y]),h=h.add(a.activeTargetIds[y]);return c?new Cp(n,h):(qn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class By{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new By(r.clientId,r.onlineState):(qn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class jy{constructor(){this.activeTargetIds=hp()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class YE{constructor(n,r,a,c,h){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new hr(Tt),this.started=!1,this.Ks=[];const y=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=CD(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new jy),this.Ws=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,ye.Z)(function*(){const r=yield n.syncEngine.pn();for(const c of r){if(c===n.Ls)continue;const h=n.getItem(CD(n.persistenceKey,c));if(h){const y=Cp.$s(c,h);y&&(n.qs=n.qs.insert(y.clientId,y))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const c=n.Xs(a);c&&n.Zs(c)}for(const c of n.Ks)n.Us(c);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,c)=>{c.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(Uy(this.persistenceKey,n));if(a){const c=Kd.$s(n,a);c&&(r=c.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Uy(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(c=>{this.ni(c)}),this.currentUser=n,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Ne("SharedClientState","READ",n,r),r}setItem(n,r){Ne("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Ne("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(Ne("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void qn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ye.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const c=r.ai(a.key);return r.ci(c,null)}{const c=r.ui(a.key,a.newValue);if(c)return r.ci(c.clientId,c)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const c=r.hi(a.key,a.newValue);if(c)return r.li(c)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const c=r.fi(a.key,a.newValue);if(c)return r.di(c)}}else if(a.key===r.Hs){if(null!==a.newValue){const c=r.Xs(a.newValue);if(c)return r.Zs(c)}}else if(a.key===r.Qs){const c=function(h){let y=Mi.T;if(null!=h)try{const w=JSON.parse(h);ut("number"==typeof w),y=w}catch(w){qn("SharedClientState","Failed to read sequence number from WebStorage",w)}return y}(a.newValue);c!==Mi.T&&r.sequenceNumberHandler(c)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const c=new Zd(this.currentUser,n,r,a),h=bD(this.persistenceKey,this.currentUser,n);this.setItem(h,c.Os())}ni(n){const r=bD(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const c=Uy(this.persistenceKey,n),h=new Kd(n,r,a);this.setItem(c,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Cp.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),c=Number(a[1]);return Zd.$s(new ar(void 0!==a[2]?a[2]:null),c,r)}fi(n,r){const a=this.zs.exec(n),c=Number(a[1]);return Kd.$s(c,r)}Xs(n){return By.$s(n)}li(n){var r=this;return(0,ye.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),c=this.ti(this.qs),h=this.ti(a),y=[],w=[];return h.forEach(D=>{c.has(D)||y.push(D)}),c.forEach(D=>{h.has(D)||w.push(D)}),this.syncEngine.gi(y,w).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=hp();return n.forEach((a,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class QE{constructor(){this.yi=new jy,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new jy,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class ID{Ei(n){}shutdown(){}}class DD{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vx{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class RR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,c){const h=this.Bi(n,r);Ne("RestConnection","Sending: ",h,a);const y={};return this.Ui(y,c),this.qi(n,h,y,a).then(w=>(Ne("RestConnection","Received: ",w),w),w=>{throw tp("RestConnection",`${n} failed with error: `,w,"url: ",h,"request:",a),w})}Ki(n,r,a,c){return this.Li(n,r,a,c)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Ec,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${TD[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,c){return new Promise((h,y)=>{const w=new ay;w.listenOnce(PA.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case Z0.NO_ERROR:const A=w.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(A)),h(A);break;case Z0.TIMEOUT:Ne("Connection",'RPC "'+n+'" timed out'),y(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case Z0.HTTP_ERROR:const R=w.getStatus();if(Ne("Connection",'RPC "'+n+'" failed with status:',R,"response text:",w.getResponseText()),R>0){const P=w.getResponseJson().error;if(P&&P.status&&P.message){const j=function(z){const de=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(de)>=0?de:le.UNKNOWN}(P.status);y(new Te(j,P.message))}else y(new Te(le.UNKNOWN,"Server responded with status "+w.getStatus()))}else y(new Te(le.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Ne("Connection",'RPC "'+n+'" completed.')}});const D=JSON.stringify(c);w.send(r,"POST",D,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],c=_I(),h=OA(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new kA({})),this.Ui(y.initMessageHeaders,r),(0,Et.uI)()||(0,Et.b$)()||(0,Et.d)()||(0,Et.w1)()||(0,Et.Mn)()||(0,Et.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");Ne("Connection","Creating WebChannel: "+w,y);const D=c.createWebChannel(w,y);let A=!1,R=!1;const P=new vx({vi:z=>{R?Ne("Connection","Not sending because WebChannel is closed:",z):(A||(Ne("Connection","Opening WebChannel transport."),D.open(),A=!0),Ne("Connection","WebChannel sending:",z),D.send(z))},Vi:()=>D.close()}),j=(z,de,Re)=>{z.listen(de,Be=>{try{Re(Be)}catch(ft){setTimeout(()=>{throw ft},0)}})};return j(D,oy.EventType.OPEN,()=>{R||Ne("Connection","WebChannel transport opened.")}),j(D,oy.EventType.CLOSE,()=>{R||(R=!0,Ne("Connection","WebChannel transport closed"),P.$i())}),j(D,oy.EventType.ERROR,z=>{R||(R=!0,tp("Connection","WebChannel transport errored:",z),P.$i(new Te(le.UNAVAILABLE,"The operation could not be completed")))}),j(D,oy.EventType.MESSAGE,z=>{var de;if(!R){const Re=z.data[0];ut(!!Re);const Be=Re,ft=Be.error||(null===(de=Be[0])||void 0===de?void 0:de.error);if(ft){Ne("Connection","WebChannel received error:",ft);const Ct=ft.status;let it=function(Vn){const oa=Tn[Vn];if(void 0!==oa)return GI(oa)}(Ct),mt=ft.message;void 0===it&&(it=le.INTERNAL,mt="Unknown error status: "+Ct+" with message "+ft.message),R=!0,P.$i(new Te(it,mt)),D.close()}else Ne("Connection","WebChannel received:",Re),P.Oi(Re)}}),j(h,Xf.STAT_EVENT,z=>{z.stat===vI.PROXY?Ne("Connection","Detected buffering proxy"):z.stat===vI.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function Fr(){return"undefined"!=typeof window?window:null}function ea(){return"undefined"!=typeof document?document:null}function bp(i){return new yE(i,!0)}class JE{constructor(n,r,a=1e3,c=1.5,h=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=c,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),c=Math.max(0,r-a);c>0&&Ne("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Ex{constructor(n,r,a,c,h,y){this.Oe=n,this.er=a,this.nr=c,this.credentialsProvider=h,this.listener=y,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new JE(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,ye.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,ye.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,ye.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===le.RESOURCE_EXHAUSTED?(qn(r.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===le.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const c=new Te(le.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(c)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,ye.Z)(function*(){n.state=0,n.start()}))}pr(n){return Ne("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ip extends Ex{constructor(n,r,a,c,h){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,h),this.N=c}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(D=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:Ye(),c=n.targetChange.targetIds||[],h=function(D,A){return D.D?(ut(void 0===A||"string"==typeof A),dr.fromBase64String(A||"")):(ut(void 0===A||A instanceof Uint8Array),dr.fromUint8Array(A||new Uint8Array))}(i,n.targetChange.resumeToken),y=n.targetChange.cause,w=y&&function(D){const A=void 0===D.code?le.UNKNOWN:GI(D.code);return new Te(A,D.message||"")}(y);r=new Ht(a,c,h,w||null)}else if("documentChange"in n){const a=n.documentChange,c=kn(i,a.document.name),h=Jn(a.document.updateTime),y=new kr({mapValue:{fields:a.document.fields}}),w=Cn.newFoundDocument(c,h,y);r=new mE(a.targetIds||[],a.removedTargetIds||[],w.key,w)}else if("documentDelete"in n){const a=n.documentDelete,c=kn(i,a.document),h=a.readTime?Jn(a.readTime):wt.min(),y=Cn.newNoDocument(c,h);r=new mE([],a.removedTargetIds||[],y.key,y)}else if("documentRemove"in n){const a=n.documentRemove,c=kn(i,a.document);r=new mE([],a.removedTargetIds||[],c,null)}else{if(!("filter"in n))return Ye();{const a=n.filter,h=new YA(a.count||0);r=new Ad(a.targetId,h)}}var D;return r}(this.N,n),a=function(c){if(!("targetChange"in c))return wt.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?wt.min():h.readTime?Jn(h.readTime):wt.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=Nd(this.N),r.addTarget=function(c,h){let y;const w=h.target;return y=yy(w)?{documents:vE(c,w)}:{query:Ay(c,w)},y.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?y.resumeToken=ex(c,h.resumeToken):h.snapshotVersion.compareTo(wt.min())>0&&(y.readTime=Es(c,h.snapshotVersion.toTimestamp())),y}(this.N,n);const a=function(i,n){const r=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ye()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=Nd(this.N),r.removeTarget=n,this.wr(r)}}class wx extends Ex{constructor(n,r,a,c,h){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,h),this.N=c,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ut(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(ut(void 0!==n),i.map(r=>function(a,c){let h=Jn(a.updateTime?a.updateTime:c);return h.isEqual(wt.min())&&(h=Jn(c)),new zA(h,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=Jn(n.commitTime);return this.listener.vr(a,r)}return ut(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Nd(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>Sy(this.N,a))};this.wr(r)}}class XE extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(n,r,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===le.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Te(le.UNKNOWN,c.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(n,r,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===le.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Te(le.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class Cx{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(qn(r),this.$r=!1):Ne("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class SD{constructor(n,r,a,c,h){var y=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(w=>{a.enqueueAndForget((0,ye.Z)(function*(){var D;ta(y)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,ye.Z)(function*(A){const R=Fe(A);R.Kr.add(4),yield eu(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield Dp(R)}),function(A){return D.apply(this,arguments)})(y))}))}),this.Wr=new Cx(a,c)}}function Dp(i){return ew.apply(this,arguments)}function ew(){return(ew=(0,ye.Z)(function*(i){if(ta(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function eu(i){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,ye.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function Tp(i,n){const r=Fe(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),tw(r)?$y(r):Np(r).cr()&&Sp(r,n))}function tu(i,n){const r=Fe(i),a=Np(r);r.qr.delete(n),a.cr()&&bx(r,n),0===r.qr.size&&(a.cr()?a.lr():ta(r)&&r.Wr.set("Unknown"))}function Sp(i,n){i.Gr.Y(n.targetId),Np(i).Ir(n)}function bx(i,n){i.Gr.Y(n),Np(i).Ar(n)}function $y(i){i.Gr=new xd({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),Np(i).start(),i.Wr.Or()}function tw(i){return ta(i)&&!Np(i).ar()&&i.qr.size>0}function ta(i){return 0===Fe(i).Kr.size}function Ap(i){i.Gr=void 0}function AD(i){return nw.apply(this,arguments)}function nw(){return(nw=(0,ye.Z)(function*(i){i.qr.forEach((n,r)=>{Sp(i,n)})})).apply(this,arguments)}function rw(i,n){return xp.apply(this,arguments)}function xp(){return(xp=(0,ye.Z)(function*(i,n){Ap(i),tw(i)?(i.Wr.Lr(n),$y(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function Ix(i,n,r){return iw.apply(this,arguments)}function iw(){return(iw=(0,ye.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof Ht&&2===n.state&&n.cause)try{yield(a=(0,ye.Z)(function*(c,h){const y=h.cause;for(const w of h.targetIds)c.qr.has(w)&&(yield c.remoteSyncer.rejectListen(w,y),c.qr.delete(w),c.Gr.removeTarget(w))}),function(c,h){return a.apply(this,arguments)})(i,n)}catch(a){Ne("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield Rp(i,a)}else if(n instanceof mE?i.Gr.rt(n):n instanceof Ad?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(wt.min()))try{const a=yield BE(i.localStore);r.compareTo(a)>=0&&(yield function(c,h){const y=c.Gr._t(h);return y.targetChanges.forEach((w,D)=>{if(w.resumeToken.approximateByteSize()>0){const A=c.qr.get(D);A&&c.qr.set(D,A.withResumeToken(w.resumeToken,h))}}),y.targetMismatches.forEach(w=>{const D=c.qr.get(w);if(!D)return;c.qr.set(w,D.withResumeToken(dr.EMPTY_BYTE_STRING,D.snapshotVersion)),bx(c,w);const A=new Jo(D.target,w,1,D.sequenceNumber);Sp(c,A)}),c.remoteSyncer.applyRemoteEvent(y)}(i,r))}catch(a){Ne("RemoteStore","Failed to raise snapshot:",a),yield Rp(i,a)}var a})).apply(this,arguments)}function Rp(i,n,r){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,ye.Z)(function*(i,n,r){if(!Rc(n))throw n;i.Kr.add(1),yield eu(i),i.Wr.set("Offline"),r||(r=()=>BE(i.localStore)),i.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Dp(i)}))})).apply(this,arguments)}function sw(i,n){return n().catch(r=>Rp(i,r,n))}function Yd(i){return qy.apply(this,arguments)}function qy(){return(qy=(0,ye.Z)(function*(i){const n=Fe(i),r=Pc(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;xD(n);)try{const c=yield gx(n.localStore,a);if(null===c){0===n.Ur.length&&r.lr();break}a=c.batchId,Dx(n,c)}catch(c){yield Rp(n,c)}RD(n)&&ow(n)})).apply(this,arguments)}function xD(i){return ta(i)&&i.Ur.length<10}function Dx(i,n){i.Ur.push(n);const r=Pc(i);r.cr()&&r.br&&r.Pr(n.mutations)}function RD(i){return ta(i)&&!Pc(i).ar()&&i.Ur.length>0}function ow(i){Pc(i).start()}function Tx(i){return zy.apply(this,arguments)}function zy(){return(zy=(0,ye.Z)(function*(i){Pc(i).Sr()})).apply(this,arguments)}function ND(i){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,ye.Z)(function*(i){const n=Pc(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function MD(i,n,r){return aw.apply(this,arguments)}function aw(){return(aw=(0,ye.Z)(function*(i,n,r){const a=i.Ur.shift(),c=DE.from(a,n,r);yield sw(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Yd(i)})).apply(this,arguments)}function Sx(i,n){return uw.apply(this,arguments)}function uw(){return(uw=(0,ye.Z)(function*(i,n){var r;n&&Pc(i).br&&(yield(r=(0,ye.Z)(function*(a,c){if(pE(h=c.code)&&h!==le.ABORTED){const y=a.Ur.shift();Pc(a).hr(),yield sw(a,()=>a.remoteSyncer.rejectFailedWrite(y.batchId,c)),yield Yd(a)}var h}),function(a,c){return r.apply(this,arguments)})(i,n)),RD(i)&&ow(i)})).apply(this,arguments)}function Zy(i,n){return OD.apply(this,arguments)}function OD(){return(OD=(0,ye.Z)(function*(i,n){const r=Fe(i);n?(r.Kr.delete(2),yield Dp(r)):n||(r.Kr.add(2),yield eu(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function Np(i){return i.zr||(i.zr=function(n,r,a){const c=Fe(n);return c.Cr(),new Ip(r,c.nr,c.credentials,c.N,a)}(i.datastore,i.asyncQueue,{Si:AD.bind(null,i),Ci:rw.bind(null,i),Tr:Ix.bind(null,i)}),i.jr.push(function(){var n=(0,ye.Z)(function*(r){r?(i.zr.hr(),tw(i)?$y(i):i.Wr.set("Unknown")):(yield i.zr.stop(),Ap(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function Pc(i){return i.Hr||(i.Hr=function(n,r,a){const c=Fe(n);return c.Cr(),new wx(r,c.nr,c.credentials,c.N,a)}(i.datastore,i.asyncQueue,{Si:Tx.bind(null,i),Ci:Sx.bind(null,i),Vr:ND.bind(null,i),vr:MD.bind(null,i)}),i.jr.push(function(){var n=(0,ye.Z)(function*(r){r?(i.Hr.hr(),yield Yd(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Ne("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class PD{constructor(n,r,a,c,h){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=c,this.removalCallback=h,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(n,r,a,c,h){const y=Date.now()+a,w=new PD(n,r,y,c,h);return w.start(a),w}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(i,n){if(qn("AsyncQueue",`${n}: ${i}`),Rc(i))return new Te(le.UNAVAILABLE,`${n}: ${i}`);throw i}class Op{constructor(n){this.comparator=n?(r,a)=>n(r,a)||Qe.comparator(r.key,a.key):(r,a)=>Qe.comparator(r.key,a.key),this.keyedMap=Dy(),this.sortedSet=new hr(this.comparator)}static emptySet(n){return new Op(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof Op)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=a.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new Op;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class Ax{constructor(){this.Jr=new hr(Qe.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Ye():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class Pp{constructor(n,r,a,c,h,y,w,D){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=w,this.excludesMetadataChanges=D}static fromInitialDocuments(n,r,a,c){const h=[];return r.forEach(y=>{h.push({type:0,doc:y})}),new Pp(n,r,Op.emptySet(r),h,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ap(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==a[c].type||!r[c].doc.isEqual(a[c].doc))return!1;return!0}}class NR{constructor(){this.Xr=void 0,this.listeners=[]}}class MR{constructor(){this.queries=new Hd(n=>vy(n),ap),this.onlineState="Unknown",this.Zr=new Set}}function kD(i,n){return FD.apply(this,arguments)}function FD(){return(FD=(0,ye.Z)(function*(i,n){const r=Fe(i),a=n.query;let c=!1,h=r.queries.get(a);if(h||(c=!0,h=new NR),c)try{h.Xr=yield r.onListen(a)}catch(y){const w=Mp(y,`Initialization of query '${Ey(n.query)}' failed`);return void n.onError(w)}r.queries.set(a,h),h.listeners.push(n),n.eo(r.onlineState),h.Xr&&n.no(h.Xr)&&UD(r)})).apply(this,arguments)}function LD(i,n){return VD.apply(this,arguments)}function VD(){return(VD=(0,ye.Z)(function*(i,n){const r=Fe(i),a=n.query;let c=!1;const h=r.queries.get(a);if(h){const y=h.listeners.indexOf(n);y>=0&&(h.listeners.splice(y,1),c=0===h.listeners.length)}if(c)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function OR(i,n){const r=Fe(i);let a=!1;for(const c of n){const y=r.queries.get(c.query);if(y){for(const w of y.listeners)w.no(c)&&(a=!0);y.Xr=c}}a&&UD(r)}function PR(i,n,r){const a=Fe(i),c=a.queries.get(n);if(c)for(const h of c.listeners)h.onError(r);a.queries.delete(n)}function UD(i){i.Zr.forEach(n=>{n.next()})}class cw{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const c of n.docChanges)3!==c.type&&a.push(c);n=new Pp(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Pp.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class xx{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class BD{constructor(n){this.N=n}zn(n){return kn(this.N,n)}Hn(n){return n.metadata.exists?Ty(this.N,n.document,!1):Cn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Jn(n)}}class kR{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=Rx(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new BD(this.N);for(const c of n)if(c.metadata.queries){const h=a.zn(c.metadata.name);for(const y of c.metadata.queries){const w=(r.get(y)||$t()).add(h);r.set(y,w)}}return r}complete(){var n=this;return(0,ye.Z)(function*(){const r=yield function(i,n,r,a){return ts.apply(this,arguments)}(n.localStore,new BD(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const c of n.queries)yield mx(n.localStore,c,a.get(c.name));return n.progress.taskState="Success",new fx(Object.assign({},n.progress),r)})()}}function Rx(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Nx{constructor(n){this.key=n}}class jD{constructor(n){this.key=n}}class HD{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=$t(),this.mutatedKeys=$t(),this.po=cE(n),this.Eo=new Op(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new Ax,c=r?r.Eo:this.Eo;let h=r?r.mutatedKeys:this.mutatedKeys,y=c,w=!1;const D=sp(this.query)&&c.size===this.query.limit?c.last():null,A=oE(this.query)&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((R,P)=>{const j=c.get(R),z=bc(this.query,P)?P:null,de=!!j&&this.mutatedKeys.has(j.key),Re=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Be=!1;j&&z?j.data.isEqual(z.data)?de!==Re&&(a.track({type:3,doc:z}),Be=!0):this.Ro(j,z)||(a.track({type:2,doc:z}),Be=!0,(D&&this.po(z,D)>0||A&&this.po(z,A)<0)&&(w=!0)):!j&&z?(a.track({type:0,doc:z}),Be=!0):j&&!z&&(a.track({type:1,doc:j}),Be=!0,(D||A)&&(w=!0)),Be&&(z?(y=y.add(z),h=Re?h.add(R):h.delete(R)):(y=y.delete(R),h=h.delete(R)))}),sp(this.query)||oE(this.query))for(;y.size>this.query.limit;){const R=sp(this.query)?y.last():y.first();y=y.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{Eo:y,Ao:a,Ln:w,mutatedKeys:h}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const c=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const h=n.Ao.Yr();h.sort((A,R)=>function(P,j){const z=de=>{switch(de){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return z(P)-z(j)}(A.type,R.type)||this.po(A.doc,R.doc)),this.bo(a);const y=r?this.Po():[],w=0===this.yo.size&&this.current?1:0,D=w!==this.mo;return this.mo=w,0!==h.length||D?{snapshot:new Pp(this.query,n.Eo,c,h,n.mutatedKeys,0===w,D,!1),vo:y}:{vo:y}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Ax,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=$t(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new jD(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new Nx(a))}),r}So(n){this._o=n.Gn,this.yo=$t();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return Pp.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Mx{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class FR{constructor(n){this.key=n,this.Co=!1}}class LR{constructor(n,r,a,c,h,y){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.No={},this.xo=new Hd(w=>vy(w),ap),this.ko=new Map,this.$o=new Set,this.Oo=new hr(Qe.comparator),this.Fo=new Map,this.Mo=new GE,this.Lo={},this.Bo=new Map,this.Uo=Ir.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function VR(i,n){return $D.apply(this,arguments)}function $D(){return($D=(0,ye.Z)(function*(i,n){const r=gw(i);let a,c;const h=r.xo.get(n);if(h)a=h.targetId,r.sharedClientState.addLocalQueryTarget(a),c=h.view.Do();else{const y=yield Gd(r.localStore,Ji(n)),w=r.sharedClientState.addLocalQueryTarget(y.targetId);a=y.targetId,c=yield lw(r,n,a,"current"===w),r.isPrimaryClient&&Tp(r.remoteStore,y)}return c})).apply(this,arguments)}function lw(i,n,r,a){return GD.apply(this,arguments)}function GD(){return(GD=(0,ye.Z)(function*(i,n,r,a){i.Ko=(R,P,j)=>{return(z=(0,ye.Z)(function*(de,Re,Be,ft){let Ct=Re.view.Io(Be);Ct.Ln&&(Ct=yield Vy(de.localStore,Re.query,!1).then(({documents:Vn})=>Re.view.Io(Vn,Ct)));const it=ft&&ft.targetChanges.get(Re.targetId),mt=Re.view.applyChanges(Ct,de.isPrimaryClient,it);return eh(de,Re.targetId,mt.vo),mt.snapshot}),function(de,Re,Be,ft){return z.apply(this,arguments)})(i,R,P,j);var z};const c=yield Vy(i.localStore,n,!0),h=new HD(n,c.Gn),y=h.Io(c.documents),w=Ka.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),D=h.applyChanges(y,i.isPrimaryClient,w);eh(i,r,D.vo);const A=new Mx(n,r,h);return i.xo.set(n,A),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),D.snapshot})).apply(this,arguments)}function Ox(i,n){return kp.apply(this,arguments)}function kp(){return(kp=(0,ye.Z)(function*(i,n){const r=Fe(i),a=r.xo.get(n),c=r.ko.get(a.targetId);if(c.length>1)return r.ko.set(a.targetId,c.filter(h=>!ap(h,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield qd(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),tu(r.remoteStore,a.targetId),Xd(r,a.targetId)}).catch(Xa))):(Xd(r,a.targetId),yield qd(r.localStore,a.targetId,!0))})).apply(this,arguments)}function Ky(){return(Ky=(0,ye.Z)(function*(i,n,r){const a=mw(i);try{const c=yield function(h,y){const w=Fe(h),D=cr.now(),A=y.reduce((P,j)=>P.add(j.key),$t());let R;return w.persistence.runTransaction("Locally write mutations","readwrite",P=>w.Qn.Pn(P,A).next(j=>{R=j;const z=[];for(const de of y){const Re=ZA(de,R.get(de.key));null!=Re&&z.push(new Wa(de.key,Re,xI(Re.value.mapValue),Qn.exists(!0)))}return w.In.addMutationBatch(P,D,z,y)})).then(P=>(P.applyToLocalDocumentSet(R),{batchId:P.batchId,changes:R}))}(a.localStore,n);a.sharedClientState.addPendingMutation(c.batchId),function(h,y,w){let D=h.Lo[h.currentUser.toKey()];D||(D=new hr(Tt)),D=D.insert(y,w),h.Lo[h.currentUser.toKey()]=D}(a,c.batchId,r),yield nu(a,c.changes),yield Yd(a.remoteStore)}catch(c){const h=Mp(c,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function qD(i,n){return dw.apply(this,arguments)}function dw(){return(dw=(0,ye.Z)(function*(i,n){const r=Fe(i);try{const a=yield _D(r.localStore,n);n.targetChanges.forEach((c,h)=>{const y=r.Fo.get(h);y&&(ut(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.Co=!0:c.modifiedDocuments.size>0?ut(y.Co):c.removedDocuments.size>0&&(ut(y.Co),y.Co=!1))}),yield nu(r,a,n)}catch(a){yield Xa(a)}})).apply(this,arguments)}function Yy(i,n,r){const a=Fe(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const c=[];a.xo.forEach((h,y)=>{const w=y.view.eo(n);w.snapshot&&c.push(w.snapshot)}),function(h,y){const w=Fe(h);w.onlineState=y;let D=!1;w.queries.forEach((A,R)=>{for(const P of R.listeners)P.eo(y)&&(D=!0)}),D&&UD(w)}(a.eventManager,n),c.length&&a.No.Tr(c),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function zD(i,n,r){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,ye.Z)(function*(i,n,r){const a=Fe(i);a.sharedClientState.updateQueryState(n,"rejected",r);const c=a.Fo.get(n),h=c&&c.key;if(h){let y=new hr(Qe.comparator);y=y.insert(h,Cn.newNoDocument(h,wt.min()));const w=$t().add(h),D=new Za(wt.min(),new Map,new Nn(Tt),y,w);yield qD(a,D),a.Oo=a.Oo.remove(h),a.Fo.delete(n),eT(a)}else yield qd(a.localStore,n,!1).then(()=>Xd(a,n,r)).catch(Xa)})).apply(this,arguments)}function WD(i,n){return ZD.apply(this,arguments)}function ZD(){return(ZD=(0,ye.Z)(function*(i,n){const r=Fe(i),a=n.batch.batchId;try{const c=yield yD(r.localStore,n);XD(r,a,null),JD(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield nu(r,c)}catch(c){yield Xa(c)}})).apply(this,arguments)}function KD(i,n,r){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,ye.Z)(function*(i,n,r){const a=Fe(i);try{const c=yield function(h,y){const w=Fe(h);return w.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let A;return w.In.lookupMutationBatch(D,y).next(R=>(ut(null!==R),A=R.keys(),w.In.removeMutationBatch(D,R))).next(()=>w.In.performConsistencyCheck(D)).next(()=>w.Qn.Pn(D,A))})}(a.localStore,n);XD(a,n,r),JD(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield nu(a,c)}catch(c){yield Xa(c)}})).apply(this,arguments)}function QD(){return(QD=(0,ye.Z)(function*(i,n){const r=Fe(i);ta(r.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(h){const y=Fe(h);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>y.In.getHighestUnacknowledgedBatchId(w))}(r.localStore);if(-1===a)return void n.resolve();const c=r.Bo.get(a)||[];c.push(n),r.Bo.set(a,c)}catch(a){const c=Mp(a,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}})).apply(this,arguments)}function JD(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function XD(i,n,r){const a=Fe(i);let c=a.Lo[a.currentUser.toKey()];if(c){const h=c.get(n);h&&(r?h.reject(r):h.resolve(),c=c.remove(n)),a.Lo[a.currentUser.toKey()]=c}}function Xd(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||Px(i,a)})}function Px(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(tu(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),eT(i))}function eh(i,n,r){for(const a of r)a instanceof Nx?(i.Mo.addReference(a.key,n),kx(i,a)):a instanceof jD?(Ne("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||Px(i,a.key)):Ye()}function kx(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(Ne("SyncEngine","New document in limbo: "+r),i.$o.add(a),eT(i))}function eT(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Qe(Ot.fromString(n)),a=i.Uo.next();i.Fo.set(a,new FR(r)),i.Oo=i.Oo.insert(r,a),Tp(i.remoteStore,new Jo(Ji(ei(r.path)),a,2,Mi.T))}}function nu(i,n,r){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,ye.Z)(function*(i,n,r){const a=Fe(i),c=[],h=[],y=[];var w;a.xo.isEmpty()||(a.xo.forEach((w,D)=>{y.push(a.Ko(D,n,r).then(A=>{if(A){a.isPrimaryClient&&a.sharedClientState.updateQueryState(D.targetId,A.fromCache?"not-current":"current"),c.push(A);const R=VE.kn(D.targetId,A);h.push(R)}}))}),yield Promise.all(y),a.No.Tr(c),yield(w=(0,ye.Z)(function*(D,A){const R=Fe(D);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Ie.forEach(A,j=>Ie.forEach(j.Nn,z=>R.persistence.referenceDelegate.addReference(P,j.targetId,z)).next(()=>Ie.forEach(j.xn,z=>R.persistence.referenceDelegate.removeReference(P,j.targetId,z)))))}catch(P){if(!Rc(P))throw P;Ne("LocalStore","Failed to update sequence numbers: "+P)}for(const P of A){const j=P.targetId;if(!P.fromCache){const z=R.Un.get(j),Re=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);R.Un=R.Un.insert(j,Re)}}}),function(D,A){return w.apply(this,arguments)})(a.localStore,h))})).apply(this,arguments)}function Fx(i,n){return tT.apply(this,arguments)}function tT(){return(tT=(0,ye.Z)(function*(i,n){const r=Fe(i);if(!r.currentUser.isEqual(n)){Ne("SyncEngine","User change. New user:",n.toKey());const a=yield UE(r.localStore,n);r.currentUser=n,(c=r).Bo.forEach(y=>{y.forEach(w=>{w.reject(new Te(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield nu(r,a.Wn)}var c})).apply(this,arguments)}function UR(i,n){const r=Fe(i),a=r.Fo.get(n);if(a&&a.Co)return $t().add(a.key);{let c=$t();const h=r.ko.get(n);if(!h)return c;for(const y of h){const w=r.xo.get(y);c=c.unionWith(w.view.To)}return c}}function Lx(i,n){return nT.apply(this,arguments)}function nT(){return(nT=(0,ye.Z)(function*(i,n){const r=Fe(i),a=yield Vy(r.localStore,n.query,!0),c=n.view.So(a);return r.isPrimaryClient&&eh(r,n.targetId,c.vo),c})).apply(this,arguments)}function rT(i){return hw.apply(this,arguments)}function hw(){return(hw=(0,ye.Z)(function*(i){const n=Fe(i);return zd(n.localStore).then(r=>nu(n,r))})).apply(this,arguments)}function BR(i,n,r,a){return iT.apply(this,arguments)}function iT(){return(iT=(0,ye.Z)(function*(i,n,r,a){const c=Fe(i),h=yield function(y,w){const D=Fe(y),A=Fe(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",R=>A.Xt(R,w).next(P=>P?D.Qn.Pn(R,P):Ie.resolve(null)))}(c.localStore,n);var w;null!==h?("pending"===r?yield Yd(c.remoteStore):"acknowledged"===r||"rejected"===r?(XD(c,n,a||null),JD(c,n),w=n,Fe(Fe(c.localStore).In).te(w)):Ye(),yield nu(c,h)):Ne("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function kc(){return(kc=(0,ye.Z)(function*(i,n){const r=Fe(i);if(gw(r),mw(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),c=yield sT(r,a.toArray());r.qo=!0,yield Zy(r.remoteStore,!0);for(const h of c)Tp(r.remoteStore,h)}else if(!1===n&&!1!==r.qo){const a=[];let c=Promise.resolve();r.ko.forEach((h,y)=>{r.sharedClientState.isLocalQueryTarget(y)?a.push(y):c=c.then(()=>(Xd(r,y),qd(r.localStore,y,!0))),tu(r.remoteStore,y)}),yield c,yield sT(r,a),function(h){const y=Fe(h);y.Fo.forEach((w,D)=>{tu(y.remoteStore,D)}),y.Mo.us(),y.Fo=new Map,y.Oo=new hr(Qe.comparator)}(r),r.qo=!1,yield Zy(r.remoteStore,!1)}})).apply(this,arguments)}function sT(i,n,r){return fw.apply(this,arguments)}function fw(){return(fw=(0,ye.Z)(function*(i,n,r){const a=Fe(i),c=[],h=[];for(const y of n){let w;const D=a.ko.get(y);if(D&&0!==D.length){w=yield Gd(a.localStore,Ji(D[0]));for(const A of D){const R=a.xo.get(A),P=yield Lx(a,R);P.snapshot&&h.push(P.snapshot)}}else{const A=yield ED(a.localStore,y);w=yield Gd(a.localStore,A),yield lw(a,oT(A),y,!1)}c.push(w)}return a.No.Tr(h),c})).apply(this,arguments)}function oT(i){return PI(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function pw(i){const n=Fe(i);return Fe(Fe(n.localStore).persistence).pn()}function Ux(i,n,r,a){return ni.apply(this,arguments)}function ni(){return(ni=(0,ye.Z)(function*(i,n,r,a){const c=Fe(i);if(c.qo)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(n))switch(r){case"current":case"not-current":{const h=yield zd(c.localStore),y=Za.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield nu(c,h,y);break}case"rejected":yield qd(c.localStore,n,!0),Xd(c,n,a);break;default:Ye()}})).apply(this,arguments)}function Bx(i,n,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ye.Z)(function*(i,n,r){const a=gw(i);if(a.qo){for(const c of n){if(a.ko.has(c)){Ne("SyncEngine","Adding an already active target "+c);continue}const h=yield ED(a.localStore,c),y=yield Gd(a.localStore,h);yield lw(a,oT(h),y.targetId,!1),Tp(a.remoteStore,y)}for(const c of r)a.ko.has(c)&&(yield qd(a.localStore,c,!1).then(()=>{tu(a.remoteStore,c),Xd(a,c)}).catch(Xa))}})).apply(this,arguments)}function gw(i){const n=Fe(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=qD.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=UR.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=zD.bind(null,n),n.No.Tr=OR.bind(null,n.eventManager),n.No.jo=PR.bind(null,n.eventManager),n}function mw(i){const n=Fe(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=KD.bind(null,n),n}class _w{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,ye.Z)(function*(){r.N=bp(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return $d(this.persistence,new mD,n.initialUser,this.N)}Go(n){return new ZE(KE.Ns,this.N)}Wo(n){return new QE}terminate(){var n=this;return(0,ye.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class vw extends _w{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,ye.Z)(function*(){yield r().call(a,n),yield function(i){return HE.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield mw(a.Jo.syncEngine),yield Yd(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return $d(this.persistence,new mD,n.initialUser,this.N)}zo(n){return new hD(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=LE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new FE(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,Fr(),ea(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new QE}}class jx extends vw{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,ye.Z)(function*(){yield r().call(a,n);const c=a.Jo.syncEngine;a.sharedClientState instanceof YE&&(a.sharedClientState.syncEngine={_i:BR.bind(null,c),mi:Ux.bind(null,c),gi:Bx.bind(null,c),pn:pw.bind(null,c),wi:rT.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var h=(0,ye.Z)(function*(y){yield function(i,n){return kc.apply(this,arguments)}(a.Jo.syncEngine,y),a.gcScheduler&&(y&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):y||a.gcScheduler.stop())});return function(y){return h.apply(this,arguments)}}())})()}Wo(n){const r=Fr();if(!YE.bt(r))throw new Te(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=LE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new YE(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class Jy{initialize(n,r){var a=this;return(0,ye.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>Yy(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=Fx.bind(null,a.syncEngine),yield Zy(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new MR}createDatastore(n){const r=bp(n.databaseInfo.databaseId),a=new RR(n.databaseInfo);return new XE(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,c=n.asyncQueue,h=w=>Yy(this.syncEngine,w,0),y=DD.bt()?new DD:new ID,new SD(r,a,c,h,y);var r,a,c,h,y}createSyncEngine(n,r){return function(a,c,h,y,w,D,A){const R=new LR(a,c,h,y,w,D);return A&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,ye.Z)(function*(r){const a=Fe(r);Ne("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield eu(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function Ew(i,n=10240){let r=0;return{read:()=>(0,ye.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Xy{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class Hx{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new ur,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,ye.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,ye.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,ye.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),c=Number(a);isNaN(c)&&n.sa(`length string (${a}) is not valid number`);const h=yield n.ia(c);return new xx(JSON.parse(h),r.length+c)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,ye.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,ye.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,ye.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class ww{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,ye.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Te(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,ye.Z)(function*(h,y){const w=Fe(h),D=Nd(w.N)+"/documents",A={documents:y.map(z=>fp(w.N,z))},R=yield w.Ki("BatchGetDocuments",D,A),P=new Map;R.forEach(z=>{const de=function(i,n){return"found"in n?function(r,a){ut(!!a.found);const c=kn(r,a.found.name),h=Jn(a.found.updateTime),y=new kr({mapValue:{fields:a.found.fields}});return Cn.newFoundDocument(c,h,y)}(i,n):"missing"in n?function(r,a){ut(!!a.missing),ut(!!a.readTime);const c=kn(r,a.missing),h=Jn(a.readTime);return Cn.newNoDocument(c,h)}(i,n):Ye()}(w.N,z);P.set(de.key.toString(),de)});const j=[];return y.forEach(z=>{const de=P.get(z.toString());ut(!!de),j.push(de)}),j}),function(h,y){return c.apply(this,arguments)})(r.datastore,n);var c;return a.forEach(c=>r.recordVersion(c)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new dp(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,ye.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,c)=>{const h=Qe.fromPath(c);n.mutations.push(new fE(h,n.precondition(h)))}),yield(a=(0,ye.Z)(function*(c,h){const y=Fe(c),w=Nd(y.N)+"/documents",D={writes:h.map(A=>Sy(y.N,A))};yield y.Li("Commit",w,D)}),function(c,h){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Ye();r=wt.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new Te(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Qn.updateTime(r):Qn.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(wt.min()))throw new Te(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qn.updateTime(r)}return Qn.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class aT{constructor(n,r,a,c){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=c,this.aa=5,this.rr=new JE(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,ye.Z)(function*(){const r=new ww(n.datastore),a=n.ua(r);a&&a.then(c=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(c)}).catch(h=>{n.ha(h)}))}).catch(c=>{n.ha(c)})}))}ua(n){try{const r=this.updateFunction(n);return!wc(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!pE(r)}return!1}}class uT{constructor(n,r,a){var c=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=ar.UNAUTHENTICATED,this.clientId=Q0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var h=(0,ye.Z)(function*(y){Ne("FirestoreClient","Received user=",y.uid),yield c.credentialListener(y),c.user=y});return function(y){return h.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,ye.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const c=Mp(a,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function e_(i,n){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,ye.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var c=(0,ye.Z)(function*(h){a.isEqual(h)||(yield UE(n.localStore,h),a=h)});return function(h){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function ns(i,n){return bw.apply(this,arguments)}function bw(){return(bw=(0,ye.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield cT(i);Ne("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(c=>{return(h=(0,ye.Z)(function*(y,w){const D=Fe(y);D.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const A=ta(D);D.Kr.add(3),yield eu(D),A&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(w),D.Kr.delete(3),yield Dp(D)}),function(y,w){return h.apply(this,arguments)})(n.remoteStore,c);var h}),i.onlineComponents=n})).apply(this,arguments)}function cT(i){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,ye.Z)(function*(i){return i.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield e_(i,new _w)),i.offlineComponents})).apply(this,arguments)}function Dw(i){return Tw.apply(this,arguments)}function Tw(){return(Tw=(0,ye.Z)(function*(i){return i.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield ns(i,new Jy)),i.onlineComponents})).apply(this,arguments)}function lT(i){return cT(i).then(n=>n.persistence)}function Sw(i){return cT(i).then(n=>n.localStore)}function $x(i){return Dw(i).then(n=>n.remoteStore)}function Aw(i){return Dw(i).then(n=>n.syncEngine)}function Fc(i){return xw.apply(this,arguments)}function xw(){return(xw=(0,ye.Z)(function*(i){const n=yield Dw(i),r=n.eventManager;return r.onListen=VR.bind(null,n.syncEngine),r.onUnlisten=Ox.bind(null,n.syncEngine),r})).apply(this,arguments)}function zx(i,n,r={}){const a=new ur;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(c,h,y,w,D){const A=new Xy({next:P=>{h.enqueueAndForget(()=>LD(c,R));const j=P.docs.has(y);!j&&P.fromCache?D.reject(new Te(le.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&P.fromCache&&w&&"server"===w.source?D.reject(new Te(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(P)},error:P=>D.reject(P)}),R=new cw(ei(y.path),A,{includeMetadataChanges:!0,uo:!0});return kD(c,R)}(yield Fc(i),i.asyncQueue,n,r,a)})),a.promise}function Rw(i,n,r={}){const a=new ur;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(c,h,y,w,D){const A=new Xy({next:P=>{h.enqueueAndForget(()=>LD(c,R)),P.fromCache&&"server"===w.source?D.reject(new Te(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(P)},error:P=>D.reject(P)}),R=new cw(y,A,{includeMetadataChanges:!0,uo:!0});return kD(c,R)}(yield Fc(i),i.asyncQueue,n,r,a)})),a.promise}class Nw{constructor(n,r,a,c,h,y,w,D){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=c,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=w,this.useFetchStreams=D}}class Lc{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Lc&&n.projectId===this.projectId&&n.database===this.database}}const pT=new Map;function Mw(i,n,r){if(!r)throw new Te(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function Kx(i,n,r,a){if(!0===n&&!0===a)throw new Te(le.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Yx(i){if(!Qe.isDocumentKey(i))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Qx(i){if(Qe.isDocumentKey(i))throw new Te(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Up(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":Ye()}function Ft(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Up(i);throw new Te(le.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function gT(i,n){if(n<=0)throw new Te(le.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class mT{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,Kx("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Bp{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,n instanceof Lc?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(a.options.projectId)}(n))}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new wR;switch(r.type){case"gapi":const a=r.client;return ut(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new uy(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Te(le.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pT.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),pT.delete(n),r.terminate())}(this),Promise.resolve()}}class on{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new on(this.firestore,n,this._key)}}class ri{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new ri(this.firestore,n,this._query)}}class na extends ri{constructor(n,r,a){super(n,r,ei(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new on(this.firestore,null,new Qe(n))}withConverter(n){return new na(this.firestore,n,this._path)}}function yT(i,n,...r){if(i=(0,Et.m9)(i),Mw("collection","path",n),i instanceof Bp){const a=Ot.fromString(n,...r);return Qx(a),new na(i,null,a)}{if(!(i instanceof on||i instanceof na))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Ot.fromString(n,...r));return Qx(a),new na(i.firestore,null,a)}}function Ln(i,n,...r){if(i=(0,Et.m9)(i),1===arguments.length&&(n=Q0.I()),Mw("doc","path",n),i instanceof Bp){const a=Ot.fromString(n,...r);return Yx(a),new on(i,null,new Qe(a))}{if(!(i instanceof on||i instanceof na))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Ot.fromString(n,...r));return Yx(a),new on(i.firestore,i instanceof na?i.converter:null,new Qe(a))}}function Xx(i,n){return i=(0,Et.m9)(i),n=(0,Et.m9)(n),(i instanceof on||i instanceof na)&&(n instanceof on||n instanceof na)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function Pw(i,n){return i=(0,Et.m9)(i),n=(0,Et.m9)(n),i instanceof ri&&n instanceof ri&&i.firestore===n.firestore&&ap(i._query,n._query)&&i.converter===n.converter}class _T{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new JE(this,"async_queue_retry"),this.Ea=()=>{const r=ea();r&&Ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=ea();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=ea();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new ur;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,ye.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Rc(r))throw r;Ne("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,qn("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const c=PD.createAndSchedule(this,n,r,a,h=>this.Ra(h));return this._a.push(c),c}Ta(){this.ma&&Ye()}verifyOperationInProgress(){}ba(){var n=this;return(0,ye.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function kw(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(i)}class t_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Mn extends Bp{constructor(n,r){super(n,r),this.type="firestore",this._queue=new _T,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||n_(this),this._firestoreClient.terminate()}}function Wn(i){return i._firestoreClient||n_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function n_(i){var n;const r=i._freezeSettings(),a=(h=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new Nw(i._databaseId,h,i._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var h,w;i._firestoreClient=new uT(i._credentials,i._queue,a)}function jp(i,n,r){const a=new ur;return i.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield e_(i,r),yield ns(i,n),a.resolve()}catch(c){if(!("FirebaseError"===(h=c).name?h.code===le.FAILED_PRECONDITION||h.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var h})).then(()=>a.promise)}function o1(i){if(i._initialized||i._terminated)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rs{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ra{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ra(dr.fromBase64String(n))}catch(r){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new ra(dr.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class nh{constructor(n){this._methodName=n}}class Vw{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Tt(this._lat,n._lat)||Tt(this._long,n._long)}}const a1=/^__.*__$/;class u1{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new Wa(n,this.data,this.fieldMask,r,this.fieldTransforms):new lp(n,this.data,r,this.fieldTransforms)}}class ET{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new Wa(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function wT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class r_{constructor(n,r,a,c,h,y){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=c,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new r_(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:a,xa:!1});return c.ka(n),c}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:a,xa:!1});return c.Sa(),c}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return s_(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(wT(this.Da)&&a1.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class HR{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||bp(n)}Ba(n,r,a,c=!1){return new r_({Da:n,methodName:r,La:a,path:lr.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Vc(i){const n=i._freezeSettings(),r=bp(i._databaseId);return new HR(i._databaseId,!!n.ignoreUndefinedProperties,r)}function i_(i,n,r,a,c,h={}){const y=i.Ba(h.merge||h.mergeFields?2:0,n,r,c);jw("Data must be an object, but it was:",y,a);const w=bT(a,y);let D,A;if(h.merge)D=new _d(y.fieldMask),A=y.fieldTransforms;else if(h.mergeFields){const R=[];for(const P of h.mergeFields){const j=DT(n,P,r);if(!y.contains(j))throw new Te(le.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);rh(R,j)||R.push(j)}D=new _d(R),A=y.fieldTransforms.filter(P=>D.covers(P.field))}else D=null,A=y.fieldTransforms;return new u1(new kr(w),D,A)}class Hp extends nh{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Hp}}function c1(i,n,r){return new r_({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class CT extends nh{_toFieldTransform(n){return new Ko(n.path,new Td)}isEqual(n){return n instanceof CT}}class l1 extends nh{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=c1(this,n,!0),a=this.Ua.map(h=>Uc(h,r)),c=new Ic(a);return new Ko(n.path,c)}isEqual(n){return this===n}}class d1 extends nh{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=c1(this,n,!0),a=this.Ua.map(h=>Uc(h,r)),c=new eo(a);return new Ko(n.path,c)}isEqual(n){return this===n}}class h1 extends nh{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Dc(n.N,LI(n.N,this.qa));return new Ko(n.path,r)}isEqual(n){return this===n}}function Uw(i,n,r,a){const c=i.Ba(1,n,r);jw("Data must be an object, but it was:",c,a);const h=[],y=kr.empty();$a(a,(D,A)=>{const R=Hw(n,D,r);A=(0,Et.m9)(A);const P=c.$a(R);if(A instanceof Hp)h.push(R);else{const j=Uc(A,P);null!=j&&(h.push(R),y.set(R,j))}});const w=new _d(h);return new ET(y,w,c.fieldTransforms)}function Bw(i,n,r,a,c,h){const y=i.Ba(1,n,r),w=[DT(n,a,r)],D=[c];if(h.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<h.length;j+=2)w.push(DT(n,h[j])),D.push(h[j+1]);const A=[],R=kr.empty();for(let j=w.length-1;j>=0;--j)if(!rh(A,w[j])){const z=w[j];let de=D[j];de=(0,Et.m9)(de);const Re=y.$a(z);if(de instanceof Hp)A.push(z);else{const Be=Uc(de,Re);null!=Be&&(A.push(z),R.set(z,Be))}}const P=new _d(A);return new ET(R,P,y.fieldTransforms)}function is(i,n,r,a=!1){return Uc(r,i.Ba(a?4:3,n))}function Uc(i,n){if(IT(i=(0,Et.m9)(i)))return jw("Unsupported field value:",n,i),bT(i,n);if(i instanceof nh)return function(r,a){if(!wT(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const c=[];let h=0;for(const y of r){let w=Uc(y,a.Oa(h));null==w&&(w={nullValue:"NULL_VALUE"}),c.push(w),h++}return{arrayValue:{values:c}}}(i,n)}return function(r,a){if(null===(r=(0,Et.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return LI(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=cr.fromDate(r);return{timestampValue:Es(a.N,c)}}if(r instanceof cr){const c=new cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Es(a.N,c)}}if(r instanceof Vw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:ex(a.N,r._byteString)};if(r instanceof on){const c=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw a.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:YI(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${Up(r)}`)}(i,n)}function bT(i,n){const r={};return II(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):$a(i,(a,c)=>{const h=Uc(c,n.Na(a));null!=h&&(r[a]=h)}),{mapValue:{fields:r}}}function IT(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof cr||i instanceof Vw||i instanceof ra||i instanceof on||i instanceof nh)}function jw(i,n,r){if(!IT(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Up(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function DT(i,n,r){if((n=(0,Et.m9)(n))instanceof rs)return n._internalPath;if("string"==typeof n)return Hw(i,n);throw s_("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const f1=new RegExp("[~\\*/\\[\\]]");function Hw(i,n,r){if(n.search(f1)>=0)throw s_(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new rs(...n.split("."))._internalPath}catch(a){throw s_(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function s_(i,n,r,a,c){const h=a&&!a.isEmpty(),y=void 0!==c;let w=`Function ${n}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let D="";return(h||y)&&(D+=" (found",h&&(D+=` in field ${a}`),y&&(D+=` in document ${c}`),D+=")"),new Te(le.INVALID_ARGUMENT,w+i+D)}function rh(i,n){return i.some(r=>r.isEqual(n))}class ih{constructor(n,r,a,c,h){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new $R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(o_("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class $R extends ih{data(){return super.data()}}function o_(i,n){return"string"==typeof n?Hw(i,n):n instanceof rs?n._internalPath:n._delegate._internalPath}class sh{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ru extends ih{constructor(n,r,a,c,h,y){super(n,r,a,c,y),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new a_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(o_("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class a_ extends ru{data(n={}){return super.data(n)}}class ro{constructor(n,r,a,c){this._firestore=n,this._userDataWriter=r,this._snapshot=c,this.metadata=new sh(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new a_(this._firestore,this._userDataWriter,a.key,a,new sh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(y=>({type:"added",doc:new a_(a._firestore,a._userDataWriter,y.doc.key,y.doc,new sh(a._snapshot.mutatedKeys.has(y.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(y=>c||3!==y.type).map(y=>{const w=new a_(a._firestore,a._userDataWriter,y.doc.key,y.doc,new sh(a._snapshot.mutatedKeys.has(y.doc.key),a._snapshot.fromCache),a.query.converter);let D=-1,A=-1;return 0!==y.type&&(D=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),1!==y.type&&(h=h.add(y.doc),A=h.indexOf(y.doc.key)),{type:p1(y.type),doc:w,oldIndex:D,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function p1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}function TT(i,n){return i instanceof ru&&n instanceof ru?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof ro&&n instanceof ro&&i._firestore===n._firestore&&Pw(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function ST(i){if(oE(i)&&0===i.explicitOrderBy.length)throw new Te(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u_{}function iu(i,...n){for(const r of n)i=r._apply(i);return i}class g1 extends u_{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=Vc(n.firestore),a=function(c,h,y,w,D,A,R){let P;if(D.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){Zw(R,A);const z=[];for(const de of R)z.push(Ww(w,c,de));P={arrayValue:{values:z}}}else P=Ww(w,c,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||Zw(R,A),P=is(y,"where",R,"in"===A||"not-in"===A);const j=br.create(D,A,P);return function(z,de){if(de.v()){const Be=aE(z);if(null!==Be&&!Be.isEqual(de.field))throw new Te(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${de.field.toString()}'`);const ft=Dd(z);null!==ft&&RT(0,de.field,ft)}const Re=function(Be,ft){for(const Ct of Be.filters)if(ft.indexOf(Ct.op)>=0)return Ct.op;return null}(z,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(de.op));if(null!==Re)throw new Te(le.INVALID_ARGUMENT,Re===de.op?`Invalid query. You cannot use more than one '${de.op.toString()}' filter.`:`Invalid query. You cannot use '${de.op.toString()}' filters with '${Re.toString()}' filters.`)}(c,j),j}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new ri(n.firestore,n.converter,function(c,h){const y=c.filters.concat([h]);return new za(c.path,c.collectionGroup,c.explicitOrderBy.slice(),y,c.limit,c.limitType,c.startAt,c.endAt)}(n._query,a))}}class ws extends u_{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,c,h){if(null!==a.startAt)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new Zo(c,h);return function(w,D){if(null===Dd(w)){const A=aE(w);null!==A&&RT(0,A,D.field)}}(a,y),y}(n._query,this.Ka,this.Wa);return new ri(n.firestore,n.converter,function(a,c){const h=a.explicitOrderBy.concat([c]);return new za(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class $w extends u_{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new ri(n.firestore,n.converter,kI(n._query,this.Ga,this.za))}}class Gw extends u_{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=$p(n,this.type,this.Ha,this.Ja);return new ri(n.firestore,n.converter,(c=r,new za((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class c_ extends u_{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=$p(n,this.type,this.Ha,this.Ja);return new ri(n.firestore,n.converter,(c=r,new za((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function $p(i,n,r,a){if(r[0]=(0,Et.m9)(r[0]),r[0]instanceof ih)return function(c,h,y,w,D){if(!w)throw new Te(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const A=[];for(const R of op(c))if(R.field.isKeyField())A.push(hy(h,w.key));else{const P=w.data.field(R.field);if(cy(P))throw new Te(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const j=R.field.canonicalString();throw new Te(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}A.push(P)}return new _y(A,D)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const c=Vc(i.firestore);return function(h,y,w,D,A,R){const P=h.explicitOrderBy;if(A.length>P.length)throw new Te(le.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let z=0;z<A.length;z++){const de=A[z];if(P[z].field.isKeyField()){if("string"!=typeof de)throw new Te(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof de}`);if(!uE(h)&&-1!==de.indexOf("/"))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${de}' contains a slash.`);const Re=h.path.child(Ot.fromString(de));if(!Qe.isDocumentKey(Re))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Re}' is not because it contains an odd number of segments.`);const Be=new Qe(Re);j.push(hy(y,Be))}else{const Re=is(w,D,de);j.push(Re)}}return new _y(j,R)}(i._query,i.firestore._databaseId,c,n,r,a)}}function Ww(i,n,r){if("string"==typeof(r=(0,Et.m9)(r))){if(""===r)throw new Te(le.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uE(n)&&-1!==r.indexOf("/"))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(Ot.fromString(r));if(!Qe.isDocumentKey(a))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return hy(i,new Qe(a))}if(r instanceof on)return hy(i,r._key);throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Up(r)}.`)}function Zw(i,n){if(!Array.isArray(i)||0===i.length)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function RT(i,n,r){if(!r.isEqual(n))throw new Te(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Kw{convertValue(n,r="none"){switch(qa(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Rn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(vd(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Ye()}}convertObject(n,r){const a={};return $a(n.fields,(c,h)=>{a[c]=this.convertValue(h,r)}),a}convertGeoPoint(n){return new Vw(Rn(n.latitude),Rn(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=J0(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(rp(n));default:return null}}convertTimestamp(n){const r=Ga(n);return new cr(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=Ot.fromString(n);ut(Ny(a));const c=new Lc(a.get(1),a.get(3)),h=new Qe(a.popFirst(5));return c.isEqual(r)||qn(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function Gp(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class _1 extends Kw{constructor(n){super(),this.firestore=n}convertBytes(n){return new ra(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new on(this.firestore,null,r)}}class NT{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Vc(n)}set(n,r,a){this._verifyNotCommitted();const c=su(n,this._firestore),h=Gp(c.converter,r,a),y=i_(this._dataReader,"WriteBatch.set",c._key,h,null!==c.converter,a);return this._mutations.push(y.toMutation(c._key,Qn.none())),this}update(n,r,a,...c){this._verifyNotCommitted();const h=su(n,this._firestore);let y;return y="string"==typeof(r=(0,Et.m9)(r))||r instanceof rs?Bw(this._dataReader,"WriteBatch.update",h._key,r,a,c):Uw(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(y.toMutation(h._key,Qn.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=su(n,this._firestore);return this._mutations=this._mutations.concat(new dp(r._key,Qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function su(i,n){if((i=(0,Et.m9)(i)).firestore!==n)throw new Te(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Bc extends Kw{constructor(n){super(),this.firestore=n}convertBytes(n){return new ra(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new on(this.firestore,null,r)}}function f_(i,n,r){i=Ft(i,on);const a=Ft(i.firestore,Mn),c=Gp(i.converter,n,r);return oh(a,[i_(Vc(a),"setDoc",i._key,c,null!==i.converter,r).toMutation(i._key,Qn.none())])}function Qw(i,n,r,...a){i=Ft(i,on);const c=Ft(i.firestore,Mn),h=Vc(c);let y;return y="string"==typeof(n=(0,Et.m9)(n))||n instanceof rs?Bw(h,"updateDoc",i._key,n,r,a):Uw(h,"updateDoc",i._key,n),oh(c,[y.toMutation(i._key,Qn.exists(!0))])}function OT(i,...n){var r,a,c;i=(0,Et.m9)(i);let h={includeMetadataChanges:!1},y=0;"object"!=typeof n[y]||kw(n[y])||(h=n[y],y++);const w={includeMetadataChanges:h.includeMetadataChanges};if(kw(n[y])){const P=n[y];n[y]=null===(r=P.next)||void 0===r?void 0:r.bind(P),n[y+1]=null===(a=P.error)||void 0===a?void 0:a.bind(P),n[y+2]=null===(c=P.complete)||void 0===c?void 0:c.bind(P)}let D,A,R;if(i instanceof on)A=Ft(i.firestore,Mn),R=ei(i._key.path),D={next:P=>{n[y]&&n[y](g_(A,i,P))},error:n[y+1],complete:n[y+2]};else{const P=Ft(i,ri);A=Ft(P.firestore,Mn),R=P._query;const j=new Bc(A);D={next:z=>{n[y]&&n[y](new ro(A,j,P,z))},error:n[y+1],complete:n[y+2]},ST(i._query)}return function(P,j,z,de){const Re=new Xy(de),Be=new cw(j,Re,z);return P.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return kD(yield Fc(P),Be)})),()=>{Re.Xo(),P.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return LD(yield Fc(P),Be)}))}}(Wn(A),R,w,D)}function oh(i,n){return function(r,a){const c=new ur;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,n,r){return Ky.apply(this,arguments)}(yield Aw(r),a,c)})),c.promise}(Wn(i),n)}function g_(i,n,r){const a=r.docs.get(n._key),c=new Bc(i);return new ru(i,c,n._key,a,new sh(r.hasPendingWrites,r.fromCache),n.converter)}class w1 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Vc(n)}get(n){const r=su(n,this._firestore),a=new _1(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return Ye();const h=c[0];if(h.isFoundDocument())return new ih(this._firestore,a,h.key,h,r.converter);if(h.isNoDocument())return new ih(this._firestore,a,r._key,null,r.converter);throw Ye()})}set(n,r,a){const c=su(n,this._firestore),h=Gp(c.converter,r,a),y=i_(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,a);return this._transaction.set(c._key,y),this}update(n,r,a,...c){const h=su(n,this._firestore);let y;return y="string"==typeof(r=(0,Et.m9)(r))||r instanceof rs?Bw(this._dataReader,"Transaction.update",h._key,r,a,c):Uw(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,y),this}delete(n){const r=su(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=su(n,this._firestore),a=new Bc(this._firestore);return super.get(n).then(c=>new ru(this._firestore,a,r._key,c._document,new sh(!1,!1),r.converter))}}function m_(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Te("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function eC(){if("undefined"==typeof Uint8Array)throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function PT(){if("undefined"==typeof atob)throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){Ec=i})(La.SDK_VERSION),(0,La._registerComponent)(new Am.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new Mn(r,new bR(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,La.registerVersion)("@firebase/firestore","3.1.0",void 0);class Wp{constructor(n){this._delegate=n}static fromBase64String(n){return PT(),new Wp(ra.fromBase64String(n))}static fromUint8Array(n){return eC(),new Wp(ra.fromUint8Array(n))}toBase64(){return PT(),this._delegate.toBase64()}toUint8Array(){return eC(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tC(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class Zp{enableIndexedDbPersistence(n,r){return function(i,n){o1(i=Ft(i,Mn));const r=Wn(i),a=i._freezeSettings(),c=new Jy;return jp(r,c,new vw(c,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){o1(i=Ft(i,Mn));const n=Wn(i),r=i._freezeSettings(),a=new Jy;return jp(n,a,new jx(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Te(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new ur;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(r=(0,ye.Z)(function*(a){if(!Fi.bt())return Promise.resolve();const c=a+"main";yield Fi.delete(c)}),function(a){return r.apply(this,arguments)})(LE(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class jc{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Lc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&tp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var c;const h=(i=Ft(i,Bp))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==n&&tp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let y,w;if("string"==typeof a.mockUserToken)y=a.mockUserToken,w=ar.MOCK_USER;else{y=(0,Et.Sg)(a.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new Te(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ar(D)}i._credentials=new CR(new FA(y,w))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ye.Z)(function*(){const n=yield lT(i),r=yield $x(i);return n.setNetworkEnabled(!0),function(a){const c=Fe(a);return c.Kr.delete(0),Dp(c)}(r)}))}(Wn(i=Ft(i,Mn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ye.Z)(function*(){const n=yield lT(i),r=yield $x(i);return n.setNetworkEnabled(!1),(a=(0,ye.Z)(function*(c){const h=Fe(c);h.Kr.add(0),yield eu(h),h.Wr.set("Offline")}),function(c){return a.apply(this,arguments)})(r);var a}))}(Wn(i=Ft(i,Mn)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,Kx("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new ur;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,n){return QD.apply(this,arguments)}(yield Aw(n),r)})),r.promise}(Wn(i=Ft(i,Mn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new Xy(n);return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return a=yield Fc(i),c=r,Fe(a).Zr.add(c),void c.next();var a,c})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return a=yield Fc(i),c=r,void Fe(a).Zr.delete(c);var a,c}))}}(Wn(i=Ft(i,Mn)),kw(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new au(this,yT(this._delegate,n))}catch(r){throw Lr(r,"collection()","Firestore.collection()")}}doc(n){try{return new Vi(this,Ln(this._delegate,n))}catch(r){throw Lr(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new si(this,function(i,n){if(i=Ft(i,Bp),Mw("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ri(i,null,(r=n,new za(Ot.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw Lr(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new ur;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const a=yield(c=i,Dw(c).then(h=>h.datastore));var c;new aT(i.asyncQueue,a,n,r).run()})),r.promise}(Wn(i),r=>n(new w1(i,r)))}(this._delegate,r=>n(new kT(this,r)))}batch(){return Wn(this._delegate),new FT(new NT(this._delegate,n=>oh(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Wn(i=Ft(i,Mn)),a=new t_;return function(i,n,r,a){const c=function(h,y){let w;return w="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,A){if(D instanceof Uint8Array)return Ew(D,A);if(D instanceof ArrayBuffer)return Ew(new Uint8Array(D),A);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new Hx(D,y);var D}(r,bp(n));i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(i,n,r){const a=Fe(i);var c;(c=(0,ye.Z)(function*(h,y,w){try{const D=yield y.getMetadata();if(yield function(j,z){const de=Fe(j),Re=Jn(z.createTime);return de.persistence.runTransaction("hasNewerBundle","readonly",Be=>de.Je.getBundleMetadata(Be,z.id)).then(Be=>!!Be&&Be.createTime.compareTo(Re)>=0)}(h.localStore,D))return yield y.close(),void w._completeWith((j=D,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));w._updateProgress(Rx(D));const A=new kR(D,h.localStore,y.N);let R=yield y.Qo();for(;R;){const j=yield A.fo(R);j&&w._updateProgress(j),R=yield y.Qo()}const P=yield A.complete();yield nu(h,P.Tn,void 0),yield function(j,z){const de=Fe(j);return de.persistence.runTransaction("Save bundle","readwrite",Re=>de.Je.saveBundleMetadata(Re,z))}(h.localStore,D),w._completeWith(P.progress)}catch(D){tp("SyncEngine",`Loading bundle failed with ${D}`),w._failWith(D)}var j}),function(h,y,w){return c.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield Aw(i),c,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,ye.Z)(function*(){return function(r,a){const c=Fe(r);return c.persistence.runTransaction("Get named query","readonly",h=>c.Je.getNamedQuery(h,a))}(yield Sw(i),n)}))}(Wn(i=Ft(i,Mn)),n).then(r=>r?new ri(i,null,r.query):null)}(this._delegate,n).then(r=>r?new si(this,r):null)}}class Hc extends Kw{constructor(n){super(),this.firestore=n}convertBytes(n){return new Wp(new ra(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return Vi.forKey(r,this.firestore,null)}}class kT{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Hc(n)}get(n){const r=qc(n);return this._delegate.get(r).then(a=>new Gc(this._firestore,new ru(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const c=qc(n);return a?(m_("Transaction.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(n,r,a,...c){const h=qc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...c),this}delete(n){const r=qc(n);return this._delegate.delete(r),this}}class FT{constructor(n){this._delegate=n}set(n,r,a){const c=qc(n);return a?(m_("WriteBatch.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(n,r,a,...c){const h=qc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...c),this}delete(n){const r=qc(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class $c{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new a_(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Kp(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=$c.INSTANCES;let c=a.get(n);c||(c=new WeakMap,a.set(n,c));let h=c.get(r);return h||(h=new $c(n,new Hc(n),r),c.set(r,h)),h}}$c.INSTANCES=new WeakMap;class Vi{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Hc(n)}static forPath(n,r,a){if(n.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Vi(r,new on(r._delegate,a,new Qe(n)))}static forKey(n,r,a){return new Vi(r,new on(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new au(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new au(this.firestore,yT(this._delegate,n))}catch(r){throw Lr(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Et.m9)(n))instanceof on&&Xx(this._delegate,n)}set(n,r){r=m_("DocumentReference.set",r);try{return r?f_(this._delegate,n,r):f_(this._delegate,n)}catch(a){throw Lr(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?Qw(this._delegate,n):Qw(this._delegate,n,r,...a)}catch(c){throw Lr(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return oh(Ft(i.firestore,Mn),[new dp(i._key,Qn.none())])}(this._delegate)}onSnapshot(...n){const r=nC(n),a=rC(n,c=>new Gc(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return OT(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ft(i,on);const n=Ft(i.firestore,Mn),r=Wn(n),a=new Bc(n);return function(i,n){const r=new ur;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(a=(0,ye.Z)(function*(c,h,y){try{const w=yield function(D,A){const R=Fe(D);return R.persistence.runTransaction("read document","readonly",P=>R.Qn.An(P,A))}(c,h);w.isFoundDocument()?y.resolve(w):w.isNoDocument()?y.resolve(null):y.reject(new Te(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const D=Mp(w,`Failed to get document '${h} from cache`);y.reject(D)}}),function(c,h,y){return a.apply(this,arguments)})(yield Sw(i),n,r);var a})),r.promise}(r,i._key).then(c=>new ru(n,a,i._key,c,new sh(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ft(i,on);const n=Ft(i.firestore,Mn);return zx(Wn(n),i._key,{source:"server"}).then(r=>g_(n,i,r))}(this._delegate):function(i){i=Ft(i,on);const n=Ft(i.firestore,Mn);return zx(Wn(n),i._key).then(r=>g_(n,i,r))}(this._delegate),r.then(a=>new Gc(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new Vi(this.firestore,this._delegate.withConverter(n?$c.getInstance(this.firestore,n):null))}}function Lr(i,n,r){return i.message=i.message.replace(n,r),i}function nC(i){for(const n of i)if("object"==typeof n&&!tC(n))return n;return{}}function rC(i,n){var r,a;let c;return c=tC(i[0])?i[0]:tC(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{c.next&&c.next(n(h))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class Gc{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new Vi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return TT(this._delegate,n._delegate)}}class Kp extends Gc{data(n){const r=this._delegate.data(n);return function(i,n){i||Ye()}(void 0!==r),r}}class si{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Hc(n)}where(n,r,a){try{return new si(this.firestore,iu(this._delegate,function(i,n,r){const a=n,c=o_("where",i);return new g1(c,a,r)}(n,r,a)))}catch(c){throw Lr(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new si(this.firestore,iu(this._delegate,function(i,n="asc"){const r=n,a=o_("orderBy",i);return new ws(a,r)}(n,r)))}catch(a){throw Lr(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new si(this.firestore,iu(this._delegate,function(i){return gT("limit",i),new $w("limit",i,"F")}(n)))}catch(r){throw Lr(r,"limit()","Query.limit()")}}limitToLast(n){try{return new si(this.firestore,iu(this._delegate,function(i){return gT("limitToLast",i),new $w("limitToLast",i,"L")}(n)))}catch(r){throw Lr(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new si(this.firestore,iu(this._delegate,function(...i){return new Gw("startAt",i,!0)}(...n)))}catch(r){throw Lr(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new si(this.firestore,iu(this._delegate,function(...i){return new Gw("startAfter",i,!1)}(...n)))}catch(r){throw Lr(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new si(this.firestore,iu(this._delegate,function(...i){return new c_("endBefore",i,!0)}(...n)))}catch(r){throw Lr(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new si(this.firestore,iu(this._delegate,function(...i){return new c_("endAt",i,!1)}(...n)))}catch(r){throw Lr(r,"endAt()","Query.endAt()")}}isEqual(n){return Pw(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ft(i,ri);const n=Ft(i.firestore,Mn),r=Wn(n),a=new Bc(n);return function(i,n){const r=new ur;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(a=(0,ye.Z)(function*(c,h,y){try{const w=yield Vy(c,h,!0),D=new HD(h,w.Gn),A=D.Io(w.documents),R=D.applyChanges(A,!1);y.resolve(R.snapshot)}catch(w){const D=Mp(w,`Failed to execute query '${h} against cache`);y.reject(D)}}),function(c,h,y){return a.apply(this,arguments)})(yield Sw(i),n,r);var a})),r.promise}(r,i._query).then(c=>new ro(n,a,i,c))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ft(i,ri);const n=Ft(i.firestore,Mn),r=Wn(n),a=new Bc(n);return Rw(r,i._query,{source:"server"}).then(c=>new ro(n,a,i,c))}(this._delegate):function(i){i=Ft(i,ri);const n=Ft(i.firestore,Mn),r=Wn(n),a=new Bc(n);return ST(i._query),Rw(r,i._query).then(c=>new ro(n,a,i,c))}(this._delegate),r.then(a=>new sa(this.firestore,new ro(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=nC(n),a=rC(n,c=>new sa(this.firestore,new ro(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return OT(this._delegate,r,a)}withConverter(n){return new si(this.firestore,this._delegate.withConverter(n?$c.getInstance(this.firestore,n):null))}}class LT{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Kp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sa{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new si(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Kp(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new LT(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new Kp(this._firestore,a))})}isEqual(n){return TT(this._delegate,n._delegate)}}class au extends si{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Vi(this.firestore,n):null}doc(n){try{return new Vi(this.firestore,void 0===n?Ln(this._delegate):Ln(this._delegate,n))}catch(r){throw Lr(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Ft(i.firestore,Mn),a=Ln(i),c=Gp(i.converter,n);return oh(r,[i_(Vc(i.firestore),"addDoc",a._key,c,null!==i.converter,{}).toMutation(a._key,Qn.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new Vi(this.firestore,r))}isEqual(n){return Xx(this._delegate,n._delegate)}withConverter(n){return new au(this.firestore,this._delegate.withConverter(n?$c.getInstance(this.firestore,n):null))}}function qc(i){return Ft(i,on)}class iC{constructor(...n){this._delegate=new rs(...n)}static documentId(){return new iC(lr.keyField().canonicalString())}isEqual(n){return(n=(0,Et.m9)(n))instanceof rs&&this._delegate._internalPath.isEqual(n._internalPath)}}class uh{constructor(n){this._delegate=n}static serverTimestamp(){const n=new CT("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new uh(n)}static delete(){const n=new Hp("deleteField");return n._methodName="FieldValue.delete",new uh(n)}static arrayUnion(...n){const r=function(...i){return new l1("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new uh(r)}static arrayRemove(...n){const r=function(...i){return new d1("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new uh(r)}static increment(n){const r=function(i){return new h1("increment",i)}(n);return r._methodName="FieldValue.increment",new uh(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const zR={Firestore:jc,GeoPoint:Vw,Timestamp:cr,Blob:Wp,Transaction:kT,WriteBatch:FT,DocumentReference:Vi,DocumentSnapshot:Gc,Query:si,QueryDocumentSnapshot:Kp,QuerySnapshot:sa,CollectionReference:au,FieldPath:iC,FieldValue:uh,setLogLevel:function(i){!function(i){Wo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function VT(i,n){return function(i,n=tA.z){return new zr.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function UT(i,n){return VT(i,n).pipe((0,lt.U)(r=>({payload:r,type:"query"})))}function sC(i,n){return UT(i,n).pipe(Ca(void 0),Fb(),(0,lt.U)(([r,a])=>{const c=a.payload.docChanges(),h=c.map(y=>({type:y.type,payload:y}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((y,w)=>{const D=c.find(R=>R.doc.ref.isEqual(y.ref)),A=null==r?void 0:r.payload.docs.find(R=>R.ref.isEqual(y.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(y.metadata)||!D&&A&&JSON.stringify(A.metadata)===JSON.stringify(y.metadata)||h.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:y}})}),h}))}function A1(i,n,r){return sC(i,r).pipe(ba((a,c)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return BT(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return BT(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return BT(i,n.oldIndex,1)}return i}(i,a))}),i}(a,c.map(h=>h.payload),n),[]),r=>r.lift(new nA(void 0,void 0)),(0,lt.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function BT(i,n,r,...a){const c=i.slice();return c.splice(n,r,...a),c}function R1(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){(function(i,n){i.INTERNAL.registerComponent(new Am.wA("firestore-compat",r=>((n,r)=>new jc(n,r,new Zp))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},zR)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(Sm.Z);class N1{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=sC(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,lt.U)(a=>a.filter(c=>n.indexOf(c.type)>-1)))),r.pipe(Ca(void 0),Fb(),qi(([a,c])=>c.length>0||!a),(0,lt.U)(([a,c])=>c),sn.iC)}auditTrail(n){return this.stateChanges(n).pipe(ba((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=R1(n);return A1(this.query,r,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(n={}){return UT(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),sn.iC)}get(n){return(0,Wt.D)(this.query.get(n)).pipe(sn.iC)}add(n){return this.ref.add(n)}doc(n){return new s(this.ref.doc(n),this.afs)}}class s{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:c,query:h}=v(a,r);return new N1(c,h,this.afs)}snapshotChanges(){return function(i,n){return VT(i,n).pipe(Ca(void 0),Fb(),(0,lt.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,Wt.D)(this.ref.get(n)).pipe(sn.iC)}}class o{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?sC(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),qi(r=>r.length>0),sn.iC):sC(this.query,this.afs.schedulers.outsideAngular).pipe(sn.iC)}auditTrail(n){return this.stateChanges(n).pipe(ba((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=R1(n);return A1(this.query,r,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(n={}){return UT(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(a=>a.payload.docs.map(c=>n.idField?Object.assign({[n.idField]:c.id},c.data()):c.data())),sn.iC)}get(n){return(0,Wt.D)(this.query.get(n)).pipe(sn.iC)}}const u=new g.OlP("angularfire2.enableFirestorePersistence"),l=new g.OlP("angularfire2.firestore.persistenceSettings"),d=new g.OlP("angularfire2.firestore.settings"),f=new g.OlP("angularfire2.firestore.use-emulator");function v(i,n=(r=>r)){return{query:n(i),ref:i}}let E=(()=>{class i{constructor(r,a,c,h,y,w,D,A,R,P,j,z,de,Re,Be,ft){this.schedulers=D;const Ct=(0,pi.on)(r,w,a),it=R;P&&eA(Ct,w,j,de,Re,Be,z,ft),[this.firestore,this.persistenceEnabled$]=(0,sn.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const mt=w.runOutsideAngular(()=>Ct.firestore());if(h&&mt.settings(h),it&&mt.useEmulator(...it),c&&!mu(y)){const Vn=()=>{try{return(0,Wt.D)(mt.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(oa){return"undefined"!=typeof console&&console.warn(oa),(0,Xe.of)(!1)}};return[mt,w.runOutsideAngular(Vn)]}return[mt,(0,Xe.of)(!1)]},[h,it,c])}collection(r,a){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:y}=v(c,a),w=this.schedulers.ngZone.run(()=>h);return new N1(w,y,this)}collectionGroup(r,a){const c=a||(y=>y),h=this.firestore.collectionGroup(r);return new o(c(h),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>a);return new s(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(pi.Dh),g.LFG(pi.xv,8),g.LFG(u,8),g.LFG(d,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(sn.HU),g.LFG(l,8),g.LFG(f,8),g.LFG(gi,8),g.LFG(JS,8),g.LFG(XS,8),g.LFG(Tm,8),g.LFG(kb,8),g.LFG(qv,8),g.LFG(zv,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),I=(()=>{class i{constructor(){Gv.Z.registerVersion("angularfire",sn.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:u,useValue:!0},{provide:l,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[E]}),i})();class S{constructor(n,r){this.dueTime=n,this.scheduler=r}call(n,r){return r.subscribe(new N(n,this.dueTime,this.scheduler))}}class N extends _r.L{constructor(n,r,a){super(n),this.dueTime=r,this.scheduler=a,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(O,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function O(i){i.debouncedNext()}var V=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(V||(V={})),V))();const G="firebasestorage.googleapis.com",se="storageBucket";class oe extends Et.ZR{constructor(n,r){super(Ze(n),`Firebase Storage: ${r} (${Ze(n)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oe.prototype)}_codeEquals(n){return Ze(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ze(i){return"storage/"+i}function rt(){return new oe("unknown","An unknown error occurred, please check the error payload for server response.")}function zc(){return new oe("canceled","User canceled the upload/download.")}function y_(){return new oe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function NN(){return new oe("no-download-url","The given file does not have any download URLs.")}function __(i){return new oe("invalid-argument",i)}function QR(){return new oe("app-deleted","The Firebase app was deleted.")}function JR(i){return new oe("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lC(i,n){return new oe("invalid-format","String does not match format '"+i+"': "+n)}function jT(i){throw new oe("internal-error","Internal error: "+i)}class MN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=V.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=V.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=V.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,r,a,c){if(this.sent_)throw jT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,n,!0),void 0!==c)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return void 0!==a?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}}getResponseText(){if(!this.sent_)throw jT("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class PN{createConnection(){return new MN}}class _i{constructor(n,r){this.bucket=n,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,r){let a;try{a=_i.makeFromUrl(n,r)}catch(c){return new _i(n,"")}if(""===a.path)return a;throw function(i){return new oe("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,r){let a=null;const c="([A-Za-z0-9.\\-_]+)",w=new RegExp("^gs://"+c+"(/(.*))?$","i");function A(mt){mt.path_=decodeURIComponent(mt.path)}const P=r.replace(/[.]/g,"\\."),it=[{regex:w,indices:{bucket:1,path:3},postModify:function(mt){"/"===mt.path.charAt(mt.path.length-1)&&(mt.path_=mt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${P}/v[A-Za-z0-9_]+/b/${c}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${r===G?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${c}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let mt=0;mt<it.length;mt++){const Vn=it[mt],oa=Vn.regex.exec(n);if(oa){let hC=oa[Vn.indices.path];hC||(hC=""),a=new _i(oa[Vn.indices.bucket],hC),Vn.postModify(a);break}}if(null==a)throw function(i){return new oe("invalid-url","Invalid URL '"+i+"'.")}(n);return a}}class kN{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function HT(i){return"string"==typeof i||i instanceof String}function XR(i){return M1()&&i instanceof Blob}function M1(){return"undefined"!=typeof Blob}function O1(i,n,r,a){if(a<n)throw __(`Invalid value for '${i}'. Expected ${n} or greater.`);if(a>r)throw __(`Invalid value for '${i}'. Expected ${r} or less.`)}function dh(i,n,r){let a=n;return null==r&&(a=`https://${n}`),`${r}://${a}/v0${i}`}function eN(i){const n=encodeURIComponent;let r="?";for(const a in i)i.hasOwnProperty(a)&&(r=r+(n(a)+"=")+n(i[a])+"&");return r=r.slice(0,-1),r}class jN{constructor(n,r,a,c,h,y,w,D,A,R,P){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=r,this.headers_=a,this.body_=c,this.successCodes_=h.slice(),this.additionalRetryCodes_=y.slice(),this.callback_=w,this.errorCallback_=D,this.progressCallback_=R,this.timeout_=A,this.pool_=P,this.promise_=new Promise((j,z)=>{this.resolve_=j,this.reject_=z,this.start_()})}start_(){const n=this;function a(c,h){const y=n.resolve_,w=n.reject_,D=h.connection;if(h.wasSuccessCode)try{const A=n.callback_(D,D.getResponseText());!function(i){return void 0!==i}(A)?y():y(A)}catch(A){w(A)}else if(null!==D){const A=rt();A.serverResponse=D.getResponseText(),w(n.errorCallback_?n.errorCallback_(D,A):A)}else w(h.canceled?n.appDelete_?QR():zc():new oe("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?a(0,new $T(!1,null,!0)):this.backoffId_=function(i,n,r){let a=1,c=null,h=!1,y=0;function w(){return 2===y}let D=!1;function A(...de){D||(D=!0,n.apply(null,de))}function R(de){c=setTimeout(()=>{c=null,i(P,w())},de)}function P(de,...Re){if(D)return;if(de)return void A.call(null,de,...Re);if(w()||h)return void A.call(null,de,...Re);let ft;a<64&&(a*=2),1===y?(y=2,ft=0):ft=1e3*(a+Math.random()),R(ft)}let j=!1;function z(de){j||(j=!0,!D&&(null!==c?(de||(y=2),clearTimeout(c),R(0)):de||(y=1)))}return R(0),setTimeout(()=>{h=!0,z(!0)},r),z}(function(c,h){if(h)return void c(!1,new $T(!1,null,!0));const y=n.pool_.createConnection();function w(D){null!==n.progressCallback_&&n.progressCallback_(D.loaded,D.lengthComputable?D.total:-1)}n.pendingConnection_=y,null!==n.progressCallback_&&y.addUploadProgressListener(w),y.send(n.url_,n.method_,n.body_,n.headers_).then(()=>{null!==n.progressCallback_&&y.removeUploadProgressListener(w),n.pendingConnection_=null;const D=y.getErrorCode()===V.NO_ERROR,A=y.getStatus();if(!D||n.isRetryStatusCode_(A)){const P=y.getErrorCode()===V.ABORT;return void c(!1,new $T(!1,null,P))}const R=-1!==n.successCodes_.indexOf(A);c(!0,new $T(R,y))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(n){const r=n>=500&&n<600,c=-1!==[408,429].indexOf(n),h=-1!==this.additionalRetryCodes_.indexOf(n);return r||c||h}}class $T{constructor(n,r,a){this.wasSuccessCode=n,this.connection=r,this.canceled=!!a}}function ZN(...i){const n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){const r=new n;for(let a=0;a<i.length;a++)r.append(i[a]);return r.getBlob()}if(M1())return new Blob(i);throw new oe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class P1{constructor(n,r){this.data=n,this.contentType=r||null}}function k1(i,n){switch(i){case Cs.RAW:return new P1(tN(n));case Cs.BASE64:case Cs.BASE64URL:return new P1(nN(i,n));case Cs.DATA_URL:return new P1(function(i){const n=new rN(i);return n.base64?nN(Cs.BASE64,n.rest):function(i){let n;try{n=decodeURIComponent(i)}catch(r){throw lC(Cs.DATA_URL,"Malformed data URL.")}return tN(n)}(n.rest)}(n),function(i){return new rN(i).contentType}(n))}throw rt()}function tN(i){const n=[];for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<=127?n.push(a):a<=2047?n.push(192|a>>6,128|63&a):55296==(64512&a)?r<i.length-1&&56320==(64512&i.charCodeAt(r+1))?(a=65536|(1023&a)<<10|1023&i.charCodeAt(++r),n.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a)):n.push(239,191,189):56320==(64512&a)?n.push(239,191,189):n.push(224|a>>12,128|a>>6&63,128|63&a)}return new Uint8Array(n)}function nN(i,n){switch(i){case Cs.BASE64:{const c=-1!==n.indexOf("-"),h=-1!==n.indexOf("_");if(c||h)throw lC(i,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Cs.BASE64URL:{const c=-1!==n.indexOf("+"),h=-1!==n.indexOf("/");if(c||h)throw lC(i,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function(i){return atob(i)}(n)}catch(c){throw lC(i,"Invalid character found")}const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}class rN{constructor(n){this.base64=!1,this.contentType=null;const r=n.match(/^data:([^,]+)?,/);if(null===r)throw lC(Cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=r[1]||null;null!=a&&(this.base64=function(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-";base64".length):a),this.rest=n.substring(n.indexOf(",")+1)}}class uu{constructor(n,r){let a=0,c="";XR(n)?(this.data_=n,a=n.size,c=n.type):n instanceof ArrayBuffer?(r?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),a=this.data_.length):n instanceof Uint8Array&&(r?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),a=n.length),this.size_=a,this.type_=c}size(){return this.size_}type(){return this.type_}slice(n,r){if(XR(this.data_)){const c=function(i,n,r){return i.webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null}(this.data_,n,r);return null===c?null:new uu(c)}{const a=new Uint8Array(this.data_.buffer,n,r-n);return new uu(a,!0)}}static getBlob(...n){if(M1()){const r=n.map(a=>a instanceof uu?a.data_:a);return new uu(ZN.apply(null,r))}{const r=n.map(y=>HT(y)?k1(Cs.RAW,y).data:y.data_);let a=0;r.forEach(y=>{a+=y.byteLength});const c=new Uint8Array(a);let h=0;return r.forEach(y=>{for(let w=0;w<y.length;w++)c[h++]=y[w]}),new uu(c,!0)}}uploadData(){return this.data_}}function F1(i){let n;try{n=JSON.parse(i)}catch(r){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function iN(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function rM(i,n){return n}class Ui{constructor(n,r,a,c){this.server=n,this.local=r||n,this.writable=!!a,this.xform=c||rM}}let GT=null;function dC(){if(GT)return GT;const i=[];i.push(new Ui("bucket")),i.push(new Ui("generation")),i.push(new Ui("metageneration")),i.push(new Ui("name","fullPath",!0));const r=new Ui("name");r.xform=function(h,y){return function(i){return!HT(i)||i.length<2?i:iN(i)}(y)},i.push(r);const c=new Ui("size");return c.xform=function(h,y){return void 0!==y?Number(y):y},i.push(c),i.push(new Ui("timeCreated")),i.push(new Ui("updated")),i.push(new Ui("md5Hash",null,!0)),i.push(new Ui("cacheControl",null,!0)),i.push(new Ui("contentDisposition",null,!0)),i.push(new Ui("contentEncoding",null,!0)),i.push(new Ui("contentLanguage",null,!0)),i.push(new Ui("contentType",null,!0)),i.push(new Ui("metadata","customMetadata",!0)),GT=i,GT}function sN(i,n,r){const a=F1(n);return null===a?null:function(i,n,r){const a={type:"file"},c=r.length;for(let h=0;h<c;h++){const y=r[h];a[y.local]=y.xform(a,n[y.server])}return function(i,n){Object.defineProperty(i,"ref",{get:function(){const h=new _i(i.bucket,i.fullPath);return n._makeStorageReference(h)}})}(a,i),a}(i,a,r)}function L1(i,n){const r={},a=n.length;for(let c=0;c<a;c++){const h=n[c];h.writable&&(r[h.server]=i[h.local])}return JSON.stringify(r)}const oN="prefixes";class Wc{constructor(n,r,a,c){this.url=n,this.method=r,this.handler=a,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cu(i){if(!i)throw rt()}function qT(i,n){return function(a,c){const h=sN(i,c,n);return cu(null!==h),h}}function v_(i){return function(r,a){let c;return c=401===r.getStatus()?r.getResponseText().includes("Firebase App Check token is invalid")?new oe("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new oe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?function(i){return new oe("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===r.getStatus()?function(i){return new oe("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):a,c.serverResponse=a.serverResponse,c}}function zT(i){const n=v_(i);return function(a,c){let h=n(a,c);return 404===a.getStatus()&&(h=function(i){return new oe("object-not-found","Object '"+i+"' does not exist.")}(i.path)),h.serverResponse=c.serverResponse,h}}function uN(i,n,r){const c=dh(n.fullServerUrl(),i.host,i._protocol),y=i.maxOperationRetryTime,w=new Wc(c,"GET",qT(i,r),y);return w.errorHandler=zT(n),w}function hM(i,n,r,a,c){const h={};h.prefix=n.isRoot?"":n.path+"/",r&&r.length>0&&(h.delimiter=r),a&&(h.pageToken=a),c&&(h.maxResults=c);const w=dh(n.bucketOnlyServerUrl(),i.host,i._protocol),A=i.maxOperationRetryTime,R=new Wc(w,"GET",function(i,n){return function(a,c){const h=function(i,n,r){const a=F1(r);return null===a?null:function(i,n,r){const a={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[oN])for(const c of r[oN]){const h=c.replace(/\/$/,""),y=i._makeStorageReference(new _i(n,h));a.prefixes.push(y)}if(r.items)for(const c of r.items){const h=i._makeStorageReference(new _i(n,c.name));a.items.push(h)}return a}(i,n,a)}(i,n,c);return cu(null!==h),h}}(i,n.bucket),A);return R.urlParams=h,R.errorHandler=v_(n),R}function fM(i,n,r){const c=dh(n.fullServerUrl(),i.host,i._protocol),y=i.maxOperationRetryTime,w=new Wc(c,"GET",function(i,n){return function(a,c){const h=sN(i,c,n);return cu(null!==h),function(i,n,r,a){const c=F1(n);if(null===c||!HT(c.downloadTokens))return null;const h=c.downloadTokens;if(0===h.length)return null;const y=encodeURIComponent;return h.split(",").map(A=>{const P=i.fullPath;return dh("/b/"+y(i.bucket)+"/o/"+y(P),r,a)+eN({alt:"media",token:A})})[0]}(h,c,i.host,i._protocol)}}(i,r),y);return w.errorHandler=zT(n),w}function pM(i,n,r,a){const h=dh(n.fullServerUrl(),i.host,i._protocol),w=L1(r,a),A=i.maxOperationRetryTime,R=new Wc(h,"PATCH",qT(i,a),A);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=w,R.errorHandler=zT(n),R}function gM(i,n){const a=dh(n.fullServerUrl(),i.host,i._protocol),w=new Wc(a,"DELETE",function(D,A){},i.maxOperationRetryTime);return w.successCodes=[200,204],w.errorHandler=zT(n),w}function cN(i,n,r){const a=Object.assign({},r);return a.fullPath=i.path,a.size=n.size(),a.contentType||(a.contentType=function(i,n){return n&&n.type()||"application/octet-stream"}(0,n)),a}class WT{constructor(n,r,a,c){this.current=n,this.total=r,this.finalized=!!a,this.metadata=c||null}}function V1(i,n){let r=null;try{r=i.getResponseHeader("X-Goog-Upload-Status")}catch(c){cu(!1)}return cu(!!r&&-1!==(n||["active"]).indexOf(r)),r}const EM={STATE_CHANGED:"state_changed"},Bi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function U1(i){switch(i){case"running":case"pausing":case"canceling":return Bi.RUNNING;case"paused":return Bi.PAUSED;case"success":return Bi.SUCCESS;case"canceled":return Bi.CANCELED;case"error":default:return Bi.ERROR}}class wM{constructor(n,r,a){if(function(i){return"function"==typeof i}(n)||null!=r||null!=a)this.next=n,this.error=null!=r?r:void 0,this.complete=null!=a?a:void 0;else{const h=n;this.next=h.next,this.error=h.error,this.complete=h.complete}}}function E_(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}class hN{constructor(n,r,a=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=r,this._metadata=a,this._mappings=dC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=c=>{this._request=void 0,this._chunkMultiplier=1,c._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=c,this._transition("error"))},this._metadataErrorHandler=c=>{this._request=void 0,c._codeEquals("canceled")?this.completeTransitions_():(this._error=c,this._transition("error"))},this._promise=new Promise((c,h)=>{this._resolve=c,this._reject=h,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const n=this._transferred;return r=>this._updateProgress(n+r)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,a])=>{switch(this._state){case"running":n(r,a);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,c){const h=n.bucketOnlyServerUrl(),y=cN(n,a,c),w={name:y.fullPath},D=dh(h,i.host,i._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a.size()}`,"X-Goog-Upload-Header-Content-Type":y.contentType,"Content-Type":"application/json; charset=utf-8"},P=L1(y,r),de=new Wc(D,"POST",function(Re){let Be;V1(Re);try{Be=Re.getResponseHeader("X-Goog-Upload-URL")}catch(ft){cu(!1)}return cu(HT(Be)),Be},i.maxUploadRetryTime);return de.urlParams=w,de.headers=R,de.body=P,de.errorHandler=v_(n),de}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._uploadUrl=h,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((r,a)=>{const c=function(i,n,r,a){const D=new Wc(r,"POST",function(A){const R=V1(A,["active","final"]);let P=null;try{P=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch(z){cu(!1)}P||cu(!1);const j=Number(P);return cu(!isNaN(j)),new WT(j,a.size(),"final"===R)},i.maxUploadRetryTime);return D.headers={"X-Goog-Upload-Command":"query"},D.errorHandler=v_(n),D}(this._ref.storage,this._ref._location,n,this._blob),h=this._ref.storage._makeRequest(c,r,a);this._request=h,h.getPromise().then(y=>{y=y,this._request=void 0,this._updateProgress(y.current),this._needToFetchStatus=!1,y.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,r=new WT(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken((c,h)=>{let y;try{y=function(i,n,r,a,c,h,y,w){const D=new WT(0,0);if(y?(D.current=y.current,D.total=y.total):(D.current=0,D.total=a.size()),a.size()!==D.total)throw new oe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const A=D.total-D.current;let R=A;c>0&&(R=Math.min(R,c));const P=D.current,de={"X-Goog-Upload-Command":R===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${D.current}`},Re=a.slice(P,P+R);if(null===Re)throw y_();const it=new Wc(r,"POST",function(mt,Vn){const oa=V1(mt,["active","final"]),W1=D.current+R,hC=a.size();let Z1;return Z1="final"===oa?qT(n,h)(mt,Vn):null,new WT(W1,hC,"final"===oa,Z1)},n.maxUploadRetryTime);return it.headers=de,it.body=Re.uploadData(),it.progressCallback=w||null,it.errorHandler=v_(i),it}(this._ref._location,this._ref.storage,a,this._blob,n,this._mappings,r,this._makeProgressCallback())}catch(D){return this._error=D,void this._transition("error")}const w=this._ref.storage._makeRequest(y,c,h);this._request=w,w.getPromise().then(D=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(D.current),D.finalized?(this._metadata=D.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,r)=>{const a=uN(this._ref.storage,this._ref._location,this._mappings),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,c){const h=n.bucketOnlyServerUrl(),y={"X-Goog-Upload-Protocol":"multipart"},D=function(){let it="";for(let mt=0;mt<2;mt++)it+=Math.random().toString().slice(2);return it}();y["Content-Type"]="multipart/related; boundary="+D;const A=cN(n,a,c),R=L1(A,r),z=uu.getBlob("--"+D+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+D+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",a,"\r\n--"+D+"--");if(null===z)throw y_();const de={name:A.fullPath},Re=dh(h,i.host,i._protocol),ft=i.maxUploadRetryTime,Ct=new Wc(Re,"POST",qT(i,r),ft);return Ct.urlParams=de,Ct.headers=y,Ct.body=z.uploadData(),Ct.errorHandler=v_(n),Ct}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._metadata=h,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const r=this._transferred;this._transferred=n,this._transferred!==r&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":const r="paused"===this._state;this._state=n,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=zc(),this._state=n,this._notifyObservers();break;case"error":case"success":this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=U1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,r,a,c){const h=new wM(r||void 0,a||void 0,c||void 0);return this._addObserver(h),()=>{this._removeObserver(h)}}then(n,r){return this._promise.then(n,r)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const r=this._observers.indexOf(n);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(U1(this._state)){case Bi.SUCCESS:E_(this._resolve.bind(null,this.snapshot))();break;case Bi.CANCELED:case Bi.ERROR:E_(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(U1(this._state)){case Bi.RUNNING:case Bi.PAUSED:n.next&&E_(n.next.bind(n,this.snapshot))();break;case Bi.SUCCESS:n.complete&&E_(n.complete.bind(n))();break;case Bi.CANCELED:case Bi.ERROR:n.error&&E_(n.error.bind(n,this._error))();break;default:n.error&&E_(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class Qp{constructor(n,r){this._service=n,this._location=r instanceof _i?r:_i.makeFromUrl(r,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,r){return new Qp(n,r)}get root(){const n=new _i(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iN(this._location.path)}get storage(){return this._service}get parent(){const n=function(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const r=new _i(this._location.bucket,n);return new Qp(this._service,r)}_throwIfRoot(n){if(""===this._location.path)throw JR(n)}}function pN(i,n,r){return B1.apply(this,arguments)}function B1(){return(B1=(0,ye.Z)(function*(i,n,r){const c=yield gN(i,{pageToken:r});n.prefixes.push(...c.prefixes),n.items.push(...c.items),null!=c.nextPageToken&&(yield pN(i,n,c.nextPageToken))})).apply(this,arguments)}function gN(i,n){return j1.apply(this,arguments)}function j1(){return(j1=(0,ye.Z)(function*(i,n){null!=n&&"number"==typeof n.maxResults&&O1("options.maxResults",1,1e3,n.maxResults);const r=n||{},a=hM(i.storage,i._location,"/",r.pageToken,r.maxResults);return(yield i.storage.makeRequestWithTokens(a)).getPromise()})).apply(this,arguments)}function H1(){return(H1=(0,ye.Z)(function*(i){i._throwIfRoot("getMetadata");const n=uN(i.storage,i._location,dC());return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function $1(){return($1=(0,ye.Z)(function*(i,n){i._throwIfRoot("updateMetadata");const r=pM(i.storage,i._location,n,dC());return(yield i.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function G1(){return(G1=(0,ye.Z)(function*(i){i._throwIfRoot("getDownloadURL");const n=fM(i.storage,i._location,dC());return(yield i.storage.makeRequestWithTokens(n)).getPromise().then(r=>{if(null===r)throw NN();return r})})).apply(this,arguments)}function q1(){return(q1=(0,ye.Z)(function*(i){i._throwIfRoot("deleteObject");const n=gM(i.storage,i._location);return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function mN(i,n){const r=function(i,n){const r=n.split("/").filter(a=>a.length>0).join("/");return 0===i.length?r:i+"/"+r}(i._location.path,n),a=new _i(i._location.bucket,r);return new Qp(i.storage,a)}function yN(i,n){if(i instanceof z1){const r=i;if(null==r._bucket)throw new oe("no-default-bucket","No default bucket found. Did you set the '"+se+"' property when initializing the app?");const a=new Qp(r,r._bucket);return null!=n?yN(a,n):a}return void 0!==n?mN(i,n):i}function NM(i,n){if(n&&function(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof z1)return function(i,n){return new Qp(i,n)}(i,n);throw __("To use ref(service, url), the first argument must be a Storage instance.")}return yN(i,n)}function _N(i,n){const r=null==n?void 0:n[se];return null==r?null:_i.makeFromBucketSpec(r,i)}class z1{constructor(n,r,a,c,h,y){this.app=n,this._authProvider=r,this._appCheckProvider=a,this._pool=c,this._url=h,this._firebaseVersion=y,this._bucket=null,this._host=G,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?_i.makeFromBucketSpec(h,this._host):_N(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?_i.makeFromBucketSpec(this._url,n):_N(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){O1("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){O1("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,ye.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const r=n._authProvider.getImmediate({optional:!0});if(r){const a=yield r.getToken();if(null!==a)return a.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,ye.Z)(function*(){const r=n._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Qp(this,n)}_makeRequest(n,r,a){if(this._deleted)return new kN(QR());{const c=function(i,n,r,a,c,h){const y=eN(i.urlParams),w=i.url+y,D=Object.assign({},i.headers);return function(i,n){n&&(i["X-Firebase-GMPID"]=n)}(D,n),function(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(D,r),function(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(D,h),function(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(D,a),new jN(w,i.method,D,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,c)}(n,this._appId,r,a,this._pool,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(n){var r=this;return(0,ye.Z)(function*(){const[a,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,a,c)})()}}function EN(i,n){return NM(i=(0,Et.m9)(i),n)}(0,La._registerComponent)(new Am.wA("storage",function(i,{instanceIdentifier:n}){const r=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),c=i.getProvider("app-check-internal");return new z1(r,a,c,new PN,n,La.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,La.registerVersion)("@firebase/storage","0.8.3");class ZT{constructor(n,r,a){this._delegate=n,this.task=r,this.ref=a}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class wN{constructor(n,r){this._delegate=n,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ZT(this._delegate.snapshot,this,this._ref)}then(n,r){return this._delegate.then(a=>{if(n)return n(new ZT(a,this,this._ref))},r)}on(n,r,a,c){let h;return r&&(h="function"==typeof r?y=>r(new ZT(y,this,this._ref)):{next:r.next?y=>r.next(new ZT(y,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(n,h,a||void 0,c||void 0)}}class CN{constructor(n,r){this._delegate=n,this._service=r}get prefixes(){return this._delegate.prefixes.map(n=>new Zc(n,this._service))}get items(){return this._delegate.items.map(n=>new Zc(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Zc{constructor(n,r){this._delegate=n,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const r=function(i,n){return mN(i,n)}(this._delegate,n);return new Zc(r,this.storage)}get root(){return new Zc(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new Zc(n,this.storage)}put(n,r){return this._throwIfRoot("put"),new wN(function(i,n,r){return function(i,n,r){return i._throwIfRoot("uploadBytesResumable"),new hN(i,new uu(n),r)}(i=(0,Et.m9)(i),n,r)}(this._delegate,n,r),this)}putString(n,r=Cs.RAW,a){this._throwIfRoot("putString");const c=k1(r,n),h=Object.assign({},a);return null==h.contentType&&null!=c.contentType&&(h.contentType=c.contentType),new wN(new hN(this._delegate,new uu(c.data,!0),h),this)}listAll(){return function(i){return function(i){const n={prefixes:[],items:[]};return pN(i,n).then(()=>n)}(i=(0,Et.m9)(i))}(this._delegate).then(n=>new CN(n,this.storage))}list(n){return function(i,n){return gN(i=(0,Et.m9)(i),n)}(this._delegate,n||void 0).then(r=>new CN(r,this.storage))}getMetadata(){return function(i){return function(i){return H1.apply(this,arguments)}(i=(0,Et.m9)(i))}(this._delegate)}updateMetadata(n){return function(i,n){return function(i,n){return $1.apply(this,arguments)}(i=(0,Et.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function(i){return function(i){return G1.apply(this,arguments)}(i=(0,Et.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(i){return function(i){return q1.apply(this,arguments)}(i=(0,Et.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw JR(n)}}class bN{constructor(n,r){this.app=n,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(IN(n))throw __("ref() expected a child path but got a URL, use refFromURL instead.");return new Zc(EN(this._delegate,n),this)}refFromURL(n){if(!IN(n))throw __("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_i.makeFromUrl(n,this._delegate.host)}catch(r){throw __("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zc(EN(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,r,a={}){!function(i,n,r,a={}){!function(i,n,r,a={}){i.host=`${n}:${r}`,i._protocol="http";const{mockUserToken:c}=a;c&&(i._overrideAuthToken="string"==typeof c?c:(0,Et.Sg)(c,i.app.options.projectId))}(i,n,r,a)}(this._delegate,n,r,a)}}function IN(i){return/^[A-Za-z]+:\/\//.test(i)}function KM(i,{instanceIdentifier:n}){const r=i.getProvider("app-compat").getImmediate(),a=i.getProvider("storage").getImmediate({identifier:n});return new bN(r,a)}function DN(i){const n=function(i){return new zr.y(n=>{const r=y=>n.next(y);r(i.snapshot);const h=i.on("state_changed",r);return i.then(y=>{r(y),n.complete()},y=>{r(i.snapshot),(y=>{n.error(y)})(y)}),function(){h()}}).pipe(function(i,n=tA.P){return r=>r.lift(new S(i,n))}(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,lt.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function KT(i){return{getDownloadURL:()=>(0,Xe.of)(void 0).pipe(sn.fc,An(()=>i.getDownloadURL()),sn.iC),getMetadata:()=>(0,Xe.of)(void 0).pipe(sn.fc,An(()=>i.getMetadata()),sn.iC),delete:()=>(0,Wt.D)(i.delete()),child:n=>KT(i.child(n)),updateMetadata:n=>(0,Wt.D)(i.updateMetadata(n)),put:(n,r)=>DN(i.put(n,r)),putString:(n,r,a)=>DN(i.putString(n,r,a)),listAll:()=>(0,Wt.D)(i.listAll())}}!function(i){const n={TaskState:Bi,TaskEvent:EM,StringFormat:Cs,Storage:bN,Reference:Zc};i.INTERNAL.registerComponent(new Am.wA("storage-compat",KM,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.3")}(Sm.Z);const JM=new g.OlP("angularfire2.storageBucket"),XM=new g.OlP("angularfire2.storage.maxUploadRetryTime"),eO=new g.OlP("angularfire2.storage.maxOperationRetryTime"),tO=new g.OlP("angularfire2.storage.use-emulator");let nO=(()=>{class i{constructor(r,a,c,h,y,w,D,A,R){const P=(0,pi.on)(r,y,a);this.storage=(0,sn.cc)(`${P.name}.storage.${c}`,"AngularFireStorage",P.name,()=>{const j=y.runOutsideAngular(()=>P.storage(c||void 0)),z=R;return z&&j.useEmulator(...z),D&&j.setMaxUploadRetryTime(D),A&&j.setMaxOperationRetryTime(A),j},[D,A])}ref(r){return KT(this.storage.ref(r))}refFromURL(r){return KT(this.storage.refFromURL(r))}upload(r,a,c){return KT(this.storage.ref(r)).put(a,c)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(pi.Dh),g.LFG(pi.xv,8),g.LFG(JM,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(sn.HU),g.LFG(XM,8),g.LFG(eO,8),g.LFG(tO,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),rO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})(),iO=(()=>{class i{constructor(){Gv.Z.registerVersion("angularfire",sn.q4.full,"gcs-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[nO],imports:[rO]}),i})();function sO(i,n){1&i&&(g.O4$(),g.kcU(),g.TgZ(0,"p",19),g._uU(1,"Set up break time"),g.qZA())}function oO(i,n){1&i&&(g.O4$(),g.kcU(),g.TgZ(0,"p",19),g._uU(1,"Set up focus time"),g.qZA())}function aO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",20),g.NdJ("click",function(){return g.CHM(r),g.oxw().sub()}),g._uU(1,"\u2013"),g.qZA()}}function uO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",21),g.NdJ("click",function(){return g.CHM(r),g.oxw().add()}),g._uU(1,"+"),g.qZA()}}function cO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().start()}),g._uU(1," Start "),g.qZA()}}function lO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().pause()}),g._uU(1," Pause "),g.qZA()}}function dO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().resume()}),g._uU(1," Resume "),g.qZA()}}function hO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().stop()}),g._uU(1," Stop "),g.qZA()}}function fO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().back()}),g._uU(1," Back "),g.qZA()}}function pO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().save()}),g._uU(1," Save "),g.qZA()}}function gO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().cancel()}),g._uU(1," Cancel "),g.qZA()}}function mO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",22),g.NdJ("click",function(){return g.CHM(r),g.oxw().next()}),g._uU(1," Next "),g.qZA()}}let yO=(()=>{class i{constructor(){this.isStart=!1,this.isPause=!1,this.time=10,this.now=0,this.minutes="00",this.seconds="00",this.isBreakTime=!1,this.isSetting=!0,this.isFocusTime=!0,this.count=0,this.isStop=!1}ngOnInit(){}start(){this.isStart=!0;var r=setInterval(()=>{if(this.time>0){this.now++;var a=this.time-this.now,c=Math.floor(a/60);this.minutes=c<10?"0"+c:c.toString();var h=Math.floor(a-60*c);this.seconds=h<10?"0"+h:h.toString(),10==h&&c<1&&this.playAudioFinishBreak(),(0==c&&0==h||this.isPause||this.isBreakTime||this.isFocusTime)&&(0==c&&0==h&&(this.count=1,this.time=0,this.isFocusTime=!0,this.isSetting=!0,this.isStart=!1),clearInterval(r))}},1e3)}pause(){this.isPause=!0}resume(){this.isPause=!1,this.start()}add(){this.count++,this.time=60*this.count;var r=this.time-this.now,a=Math.floor(r/60);this.minutes=a<10?"0"+a:a.toString();var c=Math.floor(r-60*a);this.seconds=c<10?"0"+c:c.toString()}sub(){if(this.count>0){this.count--,this.time=60*this.count;var r=this.time-this.now,a=Math.floor(r/60),c=Math.floor(r-60*a);this.minutes=a<10?"0"+a:a.toString(),this.seconds=c<10?"0"+c:c.toString()}this.count<=0&&(this.seconds="00",this.minutes="00",this.count=0)}save(){this.time=60*this.count,this.isBreakTime=!1,this.isSetting=!1,this.isFocusTime=!1,this.isStart=!1}stop(){this.isFocusTime=!0,this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isBreakTime=!1,this.isStop=!0,this.isSetting=!0}back(){this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isBreakTime=!1,this.isSetting=!0,this.isFocusTime=!0}next(){this.time=60*this.count,this.isFocusTime=!1,this.isSetting=!1,this.isStart=!1,this.isBreakTime=!1}cancel(){this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isFocusTime=!1,this.isBreakTime=!0}playAudioFinishBreak(){let r=new Audio;r.src="../assets/finishBreakAudio.wav",r.load(),r.play()}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-start"]],decls:35,vars:14,consts:[["id","card"],["id","top-title"],["src","../../assets/tomato.png","alt","tomato image",1,"pomo"],["id","cancel","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"],["id","settings"],["id","setting","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M 9.6679688 2 L 9.1757812 4.5234375 C 8.3550224 4.8338012 7.5961042 5.2674041 6.9296875 5.8144531 L 4.5058594 4.9785156 L 2.1738281 9.0214844 L 4.1132812 10.707031 C 4.0445153 11.128986 4 11.558619 4 12 C 4 12.441381 4.0445153 12.871014 4.1132812 13.292969 L 2.1738281 14.978516 L 4.5058594 19.021484 L 6.9296875 18.185547 C 7.5961042 18.732596 8.3550224 19.166199 9.1757812 19.476562 L 9.6679688 22 L 14.332031 22 L 14.824219 19.476562 C 15.644978 19.166199 16.403896 18.732596 17.070312 18.185547 L 19.494141 19.021484 L 21.826172 14.978516 L 19.886719 13.292969 C 19.955485 12.871014 20 12.441381 20 12 C 20 11.558619 19.955485 11.128986 19.886719 10.707031 L 21.826172 9.0214844 L 19.494141 4.9785156 L 17.070312 5.8144531 C 16.403896 5.2674041 15.644978 4.8338012 14.824219 4.5234375 L 14.332031 2 L 9.6679688 2 z M 12 8 C 14.209 8 16 9.791 16 12 C 16 14.209 14.209 16 12 16 C 9.791 16 8 14.209 8 12 C 8 9.791 9.791 8 12 8 z"],["id","guide",4,"ngIf"],["id","info","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M12,2C6.477,2,2,6.477,2,12s4.477,10,10,10s10-4.477,10-10S17.523,2,12,2z M12,17L12,17c-0.552,0-1-0.448-1-1v-4 c0-0.552,0.448-1,1-1h0c0.552,0,1,0.448,1,1v4C13,16.552,12.552,17,12,17z M12.5,9h-1C11.224,9,11,8.776,11,8.5v-1 C11,7.224,11.224,7,11.5,7h1C12.776,7,13,7.224,13,7.5v1C13,8.776,12.776,9,12.5,9z"],["id","time"],["id","mins"],["id","secs"],["id","sub",3,"click",4,"ngIf"],["id","add",3,"click",4,"ngIf"],["id","cmd"],["class","btn",3,"click",4,"ngIf"],["id","bottom-title"],["id","guide"],["id","sub",3,"click"],["id","add",3,"click"],[1,"btn",3,"click"]],template:function(r,a){1&r&&(g.TgZ(0,"main",0),g.TgZ(1,"header"),g.TgZ(2,"h1",1),g._uU(3,"Pomoguru"),g.qZA(),g._UZ(4,"img",2),g.O4$(),g.TgZ(5,"svg",3),g._UZ(6,"path",4),g.qZA(),g.qZA(),g.kcU(),g._UZ(7,"hr"),g.TgZ(8,"div",5),g.O4$(),g.TgZ(9,"svg",6),g._UZ(10,"path",7),g.qZA(),g.YNc(11,sO,2,0,"p",8),g.YNc(12,oO,2,0,"p",8),g.TgZ(13,"svg",9),g._UZ(14,"path",10),g.qZA(),g.qZA(),g.kcU(),g.TgZ(15,"div",11),g.TgZ(16,"span",12),g._uU(17),g.qZA(),g._uU(18,":"),g.TgZ(19,"span",13),g._uU(20),g.qZA(),g.qZA(),g.YNc(21,aO,2,0,"button",14),g.YNc(22,uO,2,0,"button",15),g.TgZ(23,"div",16),g.YNc(24,cO,2,0,"button",17),g.YNc(25,lO,2,0,"button",17),g.YNc(26,dO,2,0,"button",17),g.YNc(27,hO,2,0,"button",17),g.YNc(28,fO,2,0,"button",17),g.YNc(29,pO,2,0,"button",17),g.YNc(30,gO,2,0,"button",17),g.YNc(31,mO,2,0,"button",17),g.qZA(),g.qZA(),g.TgZ(32,"h1",18),g._uU(33," Pomoguru "),g._UZ(34,"img",2),g.qZA()),2&r&&(g.xp6(11),g.Q6J("ngIf",1==a.isBreakTime),g.xp6(1),g.Q6J("ngIf",1==a.isFocusTime),g.xp6(5),g.Oqu(a.minutes),g.xp6(3),g.Oqu(a.seconds),g.xp6(1),g.Q6J("ngIf",a.isSetting),g.xp6(1),g.Q6J("ngIf",a.isSetting),g.xp6(2),g.Q6J("ngIf",0==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",0==a.isPause&&1==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",1==a.isPause&&0==a.isBreakTime&&0==a.isFocusTime&&1==a.isStart),g.xp6(1),g.Q6J("ngIf",1==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",1==a.isBreakTime),g.xp6(1),g.Q6J("ngIf",1==a.isBreakTime),g.xp6(1),g.Q6J("ngIf",1==a.isFocusTime),g.xp6(1),g.Q6J("ngIf",1==a.isFocusTime))},directives:[us],styles:[""]}),i})(),_O=(()=>{class i{constructor(){this.signup=new g.vpe,this.continueWithEmail=new g.vpe,this.email=""}ngOnInit(){}signUp(){this.signup.emit(!0)}continuewithemail(){""!=this.email?this.continueWithEmail.emit({1:!0,2:this.email}):console.log("please fill in with your email")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-sign-in"]],outputs:{signup:"signup",continueWithEmail:"continueWithEmail"},decls:27,vars:1,consts:[["id","sign-in-card"],["type","email","name","email","id","username","placeholder","\u{1f64e}\u200d\u2642\ufe0fUsername or \u2709Email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2, 4}$",3,"ngModel","ngModelChange"],["id","continue-w-email",1,"sign-button",3,"click"],["id","continue-w-google",1,"sign-button"],["id","google-icon","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","48","height","48","viewBox","0 0 48 48",2,"fill","#000000"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["id","continue-google-title"],["id","continue-w-apple",1,"sign-button"],["id","apple-icon","src","../../assets/apple.png","alt",""],["id","new-account"],["id","sign-up",1,"sign-button",3,"click"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"h1"),g._uU(2,"Log in to Pomoguru"),g.qZA(),g._UZ(3,"hr"),g.TgZ(4,"input",1),g.NdJ("ngModelChange",function(h){return a.email=h}),g.qZA(),g._UZ(5,"br"),g.TgZ(6,"button",2),g.NdJ("click",function(){return a.continuewithemail()}),g._uU(7,"Continue with Email"),g.qZA(),g.TgZ(8,"p"),g._uU(9,"or"),g.qZA(),g.TgZ(10,"button",3),g.O4$(),g.TgZ(11,"svg",4),g._UZ(12,"path",5),g._UZ(13,"path",6),g._UZ(14,"path",7),g._UZ(15,"path",8),g.qZA(),g.kcU(),g.TgZ(16,"p",9),g._uU(17,"Continue with Google"),g.qZA(),g.qZA(),g._UZ(18,"br"),g.TgZ(19,"button",10),g._UZ(20,"img",11),g._uU(21," Continue with Apple "),g.qZA(),g._UZ(22,"hr"),g.TgZ(23,"p",12),g._uU(24,"Don't have a Pomoguru account?"),g.qZA(),g.TgZ(25,"button",13),g.NdJ("click",function(){return a.signUp()}),g._uU(26,"Sign Up"),g.qZA(),g.qZA()),2&r&&(g.xp6(4),g.Q6J("ngModel",a.email))},directives:[Er,Dm,zl,Ql],styles:['#sign-in-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 15px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#continue-w-google[_ngcontent-%COMP%]{background-color:#4286f5;display:flex;padding:0;align-items:center;justify-content:space-evenly;margin:auto;border-radius:28px}#continue-w-apple[_ngcontent-%COMP%]{border:1px solid #000;color:#000;background-color:#fff}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#new-account[_ngcontent-%COMP%]:after{border:1px solid #000}']}),i})(),vO=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-landing-page"]],decls:7,vars:0,consts:[["id","welcome-section"],["id","focus-quote"],["id","illustration","src","../../assets/time.png","alt",""],["id","section2"],["id","illustration","src","../../assets/illustration.png","alt",""]],template:function(r,a){1&r&&(g.TgZ(0,"section",0),g.TgZ(1,"pre",1),g._uU(2,"            FOCUSING \n            IS ABOUT \n            SAYING NO.\n\n            -Steve Jobs\n  "),g.qZA(),g.TgZ(3,"div"),g._UZ(4,"img",2),g.qZA(),g.qZA(),g.TgZ(5,"section",3),g._UZ(6,"img",4),g.qZA())},styles:["body[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;height:200vh}section[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;position:relative;z-index:-1}#welcome-section[_ngcontent-%COMP%]{height:100vh;color:#fff;display:flex;background-image:url(wave-haikei.0d841049cd8bef49d11f.svg);background-size:cover;background-repeat:no-repeat}#focus-quote[_ngcontent-%COMP%]{color:#ffc34d;padding-top:141px;font-weight:400;font-family:inherit;font-size:30px}#illustration[_ngcontent-%COMP%]{padding-top:141px;padding-right:3%;max-width:40%;max-height:40%;display:block;position:absolute;right:0}#section2[_ngcontent-%COMP%]{height:100vh;color:#fff;background-image:url(wave-haikei-after.b1d37dc3b2d46a0a7caa.svg);background-repeat:no-repeat;background-size:cover;margin-top:0}pre[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width: 508px){#welcome-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]}),i})(),TN=(()=>{class i{constructor(r){this.au=r}signup(r,a){return this.au.createUserWithEmailAndPassword(r,a)}signIn(r,a){return this.au.signInWithEmailAndPassword(r,a)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(gi))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),EO=(()=>{class i{constructor(r){this.authService=r,this.email="",this.siteKey="",this.siteKey="6LdNOqocAAAAADgo2zcsO4lp5MJV8HaIhngDFZZP"}createAccount(){}ngOnInit(){}register(r){r.value.email=this.email,console.log(r.value);let a=r.value;this.authService.signup(a.email,a.password).then(()=>{console.log("done")}).catch(c=>{"auth/email-already-in-use"==c&&console.log("hi")})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TN))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-create-account"]],inputs:{email:"email"},decls:21,vars:3,consts:[["id","create-account-card",3,"ngSubmit"],["f","ngForm"],["ngModel","","type","text","name","firstname","placeholder","\u{1f64e}\u200d\u2642\ufe0f First name",1,"fas"],["firstName","ngModel"],["ngModel","","type","text","name","lastname","placeholder","\u{1f64e}\u200d\u2642\ufe0f Last name",1,"fas"],["lastName","ngModel"],["ngModel","","type","password","name","password","placeholder","\u{1f512} Create a password",1,"fas"],["Password","ngModel"],["id","captcha"],["ngModel","","name","captcha",3,"siteKey"],["captchaElem","ngModel"],["type","submit","id","continue-w-email",1,"sign-button",3,"disabled"]],template:function(r,a){if(1&r){const c=g.EpF();g.TgZ(0,"form",0,1),g.NdJ("ngSubmit",function(){g.CHM(c);const y=g.MAs(1);return a.register(y)}),g.TgZ(2,"h1"),g._uU(3,"Complete your account setup"),g.qZA(),g._UZ(4,"hr"),g.TgZ(5,"p"),g._uU(6),g.qZA(),g._UZ(7,"input",2,3),g._UZ(9,"br"),g._UZ(10,"input",4,5),g._UZ(12,"br"),g._UZ(13,"input",6,7),g._UZ(15,"br"),g.TgZ(16,"div",8),g._UZ(17,"ngx-recaptcha2",9,10),g.qZA(),g.TgZ(19,"button",11),g._uU(20," Continue with Email "),g.qZA(),g.qZA()}if(2&r){const c=g.MAs(1);g.xp6(6),g.Oqu(a.email),g.xp6(11),g.Q6J("siteKey",a.siteKey),g.xp6(2),g.Q6J("disabled",c.invalid)}},directives:[kv,mf,Cf,Er,zl,Ql,xb],styles:['#create-account-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 15px;font-family:"Font Awesome 5 Free",sans-serif;font-size:14px;font-weight:500;letter-spacing:1px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#captcha[_ngcontent-%COMP%]{margin:0% 27.5% 3%}']}),i})();function wO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"h1"),g._uU(2,"Sign Up"),g.qZA(),g._UZ(3,"hr"),g.TgZ(4,"button",3),g.O4$(),g.TgZ(5,"svg",4),g._UZ(6,"path",5),g._UZ(7,"path",6),g._UZ(8,"path",7),g._UZ(9,"path",8),g.qZA(),g.kcU(),g.TgZ(10,"p",9),g._uU(11,"Continue with Google"),g.qZA(),g.qZA(),g._UZ(12,"br"),g.TgZ(13,"button",10),g._UZ(14,"img",11),g._uU(15," Continue with Apple "),g.qZA(),g.TgZ(16,"p"),g._uU(17,"or"),g.qZA(),g.TgZ(18,"input",12),g.NdJ("ngModelChange",function(c){return g.CHM(r),g.oxw().email=c}),g.qZA(),g._UZ(19,"br"),g.TgZ(20,"button",13),g.NdJ("click",function(){return g.CHM(r),g.oxw().pass()}),g._uU(21,"Continue with Email"),g.qZA(),g._UZ(22,"br"),g._UZ(23,"br"),g._uU(24),g.qZA()}if(2&i){const r=g.oxw();g.xp6(18),g.Q6J("ngModel",r.email),g.xp6(6),g.hij(" ",r.message," ")}}function CO(i,n){if(1&i&&g._UZ(0,"app-create-account",14),2&i){const r=g.oxw();g.Q6J("email",r.email)}}let bO=(()=>{class i{constructor(){this.email="",this.message="",this.showCreateAccount=!1}ngOnInit(){}pass(){0!=this.email.length?this.showCreateAccount=!0:this.message="Please fill in your email address"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-sign-up"]],decls:2,vars:2,consts:[["id","sign-up-card",4,"ngIf"],[3,"email",4,"ngIf"],["id","sign-up-card"],["id","continue-w-google",1,"sign-button"],["id","google-icon","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","48","height","48","viewBox","0 0 48 48",2,"fill","#000000"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["id","continue-google-title"],["id","continue-w-apple",1,"sign-button"],["id","apple-icon","src","../../assets/apple.png","alt",""],["type","email","name","email","placeholder","\u2709 Work email address","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2, 4}$",3,"ngModel","ngModelChange"],["id","continue-w-email",1,"sign-button",3,"click"],[3,"email"]],template:function(r,a){1&r&&(g.YNc(0,wO,25,2,"div",0),g.YNc(1,CO,1,1,"app-create-account",1)),2&r&&(g.Q6J("ngIf",0==a.showCreateAccount),g.xp6(1),g.Q6J("ngIf",a.showCreateAccount))},directives:[us,Er,Tf,Dm,zl,Ql,EO],styles:['#sign-up-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 15px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#continue-w-google[_ngcontent-%COMP%]{background-color:#4286f5;display:flex;padding:0;align-items:center;justify-content:space-evenly;margin:auto;border-radius:28px}#continue-w-apple[_ngcontent-%COMP%]{border:1px solid #000;color:#000;background-color:#fff}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#new-account[_ngcontent-%COMP%]:after{border:1px solid #000}']}),i})(),IO=(()=>{class i{constructor(r){this.au=r,this.signin=new g.vpe,this.email="",this.siteKey="",this.siteKey="6LdNOqocAAAAADgo2zcsO4lp5MJV8HaIhngDFZZP"}ngOnInit(){}signInEmail(r){r.value.email=this.email;let a=r.value;this.au.signIn(a.email,a.password).then(()=>{console.log("Yes logged in ")}).catch(()=>{console.log("an error has been occured!")})}notyou(){this.signin.emit(!0)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(TN))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-sign-in-email"]],inputs:{email:"email"},outputs:{signin:"signin"},decls:19,vars:3,consts:[["id","sign-in-email-card",3,"ngSubmit"],["f","ngForm"],["ngModel","","type","password","name","password","placeholder","\u{1f512} Enter your password",1,"fas"],["Password","ngModel"],["id","captcha"],["ngModel","","name","captcha",3,"siteKey"],["captchaElem","ngModel"],["type","submit","id","login",1,"sign-button",3,"disabled"],["id","not-you",1,"sign-button",3,"click"]],template:function(r,a){if(1&r){const c=g.EpF();g.TgZ(0,"form",0,1),g.NdJ("ngSubmit",function(){g.CHM(c);const y=g.MAs(1);return a.signInEmail(y)}),g.TgZ(2,"h1"),g._uU(3,"Welcome Back"),g.qZA(),g._UZ(4,"hr"),g.TgZ(5,"p"),g._uU(6),g.qZA(),g._UZ(7,"br"),g._UZ(8,"input",2,3),g._UZ(10,"br"),g.TgZ(11,"div",4),g._UZ(12,"ngx-recaptcha2",5,6),g.qZA(),g.TgZ(14,"button",7),g._uU(15,"Log in "),g.qZA(),g._UZ(16,"br"),g.TgZ(17,"button",8),g.NdJ("click",function(){return a.notyou()}),g._uU(18,"Not you ?"),g.qZA(),g.qZA()}if(2&r){const c=g.MAs(1);g.xp6(6),g.Oqu(a.email),g.xp6(6),g.Q6J("siteKey",a.siteKey),g.xp6(2),g.Q6J("disabled",c.invalid)}},directives:[kv,mf,Cf,Er,zl,Ql,xb],styles:['#sign-in-email-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:0 0 15px;font-family:"Font Awesome 5 Free",sans-serif;font-size:14px;font-weight:500;letter-spacing:1px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:10px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#login[_ngcontent-%COMP%]:hover{background-color:#ff5959}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#not-you[_ngcontent-%COMP%]{border:none;color:#ff5959;background-color:#fff}p[_ngcontent-%COMP%]{margin:-8px}#captcha[_ngcontent-%COMP%]{margin:0% 27.5% 3%}']}),i})();function DO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"app-sign-in",9),g.NdJ("signup",function(c){return g.CHM(r),g.oxw().runMessage(c)})("continueWithEmail",function(c){return g.CHM(r),g.oxw().showContinueWithEmail(c)}),g.qZA()}}function TO(i,n){1&i&&g._UZ(0,"app-landing-page")}function SO(i,n){1&i&&g._UZ(0,"app-sign-up")}function AO(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"app-sign-in-email",10),g.NdJ("notyou",function(c){return g.CHM(r),g.oxw().turnBack(c)}),g.qZA()}if(2&i){const r=g.oxw();g.Q6J("email",r.email)}}let xO=(()=>{class i{constructor(){this.isSignInClicked=!1,this.isHomeClicked=!0,this.isSignUpClicked=!1,this.isSignEmail=!1,this.email=""}ngOnInit(){}signIn(){this.isSignUpClicked=!1,this.isHomeClicked=!1,this.isSignInClicked=!0,this.isSignEmail=!1}home(){this.isSignUpClicked=!1,this.isSignInClicked=!1,this.isHomeClicked=!0,this.isSignEmail=!1}signUp(){this.isHomeClicked=!1,this.isSignInClicked=!1,this.isSignUpClicked=!0,this.isSignEmail=!1}runMessage(r){r&&(this.isSignUpClicked=!0,this.isSignInClicked=!1,this.isSignEmail=!1)}showContinueWithEmail(r){let c=r[2];r[1]&&(this.isSignInClicked=!1,this.isSignUpClicked=!1,this.isSignEmail=!0,this.email=c)}turnBack(r){this.isSignUpClicked=!1,this.isHomeClicked=!1,this.isSignInClicked=!0,this.isSignEmail=!1}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-header"]],decls:14,vars:4,consts:[["id","navbar"],["id","top-title",3,"click"],["src","../../assets/tomato.png","alt","tomato image",1,"pomo",3,"click"],["id","sign"],[1,"btn",3,"click"],[1,"btn","sign-up",3,"click"],[3,"signup","continueWithEmail",4,"ngIf"],[4,"ngIf"],[3,"email","notyou",4,"ngIf"],[3,"signup","continueWithEmail"],[3,"email","notyou"]],template:function(r,a){1&r&&(g.TgZ(0,"header",0),g.TgZ(1,"h1",1),g.NdJ("click",function(){return a.home()}),g._uU(2,"Pomoguru"),g.qZA(),g.TgZ(3,"img",2),g.NdJ("click",function(){return a.home()}),g.qZA(),g.TgZ(4,"div",3),g.TgZ(5,"button",4),g.NdJ("click",function(){return a.signIn()}),g._uU(6,"Sign In"),g.qZA(),g.TgZ(7,"button",5),g.NdJ("click",function(){return a.signUp()}),g._uU(8,"Sign Up"),g.qZA(),g.qZA(),g.qZA(),g.YNc(9,DO,1,0,"app-sign-in",6),g.YNc(10,TO,1,0,"app-landing-page",7),g.YNc(11,SO,1,0,"app-sign-up",7),g.YNc(12,AO,1,1,"app-sign-in-email",8),g._UZ(13,"app-start")),2&r&&(g.xp6(9),g.Q6J("ngIf",a.isSignInClicked),g.xp6(1),g.Q6J("ngIf",a.isHomeClicked),g.xp6(1),g.Q6J("ngIf",a.isSignUpClicked),g.xp6(1),g.Q6J("ngIf",a.isSignEmail))},directives:[us,yO,_O,vO,bO,IO],styles:["body[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;height:200vh}#navbar[_ngcontent-%COMP%]{position:fixed;width:100%;top:0;left:0;padding:10px 0;background-color:#ffc34dcc}.pomo[_ngcontent-%COMP%]{padding-top:18px;cursor:pointer}.sign-up[_ngcontent-%COMP%]{background-color:#ff4b4b;color:#fff}.sign-up[_ngcontent-%COMP%]:hover{background-color:#ff5959}#top-title[_ngcontent-%COMP%]{padding:0 0 0 30px;cursor:pointer}.btn[_ngcontent-%COMP%]{font-size:14px;font-weight:500;width:90px;margin:0% 2.2%;height:50px}#sign[_ngcontent-%COMP%]{display:flex;position:fixed;right:0;margin-right:10px}"]}),i})(),RO=(()=>{class i{constructor(){this.title="POMOGURU"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(r,a){1&r&&g._UZ(0,"app-header")},directives:[xO],styles:[""]}),i})();const NO_firebase={apiKey:"AIzaSyD9x8SOTESWohB9wz8L28RvGYXBXslgP68",authDomain:"pomoguru-d0b61.firebaseapp.com",projectId:"pomoguru-d0b61",storageBucket:"pomoguru-d0b61.appspot.com",messagingSenderId:"585145924935",appId:"1:585145924935:web:cfd87a76e0f76f18552062",measurementId:"G-TF98GVXFLG"};let MO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i,bootstrap:[RO]}),i.\u0275inj=g.cJS({providers:[],imports:[[Nu,jv,pi.hO.initializeApp(NO_firebase),I,fR,iO,Uo,Sf,fS]]}),i})();(0,g.G48)(),M_().bootstrapModule(MO).catch(i=>console.error(i))},4762:(ze,we,L)=>{"use strict";function _e(re,ae){var he={};for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&ae.indexOf(ue)<0&&(he[ue]=re[ue]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ue=Object.getOwnPropertySymbols(re);ce<ue.length;ce++)ae.indexOf(ue[ce])<0&&Object.prototype.propertyIsEnumerable.call(re,ue[ce])&&(he[ue[ce]]=re[ue[ce]])}return he}function pe(re,ae,he,ue){return new(he||(he=Promise))(function(Q,xe){function We(_t){try{tt(ue.next(_t))}catch(Xt){xe(Xt)}}function bt(_t){try{tt(ue.throw(_t))}catch(Xt){xe(Xt)}}function tt(_t){_t.done?Q(_t.value):function(Q){return Q instanceof he?Q:new he(function(xe){xe(Q)})}(_t.value).then(We,bt)}tt((ue=ue.apply(re,ae||[])).next())})}function W(re,ae){var ue,ce,Q,xe,he={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return xe={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(xe[Symbol.iterator]=function(){return this}),xe;function We(tt){return function(_t){return function(tt){if(ue)throw new TypeError("Generator is already executing.");for(;he;)try{if(ue=1,ce&&(Q=2&tt[0]?ce.return:tt[0]?ce.throw||((Q=ce.return)&&Q.call(ce),0):ce.next)&&!(Q=Q.call(ce,tt[1])).done)return Q;switch(ce=0,Q&&(tt=[2&tt[0],Q.value]),tt[0]){case 0:case 1:Q=tt;break;case 4:return he.label++,{value:tt[1],done:!1};case 5:he.label++,ce=tt[1],tt=[0];continue;case 7:tt=he.ops.pop(),he.trys.pop();continue;default:if(!(Q=(Q=he.trys).length>0&&Q[Q.length-1])&&(6===tt[0]||2===tt[0])){he=0;continue}if(3===tt[0]&&(!Q||tt[1]>Q[0]&&tt[1]<Q[3])){he.label=tt[1];break}if(6===tt[0]&&he.label<Q[1]){he.label=Q[1],Q=tt;break}if(Q&&he.label<Q[2]){he.label=Q[2],he.ops.push(tt);break}Q[2]&&he.ops.pop(),he.trys.pop();continue}tt=ae.call(re,he)}catch(_t){tt=[6,_t],ce=0}finally{ue=Q=0}if(5&tt[0])throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}([tt,_t])}}}function K(re){var ae="function"==typeof Symbol&&Symbol.iterator,he=ae&&re[ae],ue=0;if(he)return he.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ue>=re.length&&(re=void 0),{value:re&&re[ue++],done:!re}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(re,ae){var he="function"==typeof Symbol&&re[Symbol.iterator];if(!he)return re;var ce,xe,ue=he.call(re),Q=[];try{for(;(void 0===ae||ae-- >0)&&!(ce=ue.next()).done;)Q.push(ce.value)}catch(We){xe={error:We}}finally{try{ce&&!ce.done&&(he=ue.return)&&he.call(ue)}finally{if(xe)throw xe.error}}return Q}function te(re,ae,he){if(he||2===arguments.length)for(var Q,ue=0,ce=ae.length;ue<ce;ue++)(Q||!(ue in ae))&&(Q||(Q=Array.prototype.slice.call(ae,0,ue)),Q[ue]=ae[ue]);return re.concat(Q||Array.prototype.slice.call(ae))}L.d(we,{_T:()=>_e,mG:()=>pe,Jh:()=>W,XA:()=>K,CR:()=>Z,ev:()=>te})},8239:(ze,we,L)=>{"use strict";function g(U,_e,me,ie,ve,pe,W){try{var k=U[pe](W),F=k.value}catch(K){return void me(K)}k.done?_e(F):Promise.resolve(F).then(ie,ve)}function ee(U){return function(){var _e=this,me=arguments;return new Promise(function(ie,ve){var pe=U.apply(_e,me);function W(F){g(pe,ie,ve,W,k,"next",F)}function k(F){g(pe,ie,ve,W,k,"throw",F)}W(void 0)})}}L.d(we,{Z:()=>ee})}},ze=>{ze(ze.s=7238)}]);