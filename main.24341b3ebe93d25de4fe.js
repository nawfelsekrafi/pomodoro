(self.webpackChunkpomoguru=self.webpackChunkpomoguru||[]).push([[179],{8255:Qe=>{function De(F){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+F+"'");throw h.code="MODULE_NOT_FOUND",h})}De.keys=()=>[],De.resolve=De,De.id=8255,Qe.exports=De},3018:(Qe,De,F)=>{"use strict";F.d(De,{deG:()=>al,tb:()=>TD,AFp:()=>s_,ip1:()=>Qf,CZH:()=>Pd,hGG:()=>ip,z2F:()=>ep,sBO:()=>Om,Sil:()=>Rc,_Vd:()=>od,EJc:()=>xD,SBq:()=>ui,qLn:()=>Cl,vpe:()=>ps,gxx:()=>kl,tBr:()=>bs,XFs:()=>xe,OlP:()=>pn,zs3:()=>xn,ZZ4:()=>oo,aQg:()=>If,soG:()=>kd,YKP:()=>x0,v3s:()=>zw,h0i:()=>Pt,PXZ:()=>Gw,R0b:()=>li,FiY:()=>as,Lbi:()=>a_,g9A:()=>DD,Qsj:()=>C0,FYo:()=>ud,JOm:()=>Ks,Tiy:()=>xm,q3G:()=>Sn,tp0:()=>qs,EAV:()=>J1,Rgc:()=>ld,dDg:()=>u_,DyG:()=>Ma,q4F:()=>yc,GfV:()=>Rm,s_b:()=>er,ifc:()=>on,eFA:()=>GD,G48:()=>Lw,Gpc:()=>ie,X6Q:()=>l_,_c5:()=>ax,VLi:()=>H1,c2e:()=>SD,zSh:()=>Fl,wAp:()=>it,vHH:()=>Te,EiD:()=>cy,mCW:()=>No,qzn:()=>P,JVY:()=>Re,pB0:()=>In,eBb:()=>ct,L6k:()=>Ke,LAX:()=>Ct,cg1:()=>n0,Tjo:()=>sx,kL8:()=>Jl,yhl:()=>re,dqk:()=>j,sIi:()=>jo,CqO:()=>$o,QGY:()=>Rv,F4k:()=>Fb,RDi:()=>vo,AaK:()=>K,z3N:()=>x,qOj:()=>Vg,TTD:()=>Kc,_Bn:()=>cI,xp6:()=>IC,uIk:()=>lv,ekj:()=>Go,Suo:()=>Ym,Xpm:()=>Ie,lG2:()=>qt,Yz7:()=>Yt,cJS:()=>Xr,oAB:()=>Cn,Yjl:()=>xi,Y36:()=>Wh,_UZ:()=>xv,qZA:()=>cc,TgZ:()=>Sv,EpF:()=>lc,n5z:()=>Up,Ikx:()=>fc,LFG:()=>bn,$8M:()=>yi,NdJ:()=>Yg,CRH:()=>Qm,kcU:()=>rl,O4$:()=>Ea,oxw:()=>Mv,Q6J:()=>Kh,s9C:()=>ef,iGM:()=>Md,MAs:()=>mv,CHM:()=>xu,LSH:()=>zs,kYT:()=>Tn,YNc:()=>vb,_uU:()=>hc,Oqu:()=>jv,hij:()=>um,Gf:()=>Vf});var h=F(9765),B=F(5319),V=F(7574),fe=F(6682),ve=F(2441);var de=F(1307);function Y(){return new h.xQ}function L(s){for(let o in s)if(s[o]===L)return o;throw Error("Could not find renamed property on target object.")}function X(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function K(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(K).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function J(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const me=L({__forward_ref__:L});function ie(s){return s.__forward_ref__=ie,s.toString=function(){return K(this())},s}function te(s){return Le(s)?s():s}function Le(s){return"function"==typeof s&&s.hasOwnProperty(me)&&s.__forward_ref__===ie}class Te extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function Ve(s){return"string"==typeof s?s:null==s?"":String(s)}function bt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ve(s)}function _e(s,o){const u=o?` in ${o}`:"";throw new Te("201",`No provider for ${bt(s)} found${u}`)}function pt(s,o){null==s&&function(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Xr(s){return{providers:s.providers||[],imports:s.imports||[]}}function nr(s){return ei(s,Vt)||ei(s,Xi)}function ei(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ji(s){return s&&(s.hasOwnProperty(rr)||s.hasOwnProperty(ot))?s[rr]:null}const Vt=L({\u0275prov:L}),rr=L({\u0275inj:L}),Xi=L({ngInjectableDef:L}),ot=L({ngInjectorDef:L});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let Zt;function sn(s){const o=Zt;return Zt=s,o}function $t(s,o,u){const l=nr(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&xe.Optional?null:void 0!==o?o:void _e(K(s),"Injector")}function Ze(s){return{toString:s}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),on=(()=>((on=on||{})[on.Emulated=0]="Emulated",on[on.None=2]="None",on[on.ShadowDom=3]="ShadowDom",on))();const zt="undefined"!=typeof globalThis&&globalThis,vs="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,j=zt||H||vs||$,qe={},Ue=[],kt=L({\u0275cmp:L}),dn=L({\u0275dir:L}),On=L({\u0275pipe:L}),qn=L({\u0275mod:L}),Nt=L({\u0275loc:L}),ne=L({\u0275fac:L}),G=L({__NG_ELEMENT_ID__:L});let z=0;function Ie(s){return Ze(()=>{const u={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||on.Emulated,id:"c",styles:s.styles||Ue,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,_=s.pipes;return l.id+=z++,l.inputs=ir(s.inputs,u),l.outputs=ir(s.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(at):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(Mt):null,l})}function at(s){return An(s)||function(s){return s[dn]||null}(s)}function Mt(s){return function(s){return s[On]||null}(s)}const Gt={};function Cn(s){return Ze(()=>{const o={type:s.type,bootstrap:s.bootstrap||Ue,declarations:s.declarations||Ue,imports:s.imports||Ue,exports:s.exports||Ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Gt[s.id]=s.type),o})}function Tn(s,o){return Ze(()=>{const u=Ur(s,!0);u.declarations=o.declarations||Ue,u.imports=o.imports||Ue,u.exports=o.exports||Ue})}function ir(s,o){if(null==s)return qe;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),u[d]=l,o&&(o[d]=g)}return u}const qt=Ie;function xi(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function An(s){return s[kt]||null}function Ur(s,o){const u=s[qn]||null;if(!u&&!0===o)throw new Error(`Type ${K(s)} does not have '\u0275mod' property.`);return u}function or(s){return Array.isArray(s)&&"object"==typeof s[1]}function _n(s){return Array.isArray(s)&&!0===s[1]}function Yd(s){return 0!=(8&s.flags)}function ni(s){return 2==(2&s.flags)}function Zc(s){return 1==(1&s.flags)}function ri(s){return null!==s.template}function M_(s){return 0!=(512&s[2])}function yo(s,o){return s.hasOwnProperty(ne)?s[ne]:null}class Xd{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function Kc(){return jr}function jr(s){return s.type.prototype.ngOnChanges&&(s.setInput=OE),k_}function k_(){const s=ha(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===qe)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function OE(s,o,u,l){const d=ha(s)||function(s,o){return s[eh]=o}(s,{previous:qe,current:null}),g=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[u],b=_[w];g[w]=new Xd(b&&b.currentValue,o,_===qe),s[l]=o}Kc.ngInherit=!0;const eh="__ngSimpleChanges__";function ha(s){return s[eh]||null}const Yc="http://www.w3.org/2000/svg";let Ms;function vo(s){Ms=s}function yn(s){return!!s.listen}const Du={createRenderer:(s,o)=>void 0!==Ms?Ms:"undefined"!=typeof document?document:void 0};function vn(s){for(;Array.isArray(s);)s=s[0];return s}function fa(s,o){return vn(o[s])}function Mi(s,o){return vn(o[s.index])}function pa(s,o){return s.data[o]}function pr(s,o){const u=o[s];return or(u)?u:u[0]}function Xc(s){return 4==(4&s[2])}function ga(s){return 128==(128&s[2])}function ts(s,o){return null==o?null:s[o]}function Ip(s){s[18]=0}function Tu(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const gt={lFrame:j_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Au(){return gt.bindingsEnabled}function Ae(){return gt.lFrame.lView}function Ft(){return gt.lFrame.tView}function xu(s){return gt.lFrame.contextLView=s,s[8]}function Pn(){let s=Tp();for(;null!==s&&64===s.type;)s=s.parent;return s}function Tp(){return gt.lFrame.currentTNode}function ns(s,o){const u=gt.lFrame;u.currentTNode=s,u.isParent=o}function Ru(){return gt.lFrame.isParent}function Os(){return gt.isInCheckNoChangesMode}function va(s){gt.isInCheckNoChangesMode=s}function wa(){return gt.lFrame.bindingIndex++}function tl(s,o){const u=gt.lFrame;u.bindingIndex=u.bindingRootIndex=s,oh(o)}function oh(s){gt.lFrame.currentDirectiveIndex=s}function ah(){return gt.lFrame.currentQueryIndex}function Sp(s){gt.lFrame.currentQueryIndex=s}function U_(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function B_(s,o,u){if(u&xe.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||u&xe.Host||(d=U_(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=gt.lFrame=xp();return l.currentTNode=o,l.lView=s,!0}function Mu(s){const o=xp(),u=s[1];gt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function xp(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?j_(s):o}function j_(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Rp(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const kE=Rp;function Np(){const s=Rp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Hr(){return gt.lFrame.selectedIndex}function is(s){gt.lFrame.selectedIndex=s}function en(){const s=gt.lFrame;return pa(s.tView,s.selectedIndex)}function Ea(){gt.lFrame.currentNamespace=Yc}function rl(){gt.lFrame.currentNamespace=null}function Ca(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:A}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function il(s,o,u){Mp(s,o,3,u)}function ba(s,o,u,l){(3&s[2])===u&&Mp(s,o,u,l)}function ch(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Mp(s,o,u,l){const g=null!=l?l:-1,_=o.length-1;let w=0;for(let b=void 0!==l?65535&s[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(w=o[b],null!=l&&w>=l)break}else o[b]<0&&(s[18]+=65536),(w<g||-1==g)&&(q_(s,u,o,b),s[18]=(4294901760&s[18])+b+2),b++}function q_(s,o,u,l){const d=u[l]<0,g=u[l+1],w=s[d?-u[l]:u[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class sl{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function Da(s,o,u){const l=yn(s);let d=0;for(;d<u.length;){const g=u[d];if("number"==typeof g){if(0!==g)break;d++;const _=u[d++],w=u[d++],b=u[d++];l?s.setAttribute(o,w,b,_):o.setAttributeNS(_,w,b)}else{const _=g,w=u[++d];Pp(_)?l&&s.setProperty(o,_,w):l?s.setAttribute(o,_,w):o.setAttribute(_,w),d++}}return d}function Ou(s){return 3===s||4===s||6===s}function Pp(s){return 64===s.charCodeAt(0)}function Pu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||W_(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function W_(s,o,u,l,d){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===u){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,u),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function kp(s){return-1!==s}function Ta(s){return 32767&s}function Fs(s,o){let u=function(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let lh=!0;function Co(s){const o=lh;return lh=s,o}let rt=0;function Aa(s,o){const u=ku(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,mr(l.data,s),mr(o,null),mr(l.blueprint,null));const d=Sa(s,o),g=s.injectorIndex;if(kp(d)){const _=Ta(d),w=Fs(d,o),b=w[1].data;for(let T=0;T<8;T++)o[g+T]=w[_+T]|b[_+T]}return o[g+8]=d,g}function mr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ku(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Sa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){const g=d[1],_=g.type;if(l=2===_?g.declTNode:1===_?d[6]:null,null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function Rr(s,o,u){!function(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(G)&&(l=u[G]),null==l&&(l=u[G]=rt++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function hh(s,o,u){if(u&xe.Optional)return s;_e(o,"NodeInjector")}function Fp(s,o,u,l){if(u&xe.Optional&&void 0===l&&(l=null),0==(u&(xe.Self|xe.Host))){const d=s[9],g=sn(void 0);try{return d?d.get(o,l,u&xe.Optional):$t(o,l,u&xe.Optional)}finally{sn(g)}}return hh(l,o,u)}function si(s,o,u,l=xe.Default,d){if(null!==s){const g=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(G)?s[G]:void 0;return"number"==typeof o?o>=0?255&o:fh:o}(u);if("function"==typeof g){if(!B_(o,s,l))return l&xe.Host?hh(d,u,l):Fp(o,u,l,d);try{const _=g(l);if(null!=_||l&xe.Optional)return _;_e(u)}finally{kE()}}else if("number"==typeof g){let _=null,w=ku(s,o),b=-1,T=l&xe.Host?o[16][6]:null;for((-1===w||l&xe.SkipSelf)&&(b=-1===w?Sa(s,o):o[w+8],-1!==b&&Ls(l,!1)?(_=o[1],w=Ta(b),o=Fs(b,o)):w=-1);-1!==w;){const A=o[1];if(J_(g,w,A.data)){const N=Vp(w,o,u,_,l,T);if(N!==Lp)return N}b=o[w+8],-1!==b&&Ls(l,o[1].data[w+8]===T)&&J_(g,w,o)?(_=A,w=Ta(b),o=Fs(b,o)):w=-1}}}return Fp(o,u,l,d)}const Lp={};function fh(){return new Es(Pn(),Ae())}function Vp(s,o,u,l,d,g){const _=o[1],w=_.data[s+8],A=Fu(w,_,u,null==l?ni(w)&&lh:l!=_&&0!=(3&w.type),d&xe.Host&&g===w);return null!==A?xa(o,_,A,w):Lp}function Fu(s,o,u,l,d){const g=s.providerIndexes,_=o.data,w=1048575&g,b=s.directiveStart,A=g>>20,M=d?w+A:s.directiveEnd;for(let U=l?w:w+A;U<M;U++){const Z=_[U];if(U<b&&u===Z||U>=b&&Z.type===u)return U}if(d){const U=_[b];if(U&&ri(U)&&U.type===u)return b}return null}function xa(s,o,u,l){let d=s[u];const g=o.data;if(function(s){return s instanceof sl}(d)){const _=d;_.resolving&&function(s,o){throw new Te("200",`Circular dependency in DI detected for ${s}`)}(bt(g[u]));const w=Co(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?sn(_.injectImpl):null;B_(s,l,xe.Default);try{d=s[u]=_.factory(void 0,g,s,l),o.firstCreatePass&&u>=l.directiveStart&&function(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const _=jr(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==b&&sn(b),Co(w),_.resolving=!1,kE()}}return d}function J_(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Ls(s,o){return!(s&xe.Self||s&xe.Host&&o)}class Es{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return si(this._tNode,this._lView,o,void 0,u)}}function Up(s){return Ze(()=>{const o=s.prototype.constructor,u=o[ne]||Lu(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[ne]||Lu(d);if(g&&g!==u)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Lu(s){return Le(s)?()=>{const o=Lu(te(s));return o&&o()}:yo(s)}function yi(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const g=u[d];if(Ou(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(g===o)return u[d+1];d+=2}}}return null}(Pn(),s)}const Ra="__parameters__";function Vs(s,o,u){return Ze(()=>{const l=function(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const _=new d(...g);return w.annotation=_,w;function w(b,T,A){const N=b.hasOwnProperty(Ra)?b[Ra]:Object.defineProperty(b,Ra,{value:[]})[Ra];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(_),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class pn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Yt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const al=new pn("AnalyzeForEntryComponents"),Ma=Function;function $r(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),$r(l,o)):o!==s&&o.push(l)}return o}function ki(s,o){s.forEach(u=>Array.isArray(u)?ki(u,o):o(u))}function Pa(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Io(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Mr(s,o,u){let l=Gr(s,o);return l>=0?s[1|l]=u:(l=~l,function(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Vu(s,o){const u=Gr(s,o);if(u>=0)return s[1|u]}function Gr(s,o){return function(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const g=l+(d-l>>1),_=s[g<<u];if(o===_)return g<<u;_>o?d=g:l=g+1}return~(d<<u)}(s,o,1)}const Bu={},ju="__NG_DI_FLAG__",js="ngTempTokenPath",yh=/\n/gm,vh="__source",Hu=L({provide:String,useValue:L});let Hs;function Fa(s){const o=Hs;return Hs=s,o}function qp(s,o=xe.Default){if(void 0===Hs)throw new Error("inject() must be called from an injection context");return null===Hs?$t(s,void 0,o):Hs.get(s,o&xe.Optional?null:void 0,o)}function bn(s,o=xe.Default){return(Zt||qp)(te(s),o)}function $s(s){const o=[];for(let u=0;u<s.length;u++){const l=te(s[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,g=xe.Default;for(let _=0;_<l.length;_++){const w=l[_],b=qE(w);"number"==typeof b?-1===b?d=w.token:g|=b:d=w}o.push(bn(d,g))}else o.push(bn(l))}return o}function Gs(s,o){return s[ju]=o,s.prototype[ju]=o,s}function qE(s){return s[ju]}function Wn(s,o,u,l){const d=s[js];throw o[vh]&&d.unshift(o[vh]),s.message=function(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=K(o);if(Array.isArray(o))d=o.map(K).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):K(w)))}d=`{${g.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(yh,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[js]=null,s}const bs=Gs(Vs("Inject",s=>({token:s})),-1),as=Gs(Vs("Optional"),8),qs=Gs(Vs("SkipSelf"),4);let xo;function Zs(s){var o;return(null===(o=function(){if(void 0===xo&&(xo=null,j.trustedTypes))try{xo=j.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return xo}())||void 0===o?void 0:o.createHTML(s))||s}class Ro{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class oy extends Ro{getTypeName(){return"HTML"}}class C extends Ro{getTypeName(){return"Style"}}class y extends Ro{getTypeName(){return"Script"}}class v extends Ro{getTypeName(){return"URL"}}class I extends Ro{getTypeName(){return"ResourceURL"}}function x(s){return s instanceof Ro?s.changingThisBreaksApplicationSecurity:s}function P(s,o){const u=re(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function re(s){return s instanceof Ro&&s.getTypeName()||null}function Re(s){return new oy(s)}function Ke(s){return new C(s)}function ct(s){return new y(s)}function Ct(s){return new v(s)}function In(s){return new I(s)}class Ui{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Zs(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Ju{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Zs(o),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Zs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const _=u.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const ml=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function No(s){return(s=String(s)).match(ml)||s.match(_l)?s:"unsafe:"+s}function wi(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Mo(...s){const o={};for(const u of s)for(const l in u)u.hasOwnProperty(l)&&(o[l]=!0);return o}const bh=wi("area,br,col,hr,img,wbr"),Jp=wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oo=wi("rp,rt"),Xp=Mo(bh,Mo(Jp,wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mo(Oo,wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mo(Oo,Jp)),ay=wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ih=wi("srcset"),YE=Mo(ay,Ih,wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QE=wi("script,style,template");class eg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Xp.hasOwnProperty(u))return this.sanitizedSomething=!0,!QE.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=o.attributes;for(let d=0;d<l.length;d++){const g=l.item(d),_=g.name,w=_.toLowerCase();if(!YE.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=g.value;ay[w]&&(b=No(b)),Ih[w]&&(s=b,b=(s=String(s)).split(",").map(o=>No(o.trim())).join(", ")),this.buf.push(" ",_,'="',JE(b),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Xp.hasOwnProperty(u)&&!bh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(JE(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const FT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uy=/([^\#-~ |!])/g;function JE(s){return s.replace(/&/g,"&amp;").replace(FT,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(uy,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dh;function cy(s,o){let u=null;try{Dh=Dh||function(s){const o=new Ju(s);return function(){try{return!!(new window.DOMParser).parseFromString(Zs(""),"text/html")}catch(s){return!1}}()?new Ui(o):o}(s);let l=o?String(o):"";u=Dh.getInertBodyElement(l);let d=5,g=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=g,g=u.innerHTML,u=Dh.getInertBodyElement(l)}while(l!==g);return Zs((new eg).sanitizeChildren(ly(u)||u))}finally{if(u){const l=ly(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ly(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function zs(s){const o=function(){const s=Ae();return s&&s[12]}();return o?o.sanitize(Sn.URL,s)||"":P(s,"URL")?x(s):No(Ve(s))}const rg="__ngContext__";function un(s,o){s[rg]=o}function ig(s){const o=function(s){return s[rg]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ag(s){return s.ngOriginalError}function gy(s,...o){s.error(...o)}class Cl{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),l=this._findContext(o),d=(s=o)&&s.ngErrorLogger||gy;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(o){return o?o.ngDebugContext||this._findContext(ag(o)):null}_findOriginalError(o){let u=o&&ag(o);for(;u&&ag(u);)u=ag(u);return u||null}}const cC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Ws(s){return s instanceof Function?s():s}var Ks=(()=>((Ks=Ks||{})[Ks.Important=1]="Important",Ks[Ks.DashCase=2]="DashCase",Ks))();function _y(s,o){return undefined(s,o)}function Il(s){const o=s[3];return _n(o)?o[3]:o}function dg(s){return hC(s[13])}function wy(s){return hC(s[4])}function hC(s){for(;null!==s&&!_n(s);)s=s[4];return s}function Dl(s,o,u,l,d){if(null!=l){let g,_=!1;_n(l)?g=l:or(l)&&(_=!0,l=l[0]);const w=vn(l);0===s&&null!==u?null==d?pg(o,u,w):Ys(o,u,w,d||null,!0):1===s&&null!==u?Ys(o,u,w,d||null,!0):2===s?function(s,o,u){const l=mg(s,o);l&&function(s,o,u,l){yn(s)?s.removeChild(o,u,l):o.removeChild(u)}(s,l,o,u)}(o,w,_):3===s&&o.destroyNode(w),null!=g&&function(s,o,u,l,d){const g=u[7];g!==vn(u)&&Dl(o,s,l,g,d);for(let w=10;w<u.length;w++){const b=u[w];Rh(b[1],b,s,o,l,g)}}(o,s,g,u,d)}}function Cy(s,o,u){return yn(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function pC(s,o){const u=s[9],l=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Tu(d,-1)),u.splice(l,1)}function Iy(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const d=l[17];null!==d&&d!==s&&pC(d,l),o>0&&(s[u-1][4]=l[4]);const g=Io(s,10+o);!function(s,o){Rh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function gC(s,o){if(!(256&o[2])){const u=o[11];yn(u)&&u.destroyNode&&Rh(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return fg(s[1],s);for(;o;){let u=null;if(or(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)or(o)&&fg(o[1],o),o=o[3];null===o&&(o=s),or(o)&&fg(o[1],o),u=o&&o[4]}o=u}}(o)}}function fg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof sl)){const g=u[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=d[g[_]],b=g[_+1];try{b.call(w)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,l=o[7];let d=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const _=u[g+1],w="function"==typeof _?_(o):vn(o[_]),b=l[d=u[g+2]],T=u[g+3];"boolean"==typeof T?w.removeEventListener(u[g],b,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),g+=2}else{const _=l[d=u[g+1]];u[g].call(_)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&_n(o[3])){u!==o[3]&&pC(u,o);const l=o[19];null!==l&&l.detachView(s)}}}function oi(s,o,u){return function(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===on.None||d===on.Emulated)return null}return Mi(l,u)}(s,o.parent,u)}function Ys(s,o,u,l,d){yn(s)?s.insertBefore(o,u,l,d):o.insertBefore(u,l,d)}function pg(s,o,u){yn(s)?s.appendChild(o,u):o.appendChild(u)}function gg(s,o,u,l,d){null!==l?Ys(s,o,u,l,d):pg(s,o,u)}function mg(s,o){return yn(s)?s.parentNode(o):o.parentNode}let Ty=function(s,o,u){return 40&s.type?Mi(s,u):null};function xh(s,o,u,l){const d=oi(s,l,o),g=o[11],w=function(s,o,u){return Ty(s,o,u)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)gg(g,d,u[b],w,!1);else gg(g,d,u,w,!1)}function Sl(s,o){if(null!==o){const u=o.type;if(3&u)return Mi(o,s);if(4&u)return Po(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return Sl(s,l);{const d=s[o.index];return _n(d)?Po(-1,d):vn(d)}}if(32&u)return _y(o,s)()||vn(s[o.index]);{const l=uA(s,o);return null!==l?Array.isArray(l)?l[0]:Sl(Il(s[16]),l):Sl(s,o.next)}}return null}function uA(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Po(s,o){const u=10+s+1;if(u<o.length){const l=o[u],d=l[1].firstChild;if(null!==d)return Sl(l,d)}return o[7]}function Ry(s,o,u,l,d,g,_){for(;null!=u;){const w=l[u.index],b=u.type;if(_&&0===o&&(w&&un(vn(w),l),u.flags|=4),64!=(64&u.flags))if(8&b)Ry(s,o,u.child,l,d,g,!1),Dl(o,s,d,w,g);else if(32&b){const T=_y(u,l);let A;for(;A=T();)Dl(o,s,d,A,g);Dl(o,s,d,w,g)}else 16&b?Ny(s,o,l,u,d,g):Dl(o,s,d,w,g);u=_?u.projectionNext:u.next}}function Rh(s,o,u,l,d,g){Ry(u,l,s.firstChild,o,d,g,!1)}function Ny(s,o,u,l,d,g){const _=u[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)Dl(o,s,d,b[T],g);else Ry(s,o,b,_[3],d,g,!0)}function yC(s,o,u){yn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function _g(s,o,u){yn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function vC(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}u=d+1}}const wC="ng-template";function My(s,o,u){let l=0;for(;l<s.length;){let d=s[l++];if(u&&"class"===d){if(d=s[l],-1!==vC(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function EC(s){return 4===s.type&&s.value!==wC}function hA(s,o,u){return o===(4!==s.type||u?s.value:wC)}function CC(s,o,u){let l=4;const d=s.attrs||[],g=function(s){for(let o=0;o<s.length;o++)if(Ou(s[o]))return o;return s.length}(d);let _=!1;for(let w=0;w<o.length;w++){const b=o[w];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!hA(s,b,u)||""===b&&1===o.length){if(Ds(l))return!1;_=!0}}else{const T=8&l?b:o[++w];if(8&l&&null!==s.attrs){if(!My(s.attrs,T,u)){if(Ds(l))return!1;_=!0}continue}const N=iR(8&l?"class":b,d,EC(s),u);if(-1===N){if(Ds(l))return!1;_=!0;continue}if(""!==T){let M;M=N>g?"":d[N+1].toLowerCase();const U=8&l?M:null;if(U&&-1!==vC(U,T,0)||2&l&&T!==M){if(Ds(l))return!1;_=!0}}}}else{if(!_&&!Ds(l)&&!Ds(b))return!1;if(_&&Ds(b))continue;_=!1,l=b|1&l}}return Ds(l)||_}function Ds(s){return 0==(1&s)}function iR(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let g=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function bC(s,o,u=!1){for(let l=0;l<o.length;l++)if(CC(s,o[l],u))return!0;return!1}function Oy(s,o){return s?":not("+o.trim()+")":o}function ec(s){let o=s[0],u=1,l=2,d="",g=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&l){const w=s[++u];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!Ds(_)&&(o+=Oy(g,d),d=""),l=_,g=g||!Ds(l);u++}return""!==d&&(o+=Oy(g,d)),o}const yt={};function IC(s){DC(Ft(),Ae(),Hr()+s,Os())}function DC(s,o,u,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&il(o,g,u)}else{const g=s.preOrderHooks;null!==g&&ba(o,g,0,u)}is(u)}function vg(s,o){return s<<17|o<<2}function ar(s){return s>>17&32767}function yr(s){return 2|s}function zr(s){return(131068&s)>>2}function Py(s,o){return-131069&s|o<<2}function wg(s){return 1|s}function SA(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],g=u[l+1];if(-1!==g){const _=s.data[g];Sp(d),_.contentQueries(2,o[g],g)}}}function Ba(s,o,u,l,d,g,_,w,b,T){const A=o.blueprint.slice();return A[0]=d,A[2]=140|l,Ip(A),A[3]=A[15]=s,A[8]=u,A[10]=_||s&&s[10],A[11]=w||s&&s[11],A[12]=b||s&&s[12]||null,A[9]=T||s&&s[9]||null,A[6]=g,A[16]=2==o.type?s[16]:A,A}function Xs(s,o,u,l,d){let g=s.data[o];if(null===g)g=function(s,o,u,l,d){const g=Tp(),_=Ru(),b=s.data[o]=function(s,o,u,l,d,g){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,o,u,l,d),gt.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=l,g.attrs=d;const _=function(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return ns(g,!0),g}function Lo(s,o,u,l){if(0===u)return-1;const d=o.length;for(let g=0;g<u;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Oh(s,o,u){Mu(o);try{const l=s.viewQuery;null!==l&&Qy(1,l,u);const d=s.template;null!==d&&PC(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&SA(s,o),s.staticViewQueries&&Qy(2,s.viewQuery,u);const g=s.components;null!==g&&function(s,o){for(let u=0;u<o.length;u++)kA(s,o[u])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Np()}}function ja(s,o,u,l){const d=o[2];if(256==(256&d))return;Mu(o);const g=Os();try{Ip(o),function(s){gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&PC(s,o,u,2,l);const _=3==(3&d);if(!g)if(_){const T=s.preOrderCheckHooks;null!==T&&il(o,T,null)}else{const T=s.preOrderHooks;null!==T&&ba(o,T,0,null),ch(o,0)}if(function(s){for(let o=dg(s);null!==o;o=wy(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const d=u[l],g=d[3];0==(1024&d[2])&&Tu(g,1),d[2]|=1024}}}(o),function(s){for(let o=dg(s);null!==o;o=wy(o))for(let u=10;u<o.length;u++){const l=o[u],d=l[1];ga(l)&&ja(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&SA(s,o),!g)if(_){const T=s.contentCheckHooks;null!==T&&il(o,T)}else{const T=s.contentHooks;null!==T&&ba(o,T,1),ch(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)is(~d);else{const g=d,_=u[++l],w=u[++l];tl(_,g),w(2,o[g])}}}finally{is(-1)}}(s,o);const w=s.components;null!==w&&function(s,o){for(let u=0;u<o.length;u++)PA(s,o[u])}(o,w);const b=s.viewQuery;if(null!==b&&Qy(2,b,l),!g)if(_){const T=s.viewCheckHooks;null!==T&&il(o,T)}else{const T=s.viewHooks;null!==T&&ba(o,T,2),ch(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Tu(o[3],-1))}finally{Np()}}function Ig(s,o,u,l){const d=o[10],g=!Os(),_=Xc(o);try{g&&!_&&d.begin&&d.begin(),_&&Oh(s,o,l),ja(s,o,u,l)}finally{g&&!_&&d.end&&d.end()}}function PC(s,o,u,l,d){const g=Hr(),_=2&l;try{is(-1),_&&o.length>20&&DC(s,o,20,Os()),u(l,d)}finally{is(g)}}function Dg(s,o,u){!Au()||(function(s,o,u,l){const d=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||Aa(u,o),un(l,o);const _=u.initialInputs;for(let w=d;w<g;w++){const b=s.data[w],T=ri(b);T&&pR(o,u,b);const A=xa(o,s,w,u);un(A,o),null!==_&&GC(0,w-d,A,b,0,_),T&&(pr(u.index,o)[8]=A)}}(s,o,u,Mi(u,o)),128==(128&u.flags)&&function(s,o,u){const l=u.directiveStart,d=u.directiveEnd,_=u.index,w=gt.lFrame.currentDirectiveIndex;try{is(_);for(let b=l;b<d;b++){const T=s.data[b],A=o[b];oh(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&HC(T,A)}}finally{is(-1),oh(w)}}(s,o,u))}function jy(s,o,u=Mi){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],w=-1===_?u(o,s):s[_];s[d++]=w}}}function Hy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Tg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Tg(s,o,u,l,d,g,_,w,b,T){const A=20+l,N=A+d,M=function(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:yt);return u}(A,N),U="function"==typeof T?T():T;return M[1]={type:s,blueprint:M,template:u,queries:null,viewQuery:w,declTNode:o,data:M.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:U,incompleteFirstPass:!1}}function $y(s,o,u,l){const d=Og(o);null===u?d.push(l):(d.push(u),s.firstCreatePass&&WC(s).push(l,d.length-1))}function Ph(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,d):u[l]=[o,d]}return u}function Wr(s,o,u,l,d,g,_,w){const b=Mi(o,u);let A,T=o.inputs;!w&&null!=T&&(A=T[l])?(KC(s,u,A,l,d),ni(o)&&function(s,o){const u=pr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(l=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=_?_(d,o.value||"",l):d,yn(g)?g.setProperty(b,l,d):Pp(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function Lh(s,o,u,l){let d=!1;if(Au()){const g=function(s,o,u){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];bC(u,_.selectors,!1)&&(d||(d=[]),Rr(Aa(u,o),s,_.type),ri(_)?(Ol(s,u),d.unshift(_)):d.push(_))}return d}(s,o,u),_=null===l?null:{"":-1};if(null!==g){d=!0,NA(u,s.data.length,g.length);for(let A=0;A<g.length;A++){const N=g[A];N.providersResolver&&N.providersResolver(N)}let w=!1,b=!1,T=Lo(s,o,g.length,null);for(let A=0;A<g.length;A++){const N=g[A];u.mergedAttrs=Pu(u.mergedAttrs,N.hostAttrs),MA(s,u,o,T,N),$C(T,N,_),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const M=N.type.prototype;!w&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!b&&(M.ngOnChanges||M.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),T++}!function(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,_=[];let w=null,b=null;for(let T=o.directiveStart;T<l;T++){const A=d[T],N=A.inputs,M=null===g||EC(o)?null:OA(N,g);_.push(M),w=Ph(N,T,w),b=Ph(A.outputs,T,b)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=b}(s,u)}_&&function(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=u[o[d+1]];if(null==g)throw new Te("301",`Export of name '${o[d+1]}' not found!`);l.push(o[d],g)}}}(u,l,_)}return u.mergedAttrs=Pu(u.mergedAttrs,u.attrs),d}function Ag(s,o,u,l,d,g){const _=g.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const b=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(w)!=b&&w.push(b),w.push(l,d,_)}}function HC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ol(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function $C(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;ri(o)&&(u[""]=s)}}function NA(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function MA(s,o,u,l,d){s.data[l]=d;const g=d.factory||(d.factory=yo(d.type)),_=new sl(g,ri(d),null);s.blueprint[l]=_,u[l]=_,Ag(s,o,0,l,Lo(s,u,d.hostVars,yt),d)}function pR(s,o,u){const l=Mi(o,s),d=Hy(u),g=s[10],_=Vh(s,Ba(s,d,null,u.onPush?64:16,l,o,g,g.createRenderer(l,u),null,null));s[o.index]=_}function Vo(s,o,u,l,d,g){const _=Mi(s,o);!function(s,o,u,l,d,g,_){if(null==g)yn(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const w=null==_?Ve(g):_(g,l||"",d);yn(s)?s.setAttribute(o,d,w,u):u?o.setAttributeNS(u,d,w):o.setAttribute(d,w)}}(o[11],_,g,s.value,u,l,d)}function GC(s,o,u,l,d,g){const _=g[o];if(null!==_){const w=l.setInput;for(let b=0;b<_.length;){const T=_[b++],A=_[b++],N=_[b++];null!==w?l.setInput(u,N,T,A):u[A]=N}}}function OA(s,o){let u=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return u}function Wy(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function PA(s,o){const u=pr(o,s);if(ga(u)){const l=u[1];80&u[2]?ja(l,u,l.template,u[8]):u[5]>0&&Rg(u)}}function Rg(s){for(let l=dg(s);null!==l;l=wy(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const _=g[1];ja(_,g,_.template,g[8])}else g[5]>0&&Rg(g)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=pr(u[l],s);ga(d)&&d[5]>0&&Rg(d)}}function kA(s,o){const u=pr(o,s),l=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),Oh(l,u,u[8])}function Vh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ky(s){for(;s;){s[2]|=64;const o=Il(s);if(M_(s)&&!o)return s;s=o}return null}function Ng(s,o,u){const l=o[10];l.begin&&l.begin();try{ja(s,o,s.template,u)}catch(d){throw Jy(o,d),d}finally{l.end&&l.end()}}function Mg(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],l=ig(u),d=l[1];Ig(d,l,d.template,u)}}(s[8])}function Qy(s,o,u){Sp(0),o(s,u)}const LA=(()=>Promise.resolve(null))();function Og(s){return s[7]||(s[7]=[])}function WC(s){return s.cleanup||(s.cleanup=[])}function Jy(s,o){const u=s[9],l=u?u.get(Cl,null):null;l&&l.handleError(o)}function KC(s,o,u,l,d){for(let g=0;g<u.length;){const _=u[g++],w=u[g++],b=o[_],T=s.data[_];null!==T.setInput?T.setInput(b,d,l,w):b[w]=d}}function eo(s,o,u){const l=fa(o,s);!function(s,o,u){yn(s)?s.setValue(o,u):o.textContent=u}(s[11],l,u)}function kg(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?g=w:1==g?d=J(d,w):2==g&&(l=J(l,w+": "+o[++_]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}const kl=new pn("INJECTOR",-1);class JC{get(o,u=Bu){if(u===Bu){const l=new Error(`NullInjectorError: No provider for ${K(o)}!`);throw l.name="NullInjectorError",l}return u}}const Fl=new pn("Set Injector scope."),Uh={},mR={};let Bh;function XC(){return void 0===Bh&&(Bh=new JC),Bh}function Xy(s,o=null,u=null,l){return new UA(s,u,o||XC(),l)}class UA{constructor(o,u,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&ki(u,w=>this.processProvider(w,o,u)),ki([o],w=>this.processInjectorType(w,[],g)),this.records.set(kl,Ll(void 0,this));const _=this.records.get(Fl);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:K(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Bu,l=xe.Default){this.assertNotDestroyed();const d=Fa(this),g=sn(void 0);try{if(!(l&xe.SkipSelf)){let w=this.records.get(o);if(void 0===w){const b=("function"==typeof(s=o)||"object"==typeof s&&s instanceof pn)&&nr(o);w=b&&this.injectableDefInScope(b)?Ll(Fg(o),Uh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&xe.Self?XC():this.parent).get(o,u=l&xe.Optional&&u===Bu?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[js]=_[js]||[]).unshift(K(o)),d)throw _;return Wn(_,o,"R3InjectorError",this.source)}throw _}finally{sn(g),Fa(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(K(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,l){if(!(o=te(o)))return!1;let d=Ji(o);const g=null==d&&o.ngModule||void 0,_=void 0===g?o:g,w=-1!==l.indexOf(_);if(void 0!==g&&(d=Ji(g)),null==d)return!1;if(null!=d.imports&&!w){let A;l.push(_);try{ki(d.imports,N=>{this.processInjectorType(N,u,l)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:M,providers:U}=A[N];ki(U,Z=>this.processProvider(Z,M,U||Ue))}}this.injectorDefTypes.add(_);const b=yo(_)||(()=>new _);this.records.set(_,Ll(b,Uh));const T=d.providers;if(null!=T&&!w){const A=o;ki(T,N=>this.processProvider(N,A,T))}return void 0!==g&&void 0!==o.providers}processProvider(o,u,l){let d=nc(o=te(o))?o:te(o&&o.provide);const g=$a(s=o)?Ll(void 0,s.useValue):Ll(nb(s),Uh);var s;if(nc(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Ll(void 0,Uh,!0),_.factory=()=>$s(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,g)}hydrate(o,u){return u.value===Uh&&(u.value=mR,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=te(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Fg(s){const o=nr(s),u=null!==o?o.factory:yo(s);if(null!==u)return u;if(s instanceof pn)throw new Error(`Token ${K(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const l=function(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${K(s)}: (${l.join(", ")}).`)}const u=function(s){const o=s&&(s[Vt]||s[Xi]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function nb(s,o,u){let l;if(nc(s)){const d=te(s);return yo(d)||Fg(d)}if($a(s))l=()=>te(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...$s(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))l=()=>bn(te(s.useExisting));else{const d=te(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return yo(d)||Fg(d);l=()=>new d(...$s(s.deps))}return l}function Ll(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function $a(s){return null!==s&&"object"==typeof s&&Hu in s}function nc(s){return"function"==typeof s}const GA=function(s,o,u){return function(s,o=null,u=null,l){const d=Xy(s,o,u,l);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};let xn=(()=>{class s{static create(u,l){return Array.isArray(u)?GA(u,l,""):GA(u.providers,u.parent,u.name||"")}}return s.THROW_IF_NOT_FOUND=Bu,s.NULL=new JC,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>bn(kl)}),s.__NG_ELEMENT_ID__=-1,s})();function nS(s,o){Ca(ig(s)[1],Pn())}function Vg(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(ri(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){l.push(d);const _=s;_.inputs=Ga(s.inputs),_.declaredInputs=Ga(s.declaredInputs),_.outputs=Ga(s.outputs);const w=d.hostBindings;w&&St(s,w);const b=d.viewQuery,T=d.contentQueries;if(b&&Ug(s,b),T&&rc(s,T),X(s.inputs,d.inputs),X(s.declaredInputs,d.declaredInputs),X(s.outputs,d.outputs),ri(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(s),w===Vg&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Pu(d.hostAttrs,u=Pu(u,d.hostAttrs))}}(l)}function Ga(s){return s===qe?{}:s===Ue?[]:s}function Ug(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function rc(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,g)=>{o(l,d,g),u(l,d,g)}:o}function St(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}let jl=null;function ht(){if(!jl){const s=j.Symbol;if(s&&s.iterator)jl=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(jl=l)}}}return jl}function jo(s){return!!cv(s)&&(Array.isArray(s)||!(s instanceof Map)&&ht()in s)}function cv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qt(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function lv(s,o,u,l){const d=Ae();return Qt(d,wa(),o)&&(Ft(),Vo(en(),d,s,o,u,l)),lv}function ic(s,o,u,l){return Qt(s,wa(),u)?o+Ve(u)+l:yt}function vb(s,o,u,l,d,g,_,w){const b=Ae(),T=Ft(),A=s+20,N=T.firstCreatePass?function(s,o,u,l,d,g,_,w,b){const T=o.consts,A=Xs(o,s,4,_||null,ts(T,w));Lh(o,u,A,ts(T,b)),Ca(o,A);const N=A.tViews=Tg(2,A,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),N.queries=o.queries.embeddedTView(A)),A}(A,T,b,o,u,l,d,g,_):T.data[A];ns(N,!1);const M=b[11].createComment("");xh(T,b,M,N),un(M,b),Vh(b,b[A]=Wy(M,b,M,N)),Zc(N)&&Dg(T,b,N),null!=_&&jy(b,N,w)}function mv(s){return function(s,o){return s[o]}(gt.lFrame.contextLView,20+s)}function Wh(s,o=xe.Default){const u=Ae();return null===u?bn(s,o):si(Pn(),u,te(s),o)}function Kh(s,o,u){const l=Ae();return Qt(l,wa(),o)&&Wr(Ft(),en(),l,s,o,l[11],u,!1),Kh}function Yh(s,o,u,l,d){const _=d?"class":"style";KC(s,u,o.inputs[_],_,l)}function Sv(s,o,u,l){const d=Ae(),g=Ft(),_=20+s,w=d[11],b=d[_]=Cy(w,o,gt.lFrame.currentNamespace),T=g.firstCreatePass?function(s,o,u,l,d,g,_){const w=o.consts,T=Xs(o,s,2,d,ts(w,g));return Lh(o,u,T,ts(w,_)),null!==T.attrs&&kg(T,T.attrs,!1),null!==T.mergedAttrs&&kg(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,g,d,0,o,u,l):g.data[_];ns(T,!0);const A=T.mergedAttrs;null!==A&&Da(w,b,A);const N=T.classes;null!==N&&_g(w,b,N);const M=T.styles;null!==M&&yC(w,b,M),64!=(64&T.flags)&&xh(g,d,b,T),0===gt.lFrame.elementDepthCount&&un(b,d),gt.lFrame.elementDepthCount++,Zc(T)&&(Dg(g,d,T),function(s,o,u){if(Yd(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}}(g,T,d)),null!==l&&jy(d,T)}function cc(){let s=Pn();Ru()?gt.lFrame.isParent=!1:(s=s.parent,ns(s,!1));const o=s;gt.lFrame.elementDepthCount--;const u=Ft();u.firstCreatePass&&(Ca(u,s),Yd(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Yh(u,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Yh(u,o,Ae(),o.stylesWithoutHost,!1)}function xv(s,o,u,l){Sv(s,o,u,l),cc()}function lc(){return Ae()}function Rv(s){return!!s&&"function"==typeof s.then}function Fb(s){return!!s&&"function"==typeof s.subscribe}const $o=Fb;function Yg(s,o,u,l){const d=Ae(),g=Ft(),_=Pn();return function(s,o,u,l,d,g,_,w){const b=Zc(l),A=s.firstCreatePass&&WC(s),N=o[8],M=Og(o);let U=!0;if(3&l.type||w){const ee=Mi(l,o),Me=w?w(ee):ee,le=M.length,Xe=w?lt=>w(vn(lt[l.index])):l.index;if(yn(u)){let lt=null;if(!w&&b&&(lt=function(s,o,u,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===u&&d[g+1]===l){const w=o[7],b=d[g+2];return w.length>b?w[b]:null}"string"==typeof _&&(g+=2)}return null}(s,o,d,l.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=g,lt.__ngLastListenerFn__=g,U=!1;else{g=Pr(l,o,N,g,!1);const Bt=u.listen(Me,d,g);M.push(g,Bt),A&&A.push(d,Xe,le,le+1)}}else g=Pr(l,o,N,g,!0),Me.addEventListener(d,g,_),M.push(g),A&&A.push(d,Xe,le,_)}else g=Pr(l,o,N,g,!1);const Z=l.outputs;let ce;if(U&&null!==Z&&(ce=Z[d])){const ee=ce.length;if(ee)for(let Me=0;Me<ee;Me+=2){const hr=o[ce[Me]][ce[Me+1]].subscribe(g),ys=M.length;M.push(g,hr),A&&A.push(d,l.index,ys,-(ys+1))}}}(g,d,d[11],_,s,o,!!u,l),Yg}function Nv(s,o,u,l){try{return!1!==u(l)}catch(d){return Jy(s,d),!1}}function Pr(s,o,u,l,d){return function g(_){if(_===Function)return l;const w=2&s.flags?pr(s.index,o):o;0==(32&o[2])&&Ky(w);let b=Nv(o,0,l,_),T=g.__ngNextListenerFn__;for(;T;)b=Nv(o,0,T,_)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function Mv(s=1){return function(s){return(gt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function ef(s,o,u){return Jg(s,"",o,"",u),ef}function Jg(s,o,u,l,d){const g=Ae(),_=ic(g,o,u,l);return _!==yt&&Wr(Ft(),en(),g,s,_,g[11],d,!1),Jg}function rm(s,o,u,l,d){const g=s[u+1],_=null===o;let w=l?ar(g):zr(g),b=!1;for(;0!==w&&(!1===b||_);){const A=s[w+1];Ub(s[w],o)&&(b=!0,s[w+1]=l?wg(A):yr(A)),w=l?ar(A):zr(A)}b&&(s[u+1]=l?yr(g):wg(g))}function Ub(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Gr(s,o)>=0}function Go(s,o){return function(s,o,u,l){const d=Ae(),g=Ft(),_=function(s){const o=gt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);g.firstUpdatePass&&function(s,o,u,l){const d=s.data;if(null===d[u+1]){const g=d[Hr()],_=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(g,l)&&null===o&&!_&&(o=!1),o=function(s,o,u,l){const d=function(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=af(u=am(null,s,o,u,l),o.attrs,l),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(u=am(d,s,o,u,l),null===g){let b=function(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==zr(l))return s[ar(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=am(null,s,o,b[1],l),b=af(b,o.attrs,l),function(s,o,u,l){s[ar(u?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else g=function(s,o,u){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=af(l,s[g].hostAttrs,u);return af(l,o.attrs,u)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),u}(d,g,o,l),function(s,o,u,l,d,g){let _=g?o.classBindings:o.styleBindings,w=ar(_),b=zr(_);s[l]=u;let A,T=!1;if(Array.isArray(u)){const N=u;A=N[1],(null===A||Gr(N,A)>0)&&(T=!0)}else A=u;if(d)if(0!==b){const M=ar(s[w+1]);s[l+1]=vg(M,w),0!==M&&(s[M+1]=Py(s[M+1],l)),s[w+1]=function(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=vg(w,0),0!==w&&(s[w+1]=Py(s[w+1],l)),w=l;else s[l+1]=vg(b,0),0===w?w=l:s[b+1]=Py(s[b+1],l),b=l;T&&(s[l+1]=yr(s[l+1])),rm(s,A,l,!0),rm(s,A,l,!1),function(s,o,u,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Gr(g,o)>=0&&(u[l+1]=wg(u[l+1]))}(o,A,s,l,g),_=vg(w,b),g?o.classBindings=_:o.styleBindings=_}(d,g,o,u,_,l)}}(g,s,_,l),o!==yt&&Qt(d,_,o)&&function(s,o,u,l,d,g,_,w){if(!(3&o.type))return;const b=s.data,T=b[w+1];uf(function(s){return 1==(1&s)}(T)?qo(b,o,u,d,zr(T),_):void 0)||(uf(g)||function(s){return 2==(2&s)}(T)&&(g=qo(b,null,u,d,w,_)),function(s,o,u,l,d){const g=yn(s);if(o)d?g?s.addClass(u,l):u.classList.add(l):g?s.removeClass(u,l):u.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:Ks.DashCase;if(null==d)g?s.removeStyle(u,l,_):u.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),_|=Ks.Important),g?s.setStyle(u,l,d,_):u.style.setProperty(l,d,w?"important":"")}}}(l,_,fa(Hr(),u),d,g))}(g,g.data[Hr()],d,d[11],s,d[_+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=K(x(s)))),s}(o,u),l,_)}(s,o,null,!0),Go}function am(s,o,u,l,d){let g=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(g=o[w],l=af(l,g.hostAttrs,d),g!==s);)w++;return null!==s&&(u.directiveStylingLast=w),l}function af(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Mr(s,_,!!u||o[++g]))}return void 0===s?null:s}function qo(s,o,u,l,d,g){const _=null===o;let w;for(;d>0;){const b=s[d],T=Array.isArray(b),A=T?b[1]:b,N=null===A;let M=u[d+1];M===yt&&(M=N?Ue:void 0);let U=N?Vu(M,l):A===l?M:void 0;if(T&&!uf(U)&&(U=Vu(b,l)),uf(U)&&(w=U,_))return w;const Z=s[d+1];d=_?ar(Z):zr(Z)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(w=Vu(b,l))}return w}function uf(s){return void 0!==s}function hc(s,o=""){const u=Ae(),l=Ft(),d=s+20,g=l.firstCreatePass?Xs(l,d,1,o,null):l.data[d],_=u[d]=function(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}(u[11],o);xh(l,u,_,g),ns(g,!1)}function jv(s){return um("",s,""),jv}function um(s,o,u){const l=Ae(),d=ic(l,s,o,u);return d!==yt&&eo(l,Hr(),d),um}function fc(s,o,u){const l=Ae();return Qt(l,wa(),o)&&Wr(Ft(),en(),l,s,o,l[11],u,!0),fc}const Zo=void 0;var Wb=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Ka={};function n0(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=r0(o);if(u)return u;const l=o.split("-")[0];if(u=r0(l),u)return u;if("en"===l)return Wb;throw new Error(`Missing locale data for the locale "${s}".`)}function Jl(s){return n0(s)[it.PluralCase]}function r0(s){return s in Ka||(Ka[s]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[s]),Ka[s]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const ff="en-US";let o0=ff;function Xl(s){pt(s,"Expected localeId to be defined"),"string"==typeof s&&(o0=s.toLowerCase().replace(/_/g,"-"))}function y0(s,o,u,l,d){if(s=te(s),Array.isArray(s))for(let g=0;g<s.length;g++)y0(s[g],o,u,l,d);else{const g=Ft(),_=Ae();let w=nc(s)?s:te(s.provide),b=nb(s);const T=Pn(),A=1048575&T.providerIndexes,N=T.directiveStart,M=T.providerIndexes>>20;if(nc(s)||!s.multi){const U=new sl(b,d,Wh),Z=v0(w,o,d?A:A+M,N);-1===Z?(Rr(Aa(T,_),g,w),Dm(g,s,o.length),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(U),_.push(U)):(u[Z]=U,_[Z]=U)}else{const U=v0(w,o,A+M,N),Z=v0(w,o,A,A+M),ce=U>=0&&u[U],ee=Z>=0&&u[Z];if(d&&!ee||!d&&!ce){Rr(Aa(T,_),g,w);const Me=function(s,o,u,l,d){const g=new sl(s,u,Wh);return g.multi=[],g.index=o,g.componentProviders=0,sd(g,d,l&&!u),g}(d?Am:Tm,u.length,d,l,b);!d&&ee&&(u[Z].providerFactory=Me),Dm(g,s,o.length,0),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Me),_.push(Me)}else Dm(g,s,U>-1?U:Z,sd(u[d?Z:U],b,!d&&l));!d&&l&&ee&&u[Z].componentProviders++}}}function Dm(s,o,u,l){const d=nc(o);if(d||function(s){return!!s.useClass}(o)){const _=(o.useClass||o).prototype.ngOnDestroy;if(_){const w=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const b=w.indexOf(u);-1===b?w.push(u,[l,_]):w[b+1].push(l,_)}else w.push(u,_)}}}function sd(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function v0(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function Tm(s,o,u,l){return kr(this.multi,[])}function Am(s,o,u,l){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=xa(u,u[1],this.providerFactory.index,l);g=w.slice(0,_),kr(d,g);for(let b=_;b<w.length;b++)g.push(w[b])}else g=[],kr(d,g);return g}function kr(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function cI(s,o=[]){return u=>{u.providersResolver=(l,d)=>function(s,o,u){const l=Ft();if(l.firstCreatePass){const d=ri(s);y0(u,l.data,l.blueprint,d,!0),y0(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class lI{}const dI="ngComponent";class jS{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${K(s)}. Did you add it to @NgModule.entryComponents?`);return o[dI]=s,o}(o)}}let od=(()=>{class s{}return s.NULL=new jS,s})();function Wo(...s){}function _c(s,o){return new ui(Mi(s,o))}const fI=function(){return _c(Pn(),Ae())};let ui=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=fI,s})();function Ef(s){return s instanceof ui?s.nativeElement:s}class ud{}let C0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>ds(),s})();const ds=function(){const s=Ae(),u=pr(Pn().index,s);return function(s){return s[11]}(or(u)?u:s)};let xm=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class Rm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const yc=new Rm("12.2.7");class I0{constructor(){}supports(o){return jo(o)}create(o){return new gI(o)}}const $S=(s,o)=>o;class gI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$S}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,g=null;for(;u||l;){const _=!l||u&&u.currentIndex<yI(l,d,g)?u:l,w=yI(_,d,g),b=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(u=u._next,null==_.previousIndex)d++;else{g||(g=[]);const T=w-d,A=b-d;if(T!=A){for(let M=0;M<T;M++){const U=M<g.length?g[M]:g[M]=0,Z=U+M;A<=Z&&Z<T&&(g[M]=U+1)}g[_.previousIndex]=A-T}}w!==b&&o(_,w,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!jo(o))throw new Error(`Error trying to diff '${K(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],_=this._trackByFn(w,g),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,g,_,w)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,_,w),l=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[ht()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(d,w),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,w,_,d)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,d)):o=this._addAfter(new mI(u,l),g,d),o}_verifyReinsertion(o,u,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new _I),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _I),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class mI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nm{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class _I{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new Nm,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yI(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class D0{constructor(){}supports(o){return o instanceof Map||cv(o)}create(){return new cd}}class cd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||cv(o)))throw new Error(`Error trying to diff '${K(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const l=new vc(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class vc{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T0(){return new oo([new I0])}let oo=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||T0()),deps:[[s,new qs,new as]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:T0}),s})();function wc(){return new If([new D0])}let If=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||wc()),deps:[[s,new qs,new as]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:wc}),s})();function Df(s,o,u,l,d=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&l.push(vn(g)),_n(g))for(let w=10;w<g.length;w++){const b=g[w],T=b[1].firstChild;null!==T&&Df(b[1],b,T,l)}const _=u.type;if(8&_)Df(s,o,u.child,l);else if(32&_){const w=_y(u,o);let b;for(;b=w();)l.push(b)}else if(16&_){const w=uA(o,u);if(Array.isArray(w))l.push(...w);else{const b=Il(o[16]);Df(b[1],b,w,l,!0)}}u=d?u.projectionNext:u.next}return l}class Ko{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Df(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(_n(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(Iy(o,l),Io(u,l))}this._attachedToViewContainer=!1}gC(this._lView[1],this._lView)}onDestroy(o){$y(this._lView[1],this._lView,null,o)}markForCheck(){Ky(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ng(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){va(!0);try{Ng(s,o,u)}finally{va(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Rh(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class qS extends Ko{constructor(o){super(o),this._view=o}detectChanges(){Mg(this._view)}checkNoChanges(){!function(s){va(!0);try{Mg(s)}finally{va(!1)}}(this._view)}get context(){return null}}const Mm=function(s){return function(s,o,u){if(ni(s)&&!u){const l=pr(s.index,o);return new Ko(l,l)}return 47&s.type?new Ko(o[16],o):null}(Pn(),Ae(),16==(16&s))};let Om=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mm,s})();const WS=[new D0],EI=new oo([new I0]),Tf=new If(WS),CI=function(){return Nn(Pn(),Ae())};let ld=(()=>{class s{}return s.__NG_ELEMENT_ID__=CI,s})();const Af=ld,S0=class extends Af{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o){const u=this._declarationTContainer.tViews,l=Ba(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(u)),Oh(u,l,o),new Ko(l)}};function Nn(s,o){return 4&s.type?new S0(o,s,_c(s,o)):null}class Pt{}class x0{}const Pm=function(){return km(Pn(),Ae())};let er=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pm,s})();const II=er,DI=class extends II{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const o=Sa(this._hostTNode,this._hostLView);if(kp(o)){const u=Fs(o,this._hostLView),l=Ta(o);return new Es(u[1].data[l+8],u)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Gi(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){const d=o.createEmbeddedView(u||{});return this.insert(d,l),d}createComponent(o,u,l,d,g){const _=l||this.parentInjector;if(!g&&null==o.ngModule&&_){const b=_.get(Pt,null);b&&(g=b)}const w=o.create(_,d,void 0,g);return this.insert(w.hostView,u),w}insert(o,u){const l=o._lView,d=l[1];if(_n(l[3])){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const N=l[3],M=new DI(N,N[6],N[3]);M.detach(M.indexOf(o))}}const g=this._adjustIndex(u),_=this._lContainer;!function(s,o,u,l){const d=10+l,g=u.length;l>0&&(u[d-1][4]=o),l<g-10?(o[4]=u[d],Pa(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,l,_,g);const w=Po(g,_),b=l[11],T=mg(b,_[7]);return null!==T&&function(s,o,u,l,d,g){l[0]=d,l[6]=o,Rh(s,l,u,1,d,g)}(d,_[6],b,l,T,w),o.attachToViewContainerRef(),Pa(R0(_),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Gi(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=Iy(this._lContainer,u);l&&(Io(R0(this._lContainer),u),gC(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=Iy(this._lContainer,u);return l&&null!=Io(R0(this._lContainer),u)?new Ko(l):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function Gi(s){return s[8]}function R0(s){return s[8]||(s[8]=[])}function km(s,o){let u;const l=o[s.index];if(_n(l))u=l;else{let d;if(8&s.type)d=vn(l);else{const g=o[11];d=g.createComment("");const _=Mi(s,o);Ys(g,mg(g,_),d,function(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(g,_),!1)}o[s.index]=u=Wy(l,o,d,s),Vh(o,u)}return new DI(u,s,o)}const Wi={};class Xo extends od{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=An(o);return new qI(u,this.ngModule)}}function ou(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const GI=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>cC});class qI extends lI{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(ec).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return ou(this.componentDef.inputs)}get outputs(){return ou(this.componentDef.outputs)}create(o,u,l,d){const g=(d=d||this.ngModule)?function(s,o){return{get:(u,l,d)=>{const g=s.get(u,Wi,d);return g!==Wi||l===Wi?g:o.get(u,l,d)}}}(o,d.injector):o,_=g.get(ud,Du),w=g.get(xm,null),b=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=l?function(s,o,u){if(yn(s))return s.selectRootElement(o,u===on.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(b,l,this.componentDef.encapsulation):Cy(_.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?Yc:"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,M=function(s,o){return{components:[],scheduler:s||cC,clean:LA,playerHandler:o||null,flags:0}}(),U=Tg(0,null,null,1,0,null,null,null,null,null),Z=Ba(null,U,M,N,null,null,_,b,w,g);let ce,ee;Mu(Z);try{const Me=function(s,o,u,l,d,g){const _=u[1];u[20]=s;const b=Xs(_,20,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(kg(b,T,!0),null!==s&&(Da(d,s,T),null!==b.classes&&_g(d,s,b.classes),null!==b.styles&&yC(d,s,b.styles)));const A=l.createRenderer(s,o),N=Ba(u,Hy(o),null,o.onPush?64:16,u[20],b,l,A,g||null,null);return _.firstCreatePass&&(Rr(Aa(b,u),_,o.type),Ol(_,b),NA(b,u.length,1)),Vh(u,N),u[20]=N}(A,this.componentDef,Z,_,b);if(A)if(l)Da(b,A,["ng-version",yc.full]);else{const{attrs:le,classes:Xe}=function(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&u.push(g);else{if(!Ds(d))break;d=g}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);le&&Da(b,A,le),Xe&&Xe.length>0&&_g(b,A,Xe.join(" "))}if(ee=pa(U,20),void 0!==u){const le=ee.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const lt=u[Xe];le.push(null!=lt?Array.from(lt):null)}}ce=function(s,o,u,l,d){const g=u[1],_=function(s,o,u){const l=Pn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),MA(s,l,o,Lo(s,o,1,null),u));const d=xa(o,s,l.directiveStart,l);un(d,o);const g=Mi(l,o);return g&&un(g,o),d}(g,u,o);if(l.components.push(_),s[8]=_,d&&d.forEach(b=>b(_,o)),o.contentQueries){const b=Pn();o.contentQueries(1,_,b.directiveStart)}const w=Pn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(is(w.index),Ag(u[1],w,0,w.directiveStart,w.directiveEnd,o),HC(o,_)),_}(Me,this.componentDef,Z,M,[nS]),Oh(U,Z,null)}finally{Np()}return new Gm(this.componentType,ce,_c(ee,Z),Z,ee)}}class Gm extends class{}{constructor(o,u,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new qS(d),this.componentType=o}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Ac=new Map;class h1 extends Pt{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xo(this);const l=Ur(o),d=o[Nt]||null;d&&Xl(d),this._bootstrapComponents=Ws(l.bootstrap),this._r3Injector=Xy(o,u,[{provide:Pt,useValue:this},{provide:od,useValue:this.componentFactoryResolver}],K(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=xn.THROW_IF_NOT_FOUND,l=xe.Default){return o===xn||o===Pt||o===kl?this:this._r3Injector.get(o,u,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class qm extends x0{constructor(o){super(),this.moduleType=o,null!==Ur(o)&&function(s){const o=new Set;!function u(l){const d=Ur(l,!0),g=d.id;null!==g&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${K(o)} vs ${K(o.name)}`)}(g,Ac.get(g),l),Ac.set(g,l));const _=Ws(d.imports);for(const w of _)o.has(w)||(o.add(w),u(w))}(s)}(o)}create(o){return new h1(this.moduleType,o)}}function iw(s){return o=>{setTimeout(s,void 0,o)}}const ps=class extends h.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){var d,g,_;let w=o,b=u||(()=>null),T=l;if(o&&"object"==typeof o){const N=o;w=null===(d=N.next)||void 0===d?void 0:d.bind(N),b=null===(g=N.error)||void 0===g?void 0:g.bind(N),T=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(b=iw(b),w&&(w=iw(w)),T&&(T=iw(T)));const A=super.subscribe({next:w,error:b,complete:T});return o instanceof B.w&&o.add(A),A}};function m1(){return this._results[ht()]()}class Rd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ht(),l=Rd.prototype;l[u]||(l[u]=m1)}get changes(){return this._changes||(this._changes=new ps)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=$r(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(u&&(d=u(d),g=u(g)),g!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ow{constructor(o){this.queryList=o,this.matches=null}clone(){return new ow(this.queryList)}setDirty(){this.queryList.setDirty()}}class aw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let g=0;g<l;g++){const _=u.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new aw(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==sD(o,u).matches&&this.queries[u].setDirty()}}class eD{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class uw{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==u?u.push(g):u=[g])}return null!==u?new uw(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class cw{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new cw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,u,y1(u,g)),this.matchTNodeWithReadOption(o,u,Fu(u,o,g,!1,!1))}else l===ld?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Fu(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ui||d===er||d===ld&&4&u.type)this.addMatch(u.index,-2);else{const g=Fu(u,o,d,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function y1(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function tD(s,o,u,l){return-1===u?function(s,o){return 11&s.type?_c(s,o):4&s.type?Nn(s,o):null}(o,s):-2===u?function(s,o,u){return u===ui?_c(o,s):u===ld?Nn(o,s):u===er?km(o,s):void 0}(s,o,l):xa(s,s[1],u,o)}function Km(s,o,u,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,_=u.matches,w=[];for(let b=0;b<_.length;b+=2){const T=_[b];w.push(T<0?null:tD(o,g[T],_[b+1],u.metadata.read))}d.matches=w}return d.matches}function Nd(s,o,u,l){const d=s.queries.getByIndex(u),g=d.matches;if(null!==g){const _=Km(s,o,d,u);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)l.push(_[w/2]);else{const T=g[w+1],A=o[-b];for(let N=10;N<A.length;N++){const M=A[N];M[17]===M[3]&&Nd(M[1],M,T,l)}if(null!==A[9]){const N=A[9];for(let M=0;M<N.length;M++){const U=N[M];Nd(U[1],U,T,l)}}}}}return l}function Md(s){const o=Ae(),u=Ft(),l=ah();Sp(l+1);const d=sD(u,l);if(s.dirty&&Xc(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?Nd(u,o,l,[]):Km(u,o,d,l);s.reset(g,Ef),s.notifyOnChanges()}return!0}return!1}function Vf(s,o,u){const l=Ft();l.firstCreatePass&&(rD(l,new eD(s,o,u),-1),2==(2&o)&&(l.staticViewQueries=!0)),hw(l,Ae(),o)}function Ym(s,o,u,l){const d=Ft();if(d.firstCreatePass){const g=Pn();rD(d,new eD(o,u,l),g.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}hw(d,Ae(),u)}function Qm(){return s=Ae(),o=ah(),s[19].queries[o].queryList;var s,o}function hw(s,o,u){const l=new Rd(4==(4&u));$y(s,o,l,l.destroy),null===o[19]&&(o[19]=new aw),o[19].queries.push(new ow(l))}function rD(s,o,u){null===s.queries&&(s.queries=new uw),s.queries.track(new cw(o,u))}function sD(s,o){return s.queries.getByIndex(o)}const Qf=new pn("Application Initializer");let Pd=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Wo,this.reject=Wo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Rv(g))u.push(g);else if($o(g)){const _=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});u.push(_)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(bn(Qf,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const s_=new pn("AppId"),Tw={provide:s_,useFactory:function(){return`${o_()}${o_()}${o_()}`},deps:[]};function o_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DD=new pn("Platform Initializer"),a_=new pn("Platform ID"),TD=new pn("appBootstrapListener");let SD=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const kd=new pn("LocaleId"),xD=new pn("DefaultCurrencyCode");class k1{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const Jf=function(s){return new qm(s)},F1=Jf,L1=function(s){return Promise.resolve(Jf(s))},FD=function(s){const o=Jf(s),l=Ws(Ur(s).declarations).reduce((d,g)=>{const _=An(g);return _&&d.push(new qI(_)),d},[]);return new k1(o,l)},Aw=FD,V1=function(s){return Promise.resolve(FD(s))};let Rc=(()=>{class s{constructor(){this.compileModuleSync=F1,this.compileModuleAsync=L1,this.compileModuleAndAllComponentsSync=Aw,this.compileModuleAndAllComponentsAsync=V1}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const UD=(()=>Promise.resolve(0))();function xw(s){"undefined"==typeof Zone?UD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class li{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=j.requestAnimationFrame,o=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(j,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Mw(s),s.isCheckStableRunning=!0,Xf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Mw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,g,_,w)=>{try{return Ow(s),u.invokeTask(d,g,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Pw(s)}},onInvoke:(u,l,d,g,_,w,b)=>{try{return Ow(s),u.invoke(d,g,_,w,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),Pw(s)}},onHasTask:(u,l,d,g)=>{u.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Mw(s),Xf(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,l,d,g)=>(u.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!li.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(li.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,B1,Wo,Wo);try{return g.runTask(_,u,l)}finally{g.cancelTask(_)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const B1={};function Xf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Mw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ow(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Pw(s){s._nesting--,Xf(s)}class j1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}let u_=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{li.assertNotInAngularZone(),xw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xw(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(bn(li))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),kw=(()=>{class s{constructor(){this._applications=new Map,Fw.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return Fw.findTestabilityInTree(this,u,l)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();class c_{addToWindow(o){}findTestabilityInTree(o,u,l){return null}}function H1(s){Fw=s}let Fw=new c_,BD=!0,jD=!1;function l_(){return jD=!0,BD}function Lw(){if(jD)throw new Error("Cannot enable prod mode after platform setup.");BD=!1}let gs;const Nc=new pn("AllowMultipleToken");class Gw{constructor(o,u){this.name=o,this.token=u}}function GD(s,o,u=[]){const l=`Platform: ${o}`,d=new pn(l);return(g=[])=>{let _=qD();if(!_||_.injector.get(Nc,!1))if(s)s(u.concat(g).concat({provide:d,useValue:!0}));else{const w=u.concat(g).concat({provide:d,useValue:!0},{provide:Fl,useValue:"platform"});!function(s){if(gs&&!gs.destroyed&&!gs.injector.get(Nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gs=s.get(qw);const o=s.get(DD,null);o&&o.forEach(u=>u())}(xn.create({providers:w,name:l}))}return function(s){const o=qD();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function qD(){return gs&&!gs.destroyed?gs:null}let qw=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const w=function(s,o){let u;return u="noop"===s?new j1:("zone.js"===s?void 0:s)||new li({enableLongStackTrace:l_(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:li,useValue:w}];return w.run(()=>{const T=xn.create({providers:b,parent:this.injector,name:u.moduleType.name}),A=u.create(T),N=A.injector.get(Cl,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const M=w.onError.subscribe({next:U=>{N.handleError(U)}});A.onDestroy(()=>{Zw(this._modules,A),M.unsubscribe()})}),function(s,o,u){try{const l=u();return Rv(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(N,w,()=>{const M=A.injector.get(Pd);return M.runInitializers(),M.donePromise.then(()=>(Xl(A.injector.get(kd,ff)||ff),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,l=[]){const d=ZD({},l);return function(s,o,u){const l=new qm(u);return Promise.resolve(l)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(u){const l=u.injector.get(ep);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${K(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(bn(xn))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function ZD(s,o){return Array.isArray(o)?o.reduce(ZD,s):Object.assign(Object.assign({},s),o)}let ep=(()=>{class s{constructor(u,l,d,g,_){this._zone=u,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new V.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new V.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{li.assertNotInAngularZone(),xw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{li.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,fe.T)(w,b.pipe(s=>(0,de.x)()(function(s,o){return function(l){let d;d="function"==typeof s?s:function(){return s};const g=Object.create(l,ve.N);return g.source=l,g.subjectFactory=d,g}}(Y)(s))))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof lI?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const g=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Pt),w=d.create(xn.NULL,[],l||d.selector,g),b=w.location.nativeElement,T=w.injector.get(u_,null),A=T&&w.injector.get(kw);return T&&A&&A.registerApplication(b,T),w.onDestroy(()=>{this.detachView(w.hostView),Zw(this.components,w),A&&A.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Zw(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(TD,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(bn(li),bn(xn),bn(Cl),bn(od),bn(Pd))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function Zw(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class zw{}class KD{}const np={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let J1=(()=>{class s{constructor(u,l){this._compiler=u,this._config=l||np}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,d]=u.split("#");return void 0===d&&(d="default"),F(8255)(l).then(g=>g[d]).then(g=>mn(g,l,d)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(u){let[l,d]=u.split("#"),g="NgFactory";return void 0===d&&(d="default",g=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(_=>_[d+g]).then(_=>mn(_,l,d))}}return s.\u0275fac=function(u){return new(u||s)(bn(Rc),bn(KD,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function mn(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const sx=function(s){return null},ax=GD(null,"core",[{provide:a_,useValue:"unknown"},{provide:qw,deps:[xn]},{provide:kw,deps:[]},{provide:SD,deps:[]}]),Oc=[{provide:ep,useClass:ep,deps:[li,xn,Cl,od,Pd]},{provide:GI,deps:[li],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Pd,useClass:Pd,deps:[[new as,Qf]]},{provide:Rc,useClass:Rc,deps:[]},Tw,{provide:oo,useFactory:function(){return EI},deps:[]},{provide:If,useFactory:function(){return Tf},deps:[]},{provide:kd,useFactory:function(s){return Xl(s=s||"undefined"!=typeof $localize&&$localize.locale||ff),s},deps:[[new bs(kd),new as,new qs]]},{provide:xD,useValue:"USD"}];let ip=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(bn(ep))},s.\u0275mod=Cn({type:s}),s.\u0275inj=Xr({providers:Oc}),s})()},8939:(Qe,De,F)=>{"use strict";F.d(De,{hO:()=>K,xv:()=>Y,Dh:()=>de,GT:()=>ue,on:()=>k,pX:()=>ve});var h=F(3018),B=F(7841),V=F(9126);Qe=F.hmd(Qe);const fe=["ngOnDestroy"],ve=(J,me,ie,te={})=>new Proxy(J,{get:(Le,Pe)=>ie.runOutsideAngular(()=>{var Te;if(J[Pe])return(null===(Te=null==te?void 0:te.spy)||void 0===Te?void 0:Te.get)&&te.spy.get(Pe,J[Pe]),J[Pe];if(fe.indexOf(Pe)>-1)return()=>{};const Ge=me.toPromise().then(Ye=>{const Ve=Ye&&Ye[Pe];return"function"==typeof Ve?Ve.bind(Ye):Ve&&Ve.then?Ve.then(bt=>ie.run(()=>bt)):ie.run(()=>Ve)});return new Proxy(()=>{},{get:(Ye,Ve)=>Ge[Ve],apply:(Ye,Ve,bt)=>Ge.then(Ce=>{var Ht;const oe=Ce&&Ce(...bt);return(null===(Ht=null==te?void 0:te.spy)||void 0===Ht?void 0:Ht.apply)&&te.spy.apply(Pe,bt,oe),oe})})})}),ue=(J,me)=>{me.forEach(ie=>{Object.getOwnPropertyNames(ie.prototype||ie).forEach(te=>{Object.defineProperty(J.prototype,te,Object.getOwnPropertyDescriptor(ie.prototype||ie,te))})})};class be{constructor(me){return me}}const de=new h.OlP("angularfire2.app.options"),Y=new h.OlP("angularfire2.app.name");function k(J,me,ie){const Le="object"==typeof ie&&ie||{};Le.name=Le.name||"string"==typeof ie&&ie||"[DEFAULT]";const Te=B.Z.apps.filter(Ge=>Ge&&Ge.name===Le.name)[0]||me.runOutsideAngular(()=>B.Z.initializeApp(J,Le));try{JSON.stringify(J)!==JSON.stringify(Te.options)&&L("error",`${Te.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new be(Te)}const L=(J,...me)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[J](...me)},X={provide:be,useFactory:k,deps:[de,h.R0b,[new h.FiY,Y]]};let K=(()=>{class J{constructor(ie){B.Z.registerVersion("angularfire",V.q4.full,"core"),B.Z.registerVersion("angularfire",V.q4.full,"app-compat"),B.Z.registerVersion("angular",h.q4F.full,ie.toString())}static initializeApp(ie,te){return{ngModule:J,providers:[{provide:de,useValue:ie},{provide:Y,useValue:te}]}}}return J.\u0275fac=function(ie){return new(ie||J)(h.LFG(h.Lbi))},J.\u0275mod=h.oAB({type:J}),J.\u0275inj=h.cJS({providers:[X]}),J})()},9126:(Qe,De,F)=>{"use strict";F.d(De,{q4:()=>k,iC:()=>oe,fc:()=>Ce,HU:()=>Ge,cc:()=>K});var h=F(3018);(0,F(5452).registerVersion)("firebase","9.1.1","app");var ve=F(7771),ue=F(3637),be=F(3342),de=F(309),Y=F(3101);Qe=F.hmd(Qe);const k=new h.GfV("7.0.4"),L=!!Qe.hot,X=(he,...Q)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[he](...Q)};function K(he,Q,Oe,Je,Tt){const[,nt,ut]=globalThis.\u0275AngularfireInstanceCache.find(cn=>cn[0]===he)||[];if(nt)return function(he,Q){try{return he.toString()===Q.toString()}catch(Oe){return he===Q}}(Tt,ut)||(X("error",`${Q} was already initialized on the ${Oe} Firebase App with different settings.${L?" You may need to reload as Firebase is not HMR aware.":""}`),X("warn",{is:Tt,was:ut})),nt;{const cn=Je();return globalThis.\u0275AngularfireInstanceCache.push([he,cn,Tt]),cn}}function Le(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Pe{constructor(Q,Oe=ve.N){this.zone=Q,this.delegate=Oe}now(){return this.delegate.now()}schedule(Q,Oe,Je){const Tt=this.zone;return this.delegate.schedule(function(ut){Tt.runGuarded(()=>{Q.apply(this,[ut])})},Oe,Je)}}class Te{constructor(Q){this.zone=Q,this.task=null}call(Q,Oe){const Je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le)),Oe.pipe((0,be.b)({next:Je,complete:Je,error:Je})).subscribe(Q).add(Je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ge=(()=>{class he{constructor(Oe){this.ngZone=Oe,this.outsideAngular=Oe.runOutsideAngular(()=>new Pe(Zone.current)),this.insideAngular=Oe.run(()=>new Pe(Zone.current,ue.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return he.\u0275fac=function(Oe){return new(Oe||he)(h.LFG(h.R0b))},he.\u0275prov=h.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Ye(){const he=globalThis.\u0275AngularFireScheduler;if(!he)throw new Error("AngularFireModule has not been provided");return he}function Ce(he){return he.pipe((0,de.QV)(Ye().outsideAngular))}function oe(he){return Ye(),function(he){return function(Oe){return(Oe=Oe.lift(new Te(he.ngZone))).pipe((0,Y.R)(he.outsideAngular),(0,de.QV)(he.insideAngular))}}(Ye())(he)}},4486:(Qe,De,F)=>{"use strict";F.d(De,{Z:()=>me});var h=F(3854),B=F(6034),V=F(5452),fe=F(5601);class ve{constructor(te,Le){this._delegate=te,this.firebase=Le,(0,V._addComponent)(te,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this._delegate.automaticDataCollectionEnabled=te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(te=>{this._delegate.checkDestroyed(),te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(te,Le=V._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(te);return!Te.isInitialized()&&"EXPLICIT"===(null===(Pe=Te.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:Le})}_removeServiceInstance(te,Le=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(te).clearInstance(Le)}_addComponent(te){(0,V._addComponent)(this._delegate,te)}_addOrOverwriteComponent(te){(0,V._addOrOverwriteComponent)(this._delegate,te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function Y(){const ie=function(ie){const te={},Le={__esModule:!0,initializeApp:function(Ce,Ht={}){const oe=V.initializeApp(Ce,Ht);if((0,h.r3)(te,oe.name))return te[oe.name];const _e=new ie(oe,Le);return te[oe.name]=_e,_e},app:Te,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function(Ce){const Ht=Ce.name,oe=Ht.replace("-compat","");if(V._registerComponent(Ce)&&"PUBLIC"===Ce.type){const _e=(ae=Te())=>{if("function"!=typeof ae[oe])throw be.create("invalid-app-argument",{appName:Ht});return ae[oe]()};void 0!==Ce.serviceProps&&(0,h.ZB)(_e,Ce.serviceProps),Le[oe]=_e,ie.prototype[oe]=function(...ae){return this._getService.bind(this,Ht).apply(this,Ce.multipleInstances?ae:[])}}return"PUBLIC"===Ce.type?Le[oe]:null},removeApp:function(Ce){delete te[Ce]},useAsService:function(Ce,Ht){return"serverAuth"===Ht?null:Ht},modularAPIs:V}};function Te(Ce){if(!(0,h.r3)(te,Ce=Ce||V._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Ce});return te[Ce]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function(){return Object.keys(te).map(Ce=>te[Ce])}}),Te.App=ie,Le}(ve);return ie.INTERNAL=Object.assign(Object.assign({},ie.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Le){(0,h.ZB)(ie,Le)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ie}(),L=new fe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ie=self.firebase.SDK_VERSION;ie&&ie.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const me=k;(0,V.registerVersion)("@firebase/app-compat","0.1.3",undefined)},5452:(Qe,De,F)=>{"use strict";F.r(De),F.d(De,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>lo,_DEFAULT_ENTRY_NAME:()=>Tt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>gi,_apps:()=>ut,_clearComponents:()=>Mn,_components:()=>cn,_getProvider:()=>pt,_registerComponent:()=>Vr,_removeServiceInstance:()=>st,deleteApp:()=>Rs,getApp:()=>nr,getApps:()=>ei,initializeApp:()=>Xr,onLog:()=>Vt,registerVersion:()=>Ji,setLogLevel:()=>rr});var h=F(8239),B=F(6034),V=F(5601),fe=F(3854);class ve{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function(ot){const xe=ot.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(Zt)){const rn=Zt.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Zt=>Zt).join(" ")}}const be="@firebase/app",Y=new V.Yd("@firebase/app"),Tt="[DEFAULT]",nt={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,cn=new Map;function ln(ot,xe){try{ot.container.addComponent(xe)}catch(Zt){Y.debug(`Component ${xe.name} failed to register with FirebaseApp ${ot.name}`,Zt)}}function gi(ot,xe){ot.container.addOrOverwriteComponent(xe)}function Vr(ot){const xe=ot.name;if(cn.has(xe))return Y.debug(`There were multiple attempts to register component ${xe}.`),!1;cn.set(xe,ot);for(const Zt of ut.values())ln(Zt,ot);return!0}function pt(ot,xe){return ot.container.getProvider(xe)}function st(ot,xe,Zt=Tt){pt(ot,xe).clearInstance(Zt)}function Mn(){cn.clear()}const mi=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Yt{constructor(xe,Zt,rn){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const lo="9.1.1";function Xr(ot,xe={}){"object"!=typeof xe&&(xe={name:xe});const Zt=Object.assign({name:Tt,automaticDataCollectionEnabled:!1},xe),rn=Zt.name;if("string"!=typeof rn||!rn)throw mi.create("bad-app-name",{appName:String(rn)});const sn=ut.get(rn);if(sn){if((0,fe.vZ)(ot,sn.options)&&(0,fe.vZ)(Zt,sn.config))return sn;throw mi.create("duplicate-app",{appName:rn})}const $t=new B.H0(rn);for(const Ze of cn.values())$t.addComponent(Ze);const ze=new Yt(ot,Zt,$t);return ut.set(rn,ze),ze}function nr(ot=Tt){const xe=ut.get(ot);if(!xe)throw mi.create("no-app",{appName:ot});return xe}function ei(){return Array.from(ut.values())}function Rs(ot){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(ot){const xe=ot.name;ut.has(xe)&&(ut.delete(xe),yield Promise.all(ot.container.getProviders().map(Zt=>Zt.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function Ji(ot,xe,Zt){var rn;let sn=null!==(rn=nt[ot])&&void 0!==rn?rn:ot;Zt&&(sn+=`-${Zt}`);const $t=sn.match(/\s|\//),ze=xe.match(/\s|\//);if($t||ze){const Ze=[`Unable to register library "${sn}" with version "${xe}":`];return $t&&Ze.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),$t&&ze&&Ze.push("and"),ze&&Ze.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void Y.warn(Ze.join(" "))}Vr(new B.wA(`${sn}-version`,()=>({library:sn,version:xe}),"VERSION"))}function Vt(ot,xe){if(null!==ot&&"function"!=typeof ot)throw mi.create("invalid-log-argument");(0,V.Am)(ot,xe)}function rr(ot){(0,V.Ub)(ot)}Vr(new B.wA("platform-logger",xe=>new ve(xe),"PRIVATE")),Ji(be,"0.7.2",undefined),Ji("fire-js","")},6031:(Qe,De,F)=>{"use strict";F.d(De,{$:()=>bp,A:()=>L,E:()=>He,G:()=>an,I:()=>ni,K:()=>qn,L:()=>Jd,M:()=>mp,N:()=>_p,P:()=>HE,Q:()=>yp,R:()=>PT,T:()=>Wc,V:()=>yo,W:()=>OE,X:()=>Du,Y:()=>vn,Z:()=>L_,_:()=>pa,a:()=>Ia,a0:()=>Ip,a1:()=>gt,a2:()=>ma,a3:()=>ih,a4:()=>Su,a5:()=>Ae,a6:()=>Ft,a7:()=>Pn,a8:()=>Tp,a9:()=>ya,aA:()=>js,aB:()=>Gr,aC:()=>fr,aG:()=>_i,aJ:()=>da,aa:()=>PE,ab:()=>va,ae:()=>wa,af:()=>V_,ag:()=>Ap,aj:()=>F_,ak:()=>xp,am:()=>H_,an:()=>il,ao:()=>ir,ap:()=>oe,aq:()=>Tn,ar:()=>Mt,as:()=>Te,at:()=>fl,au:()=>qp,av:()=>Ge,aw:()=>Ce,ax:()=>ae,ay:()=>Nt,az:()=>ka,b:()=>Z_,c:()=>ey,d:()=>Io,e:()=>ki,f:()=>Gp,g:()=>gh,h:()=>ry,i:()=>hh,j:()=>Bu,k:()=>Yu,l:()=>al,m:()=>pl,n:()=>oy,o:()=>de,r:()=>BE,s:()=>X_,u:()=>jE,z:()=>J});var h=F(8239),B=F(3854),V=F(5452),fe=F(4762),ve=F(5601),ue=F(6034);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},L={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const J=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},me=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ie=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new ve.Yd("@firebase/auth");function Pe(C,...y){Le.logLevel<=ve.in.ERROR&&Le.error(`Auth (${V.SDK_VERSION}): ${C}`,...y)}function Te(C,...y){throw bt(C,...y)}function Ge(C,...y){return bt(C,...y)}function Ye(C,y,v){const I=Object.assign(Object.assign({},me()),{[y]:v});return new B.LL("auth","Firebase",I).create(y,{appName:C.name})}function Ve(C,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&Te(C,"argument-error"),Ye(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(C,...y){if("string"!=typeof C){const v=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(v,...I)}return ie.create(C,...y)}function Ce(C,y,...v){if(!C)throw bt(y,...v)}function Ht(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Pe(y),new Error(y)}function oe(C,y){C||Ht(y)}const _e=new Map;function ae(C){oe(C instanceof Function,"Expected a class definition");let y=_e.get(C);return y?(oe(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,_e.set(C,y),y)}function Q(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Oe(){return"http:"===Je()||"https:"===Je()}function Je(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ut{constructor(y,v){this.shortDelay=y,this.longDelay=v,oe(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Oe()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function cn(C,y){oe(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class ln{static initialize(y,v,I){this.fetchImpl=y,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vr=new ut(3e4,6e4);function pt(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function st(C,y,v,I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,h.Z)(function*(C,y,v,I,x={}){return xs(C,x,()=>{let P={},re={};I&&("GET"===y?re=I:P={body:JSON.stringify(I)});const Re=(0,B.xO)(Object.assign({key:C.config.apiKey},re)).slice(1),Ke=new(ln.headers());return Ke.set("Content-Type","application/json"),Ke.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Ke.set("X-Firebase-Locale",C.languageCode),ln.fetch()(Xr(C,C.config.apiHost,v,Re),Object.assign({method:y,headers:Ke,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function xs(C,y,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(C,y,v){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},gi),y);try{const x=new nr(C),P=yield Promise.race([v(),x.promise]);x.clearNetworkTimeout();const re=yield P.json();if("needConfirmation"in re)throw ei(C,"account-exists-with-different-credential",re);if(P.ok&&!("errorMessage"in re))return re;{const Re=P.ok?re.errorMessage:re.error.message,[Ke,ct]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw ei(C,"credential-already-in-use",re);if("EMAIL_EXISTS"===Ke)throw ei(C,"email-already-in-use",re);const Ct=I[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw Ye(C,Ct,ct);Te(C,Ct)}}catch(x){if(x instanceof B.ZR)throw x;Te(C,"network-request-failed")}})).apply(this,arguments)}function Yt(C,y,v,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(C,y,v,I,x={}){const P=yield st(C,y,v,I,x);return"mfaPendingCredential"in P&&Te(C,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Xr(C,y,v,I){const x=`${y}${v}?${I}`;return C.config.emulator?cn(C.config,x):`${C.config.apiScheme}://${x}`}class nr{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Ge(this.auth,"timeout")),Vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(C,y,v){const I={appName:C.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const x=Ge(C,y,I);return x.customData._tokenResponse=v,x}function Ai(){return(Ai=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Ji(C,y){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function rr(C,y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function ot(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function rn(){return(rn=(0,h.Z)(function*(C,y=!1){const v=(0,B.m9)(C),I=yield v.getIdToken(y),x=$t(I);Ce(x&&x.exp&&x.auth_time&&x.iat,v.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,re=null==P?void 0:P.sign_in_provider;return{claims:x,token:I,authTime:ot(sn(x.auth_time)),issuedAtTime:ot(sn(x.iat)),expirationTime:ot(sn(x.exp)),signInProvider:re||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function sn(C){return 1e3*Number(C)}function $t(C){const[y,v,I]=C.split(".");if(void 0===y||void 0===v||void 0===I)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,B.tV)(v);return x?JSON.parse(x):(Pe("Failed to decode base64 JWT payload"),null)}catch(x){return Pe("Caught error parsing JWT payload as JSON",x),null}}function Ze(C,y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(C,y,v=!1){if(v)return y;try{return yield y}catch(I){throw I instanceof B.ZR&&ho(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function ho({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Si{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,h.Z)(function*(){yield v.iteration()}),I)}iteration(){var y=this;return(0,h.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&y.schedule(!0))}y.schedule()})()}}class on{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ot(this.lastLoginAt),this.creationTime=ot(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zt(C){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(C){var y;const v=C.auth,I=yield C.getIdToken(),x=yield Ze(C,rr(v,{idToken:I}));Ce(null==x?void 0:x.users.length,v,"internal-error");const P=x.users[0];C._notifyReloadListener(P);const re=(null===(y=P.providerUserInfo)||void 0===y?void 0:y.length)?Ee(P.providerUserInfo):[],Re=j(C.providerData,re),Ct=!!C.isAnonymous&&!(C.email&&P.passwordHash||(null==Re?void 0:Re.length)),In={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Re,metadata:new on(P.createdAt,P.lastLoginAt),isAnonymous:Ct};Object.assign(C,In)})).apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(C){const y=(0,B.m9)(C);yield zt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function j(C,y){return[...C.filter(I=>!y.some(x=>x.providerId===I.providerId)),...y]}function Ee(C){return C.map(y=>{var{providerId:v}=y,I=(0,fe._T)(y,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function qe(){return(qe=(0,h.Z)(function*(C,y){const v=yield xs(C,{},()=>{const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:x,apiKey:P}=C.config,re=Xr(C,x,"/v1/token",`key=${P}`);return ln.fetch()(re,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ce(y.idToken,"internal-error"),Ce(void 0!==y.idToken,"internal-error"),Ce(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(C){const y=$t(C);return Ce(y,"internal-error"),Ce(void 0!==y.exp,"internal-error"),Ce(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var I=this;return(0,h.Z)(function*(){return Ce(!I.accessToken||I.refreshToken,y,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var I=this;return(0,h.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:re}=yield function(C,y){return qe.apply(this,arguments)}(y,v);I.updateTokensAndExpiration(x,P,Number(re))})()}updateTokensAndExpiration(y,v,I){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,v){const{refreshToken:I,accessToken:x,expirationTime:P}=v,re=new Ue;return I&&(Ce("string"==typeof I,"internal-error",{appName:y}),re.refreshToken=I),x&&(Ce("string"==typeof x,"internal-error",{appName:y}),re.accessToken=x),P&&(Ce("number"==typeof P,"internal-error",{appName:y}),re.expirationTime=P),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function kt(C,y){Ce("string"==typeof C||void 0===C,"internal-error",{appName:y})}class dn{constructor(y){var{uid:v,auth:I,stsTokenManager:x}=y,P=(0,fe._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new on(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,h.Z)(function*(){const I=yield Ze(v,v.stsTokenManager.getToken(v.auth,y));return Ce(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(y){return function(C){return rn.apply(this,arguments)}(this,y)}reload(){return function(C){return H.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ce(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new dn(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var I=this;return(0,h.Z)(function*(){let x=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),x=!0),v&&(yield zt(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,h.Z)(function*(){const v=yield y.getIdToken();return yield Ze(y,function(C,y){return Ai.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var I,x,P,re,Re,Ke,ct,Ct;const In=null!==(I=v.displayName)&&void 0!==I?I:void 0,Vi=null!==(x=v.email)&&void 0!==x?x:void 0,Ui=null!==(P=v.phoneNumber)&&void 0!==P?P:void 0,Ju=null!==(re=v.photoURL)&&void 0!==re?re:void 0,gl=null!==(Re=v.tenantId)&&void 0!==Re?Re:void 0,ml=null!==(Ke=v._redirectEventId)&&void 0!==Ke?Ke:void 0,Ch=null!==(ct=v.createdAt)&&void 0!==ct?ct:void 0,_l=null!==(Ct=v.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:No,emailVerified:La,isAnonymous:wi,providerData:Mo,stsTokenManager:bh}=v;Ce(No&&bh,y,"internal-error");const Jp=Ue.fromJSON(this.name,bh);Ce("string"==typeof No,y,"internal-error"),kt(In,y.name),kt(Vi,y.name),Ce("boolean"==typeof La,y,"internal-error"),Ce("boolean"==typeof wi,y,"internal-error"),kt(Ui,y.name),kt(Ju,y.name),kt(gl,y.name),kt(ml,y.name),kt(Ch,y.name),kt(_l,y.name);const Oo=new dn({uid:No,auth:y,email:Vi,emailVerified:La,displayName:In,isAnonymous:wi,photoURL:Ju,phoneNumber:Ui,tenantId:gl,stsTokenManager:Jp,createdAt:Ch,lastLoginAt:_l});return Mo&&Array.isArray(Mo)&&(Oo.providerData=Mo.map(yl=>Object.assign({},yl))),ml&&(Oo._redirectEventId=ml),Oo}static _fromIdTokenResponse(y,v,I=!1){return(0,h.Z)(function*(){const x=new Ue;x.updateFromServerResponse(v);const P=new dn({uid:v.localId,auth:y,stsTokenManager:x,isAnonymous:I});return yield zt(P),P})()}}const qn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(v,I){var x=this;return(0,h.Z)(function*(){x.storage[v]=I})()}_get(v){var I=this;return(0,h.Z)(function*(){const x=I.storage[v];return void 0===x?null:x})()}_remove(v){var I=this;return(0,h.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return C.type="NONE",C})();function Nt(C,y,v){return`firebase:${C}:${y}:${v}`}class ne{constructor(y,v,I){this.persistence=y,this.auth=v,this.userKey=I;const{config:x,name:P}=this.auth;this.fullUserKey=Nt(this.userKey,x.apiKey,P),this.fullPersistenceKey=Nt("persistence",x.apiKey,P),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,h.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?dn._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,h.Z)(function*(){if(v.persistence===y)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,I="authUser"){return(0,h.Z)(function*(){if(!v.length)return new ne(ae(qn),y,I);const x=(yield Promise.all(v.map(function(){var ct=(0,h.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let P=x[0]||ae(qn);const re=Nt(I,y.config.apiKey,y.name);let Re=null;for(const ct of v)try{const Ct=yield ct._get(re);if(Ct){const In=dn._fromJSON(y,Ct);ct!==P&&(Re=In),P=ct;break}}catch(Ct){}const Ke=x.filter(ct=>ct._shouldAllowMigration);return P._shouldAllowMigration&&Ke.length?(P=Ke[0],Re&&(yield P._set(re,Re.toJSON())),yield Promise.all(v.map(function(){var ct=(0,h.Z)(function*(Ct){if(Ct!==P)try{yield Ct._remove(re)}catch(In){}});return function(Ct){return ct.apply(this,arguments)}}())),new ne(P,y,I)):new ne(P,y,I)})()}}function G(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(at(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(z(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Gt(y))return"Blackberry";if(Cn(y))return"Webos";if(Ie(y))return"Safari";if((y.includes("chrome/")||je(y))&&!y.includes("edge/"))return"Chrome";if(Mt(y))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function z(C=(0,B.z$)()){return/firefox\//i.test(C)}function Ie(C=(0,B.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function je(C=(0,B.z$)()){return/crios\//i.test(C)}function at(C=(0,B.z$)()){return/iemobile/i.test(C)}function Mt(C=(0,B.z$)()){return/android/i.test(C)}function Gt(C=(0,B.z$)()){return/blackberry/i.test(C)}function Cn(C=(0,B.z$)()){return/webos/i.test(C)}function Tn(C=(0,B.z$)()){return/iphone|ipad|ipod/i.test(C)}function ir(C=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function An(C=(0,B.z$)()){return Tn(C)||Mt(C)||Cn(C)||Gt(C)||/windows phone/i.test(C)||at(C)}function Ns(C,y=[]){let v;switch(C){case"Browser":v=G((0,B.z$)());break;case"Worker":v=`${G((0,B.z$)())}-${C}`;break;default:v=C}const I=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${V.SDK_VERSION}/${I}`}class Ur{constructor(y,v){this.app=y,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ti(this),this.idTokenSubscription=new ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(y,v){var I=this;return v&&(this._popupRedirectResolver=ae(v)),this._initializationPromise=this.queue((0,h.Z)(function*(){var x;I._deleted||(I.persistenceManager=yield ne.create(I,y),!I._deleted&&((null===(x=I._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(v),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,h.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v)}})()}initializeCurrentUser(y){var v=this;return(0,h.Z)(function*(){var I;let x=yield v.assertedPersistence.getCurrentUser();if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const P=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,re=null==x?void 0:x._redirectEventId,Re=yield v.tryRedirectSignIn(y);(!P||P===re)&&(null==Re?void 0:Re.user)&&(x=Re.user)}return x?x._redirectEventId?(Ce(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===x._redirectEventId?v.directlySetCurrentUser(x):v.reloadAndSetCurrentUserOrClear(x)):v.reloadAndSetCurrentUserOrClear(x):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var v=this;return(0,h.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(x){yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,h.Z)(function*(){try{yield zt(y)}catch(I){if("auth/network-request-failed"!==I.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,h.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,h.Z)(function*(){const I=y?(0,B.m9)(y):null;return I&&Ce(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(y){var v=this;return(0,h.Z)(function*(){if(!v._deleted)return y&&Ce(v.tenantId===y.tenantId,v,"tenant-id-mismatch"),v.queue((0,h.Z)(function*(){yield v.directlySetCurrentUser(y),v.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,h.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var v=this;return this.queue((0,h.Z)(function*(){yield v.assertedPersistence.setPersistence(ae(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new B.LL("auth","Firebase",y())}onAuthStateChanged(y,v,I){return this.registerStateListener(this.authStateSubscription,y,v,I)}onIdTokenChanged(y,v,I){return this.registerStateListener(this.idTokenSubscription,y,v,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var I=this;return(0,h.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(v);return null===y?x.removeCurrentUser():x.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,h.Z)(function*(){if(!v.redirectPersistenceManager){const I=y&&ae(y)||v._popupRedirectResolver;Ce(I,v,"argument-error"),v.redirectPersistenceManager=yield ne.create(v,[ae(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,h.Z)(function*(){var I,x;return v._isInitialized&&(yield v.queue((0,h.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===y?v._currentUser:(null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,h.Z)(function*(){if(y===v.currentUser)return v.queue((0,h.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,I,x){if(this._deleted)return()=>{};const P="function"==typeof v?v:v.next.bind(v),re=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(re,this,"internal-error"),re.then(()=>P(this.currentUser)),"function"==typeof v?y.addObserver(v,I,x):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,h.Z)(function*(){v.currentUser&&v.currentUser!==y&&(v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh()),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Ns(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function fr(C){return(0,B.m9)(C)}class ti{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,B.ne)(v=>this.observer=v)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function He(C,y,v){const I=fr(C);Ce(I._canInitEmulator,I,"emulator-config-failed"),Ce(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const x=!!(null==v?void 0:v.disableWarnings),P=It(y),{host:re,port:Re}=function(C){const y=It(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const P=x[1];return{host:P,port:Br(I.substr(P.length+1))}}{const[P,re]=I.split(":");return{host:P,port:Br(re)}}}(y);I.config.emulator={url:`${P}//${re}${null===Re?"":`:${Re}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:re,port:Re,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function y(){const v=document.createElement("p"),I=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(x)}function It(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function Br(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class an{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return Ht("not implemented")}_getIdTokenResponse(y){return Ht("not implemented")}_linkToIdToken(y,v){return Ht("not implemented")}_getReauthenticationResolver(y){return Ht("not implemented")}}function Ri(C,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:resetPassword",pt(C,y))})).apply(this,arguments)}function aa(C,y){return po.apply(this,arguments)}function po(){return(po=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Dt(C,y){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:update",pt(C,y))})).apply(this,arguments)}function _u(){return(_u=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signInWithPassword",pt(C,y))})).apply(this,arguments)}function es(C,y){return sr.apply(this,arguments)}function sr(){return(sr=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:sendOobCode",pt(C,y))})).apply(this,arguments)}function yu(C,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(C,y){return es(C,y)})).apply(this,arguments)}function Ni(C,y){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,h.Z)(function*(C,y){return es(C,y)})).apply(this,arguments)}function Kd(C,y){return vu.apply(this,arguments)}function vu(){return(vu=(0,h.Z)(function*(C,y){return es(C,y)})).apply(this,arguments)}function Gc(C,y){return wu.apply(this,arguments)}function wu(){return(wu=(0,h.Z)(function*(C,y){return es(C,y)})).apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signInWithEmailLink",pt(C,y))})).apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signInWithEmailLink",pt(C,y))})).apply(this,arguments)}class Eu extends an{constructor(y,v,I,x=null){super("password",I),this._email=y,this._password=v,this._tenantId=x}static _fromEmailAndPassword(y,v){return new Eu(y,v,"password")}static _fromEmailAndCode(y,v,I=null){return new Eu(y,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,h.Z)(function*(){switch(v.signInMethod){case"password":return function(C,y){return _u.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(C,y){return go.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:Te(y,"internal-error")}})()}_linkToIdToken(y,v){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return aa(y,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,y){return Zn.apply(this,arguments)}(y,{idToken:v,email:I._email,oobCode:I._password});default:Te(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function or(C,y){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signInWithIdp",pt(C,y))})).apply(this,arguments)}class ni extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new ni(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):Te("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:x}=v,P=(0,fe._T)(v,["providerId","signInMethod"]);if(!I||!x)return null;const re=new ni(I,x);return Object.assign(re,P),re}_getIdTokenResponse(y){return or(y,this.buildRequest())}_linkToIdToken(y,v){const I=this.buildRequest();return I.idToken=v,or(y,I)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,or(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,B.xO)(v)}return y}}function Zc(C,y){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:sendVerificationCode",pt(C,y))})).apply(this,arguments)}function pp(){return(pp=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signInWithPhoneNumber",pt(C,y))})).apply(this,arguments)}function Qd(){return(Qd=(0,h.Z)(function*(C,y){const v=yield Yt(C,"POST","/v1/accounts:signInWithPhoneNumber",pt(C,y));if(v.temporaryProof)throw ei(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const xE={USER_NOT_FOUND:"user-not-found"};function gp(){return(gp=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signInWithPhoneNumber",pt(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),xE)})).apply(this,arguments)}class la extends an{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new la({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new la({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function(C,y){return pp.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function(C,y){return Qd.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(C,y){return gp.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:I,verificationCode:x}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:I,code:x}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:I,phoneNumber:x,temporaryProof:P}=y;return I||v||x||P?new la({verificationId:v,verificationCode:I,phoneNumber:x,temporaryProof:P}):null}}class zc{constructor(y){var v,I,x,P,re,Re;const Ke=(0,B.zd)((0,B.pd)(y)),ct=null!==(v=Ke.apiKey)&&void 0!==v?v:null,Ct=null!==(I=Ke.oobCode)&&void 0!==I?I:null,In=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ke.mode)&&void 0!==x?x:null);Ce(ct&&Ct&&In,"argument-error"),this.apiKey=ct,this.operation=In,this.code=Ct,this.continueUrl=null!==(P=Ke.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(re=Ke.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Re=Ke.tenantId)&&void 0!==Re?Re:null}static parseLink(y){const v=function(C){const y=(0,B.zd)((0,B.pd)(C)).link,v=y?(0,B.zd)((0,B.pd)(y)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(C)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||v||y||C}(y);try{return new zc(v)}catch(I){return null}}}let Jd=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,I){return Eu._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const x=zc.parseLink(I);return Ce(x,"argument-error"),Eu._fromEmailAndCode(v,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class _o{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Cu extends _o{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Wc extends Cu{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return Ce("providerId"in v&&"signInMethod"in v,"argument-error"),ni._fromParams(v)}credential(y){return this._credential(y)}_credential(y){return Ce(y.idToken||y.accessToken,"argument-error"),ni._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Wc.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Wc.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:P,nonce:re,providerId:Re}=y;if(!I&&!x&&!v&&!P||!Re)return null;try{return new Wc(Re)._credential({idToken:v,accessToken:I,rawNonce:re,pendingToken:P})}catch(Ke){return null}}}let mp=(()=>{class C extends Cu{constructor(){super("facebook.com")}static credential(v){return ni._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),_p=(()=>{class C extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return ni._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:x}=v;if(!I&&!x)return null;try{return C.credential(I,x)}catch(P){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),yp=(()=>{class C extends Cu{constructor(){super("github.com")}static credential(v){return ni._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class da extends an{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return or(y,this.buildRequest())}_linkToIdToken(y,v){const I=this.buildRequest();return I.idToken=v,or(y,I)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,or(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:x,pendingToken:P}=v;return I&&x&&P&&I===x?new da(I,P):null}static _create(y,v){return new da(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let yo=(()=>{class C extends Cu{constructor(){super("twitter.com")}static credential(v,I){return ni._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=v;if(!I||!x)return null;try{return C.credential(I,x)}catch(P){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Xd(C,y){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signUp",pt(C,y))})).apply(this,arguments)}class jr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,I,x=!1){return(0,h.Z)(function*(){const P=yield dn._fromIdTokenResponse(y,I,x),re=k_(I);return new jr({user:P,providerId:re,_tokenResponse:I,operationType:v})})()}static _forOperation(y,v,I){return(0,h.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const x=k_(I);return new jr({user:y,providerId:x,_tokenResponse:I,operationType:v})})()}}function k_(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function OE(C){return eh.apply(this,arguments)}function eh(){return(eh=(0,h.Z)(function*(C){var y;const v=fr(C);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new jr({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield Xd(v,{returnSecureToken:!0}),x=yield jr._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class ha extends B.ZR{constructor(y,v,I,x){var P;super(v.code,v.message),this.operationType=I,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,ha.prototype),this.appName=y.name,this.code=v.code,this.tenantId=null!==(P=y.tenantId)&&void 0!==P?P:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(y,v,I,x){return new ha(y,v,I,x)}}function Ep(C,y,v,I){return("reauthenticate"===y?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?ha._fromErrorAndOperation(C,P,y,I):P})}function bu(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function F_(C,y){return ii.apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(C,y){const v=(0,B.m9)(C);yield Ms(!0,v,y);const{providerUserInfo:I}=yield Ji(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),x=bu(I||[]);return v.providerData=v.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Yc(C,y){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,h.Z)(function*(C,y,v=!1){const I=yield Ze(C,y._linkToIdToken(C.auth,yield C.getIdToken()),v);return jr._forOperation(C,"link",I)})).apply(this,arguments)}function Ms(C,y,v){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(C,y,v){yield zt(y);const x=!1===C?"provider-already-linked":"no-such-provider";Ce(bu(y.providerData).has(v)===C,y.auth,x)})).apply(this,arguments)}function Jc(C,y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,h.Z)(function*(C,y,v=!1){const{auth:I}=C,x="reauthenticate";try{const P=yield Ze(C,Ep(I,x,y,C),v);Ce(P.idToken,I,"internal-error");const re=$t(P.idToken);Ce(re,I,"internal-error");const{sub:Re}=re;return Ce(C.uid===Re,I,"user-mismatch"),jr._forOperation(C,x,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Te(I,"user-mismatch"),P}})).apply(this,arguments)}function yn(C,y){return th.apply(this,arguments)}function th(){return(th=(0,h.Z)(function*(C,y,v=!1){const I="signIn",x=yield Ep(C,I,y),P=yield jr._fromIdTokenResponse(C,I,x);return v||(yield C._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Du(C,y){return nh.apply(this,arguments)}function nh(){return(nh=(0,h.Z)(function*(C,y){return yn(fr(C),y)})).apply(this,arguments)}function vn(C,y){return rh.apply(this,arguments)}function rh(){return(rh=(0,h.Z)(function*(C,y){const v=(0,B.m9)(C);return yield Ms(!1,v,y.providerId),Yc(v,y)})).apply(this,arguments)}function L_(C,y){return fa.apply(this,arguments)}function fa(){return(fa=(0,h.Z)(function*(C,y){return Jc((0,B.m9)(C),y)})).apply(this,arguments)}function Mi(C,y){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,h.Z)(function*(C,y){return Yt(C,"POST","/v1/accounts:signInWithCustomToken",pt(C,y))})).apply(this,arguments)}function pa(C,y){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(C,y){const v=fr(C),I=yield Mi(v,{token:y,returnSecureToken:!0}),x=yield jr._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class pr{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?Xc._fromServerResponse(y,v):Te(y,"internal-error")}}class Xc extends pr{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new Xc(v)}}function ga(C,y,v){var I;Ce((null===(I=v.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),Ce(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ce(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(Ce(v.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function bp(C,y,v){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C),x={requestType:"PASSWORD_RESET",email:y};v&&ga(I,x,v),yield Ni(I,x)})).apply(this,arguments)}function Ip(C,y,v){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,h.Z)(function*(C,y,v){yield Ri((0,B.m9)(C),{oobCode:y,newPassword:v})})).apply(this,arguments)}function gt(C,y){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,h.Z)(function*(C,y){yield Dt((0,B.m9)(C),{oobCode:y})})).apply(this,arguments)}function ma(C,y){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(C,y){const v=(0,B.m9)(C),I=yield Ri(v,{oobCode:y}),x=I.requestType;switch(Ce(x,v,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(I.mfaInfo,v,"internal-error");default:Ce(I.email,v,"internal-error")}let P=null;return I.mfaInfo&&(P=pr._fromServerResponse(fr(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function ih(C,y){return Au.apply(this,arguments)}function Au(){return(Au=(0,h.Z)(function*(C,y){const{data:v}=yield ma((0,B.m9)(C),y);return v.email})).apply(this,arguments)}function Su(C,y,v){return el.apply(this,arguments)}function el(){return(el=(0,h.Z)(function*(C,y,v){const I=fr(C),x=yield Xd(I,{returnSecureToken:!0,email:y,password:v}),P=yield jr._fromIdTokenResponse(I,"signIn",x);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ae(C,y,v){return Du((0,B.m9)(C),Jd.credential(y,v))}function Ft(C,y,v){return xu.apply(this,arguments)}function xu(){return(xu=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C),x={requestType:"EMAIL_SIGNIN",email:y};Ce(v.handleCodeInApp,I,"argument-error"),v&&ga(I,x,v),yield Kd(I,x)})).apply(this,arguments)}function Pn(C,y){const v=zc.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Tp(C,y,v){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C),x=Jd.credentialWithLink(y,v||Q());return Ce(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Du(I,x)})).apply(this,arguments)}function ns(C,y){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:createAuthUri",pt(C,y))})).apply(this,arguments)}function ya(C,y){return sh.apply(this,arguments)}function sh(){return(sh=(0,h.Z)(function*(C,y){const I={identifier:y,continueUri:Oe()?Q():"http://localhost"},{signinMethods:x}=yield ns((0,B.m9)(C),I);return x||[]})).apply(this,arguments)}function PE(C,y){return Os.apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(C,y){const v=(0,B.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&ga(v.auth,x,y);const{email:P}=yield yu(v.auth,x);P!==C.email&&(yield C.reload())})).apply(this,arguments)}function va(C,y,v){return gr.apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};v&&ga(I.auth,P,v);const{email:re}=yield Gc(I.auth,P);re!==C.email&&(yield C.reload())})).apply(this,arguments)}function rs(C,y){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,h.Z)(function*(C,y){return st(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function wa(C,y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,h.Z)(function*(C,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const I=(0,B.m9)(C),P={idToken:yield I.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},re=yield Ze(I,rs(I.auth,P));I.displayName=re.displayName||null,I.photoURL=re.photoUrl||null;const Re=I.providerData.find(({providerId:Ke})=>"password"===Ke);Re&&(Re.displayName=I.displayName,Re.photoURL=I.photoURL),yield I._updateTokensIfNecessary(re)})).apply(this,arguments)}function V_(C,y){return tl((0,B.m9)(C),y,null)}function Ap(C,y){return tl((0,B.m9)(C),null,y)}function tl(C,y,v){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(C,y,v){const{auth:I}=C,P={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(P.email=y),v&&(P.password=v);const re=yield Ze(C,aa(I,P));yield C._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Ps{constructor(y,v,I={}){this.isNewUser=y,this.providerId=v,this.profile=I}}class ah extends Ps{constructor(y,v,I,x){super(y,v,I),this.username=x}}class Sp extends Ps{constructor(y,v){super(y,"facebook.com",v)}}class U_ extends ah{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class B_ extends Ps{constructor(y,v){super(y,"google.com",v)}}class Mu extends ah{constructor(y,v,I){super(y,"twitter.com",v,I)}}function xp(C){const{user:y,_tokenResponse:v}=C;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(C){var y,v;if(!C)return null;const{providerId:I}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},P=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const re=null===(v=null===(y=$t(C.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(re)return new Ps(P,"anonymous"!==re&&"custom"!==re?re:null)}if(!I)return null;switch(I){case"facebook.com":return new Sp(P,x);case"github.com":return new U_(P,x);case"google.com":return new B_(P,x);case"twitter.com":return new Mu(P,x,C.screenName||null);case"custom":case"anonymous":return new Ps(P,null);default:return new Ps(P,I,x)}}(v)}class en{constructor(y,v){this.type=y,this.credential=v}static _fromIdtoken(y){return new en("enroll",y)}static _fromMfaPendingCredential(y){return new en("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,I;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return en._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(I=y.multiFactorSession)||void 0===I?void 0:I.idToken)return en._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Ea{constructor(y,v,I){this.session=y,this.hints=v,this.signInResolver=I}static _fromError(y,v){const I=fr(y),x=(v.serverResponse.mfaInfo||[]).map(re=>pr._fromServerResponse(I,re));Ce(v.serverResponse.mfaPendingCredential,I,"internal-error");const P=en._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new Ea(P,x,function(){var re=(0,h.Z)(function*(Re){const Ke=yield Re._process(I,P);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const ct=Object.assign(Object.assign({},v.serverResponse),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(v.operationType){case"signIn":const Ct=yield jr._fromIdTokenResponse(I,v.operationType,ct);return yield I._updateCurrentUser(Ct.user),Ct;case"reauthenticate":return Ce(v.user,I,"internal-error"),jr._forOperation(v.user,v.operationType,ct);default:Te(I,"internal-error")}});return function(Re){return re.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,h.Z)(function*(){return v.signInResolver(y)})()}}function H_(C,y){var v;const I=(0,B.m9)(C),x=y;return Ce(y.operationType,I,"argument-error"),Ce(null===(v=x.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),Ea._fromError(I,x)}function rl(C,y){return st(C,"POST","/v2/accounts/mfaEnrollment:start",pt(C,y))}class uh{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>pr._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new uh(y)}getSession(){var y=this;return(0,h.Z)(function*(){return en._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,v){var I=this;return(0,h.Z)(function*(){const x=y,P=yield I.getSession(),re=yield Ze(I.user,x._process(I.user.auth,P,v));return yield I.user._updateTokensIfNecessary(re),I.user.reload()})()}unenroll(y){var v=this;return(0,h.Z)(function*(){const I="string"==typeof y?y:y.uid,x=yield v.user.getIdToken(),P=yield Ze(v.user,function(C,y){return st(C,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(C,y))}(v.user.auth,{idToken:x,mfaEnrollmentId:I}));v.enrolledFactors=v.enrolledFactors.filter(({uid:re})=>re!==I),yield v.user._updateTokensIfNecessary(P);try{yield v.user.reload()}catch(re){if("auth/user-token-expired"!==re.code)throw re}})()}}const Ca=new WeakMap;function il(C){const y=(0,B.m9)(C);return Ca.has(y)||Ca.set(y,uh._fromUser(y)),Ca.get(y)}const ba="__sak";class ch{constructor(y,v){this.storage=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Z_=(()=>{class C extends ch{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,B.z$)();return Ie(C)||Tn(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),P=this.localCache[I];x!==P&&v(I,P,x)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Re,Ke,ct)=>{this.notifyListeners(Re,ct)});const x=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(x);if(v.newValue!==Re)null!==v.newValue?this.storage.setItem(x,v.newValue):this.storage.removeItem(x);else if(this.localCache[x]===v.newValue&&!I)return}const P=()=>{const Re=this.storage.getItem(x);!I&&this.localCache[x]===Re||this.notifyListeners(x,Re)},re=this.storage.getItem(x);(0,B.w1)()&&10===document.documentMode&&re!==v.newValue&&v.newValue!==v.oldValue?setTimeout(P,10):P()}notifyListeners(v,I){this.localCache[v]=I;const x=this.listeners[v];if(x)for(const P of Array.from(x))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var x=()=>super._set,P=this;return(0,h.Z)(function*(){yield x().call(P,v,I),P.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,x=this;return(0,h.Z)(function*(){const P=yield I().call(x,v);return x.localCache[v]=JSON.stringify(P),P})()}_remove(v){var I=()=>super._remove,x=this;return(0,h.Z)(function*(){yield I().call(x,v),delete x.localCache[v]})()}}return C.type="LOCAL",C})(),Ia=(()=>{class C extends ch{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return C.type="SESSION",C})();let z_=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(P=>P.isListeningto(v));if(I)return I;const x=new C(v);return this.receivers.push(x),x}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,h.Z)(function*(){const x=v,{eventId:P,eventType:re,data:Re}=x.data,Ke=I.handlersMap[re];if(!(null==Ke?void 0:Ke.size))return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:re});const ct=Array.from(Ke).map(function(){var In=(0,h.Z)(function*(Vi){return Vi(x.origin,Re)});return function(Vi){return In.apply(this,arguments)}}()),Ct=yield function(C){return Promise.all(C.map(function(){var y=(0,h.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return y.apply(this,arguments)}}()))}(ct);x.ports[0].postMessage({status:"done",eventId:P,eventType:re,response:Ct})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function _i(C="",y=10){let v="";for(let I=0;I<y;I++)v+=Math.floor(10*Math.random());return C+v}class LE{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,I=50){var x=this;return(0,h.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let re,Re;return new Promise((Ke,ct)=>{const Ct=_i("",20);P.port1.start();const In=setTimeout(()=>{ct(new Error("unsupported_event"))},I);Re={messageChannel:P,onMessage(Vi){const Ui=Vi;if(Ui.data.eventId===Ct)switch(Ui.data.status){case"ack":clearTimeout(In),re=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),Ke(Ui.data.response);break;default:clearTimeout(In),clearTimeout(re),ct(new Error("invalid_response"))}}},x.handlers.add(Re),P.port1.addEventListener("message",Re.onMessage),x.target.postMessage({eventType:y,eventId:Ct,data:v},[P.port2])}).finally(()=>{Re&&x.removeMessageHandler(Re)})})()}}function zn(){return window}function Ou(){return void 0!==zn().WorkerGlobalScope&&"function"==typeof zn().importScripts}function Pu(){return(Pu=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Ta="firebaseLocalStorageDb",Fs="firebaseLocalStorage",lh="fbase_key";class Co{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function dh(C,y){return C.transaction([Fs],y?"readwrite":"readonly").objectStore(Fs)}function tn(){const C=indexedDB.open(Ta,1);return new Promise((y,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(Fs,{keyPath:lh})}catch(x){v(x)}}),C.addEventListener("success",(0,h.Z)(function*(){const I=C.result;I.objectStoreNames.contains(Fs)?y(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(Ta);return new Co(C).toPromise()}(),y(yield tn()))}))})}function rt(C,y,v){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(C,y,v){const I=dh(C,!0).put({[lh]:y,value:v});return new Co(I).toPromise()})).apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(C,y){const v=dh(C,!1).get(y),I=yield new Co(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ku(C,y){const v=dh(C,!0).delete(y);return new Co(v).toPromise()}const hh=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,h.Z)(function*(){return v.db||(v.db=yield tn()),v.db})()}_withRetries(v){var I=this;return(0,h.Z)(function*(){let x=0;for(;;)try{const P=yield I._openDb();return yield v(P)}catch(P){if(x++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,h.Z)(function*(){return Ou()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,h.Z)(function*(){v.receiver=z_._getInstance(Ou()?self:null),v.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(x,P){return{keyProcessed:(yield v._poll()).includes(P.key)}});return function(x,P){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,h.Z)(function*(){var I,x;if(v.activeServiceWorker=yield function(){return Pu.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new LE(v.activeServiceWorker);const P=yield v.sender._send("ping",{},800);!P||(null===(I=P[0])||void 0===I?void 0:I.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const v=yield tn();return yield rt(v,ba,"1"),yield ku(v,ba),!0}catch(v){}return!1})()}_withPendingWrite(v){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var x=this;return(0,h.Z)(function*(){return x._withPendingWrite((0,h.Z)(function*(){return yield x._withRetries(P=>rt(P,v,I)),x.localCache[v]=I,x.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,h.Z)(function*(){const x=yield I._withRetries(P=>function(C,y){return mr.apply(this,arguments)}(P,v));return I.localCache[v]=x,x})()}_remove(v){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(x=>ku(x,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,h.Z)(function*(){const I=yield v._withRetries(re=>{const Re=dh(re,!1).getAll();return new Co(Re).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:re,value:Re}of I)P.add(re),JSON.stringify(v.localCache[re])!==JSON.stringify(Re)&&(v.notifyListeners(re,Re),x.push(re));for(const re of Object.keys(v.localCache))v.localCache[re]&&!P.has(re)&&(v.notifyListeners(re,null),x.push(re));return x})()}notifyListeners(v,I){this.localCache[v]=I;const x=this.listeners[v];if(x)for(const P of Array.from(x))P(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Fp(C,y){return st(C,"POST","/v2/accounts/mfaSignIn:start",pt(C,y))}function fh(){return(fh=(0,h.Z)(function*(C){return(yield st(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fu(C){return new Promise((y,v)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=y,I.onerror=x=>{const P=Ge("internal-error");P.customData=x,v(P)},I.type="text/javascript",I.charset="UTF-8",function(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(I)})}function xa(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Ls=1e12;class Es{constructor(y){this.auth=y,this.counter=Ls,this._widgets=new Map}render(y,v){const I=this.counter;return this._widgets.set(I,new Up(y,this.auth.name,v||{})),this.counter++,I}reset(y){var v;const I=y||Ls;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(y){var v;return(null===(v=this._widgets.get(y||Ls))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,h.Z)(function*(){var I;return null===(I=v._widgets.get(y||Ls))||void 0===I||I.execute(),""})()}}class Up{constructor(y,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof y?document.getElementById(y):y;Ce(x,"argument-error",{appName:v}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}();const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yi=xa("rcb"),bo=new ut(3e4,6e4);class mt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zn().grecaptcha}load(y,v=""){return Ce((C=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(zn().grecaptcha):new Promise((I,x)=>{const P=zn().setTimeout(()=>{x(Ge(y,"network-request-failed"))},bo.get());zn()[yi]=()=>{zn().clearTimeout(P),delete zn()[yi];const Re=zn().grecaptcha;if(!Re)return void x(Ge(y,"internal-error"));const Ke=Re.render;Re.render=(ct,Ct)=>{const In=Ke(ct,Ct);return this.counter++,In},this.hostLanguage=v,I(Re)},Fu(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:yi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(P),x(Ge(y,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!zn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kn{load(y){return(0,h.Z)(function*(){return new Es(y)})()}clearedOneInstance(){}}const Vs="recaptcha",UE={theme:"light",type:"image"};class PT{constructor(y,v=Object.assign({},UE),I){this.parameters=v,this.type=Vs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(I),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof y?document.getElementById(y):y;Ce(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kn:new mt,this.validateStartingState()}verify(){var y=this;return(0,h.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(v)||new Promise(P=>{const re=Re=>{!Re||(y.tokenChangeListeners.delete(re),P(Re))};y.tokenChangeListeners.add(re),y.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof y)y(v);else if("string"==typeof y){const I=zn()[y];"function"==typeof I&&I(v)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,h.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,h.Z)(function*(){Ce(Oe()&&!Ou(),y.auth,"internal-error"),yield function(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function(C){return fh.apply(this,arguments)}(y.auth);Ce(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ol{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=la._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function X_(C,y,v){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(C,y,v){const I=fr(C),x=yield Pi(I,y,(0,B.m9)(v));return new ol(x,P=>Du(I,P))})).apply(this,arguments)}function al(C,y,v){return Us.apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C);yield Ms(!1,I,"phone");const x=yield Pi(I.auth,y,(0,B.m9)(v));return new ol(x,P=>vn(I,P))})).apply(this,arguments)}function BE(C,y,v){return jp.apply(this,arguments)}function jp(){return(jp=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C),x=yield Pi(I.auth,y,(0,B.m9)(v));return new ol(x,P=>L_(I,P))})).apply(this,arguments)}function Pi(C,y,v){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,h.Z)(function*(C,y,v){var I;const x=yield v.verify();try{let P;if(Ce("string"==typeof x,C,"argument-error"),Ce(v.type===Vs,C,"argument-error"),P="string"==typeof y?{phoneNumber:y}:y,"session"in P){const re=P.session;if("phoneNumber"in P)return Ce("enroll"===re.type,C,"internal-error"),(yield rl(C,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Ce("signin"===re.type,C,"internal-error");const Re=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return Ce(Re,C,"missing-multi-factor-info"),(yield Fp(C,{mfaPendingCredential:re.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield Zc(C,{phoneNumber:P.phoneNumber,recaptchaToken:x});return re}}finally{v._reset()}})).apply(this,arguments)}function jE(C,y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(C,y){yield Yc((0,B.m9)(C),y)})).apply(this,arguments)}let HE=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=fr(v)}verifyPhoneNumber(v,I){return Pi(this.auth,v,(0,B.m9)(I))}static credential(v,I){return la._fromVerification(v,I)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:x}=v;return I&&x?la._fromTokenResponse(I,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Na(C,y){return y?ae(y):(Ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class _r extends an{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return or(y,this._buildIdpRequest())}_linkToIdToken(y,v){return or(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return or(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function Cs(C){return yn(C.auth,new _r(C),C.bypassAuthState)}function $p(C){const{auth:y,user:v}=C;return Ce(v,y,"internal-error"),Jc(v,new _r(C),C.bypassAuthState)}function Un(C){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(C){const{auth:y,user:v}=C;return Ce(v,y,"internal-error"),Yc(v,new _r(C),C.bypassAuthState)})).apply(this,arguments)}class Oa{constructor(y,v,I,x,P=!1){this.auth=y,this.resolver=I,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,h.Z)(function*(I,x){y.pendingPromise={resolve:I,reject:x};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(P){y.reject(P)}});return function(I,x){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:P,tenantId:re,error:Re,type:Ke}=y;if(Re)return void v.reject(Re);const ct={auth:v.auth,requestUri:I,sessionId:x,tenantId:re||void 0,postBody:P||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ke)(ct))}catch(Ct){v.reject(Ct)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Cs;case"linkViaPopup":case"linkViaRedirect":return Un;case"reauthViaPopup":case"reauthViaRedirect":return $p;default:Te(this.auth,"internal-error")}}resolve(y){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $E=new ut(2e3,1e4);function ey(C,y,v){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(C,y,v){const I=fr(C);Ve(C,y,_o);const x=Na(I,v);return new ul(I,"signInViaPopup",y,x).executeNotNull()})).apply(this,arguments)}function ki(C,y,v){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C);Ve(I.auth,y,_o);const x=Na(I.auth,v);return new ul(I.auth,"reauthViaPopup",y,x,I).executeNotNull()})).apply(this,arguments)}function Io(C,y,v){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C);Ve(I.auth,y,_o);const x=Na(I.auth,v);return new ul(I.auth,"linkViaPopup",y,x,I).executeNotNull()})).apply(this,arguments)}let ul=(()=>{class C extends Oa{constructor(v,I,x,P,re){super(v,I,P,re),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,h.Z)(function*(){const I=yield v.execute();return Ce(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,h.Z)(function*(){oe(1===v.filter.length,"Popup operations only handle one event");const I=_i();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(x=>{v.reject(x)}),v.resolver._isIframeWebStorageSupported(v.auth,x=>{x||v.reject(Ge(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,x;this.pollId=(null===(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,$E.get())};v()}}return C.currentPopupAction=null,C})();const Nr=new Map;class GE extends Oa{constructor(y,v,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,h.Z)(function*(){let I=Nr.get(v.auth._key());if(!I){try{const P=(yield function(C,y){return cl.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;I=()=>Promise.resolve(P)}catch(x){I=()=>Promise.reject(x)}Nr.set(v.auth._key(),I)}return I()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(I,y);if("unknown"!==y.type){if(y.eventId){const x=yield I.auth._redirectUserForId(y.eventId);if(x)return I.user=x,v().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function cl(){return(cl=(0,h.Z)(function*(C,y){const v=To(y),I="true"===(yield ll(C)._get(v));return yield ll(C)._remove(v),I})).apply(this,arguments)}function Mr(C,y){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,h.Z)(function*(C,y){return ll(C)._set(To(y),"true")})).apply(this,arguments)}function Gr(){Nr.clear()}function ll(C){return ae(C._redirectPersistence)}function To(C){return Nt("pendingRedirect",C.config.apiKey,C.name)}function Gp(C,y,v){return function(C,y,v){return ph.apply(this,arguments)}(C,y,v)}function ph(){return(ph=(0,h.Z)(function*(C,y,v){const I=fr(C);Ve(C,y,_o);const x=Na(I,v);return yield Mr(x,I),x._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function ry(C,y,v){return function(C,y,v){return Ao.apply(this,arguments)}(C,y,v)}function Ao(){return(Ao=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C);Ve(I.auth,y,_o);const x=Na(I.auth,v);yield Mr(x,I.auth);const P=yield yh(I);return x._openRedirect(I.auth,y,"reauthViaRedirect",P)})).apply(this,arguments)}function gh(C,y,v){return function(C,y,v){return mh.apply(this,arguments)}(C,y,v)}function mh(){return(mh=(0,h.Z)(function*(C,y,v){const I=(0,B.m9)(C);Ve(I.auth,y,_o);const x=Na(I.auth,v);yield Ms(!1,I,y.providerId),yield Mr(x,I.auth);const P=yield yh(I);return x._openRedirect(I.auth,y,"linkViaRedirect",P)})).apply(this,arguments)}function Bu(C,y){return ju.apply(this,arguments)}function ju(){return(ju=(0,h.Z)(function*(C,y){return yield fr(C)._initializationPromise,js(C,y,!1)})).apply(this,arguments)}function js(C,y){return _h.apply(this,arguments)}function _h(){return(_h=(0,h.Z)(function*(C,y,v=!1){const I=fr(C),x=Na(I,y),re=yield new GE(I,x,v).execute();return re&&!v&&(delete re.user._redirectEventId,yield I._persistUserIfCurrent(re.user),yield I._setRedirectUser(null,y)),re})).apply(this,arguments)}function yh(C){return At.apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(C){const y=_i(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class ka{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(v=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hs(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var I;if(y.error&&!Hs(y)){const x=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(Ge(this.auth,x))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const I=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hu(y))}saveEventToCache(y){this.cachedEventUids.add(Hu(y)),this.lastProcessedEventTime=Date.now()}}function Hu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function Hs({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function qp(C){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(C,y={}){return st(C,"GET","/v1/projects",y)})).apply(this,arguments)}const Li=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sy=/^https?/;function Gs(){return(Gs=(0,h.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield qp(C);for(const v of y)try{if(qE(v))return}catch(I){}Te(C,"unauthorized-domain")})).apply(this,arguments)}function qE(C){const y=Q(),{protocol:v,hostname:I}=new URL(y);if(C.startsWith("chrome-extension://")){const re=new URL(C);return""===re.hostname&&""===I?"chrome-extension:"===v&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&re.hostname===I}if(!sy.test(v))return!1;if(Li.test(C))return I===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const Wn=new ut(3e4,6e4);function vi(){const C=zn().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let bs=null;function as(C){return bs=bs||function(C){return new Promise((y,v)=>{var I,x,P;function re(){vi(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{vi(),v(Ge(C,"network-request-failed"))},timeout:Wn.get()})}if(null===(x=null===(I=zn().gapi)||void 0===I?void 0:I.iframes)||void 0===x?void 0:x.Iframe)y(gapi.iframes.getContext());else{if(!(null===(P=zn().gapi)||void 0===P?void 0:P.load)){const Re=xa("iframefcb");return zn()[Re]=()=>{gapi.load?re():v(Ge(C,"network-request-failed"))},Fu(`https://apis.google.com/js/api.js?onload=${Re}`)}re()}}).catch(y=>{throw bs=null,y})}(C),bs}const $u=new ut(5e3,15e3),zp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gu(C){const y=C.config;Ce(y.authDomain,C,"auth-domain-config-required");const v=y.emulator?cn(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:C.name,v:V.SDK_VERSION},x=dl.get(C.config.apiHost);x&&(I.eid=x);const P=C._getFrameworks();return P.length&&(I.fw=P.join(",")),`${v}?${(0,B.xO)(I).slice(1)}`}function Is(){return(Is=(0,h.Z)(function*(C){const y=yield as(C),v=zn().gapi;return Ce(v,C,"internal-error"),y.open({where:document.body,url:Gu(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zp,dontclear:!0},I=>new Promise(function(){var x=(0,h.Z)(function*(P,re){yield I.restyle({setHideOnLeave:!1});const Re=Ge(C,"network-request-failed"),Ke=zn().setTimeout(()=>{re(Re)},$u.get());function ct(){zn().clearTimeout(Ke),P(I)}I.ping(ct).then(ct,()=>{re(Re)})});return function(P,re){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const Lt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zu{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function fl(C,y,v,I,x,P){Ce(C.config.authDomain,C,"auth-domain-config-required"),Ce(C.config.apiKey,C,"invalid-api-key");const re={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:I,v:V.SDK_VERSION,eventId:x};if(y instanceof _o){y.setDefaultLanguage(C.languageCode),re.providerId=y.providerId||"",(0,B.xb)(y.getCustomParameters())||(re.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ke,ct]of Object.entries(P||{}))re[Ke]=ct}if(y instanceof Cu){const Ke=y.getScopes().filter(ct=>""!==ct);Ke.length>0&&(re.scopes=Ke.join(","))}C.tenantId&&(re.tid=C.tenantId);const Re=re;for(const Ke of Object.keys(Re))void 0===Re[Ke]&&delete Re[Ke];return`${function({config:C}){return C.emulator?cn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,B.xO)(Re).slice(1)}`}const Ku="webStorageSupport",Yu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ia,this._completeRedirectFn=js}_openPopup(y,v,I,x){var P=this;return(0,h.Z)(function*(){var re;oe(null===(re=P.eventManagers[y._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Re=fl(y,v,I,Q(),x);return function(C,y,v,I=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),re=Math.max((window.screen.availWidth-I)/2,0).toString();let Re="";const Ke=Object.assign(Object.assign({},Lt),{width:I.toString(),height:x.toString(),top:P,left:re}),ct=(0,B.z$)().toLowerCase();v&&(Re=je(ct)?"_blank":v),z(ct)&&(y=y||"http://localhost",Ke.scrollbars="yes");const Ct=Object.entries(Ke).reduce((Vi,[Ui,Ju])=>`${Vi}${Ui}=${Ju},`,"");if(function(C=(0,B.z$)()){var y;return Tn(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(ct)&&"_self"!==Re)return function(C,y){const v=document.createElement("a");v.href=C,v.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(y||"",Re),new zu(null);const In=window.open(y||"",Re,Ct);Ce(In,C,"popup-blocked");try{In.focus()}catch(Vi){}return new zu(In)}(y,Re,_i())})()}_openRedirect(y,v,I,x){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(y),C=fl(y,v,I,Q(),x),zn().location.href=C,new Promise(()=>{});var C})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:x,promise:P}=this.eventManagers[v];return x?Promise.resolve(x):(oe(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(y);return this.eventManagers[v]={promise:I},I}initAndGetManager(y){var v=this;return(0,h.Z)(function*(){const I=yield function(C){return Is.apply(this,arguments)}(y),x=new ka(y);return I.register("authEvent",P=>(Ce(null==P?void 0:P.authEvent,y,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:x},v.iframes[y._key()]=I,x})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(Ku,{type:Ku},x=>{var P;const re=null===(P=null==x?void 0:x[0])||void 0===P?void 0:P[Ku];void 0!==re&&v(!!re),Te(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return Gs.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return An()||Ie()||Tn()}};class wh extends class{constructor(y){this.factorId=y}_process(y,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,I);case"signin":return this._finalizeSignIn(y,v.credential);default:return Ht("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new wh(y)}_finalizeEnroll(y,v,I){return function(C,y){return st(C,"POST","/v2/accounts/mfaEnrollment:finalize",pt(C,y))}(y,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function(C,y){return st(C,"POST","/v2/accounts/mfaSignIn:finalize",pt(C,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pl=(()=>{class C{constructor(){}static assertion(v){return wh._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var C;class Qu{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,h.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(I=>{var x;y((null===(x=I)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oy(C=(0,V.getApp)()){const y=(0,V._getProvider)(C,"auth");return y.isInitialized()?y.getImmediate():function(C,y){const v=(0,V._getProvider)(C,"auth");if(v.isInitialized()){const x=v.getImmediate(),P=v.getOptions();if((0,B.vZ)(P,null!=y?y:{}))return x;Te(x,"already-initialized")}return v.initialize({options:y})}(C,{popupRedirectResolver:Yu,persistence:[hh,Z_,Ia]})}C="Browser",(0,V._registerComponent)(new ue.wA("auth",(y,{options:v})=>{const I=y.getProvider("app").getImmediate(),{apiKey:x,authDomain:P}=I.options;return(re=>{Ce(x&&!x.includes(":"),"invalid-api-key",{appName:re.name}),Ce(!(null==P?void 0:P.includes(":")),"argument-error",{appName:re.name});const Re={apiKey:x,authDomain:P,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ns(C)},Ke=new Ur(re,Re);return function(C,y){const v=(null==y?void 0:y.persistence)||[],I=(Array.isArray(v)?v:[v]).map(ae);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(I,null==y?void 0:y.popupRedirectResolver)}(Ke,v),Ke})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,I)=>{y.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new ue.wA("auth-internal",y=>{const v=fr(y.getProvider("auth").getImmediate());return new Qu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)("@firebase/auth","0.18.1",void 0)},6034:(Qe,De,F)=>{"use strict";F.d(De,{wA:()=>V,H0:()=>de});var h=F(4762),B=F(3854),V=function(){function Y(k,L,X){this.name=k,this.instanceFactory=L,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},Y.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},Y.prototype.setServiceProps=function(k){return this.serviceProps=k,this},Y.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},Y}(),fe="[DEFAULT]",ve=function(){function Y(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var X=new B.BH;if(this.instancesDeferred.set(L,X),this.isInitialized(L)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:L});K&&X.resolve(K)}catch(J){}}return this.instancesDeferred.get(L).promise},Y.prototype.getImmediate=function(k){var L,X=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),K=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(J){if(K)return null;throw J}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(k){var L,X;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(Te){}try{for(var K=(0,h.XA)(this.instancesDeferred.entries()),J=K.next();!J.done;J=K.next()){var me=(0,h.CR)(J.value,2),te=me[1],Le=this.normalizeInstanceIdentifier(me[0]);try{var Pe=this.getOrInitializeService({instanceIdentifier:Le});te.resolve(Pe)}catch(Te){}}}catch(Te){L={error:Te}}finally{try{J&&!J.done&&(X=K.return)&&X.call(K)}finally{if(L)throw L.error}}}},Y.prototype.clearInstance=function(k){void 0===k&&(k=fe),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},Y.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var k;return(0,h.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(k.filter(function(X){return"INTERNAL"in X}).map(function(X){return X.INTERNAL.delete()}))),(0,h.CR)(k.filter(function(X){return"_delete"in X}).map(function(X){return X._delete()}))))];case 1:return L.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(k){return void 0===k&&(k=fe),this.instances.has(k)},Y.prototype.getOptions=function(k){return void 0===k&&(k=fe),this.instancesOptions.get(k)||{}},Y.prototype.initialize=function(k){var L,X;void 0===k&&(k={});var K=k.options,J=void 0===K?{}:K,me=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(me))throw Error(this.name+"("+me+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ie=this.getOrInitializeService({instanceIdentifier:me,options:J});try{for(var te=(0,h.XA)(this.instancesDeferred.entries()),Le=te.next();!Le.done;Le=te.next()){var Pe=(0,h.CR)(Le.value,2),Ge=Pe[1];me===this.normalizeInstanceIdentifier(Pe[0])&&Ge.resolve(ie)}}catch(Ve){L={error:Ve}}finally{try{Le&&!Le.done&&(X=te.return)&&X.call(te)}finally{if(L)throw L.error}}return ie},Y.prototype.onInit=function(k,L){var X,K=this.normalizeInstanceIdentifier(L),J=null!==(X=this.onInitCallbacks.get(K))&&void 0!==X?X:new Set;J.add(k),this.onInitCallbacks.set(K,J);var me=this.instances.get(K);return me&&k(me,K),function(){J.delete(k)}},Y.prototype.invokeOnInitCallbacks=function(k,L){var X,K,J=this.onInitCallbacks.get(L);if(J)try{for(var me=(0,h.XA)(J),ie=me.next();!ie.done;ie=me.next()){var te=ie.value;try{te(k,L)}catch(Le){}}}catch(Le){X={error:Le}}finally{try{ie&&!ie.done&&(K=me.return)&&K.call(me)}finally{if(X)throw X.error}}},Y.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,X=k.options,K=void 0===X?{}:X,J=this.instances.get(L);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:ue(L),options:K}),this.instances.set(L,J),this.instancesOptions.set(L,K),this.invokeOnInitCallbacks(J,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,J)}catch(me){}return J||null},Y.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=fe),this.component?this.component.multipleInstances?k:fe:k},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function ue(Y){return Y===fe?void 0:Y}var de=function(){function Y(k){this.name=k,this.providers=new Map}return Y.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},Y.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},Y.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new ve(k,this);return this.providers.set(k,L),L},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},5601:(Qe,De,F)=>{"use strict";F.d(De,{in:()=>B,Yd:()=>be,Ub:()=>de,Am:()=>Y});const h=[];var B=(()=>{return(k=B||(B={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",B;var k})();const V={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},fe=B.INFO,ve={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ue=(k,L,...X)=>{if(L<k.logLevel)return;const K=(new Date).toISOString(),J=ve[L];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[J](`[${K}]  ${k.name}:`,...X)};class be{constructor(L){this.name=L,this._logLevel=fe,this._logHandler=ue,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in B))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?V[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...L),this._logHandler(this,B.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...L),this._logHandler(this,B.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,B.INFO,...L),this._logHandler(this,B.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,B.WARN,...L),this._logHandler(this,B.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...L),this._logHandler(this,B.ERROR,...L)}}function de(k){h.forEach(L=>{L.setLogLevel(k)})}function Y(k,L){for(const X of h){let K=null;L&&L.level&&(K=V[L.level]),X.userLogHandler=null===k?null:(J,me,...ie)=>{const te=ie.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(Pe){return null}}).filter(Le=>Le).join(" ");me>=(null!=K?K:J.logLevel)&&k({level:B[me].toLowerCase(),message:te,args:ie,type:J.name})}}}},3854:(Qe,De,F)=>{"use strict";F.d(De,{BH:()=>K,LL:()=>Q,ZR:()=>he,tV:()=>Y,r3:()=>pt,Sg:()=>J,ne:()=>Rs,vZ:()=>mi,ZB:()=>L,pd:()=>nr,m9:()=>vs,z$:()=>me,jU:()=>Le,ru:()=>Pe,d:()=>Ge,xb:()=>Mn,w1:()=>Ye,hl:()=>Ht,uI:()=>ie,UG:()=>te,b$:()=>Te,G6:()=>Ce,Mn:()=>Ve,xO:()=>lo,zd:()=>Xr});const fe=function($){const H=[];let j=0;for(let Ee=0;Ee<$.length;Ee++){let se=$.charCodeAt(Ee);se<128?H[j++]=se:se<2048?(H[j++]=se>>6|192,H[j++]=63&se|128):55296==(64512&se)&&Ee+1<$.length&&56320==(64512&$.charCodeAt(Ee+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++Ee)),H[j++]=se>>18|240,H[j++]=se>>12&63|128,H[j++]=se>>6&63|128,H[j++]=63&se|128):(H[j++]=se>>12|224,H[j++]=se>>6&63|128,H[j++]=63&se|128)}return H},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let se=0;se<$.length;se+=3){const qe=$[se],Ue=se+1<$.length,kt=Ue?$[se+1]:0,dn=se+2<$.length,On=dn?$[se+2]:0;let ne=(15&kt)<<2|On>>6,G=63&On;dn||(G=64,Ue||(ne=64)),Ee.push(j[qe>>2],j[(3&qe)<<4|kt>>4],j[ne],j[G])}return Ee.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(fe($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let j=0,Ee=0;for(;j<$.length;){const se=$[j++];if(se<128)H[Ee++]=String.fromCharCode(se);else if(se>191&&se<224){const qe=$[j++];H[Ee++]=String.fromCharCode((31&se)<<6|63&qe)}else if(se>239&&se<365){const dn=((7&se)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;H[Ee++]=String.fromCharCode(55296+(dn>>10)),H[Ee++]=String.fromCharCode(56320+(1023&dn))}else{const qe=$[j++],Ue=$[j++];H[Ee++]=String.fromCharCode((15&se)<<12|(63&qe)<<6|63&Ue)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const j=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let se=0;se<$.length;){const qe=j[$.charAt(se++)],kt=se<$.length?j[$.charAt(se)]:0;++se;const On=se<$.length?j[$.charAt(se)]:64;++se;const Nt=se<$.length?j[$.charAt(se)]:64;if(++se,null==qe||null==kt||null==On||null==Nt)throw Error();Ee.push(qe<<2|kt>>4),64!==On&&(Ee.push(kt<<4&240|On>>2),64!==Nt&&Ee.push(On<<6&192|Nt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},de=function($){return function($){const H=fe($);return ue.encodeByteArray(H,!0)}($).replace(/\./g,"")},Y=function($){try{return ue.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function L($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const j in H)!H.hasOwnProperty(j)||!X(j)||($[j]=L($[j],H[j]));return $}function X($){return"__proto__"!==$}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,j)=>{this.resolve=H,this.reject=j})}wrapCallback(H){return(j,Ee)=>{j?this.reject(j):this.resolve(Ee),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(j):H(j,Ee))}}}function J($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=H||"demo-project",se=$.iat||0,qe=$.sub||$.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:se,exp:se+3600,auth_time:se,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},$);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ue)),""].join(".")}function me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function Le(){return"object"==typeof self&&self.self===self}function Pe(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){return me().indexOf("Electron/")>=0}function Ye(){const $=me();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ve(){return me().indexOf("MSAppHost/")>=0}function Ce(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ht(){return"object"==typeof indexedDB}class he extends Error{constructor(H,j,Ee){super(j),this.code=H,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(H,j,Ee){this.service=H,this.serviceName=j,this.errors=Ee}create(H,...j){const Ee=j[0]||{},se=`${this.service}/${H}`,qe=this.errors[H],Ue=qe?function($,H){return $.replace(Je,(j,Ee)=>{const se=H[Ee];return null!=se?String(se):`<${Ee}?>`})}(qe,Ee):"Error";return new he(se,`${this.serviceName}: ${Ue} (${se}).`,Ee)}}const Je=/\{\$([^}]+)}/g;function pt($,H){return Object.prototype.hasOwnProperty.call($,H)}function Mn($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function mi($,H){if($===H)return!0;const j=Object.keys($),Ee=Object.keys(H);for(const se of j){if(!Ee.includes(se))return!1;const qe=$[se],Ue=H[se];if(Yt(qe)&&Yt(Ue)){if(!mi(qe,Ue))return!1}else if(qe!==Ue)return!1}for(const se of Ee)if(!j.includes(se))return!1;return!0}function Yt($){return null!==$&&"object"==typeof $}function lo($){const H=[];for(const[j,Ee]of Object.entries($))Array.isArray(Ee)?Ee.forEach(se=>{H.push(encodeURIComponent(j)+"="+encodeURIComponent(se))}):H.push(encodeURIComponent(j)+"="+encodeURIComponent(Ee));return H.length?"&"+H.join("&"):""}function Xr($){const H={};return $.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[se,qe]=Ee.split("=");H[decodeURIComponent(se)]=decodeURIComponent(qe)}}),H}function nr($){const H=$.indexOf("?");if(!H)return"";const j=$.indexOf("#",H);return $.substring(H,j>0?j:void 0)}function Rs($,H){const j=new Ai($,H);return j.subscribe.bind(j)}class Ai{constructor(H,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{H(this)}).catch(Ee=>{this.error(Ee)})}next(H){this.forEachObserver(j=>{j.next(H)})}error(H){this.forEachObserver(j=>{j.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,j,Ee){let se;if(void 0===H&&void 0===j&&void 0===Ee)throw new Error("Missing Observer.");se=function($,H){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(H)?H:{next:H,error:j,complete:Ee},void 0===se.next&&(se.next=rr),void 0===se.error&&(se.error=rr),void 0===se.complete&&(se.complete=rr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Ue){}}),this.observers.push(se),qe}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,H)}sendOne(H,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{j(this.observers[H])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}function vs($){return $&&$._delegate?$._delegate:$}},7841:(Qe,De,F)=>{"use strict";F.d(De,{Z:()=>h.Z});var h=F(4486);h.Z.registerVersion("firebase","9.1.1","app-compat")},4828:(Qe,De,F)=>{"use strict";F.r(De);var h=F(8239),B=F(4486),V=F(6031),fe=F(3854),be=(F(5452),F(5601),F(6034));function de(){return window}function L(){return(L=(0,h.Z)(function*(ne,G,z){var Ie;const{BuildInfo:je}=de();(0,V.ap)(G.sessionId,"AuthEvent did not contain a session ID");const at=yield Le(G.sessionId),Mt={};return(0,V.aq)()?Mt.ibi=je.packageName:(0,V.ar)()?Mt.apn=je.packageName:(0,V.as)(ne,"operation-not-supported-in-this-environment"),je.displayName&&(Mt.appDisplayName=je.displayName),Mt.sessionId=at,(0,V.at)(ne,z,G.type,void 0,null!==(Ie=G.eventId)&&void 0!==Ie?Ie:void 0,Mt)})).apply(this,arguments)}function K(){return(K=(0,h.Z)(function*(ne){const{BuildInfo:G}=de(),z={};(0,V.aq)()?z.iosBundleId=G.packageName:(0,V.ar)()?z.androidPackageName=G.packageName:(0,V.as)(ne,"operation-not-supported-in-this-environment"),yield(0,V.au)(ne,z)})).apply(this,arguments)}function ie(){return(ie=(0,h.Z)(function*(ne,G,z){const{cordova:Ie}=de();let je=()=>{};try{yield new Promise((at,Mt)=>{let Gt=null;function Cn(){var qt;at();const xi=null===(qt=Ie.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof xi&&xi(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function Tn(){Gt||(Gt=window.setTimeout(()=>{Mt((0,V.av)(ne,"redirect-cancelled-by-user"))},2e3))}function ir(){"visible"===(null==document?void 0:document.visibilityState)&&Tn()}G.addPassiveListener(Cn),document.addEventListener("resume",Tn,!1),(0,V.ar)()&&document.addEventListener("visibilitychange",ir,!1),je=()=>{G.removePassiveListener(Cn),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",ir,!1),Gt&&window.clearTimeout(Gt)}})}finally{je()}})).apply(this,arguments)}function Le(ne){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,h.Z)(function*(ne){const G=Te(ne),z=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(z)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Te(ne){if((0,V.ap)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ne);const G=new ArrayBuffer(ne.length),z=new Uint8Array(G);for(let Ie=0;Ie<ne.length;Ie++)z[Ie]=ne.charCodeAt(Ie);return z}class Ye extends V.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(G)),super.onEvent(G)}initialized(){var G=this;return(0,h.Z)(function*(){yield G.initPromise})()}}function Ce(ne){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,h.Z)(function*(ne){const G=yield ae()._get(ye(ne));return G&&(yield ae()._remove(ye(ne))),G})).apply(this,arguments)}function _e(){const ne=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const Ie=Math.floor(Math.random()*G.length);ne.push(G.charAt(Ie))}return ne.join("")}function ae(){return(0,V.ax)(V.b)}function ye(ne){return(0,V.ay)("authEvent",ne.config.apiKey,ne.name)}function Oe(ne){if(!(null==ne?void 0:ne.includes("?")))return{};const[G,...z]=ne.split("?");return(0,fe.zd)(z.join("?"))}function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.av)("no-auth-event")}}function pt(){var ne;return(null===(ne=null==self?void 0:self.location)||void 0===ne?void 0:ne.protocol)||null}function Mn(ne=(0,fe.z$)()){return!("file:"!==pt()&&"ionic:"!==pt()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xr(){try{const ne=self.localStorage,G=V.aG();if(ne)return ne.setItem(G,"1"),ne.removeItem(G),!function(ne=(0,fe.z$)()){return(0,fe.w1)()&&11===(null==document?void 0:document.documentMode)||function(ne=(0,fe.z$)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,fe.hl)()}catch(ne){return nr()&&(0,fe.hl)()}return!1}function nr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ei(){return("http:"===pt()||"https:"===pt()||(0,fe.ru)()||Mn())&&!((0,fe.b$)()||(0,fe.UG)())&&Xr()&&!nr()}function Rs(){return Mn()&&"undefined"!=typeof document}function Ji(){return(Ji=(0,h.Z)(function*(){return!!Rs()&&new Promise(ne=>{const G=setTimeout(()=>{ne(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),ne(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},rr=V.aw,Xi="persistence";function xe(ne){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(ne){yield ne._initializationPromise;const G=sn(),z=V.ay(Xi,ne.config.apiKey,ne.name);(null==G?void 0:G.sessionStorage)&&G.sessionStorage.setItem(z,ne._getPersistence())})).apply(this,arguments)}function sn(){return"undefined"!=typeof window?window:null}const $t=V.aw;class ze{constructor(){this.browserResolver=V.ax(V.k),this.cordovaResolver=V.ax(class{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aA}_initialize(G){var z=this;return(0,h.Z)(function*(){const Ie=G._key();let je=z.eventManagers.get(Ie);return je||(je=new Ye(G),z.eventManagers.set(Ie,je),z.attachCallbackListeners(G,je)),je})()}_openPopup(G){(0,V.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,z,Ie,je){var at=this;return(0,h.Z)(function*(){!function(ne){var G,z,Ie,je,at,Mt,Gt,Cn,Tn,ir;const qt=de();(0,V.aw)("function"==typeof(null===(G=null==qt?void 0:qt.universalLinks)||void 0===G?void 0:G.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aw)(void 0!==(null===(z=null==qt?void 0:qt.BuildInfo)||void 0===z?void 0:z.packageName),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aw)("function"==typeof(null===(at=null===(je=null===(Ie=null==qt?void 0:qt.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===je?void 0:je.browsertab)||void 0===at?void 0:at.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(Cn=null===(Gt=null===(Mt=null==qt?void 0:qt.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===Cn?void 0:Cn.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(ir=null===(Tn=null==qt?void 0:qt.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===ir?void 0:ir.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const Mt=yield at._initialize(G);yield Mt.initialized(),Mt.resetRedirect(),(0,V.aB)(),yield at._originValidation(G);const Gt=function(ne,G,z=null){return{type:G,eventId:z,urlResponse:null,sessionId:_e(),postBody:null,tenantId:ne.tenantId,error:(0,V.av)(ne,"no-auth-event")}}(G,Ie,je);yield function(ne,G){return ae()._set(ye(ne),G)}(G,Gt);const Cn=yield function(ne,G,z){return L.apply(this,arguments)}(G,Gt,z),Tn=yield function(ne){const{cordova:G}=de();return new Promise(z=>{G.plugins.browsertab.isAvailable(Ie=>{let je=null;Ie?G.plugins.browsertab.openUrl(ne):je=G.InAppBrowser.open(ne,(0,V.ao)()?"_blank":"_system","location=yes"),z(je)})})}(Cn);return function(ne,G,z){return ie.apply(this,arguments)}(G,Mt,Tn)})()}_isIframeWebStorageSupported(G,z){throw new Error("Method not implemented.")}_originValidation(G){const z=G._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function(ne){return K.apply(this,arguments)}(G)),this.originValidationPromises[z]}attachCallbackListeners(G,z){const{universalLinks:Ie,handleOpenURL:je,BuildInfo:at}=de(),Mt=setTimeout((0,h.Z)(function*(){yield Ce(G),z.onEvent(ut())}),500),Gt=function(){var ir=(0,h.Z)(function*(qt){clearTimeout(Mt);const xi=yield Ce(G);let An=null;xi&&(null==qt?void 0:qt.url)&&(An=function(ne,G){var z,Ie;const je=function(ne){const G=Oe(ne),z=G.link?decodeURIComponent(G.link):void 0,Ie=Oe(z).link,je=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return Oe(je).link||je||Ie||z||ne}(G);if(je.includes("/__/auth/callback")){const at=Oe(je),Mt=at.firebaseError?function(ne){try{return JSON.parse(ne)}catch(G){return null}}(decodeURIComponent(at.firebaseError)):null,Gt=null===(Ie=null===(z=null==Mt?void 0:Mt.code)||void 0===z?void 0:z.split("auth/"))||void 0===Ie?void 0:Ie[1],Cn=Gt?(0,V.av)(Gt):null;return Cn?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:Cn,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:je,postBody:null}}return null}(xi,qt.url)),z.onEvent(An||ut())});return function(xi){return ir.apply(this,arguments)}}();void 0!==Ie&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,Gt);const Cn=je,Tn=`${at.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var ir=(0,h.Z)(function*(qt){if(qt.toLowerCase().startsWith(Tn)&&Gt({url:qt}),"function"==typeof Cn)try{Cn(qt)}catch(xi){console.error(xi)}});return function(qt){return ir.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aA}_initialize(G){var z=this;return(0,h.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,z,Ie,je){var at=this;return(0,h.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(G,z,Ie,je)})()}_openRedirect(G,z,Ie,je){var at=this;return(0,h.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(G,z,Ie,je)})()}_isIframeWebStorageSupported(G,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,z)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Rs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,h.Z)(function*(){if(G.underlyingResolver)return;const z=yield function(){return Ji.apply(this,arguments)}();G.underlyingResolver=z?G.cordovaResolver:G.browserResolver})()}}function Ze(ne){return ne.unwrap()}function ho(ne){return on(ne)}function Si(ne,G){var z;const Ie=null===(z=G.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new j(ne,V.am(ne,G));else if(Ie){const je=on(G),at=G;je&&(at.credential=je,at.tenantId=Ie.tenantId||void 0,at.email=Ie.email||void 0,at.phoneNumber=Ie.phoneNumber||void 0)}}function on(ne){const{_tokenResponse:G}=ne instanceof fe.ZR?ne.customData:ne;if(!G)return null;if(!(ne instanceof fe.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return V.P.credentialFromResult(ne);const z=G.providerId;if(!z||z===V.o.PASSWORD)return null;let Ie;switch(z){case V.o.GOOGLE:Ie=V.N;break;case V.o.FACEBOOK:Ie=V.M;break;case V.o.GITHUB:Ie=V.Q;break;case V.o.TWITTER:Ie=V.V;break;default:const{oauthIdToken:je,oauthAccessToken:at,oauthTokenSecret:Mt,pendingToken:Gt,nonce:Cn}=G;return at||Mt||je||Gt?Gt?z.startsWith("saml.")?V.aJ._create(z,Gt):V.I._fromParams({providerId:z,signInMethod:z,pendingToken:Gt,idToken:je,accessToken:at}):new V.T(z).credential({idToken:je,accessToken:at,rawNonce:Cn}):null}return ne instanceof fe.ZR?Ie.credentialFromError(ne):Ie.credentialFromResult(ne)}function zt(ne,G){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(ne,G){let z;try{z=yield G}catch(at){throw at instanceof fe.ZR&&Si(ne,at),at}const{operationType:Ie,user:je}=z;return{operationType:Ie,credential:ho(z),additionalUserInfo:V.ak(z),user:Ee.getOrCreate(je)}})).apply(this,arguments)}function $(ne,G){return H.apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(ne,G){const z=yield G;return{verificationId:z.verificationId,confirm:Ie=>zt(ne,z.confirm(Ie))}})).apply(this,arguments)}class j{constructor(G,z){this.resolver=z,this.auth=G.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return zt(Ze(this.auth),this.resolver.resolveSignIn(G))}}class Ee{constructor(G){this._delegate=G,this.multiFactor=V.an(G)}static getOrCreate(G){return Ee.USER_MAP.has(G)||Ee.USER_MAP.set(G,new Ee(G)),Ee.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var z=this;return(0,h.Z)(function*(){return zt(z.auth,V.Y(z._delegate,G))})()}linkWithPhoneNumber(G,z){var Ie=this;return(0,h.Z)(function*(){return $(Ie.auth,V.l(Ie._delegate,G,z))})()}linkWithPopup(G){var z=this;return(0,h.Z)(function*(){return zt(z.auth,V.d(z._delegate,G,ze))})()}linkWithRedirect(G){var z=this;return(0,h.Z)(function*(){return yield xe(V.aC(z.auth)),V.g(z._delegate,G,ze)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var z=this;return(0,h.Z)(function*(){return zt(z.auth,V.Z(z._delegate,G))})()}reauthenticateWithPhoneNumber(G,z){return $(this.auth,V.r(this._delegate,G,z))}reauthenticateWithPopup(G){return zt(this.auth,V.e(this._delegate,G,ze))}reauthenticateWithRedirect(G){var z=this;return(0,h.Z)(function*(){return yield xe(V.aC(z.auth)),V.h(z._delegate,G,ze)})()}sendEmailVerification(G){return V.aa(this._delegate,G)}unlink(G){var z=this;return(0,h.Z)(function*(){return yield V.aj(z._delegate,G),z})()}updateEmail(G){return V.af(this._delegate,G)}updatePassword(G){return V.ag(this._delegate,G)}updatePhoneNumber(G){return V.u(this._delegate,G)}updateProfile(G){return V.ae(this._delegate,G)}verifyBeforeUpdateEmail(G,z){return V.ab(this._delegate,G,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ee.USER_MAP=new WeakMap;const se=V.aw;let qe=(()=>{class ne{constructor(z,Ie){if(this.app=z,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=z.options;se(je,"invalid-api-key",{appName:z.name});let at=[V.K];if("undefined"!=typeof window){at=function(ne,G){const z=sn();if(!(null==z?void 0:z.sessionStorage))return[];const Ie=V.ay(Xi,ne,G);switch(z.sessionStorage.getItem(Ie)){case Vt.NONE:return[V.K];case Vt.LOCAL:return[V.i,V.a];case Vt.SESSION:return[V.a];default:return[]}}(je,z.name);for(const Gt of[V.i,V.b,V.a])at.includes(Gt)||at.push(Gt)}se(je,"invalid-api-key",{appName:z.name});const Mt="undefined"!=typeof window?ze:void 0;this._delegate=Ie.initialize({options:{persistence:at,popupRedirectResolver:Mt}}),this._delegate._updateErrorMap(V.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ee.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,Ie){V.E(this._delegate,z,Ie)}applyActionCode(z){return V.a1(this._delegate,z)}checkActionCode(z){return V.a2(this._delegate,z)}confirmPasswordReset(z,Ie){return V.a0(this._delegate,z,Ie)}createUserWithEmailAndPassword(z,Ie){var je=this;return(0,h.Z)(function*(){return zt(je._delegate,V.a4(je._delegate,z,Ie))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return V.a9(this._delegate,z)}isSignInWithEmailLink(z){return V.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,h.Z)(function*(){se(ei(),z._delegate,"operation-not-supported-in-this-environment");const Ie=yield V.j(z._delegate,ze);return Ie?zt(z._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function(ne,G){(0,V.aC)(ne)._logFramework(G)}(this._delegate,z)}onAuthStateChanged(z,Ie,je){const{next:at,error:Mt,complete:Gt}=Ue(z,Ie,je);return this._delegate.onAuthStateChanged(at,Mt,Gt)}onIdTokenChanged(z,Ie,je){const{next:at,error:Mt,complete:Gt}=Ue(z,Ie,je);return this._delegate.onIdTokenChanged(at,Mt,Gt)}sendSignInLinkToEmail(z,Ie){return V.a6(this._delegate,z,Ie)}sendPasswordResetEmail(z,Ie){return V.$(this._delegate,z,Ie||void 0)}setPersistence(z){var Ie=this;return(0,h.Z)(function*(){let je;switch(function(ne,G){rr(Object.values(Vt).includes(G),ne,"invalid-persistence-type"),(0,fe.b$)()?rr(G!==Vt.SESSION,ne,"unsupported-persistence-type"):(0,fe.UG)()?rr(G===Vt.NONE,ne,"unsupported-persistence-type"):nr()?rr(G===Vt.NONE||G===Vt.LOCAL&&(0,fe.hl)(),ne,"unsupported-persistence-type"):rr(G===Vt.NONE||Xr(),ne,"unsupported-persistence-type")}(Ie._delegate,z),z){case Vt.SESSION:je=V.a;break;case Vt.LOCAL:je=(yield V.ax(V.i)._isAvailable())?V.i:V.b;break;case Vt.NONE:je=V.K;break;default:return V.as("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return zt(this._delegate,V.W(this._delegate))}signInWithCredential(z){return zt(this._delegate,V.X(this._delegate,z))}signInWithCustomToken(z){return zt(this._delegate,V._(this._delegate,z))}signInWithEmailAndPassword(z,Ie){return zt(this._delegate,V.a5(this._delegate,z,Ie))}signInWithEmailLink(z,Ie){return zt(this._delegate,V.a8(this._delegate,z,Ie))}signInWithPhoneNumber(z,Ie){return $(this._delegate,V.s(this._delegate,z,Ie))}signInWithPopup(z){var Ie=this;return(0,h.Z)(function*(){return se(ei(),Ie._delegate,"operation-not-supported-in-this-environment"),zt(Ie._delegate,V.c(Ie._delegate,z,ze))})()}signInWithRedirect(z){var Ie=this;return(0,h.Z)(function*(){return se(ei(),Ie._delegate,"operation-not-supported-in-this-environment"),yield xe(Ie._delegate),V.f(Ie._delegate,z,ze)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return V.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=Vt,ne})();function Ue(ne,G,z){let Ie=ne;"function"!=typeof ne&&({next:Ie,error:G,complete:z}=ne);const je=Ie;return{next:Mt=>je(Mt&&Ee.getOrCreate(Mt)),error:G,complete:z}}class kt{constructor(){this.providerId="phone",this._delegate=new V.P(Ze(B.Z.auth()))}static credential(G,z){return V.P.credential(G,z)}verifyPhoneNumber(G,z){return this._delegate.verifyPhoneNumber(G,z)}unwrap(){return this._delegate}}kt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,kt.PROVIDER_ID=V.P.PROVIDER_ID;const dn=V.aw;var ne;(ne=B.Z).INTERNAL.registerComponent(new be.wA("auth-compat",G=>{const z=G.getProvider("app-compat").getImmediate(),Ie=G.getProvider("auth");return new qe(z,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.L,FacebookAuthProvider:V.M,GithubAuthProvider:V.Q,GoogleAuthProvider:V.N,OAuthProvider:V.T,PhoneAuthProvider:kt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:class{constructor(G,z,Ie=B.Z.app()){var je;dn(null===(je=Ie.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new V.R(G,z,Ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:V.V,Auth:qe,AuthCredential:V.G,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.1.4")},7574:(Qe,De,F)=>{"use strict";F.d(De,{y:()=>L});var h=F(7393),V=F(9181),fe=F(6490),ue=F(6554),be=F(4487);var k=F(2494);let L=(()=>{class K{constructor(me){this._isScalar=!1,me&&(this._subscribe=me)}lift(me){const ie=new K;return ie.source=this,ie.operator=me,ie}subscribe(me,ie,te){const{operator:Le}=this,Pe=function(K,J,me){if(K){if(K instanceof h.L)return K;if(K[V.b])return K[V.b]()}return K||J||me?new h.L(K,J,me):new h.L(fe.c)}(me,ie,te);if(Pe.add(Le?Le.call(Pe,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Pe.syncErrorThrowable?this._subscribe(Pe):this._trySubscribe(Pe)),k.v.useDeprecatedSynchronousErrorHandling&&Pe.syncErrorThrowable&&(Pe.syncErrorThrowable=!1,Pe.syncErrorThrown))throw Pe.syncErrorValue;return Pe}_trySubscribe(me){try{return this._subscribe(me)}catch(ie){k.v.useDeprecatedSynchronousErrorHandling&&(me.syncErrorThrown=!0,me.syncErrorValue=ie),function(K){for(;K;){const{closed:J,destination:me,isStopped:ie}=K;if(J||ie)return!1;K=me&&me instanceof h.L?me:null}return!0}(me)?me.error(ie):console.warn(ie)}}forEach(me,ie){return new(ie=X(ie))((te,Le)=>{let Pe;Pe=this.subscribe(Te=>{try{me(Te)}catch(Ge){Le(Ge),Pe&&Pe.unsubscribe()}},Le,te)})}_subscribe(me){const{source:ie}=this;return ie&&ie.subscribe(me)}[ue.L](){return this}pipe(...me){return 0===me.length?this:function(K){return 0===K.length?be.y:1===K.length?K[0]:function(me){return K.reduce((ie,te)=>te(ie),me)}}(me)(this)}toPromise(me){return new(me=X(me))((ie,te)=>{let Le;this.subscribe(Pe=>Le=Pe,Pe=>te(Pe),()=>ie(Le))})}}return K.create=J=>new K(J),K})();function X(K){if(K||(K=k.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>V});var h=F(2494),B=F(4449);const V={closed:!0,next(fe){},error(fe){if(h.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,B.z)(fe)},complete(){}}},9765:(Qe,De,F)=>{"use strict";F.d(De,{Yc:()=>be,xQ:()=>de});var h=F(7574),B=F(7393),V=F(5319),fe=F(7971),ve=F(8858),ue=F(9181);class be extends B.L{constructor(L){super(L),this.destination=L}}let de=(()=>{class k extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ue.b](){return new be(this)}lift(X){const K=new Y(this,this);return K.operator=X,K}next(X){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:K}=this,J=K.length,me=K.slice();for(let ie=0;ie<J;ie++)me[ie].next(X)}}error(X){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=X,this.isStopped=!0;const{observers:K}=this,J=K.length,me=K.slice();for(let ie=0;ie<J;ie++)me[ie].error(X);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:X}=this,K=X.length,J=X.slice();for(let me=0;me<K;me++)J[me].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(X){if(this.closed)throw new fe.N;return super._trySubscribe(X)}_subscribe(X){if(this.closed)throw new fe.N;return this.hasError?(X.error(this.thrownError),V.w.EMPTY):this.isStopped?(X.complete(),V.w.EMPTY):(this.observers.push(X),new ve.W(this,X))}asObservable(){const X=new h.y;return X.source=this,X}}return k.create=(L,X)=>new Y(L,X),k})();class Y extends de{constructor(L,X){super(),this.destination=L,this.source=X}next(L){const{destination:X}=this;X&&X.next&&X.next(L)}error(L){const{destination:X}=this;X&&X.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:X}=this;return X?this.source.subscribe(L):V.w.EMPTY}}},8858:(Qe,De,F)=>{"use strict";F.d(De,{W:()=>B});var h=F(5319);class B extends h.w{constructor(fe,ve){super(),this.subject=fe,this.subscriber=ve,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const fe=this.subject,ve=fe.observers;if(this.subject=null,!ve||0===ve.length||fe.isStopped||fe.closed)return;const ue=ve.indexOf(this.subscriber);-1!==ue&&ve.splice(ue,1)}}},7393:(Qe,De,F)=>{"use strict";F.d(De,{L:()=>be});var h=F(9105),B=F(6490),V=F(5319),fe=F(9181),ve=F(2494),ue=F(4449);class be extends V.w{constructor(k,L,X){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!k){this.destination=B.c;break}if("object"==typeof k){k instanceof be?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new de(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new de(this,k,L,X)}}[fe.b](){return this}static create(k,L,X){const K=new be(k,L,X);return K.syncErrorThrowable=!1,K}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class de extends be{constructor(k,L,X,K){super(),this._parentSubscriber=k;let J,me=this;(0,h.m)(L)?J=L:L&&(J=L.next,X=L.error,K=L.complete,L!==B.c&&(me=Object.create(L),(0,h.m)(me.unsubscribe)&&this.add(me.unsubscribe.bind(me)),me.unsubscribe=this.unsubscribe.bind(this))),this._context=me,this._next=J,this._error=X,this._complete=K}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;ve.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:X}=ve.v;if(this._error)X&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)X?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,ue.z)(k),this.unsubscribe();else{if(this.unsubscribe(),X)throw k;(0,ue.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);ve.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(X){if(this.unsubscribe(),ve.v.useDeprecatedSynchronousErrorHandling)throw X;(0,ue.z)(X)}}__tryOrSetError(k,L,X){if(!ve.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,X)}catch(K){return ve.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=K,k.syncErrorThrown=!0,!0):((0,ue.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Qe,De,F)=>{"use strict";F.d(De,{w:()=>ue});var h=F(9796),B=F(1555),V=F(9105);const ve=(()=>{function de(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return de.prototype=Object.create(Error.prototype),de})();class ue{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:X,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ue)k.remove(this);else if(null!==k)for(let J=0;J<k.length;++J)k[J].remove(this);if((0,V.m)(X)){L&&(this._unsubscribe=void 0);try{X.call(this)}catch(J){Y=J instanceof ve?be(J.errors):[J]}}if((0,h.k)(K)){let J=-1,me=K.length;for(;++J<me;){const ie=K[J];if((0,B.K)(ie))try{ie.unsubscribe()}catch(te){Y=Y||[],te instanceof ve?Y=Y.concat(be(te.errors)):Y.push(te)}}}if(Y)throw new ve(Y)}add(Y){let k=Y;if(!Y)return ue.EMPTY;switch(typeof Y){case"function":k=new ue(Y);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ue)){const K=k;k=new ue,k._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof ue){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const X=this._subscriptions;return null===X?this._subscriptions=[k]:X.push(k),k}remove(Y){const k=this._subscriptions;if(k){const L=k.indexOf(Y);-1!==L&&k.splice(L,1)}}}var de;function be(de){return de.reduce((Y,k)=>Y.concat(k instanceof ve?k.errors:k),[])}ue.EMPTY=((de=new ue).closed=!0,de)},2494:(Qe,De,F)=>{"use strict";F.d(De,{v:()=>B});let h=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=V},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(Qe,De,F)=>{"use strict";F.d(De,{IY:()=>fe,Ds:()=>ue,ft:()=>de});var h=F(7393),B=F(7574),V=F(7444);class fe extends h.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ue extends h.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function de(Y,k){if(k.closed)return;if(Y instanceof B.y)return Y.subscribe(k);let L;try{L=(0,V.s)(Y)(k)}catch(X){k.error(X)}return L}},2441:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>ve,N:()=>ue});var h=F(9765),B=F(7574),V=F(5319),fe=F(1307);class ve extends B.y{constructor(L,X){super(),this.source=L,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new V.w,L.add(this.source.subscribe(new be(this.getSubject(),this))),L.closed&&(this._connection=null,L=V.w.EMPTY)),L}refCount(){return(0,fe.x)()(this)}}const ue=(()=>{const k=ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class be extends h.Yc{constructor(L,X){super(L),this.connectable=X}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const X=L._connection;L._refCount=0,L._subject=null,L._connection=null,X&&X.unsubscribe()}}}},9193:(Qe,De,F)=>{"use strict";F.d(De,{E:()=>B,c:()=>V});var h=F(7574);const B=new h.y(ve=>ve.complete());function V(ve){return ve?function(ve){return new h.y(ue=>ve.schedule(()=>ue.complete()))}(ve):B}},4402:(Qe,De,F)=>{"use strict";F.d(De,{D:()=>me});var h=F(7574),B=F(7444),V=F(5319),fe=F(6554),be=F(4087),de=F(377),L=F(4072),X=F(9489);function me(ie,te){return te?function(ie,te){if(null!=ie){if(function(ie){return ie&&"function"==typeof ie[fe.L]}(ie))return function(ie,te){return new h.y(Le=>{const Pe=new V.w;return Pe.add(te.schedule(()=>{const Te=ie[fe.L]();Pe.add(Te.subscribe({next(Ge){Pe.add(te.schedule(()=>Le.next(Ge)))},error(Ge){Pe.add(te.schedule(()=>Le.error(Ge)))},complete(){Pe.add(te.schedule(()=>Le.complete()))}}))})),Pe})}(ie,te);if((0,L.t)(ie))return function(ie,te){return new h.y(Le=>{const Pe=new V.w;return Pe.add(te.schedule(()=>ie.then(Te=>{Pe.add(te.schedule(()=>{Le.next(Te),Pe.add(te.schedule(()=>Le.complete()))}))},Te=>{Pe.add(te.schedule(()=>Le.error(Te)))}))),Pe})}(ie,te);if((0,X.z)(ie))return(0,be.r)(ie,te);if(function(ie){return ie&&"function"==typeof ie[de.hZ]}(ie)||"string"==typeof ie)return function(ie,te){if(!ie)throw new Error("Iterable cannot be null");return new h.y(Le=>{const Pe=new V.w;let Te;return Pe.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),Pe.add(te.schedule(()=>{Te=ie[de.hZ](),Pe.add(te.schedule(function(){if(Le.closed)return;let Ge,Ye;try{const Ve=Te.next();Ge=Ve.value,Ye=Ve.done}catch(Ve){return void Le.error(Ve)}Ye?Le.complete():(Le.next(Ge),this.schedule())}))})),Pe})}(ie,te)}throw new TypeError((null!==ie&&typeof ie||ie)+" is not observable")}(ie,te):ie instanceof h.y?ie:new h.y((0,B.s)(ie))}},6693:(Qe,De,F)=>{"use strict";F.d(De,{n:()=>fe});var h=F(7574),B=F(5015),V=F(4087);function fe(ve,ue){return ue?(0,V.r)(ve,ue):new h.y((0,B.V)(ve))}},6682:(Qe,De,F)=>{"use strict";F.d(De,{T:()=>ve});var h=F(7574),B=F(4869),V=F(3282),fe=F(6693);function ve(...ue){let be=Number.POSITIVE_INFINITY,de=null,Y=ue[ue.length-1];return(0,B.K)(Y)?(de=ue.pop(),ue.length>1&&"number"==typeof ue[ue.length-1]&&(be=ue.pop())):"number"==typeof Y&&(be=ue.pop()),null===de&&1===ue.length&&ue[0]instanceof h.y?ue[0]:(0,V.J)(be)((0,fe.n)(ue,de))}},5917:(Qe,De,F)=>{"use strict";F.d(De,{of:()=>fe});var h=F(4869),B=F(6693),V=F(4087);function fe(...ve){let ue=ve[ve.length-1];return(0,h.K)(ue)?(ve.pop(),(0,V.r)(ve,ue)):(0,B.n)(ve)}},8002:(Qe,De,F)=>{"use strict";F.d(De,{U:()=>B});var h=F(7393);function B(ve,ue){return function(de){if("function"!=typeof ve)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return de.lift(new V(ve,ue))}}class V{constructor(ue,be){this.project=ue,this.thisArg=be}call(ue,be){return be.subscribe(new fe(ue,this.project,this.thisArg))}}class fe extends h.L{constructor(ue,be,de){super(ue),this.project=be,this.count=0,this.thisArg=de||this}_next(ue){let be;try{be=this.project.call(this.thisArg,ue,this.count++)}catch(de){return void this.destination.error(de)}this.destination.next(be)}}},3282:(Qe,De,F)=>{"use strict";F.d(De,{J:()=>V});var h=F(9773),B=F(4487);function V(fe=Number.POSITIVE_INFINITY){return(0,h.zg)(B.y,fe)}},9773:(Qe,De,F)=>{"use strict";F.d(De,{zg:()=>fe});var h=F(8002),B=F(4402),V=F(5345);function fe(de,Y,k=Number.POSITIVE_INFINITY){return"function"==typeof Y?L=>L.pipe(fe((X,K)=>(0,B.D)(de(X,K)).pipe((0,h.U)((J,me)=>Y(X,J,K,me))),k)):("number"==typeof Y&&(k=Y),L=>L.lift(new ve(de,k)))}class ve{constructor(Y,k=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=k}call(Y,k){return k.subscribe(new ue(Y,this.project,this.concurrent))}}class ue extends V.Ds{constructor(Y,k,L=Number.POSITIVE_INFINITY){super(Y),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let k;const L=this.index++;try{k=this.project(Y,L)}catch(X){return void this.destination.error(X)}this.active++,this._innerSub(k)}_innerSub(Y){const k=new V.IY(this),L=this.destination;L.add(k);const X=(0,V.ft)(Y,k);X!==k&&L.add(X)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Qe,De,F)=>{"use strict";F.d(De,{ht:()=>L,QV:()=>Y});var h=F(7393),B=F(9193),V=F(5917),fe=F(7574);class de{constructor(J,me,ie){this.kind=J,this.value=me,this.error=ie,this.hasValue="N"===J}observe(J){switch(this.kind){case"N":return J.next&&J.next(this.value);case"E":return J.error&&J.error(this.error);case"C":return J.complete&&J.complete()}}do(J,me,ie){switch(this.kind){case"N":return J&&J(this.value);case"E":return me&&me(this.error);case"C":return ie&&ie()}}accept(J,me,ie){return J&&"function"==typeof J.next?this.observe(J):this.do(J,me,ie)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return K=this.error,new fe.y(me=>me.error(K));case"C":return(0,B.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(J){return void 0!==J?new de("N",J):de.undefinedValueNotification}static createError(J){return new de("E",void 0,J)}static createComplete(){return de.completeNotification}}function Y(K,J=0){return function(ie){return ie.lift(new k(K,J))}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0);class k{constructor(J,me=0){this.scheduler=J,this.delay=me}call(J,me){return me.subscribe(new L(J,this.scheduler,this.delay))}}class L extends h.L{constructor(J,me,ie=0){super(J),this.scheduler=me,this.delay=ie}static dispatch(J){const{notification:me,destination:ie}=J;me.observe(ie),this.unsubscribe()}scheduleMessage(J){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new X(J,this.destination)))}_next(J){this.scheduleMessage(de.createNext(J))}_error(J){this.scheduleMessage(de.createError(J)),this.unsubscribe()}_complete(){this.scheduleMessage(de.createComplete()),this.unsubscribe()}}class X{constructor(J,me){this.notification=J,this.destination=me}}},1307:(Qe,De,F)=>{"use strict";F.d(De,{x:()=>B});var h=F(7393);function B(){return function(ue){return ue.lift(new V(ue))}}class V{constructor(ue){this.connectable=ue}call(ue,be){const{connectable:de}=this;de._refCount++;const Y=new fe(ue,de),k=be.subscribe(Y);return Y.closed||(Y.connection=de.connect()),k}}class fe extends h.L{constructor(ue,be){super(ue),this.connectable=be}_unsubscribe(){const{connectable:ue}=this;if(!ue)return void(this.connection=null);this.connectable=null;const be=ue._refCount;if(be<=0)return void(this.connection=null);if(ue._refCount=be-1,be>1)return void(this.connection=null);const{connection:de}=this,Y=ue._connection;this.connection=null,Y&&(!de||Y===de)&&Y.unsubscribe()}}},3101:(Qe,De,F)=>{"use strict";F.d(De,{R:()=>te});var h=F(7574);let B=1;const V=Promise.resolve(),fe={};function ve(Pe){return Pe in fe&&(delete fe[Pe],!0)}const ue={setImmediate(Pe){const Te=B++;return fe[Te]=!0,V.then(()=>ve(Te)&&Pe()),Te},clearImmediate(Pe){ve(Pe)}};var de=F(6465),k=F(6102);const K=new class extends k.v{flush(Te){this.active=!0,this.scheduled=void 0;const{actions:Ge}=this;let Ye,Ve=-1,bt=Ge.length;Te=Te||Ge.shift();do{if(Ye=Te.execute(Te.state,Te.delay))break}while(++Ve<bt&&(Te=Ge.shift()));if(this.active=!1,Ye){for(;++Ve<bt&&(Te=Ge.shift());)Te.unsubscribe();throw Ye}}}(class extends de.o{constructor(Te,Ge){super(Te,Ge),this.scheduler=Te,this.work=Ge}requestAsyncId(Te,Ge,Ye=0){return null!==Ye&&Ye>0?super.requestAsyncId(Te,Ge,Ye):(Te.actions.push(this),Te.scheduled||(Te.scheduled=ue.setImmediate(Te.flush.bind(Te,null))))}recycleAsyncId(Te,Ge,Ye=0){if(null!==Ye&&Ye>0||null===Ye&&this.delay>0)return super.recycleAsyncId(Te,Ge,Ye);0===Te.actions.length&&(ue.clearImmediate(Ge),Te.scheduled=void 0)}});var J=F(9796);class ie extends h.y{constructor(Te,Ge=0,Ye=K){var Pe;super(),this.source=Te,this.delayTime=Ge,this.scheduler=Ye,(!(!(0,J.k)(Pe=Ge)&&Pe-parseFloat(Pe)+1>=0)||Ge<0)&&(this.delayTime=0),(!Ye||"function"!=typeof Ye.schedule)&&(this.scheduler=K)}static create(Te,Ge=0,Ye=K){return new ie(Te,Ge,Ye)}static dispatch(Te){const{source:Ge,subscriber:Ye}=Te;return this.add(Ge.subscribe(Ye))}_subscribe(Te){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function te(Pe,Te=0){return function(Ye){return Ye.lift(new Le(Pe,Te))}}class Le{constructor(Te,Ge){this.scheduler=Te,this.delay=Ge}call(Te,Ge){return new ie(Ge,this.delay,this.scheduler).subscribe(Te)}}},3342:(Qe,De,F)=>{"use strict";F.d(De,{b:()=>fe});var h=F(7393);function B(){}var V=F(9105);function fe(be,de,Y){return function(L){return L.lift(new ve(be,de,Y))}}class ve{constructor(de,Y,k){this.nextOrObserver=de,this.error=Y,this.complete=k}call(de,Y){return Y.subscribe(new ue(de,this.nextOrObserver,this.error,this.complete))}}class ue extends h.L{constructor(de,Y,k,L){super(de),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=k||B,this._tapComplete=L||B,(0,V.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||B,this._tapError=Y.error||B,this._tapComplete=Y.complete||B)}_next(de){try{this._tapNext.call(this._context,de)}catch(Y){return void this.destination.error(Y)}this.destination.next(de)}_error(de){try{this._tapError.call(this._context,de)}catch(Y){return void this.destination.error(Y)}this.destination.error(de)}_complete(){try{this._tapComplete.call(this._context)}catch(de){return void this.destination.error(de)}return this.destination.complete()}}},4087:(Qe,De,F)=>{"use strict";F.d(De,{r:()=>V});var h=F(7574),B=F(5319);function V(fe,ve){return new h.y(ue=>{const be=new B.w;let de=0;return be.add(ve.schedule(function(){de!==fe.length?(ue.next(fe[de++]),ue.closed||be.add(this.schedule())):ue.complete()})),be})}},6465:(Qe,De,F)=>{"use strict";F.d(De,{o:()=>V});var h=F(5319);class B extends h.w{constructor(ve,ue){super()}schedule(ve,ue=0){return this}}class V extends B{constructor(ve,ue){super(ve,ue),this.scheduler=ve,this.work=ue,this.pending=!1}schedule(ve,ue=0){if(this.closed)return this;this.state=ve;const be=this.id,de=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(de,be,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(de,this.id,ue),this}requestAsyncId(ve,ue,be=0){return setInterval(ve.flush.bind(ve,this),be)}recycleAsyncId(ve,ue,be=0){if(null!==be&&this.delay===be&&!1===this.pending)return ue;clearInterval(ue)}execute(ve,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ve,ue);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,ue){let de,be=!1;try{this.work(ve)}catch(Y){be=!0,de=!!Y&&Y||new Error(Y)}if(be)return this.unsubscribe(),de}_unsubscribe(){const ve=this.id,ue=this.scheduler,be=ue.actions,de=be.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==de&&be.splice(de,1),null!=ve&&(this.id=this.recycleAsyncId(ue,ve,null)),this.delay=null}}},6102:(Qe,De,F)=>{"use strict";F.d(De,{v:()=>B});let h=(()=>{class V{constructor(ve,ue=V.now){this.SchedulerAction=ve,this.now=ue}schedule(ve,ue=0,be){return new this.SchedulerAction(this,ve).schedule(be,ue)}}return V.now=()=>Date.now(),V})();class B extends h{constructor(fe,ve=h.now){super(fe,()=>B.delegate&&B.delegate!==this?B.delegate.now():ve()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(fe,ve=0,ue){return B.delegate&&B.delegate!==this?B.delegate.schedule(fe,ve,ue):super.schedule(fe,ve,ue)}flush(fe){const{actions:ve}=this;if(this.active)return void ve.push(fe);let ue;this.active=!0;do{if(ue=fe.execute(fe.state,fe.delay))break}while(fe=ve.shift());if(this.active=!1,ue){for(;fe=ve.shift();)fe.unsubscribe();throw ue}}}},3637:(Qe,De,F)=>{"use strict";F.d(De,{z:()=>V,P:()=>fe});var h=F(6465);const V=new(F(6102).v)(h.o),fe=V},7771:(Qe,De,F)=>{"use strict";F.d(De,{c:()=>ue,N:()=>ve});var h=F(6465),V=F(6102);const ve=new class extends V.v{}(class extends h.o{constructor(de,Y){super(de,Y),this.scheduler=de,this.work=Y}schedule(de,Y=0){return Y>0?super.schedule(de,Y):(this.delay=Y,this.state=de,this.scheduler.flush(this),this)}execute(de,Y){return Y>0||this.closed?super.execute(de,Y):this._execute(de,Y)}requestAsyncId(de,Y,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(de,Y,k):de.flush(this)}}),ue=ve},377:(Qe,De,F)=>{"use strict";F.d(De,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Qe,De,F)=>{"use strict";F.d(De,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Qe,De,F)=>{"use strict";F.d(De,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Qe,De,F)=>{"use strict";F.d(De,{N:()=>B});const B=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},4449:(Qe,De,F)=>{"use strict";function h(B){setTimeout(()=>{throw B},0)}F.d(De,{z:()=>h})},4487:(Qe,De,F)=>{"use strict";function h(B){return B}F.d(De,{y:()=>h})},9796:(Qe,De,F)=>{"use strict";F.d(De,{k:()=>h});const h=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(Qe,De,F)=>{"use strict";F.d(De,{z:()=>h});const h=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(Qe,De,F)=>{"use strict";function h(B){return"function"==typeof B}F.d(De,{m:()=>h})},1555:(Qe,De,F)=>{"use strict";function h(B){return null!==B&&"object"==typeof B}F.d(De,{K:()=>h})},4072:(Qe,De,F)=>{"use strict";function h(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}F.d(De,{t:()=>h})},4869:(Qe,De,F)=>{"use strict";function h(B){return B&&"function"==typeof B.schedule}F.d(De,{K:()=>h})},7444:(Qe,De,F)=>{"use strict";F.d(De,{s:()=>L});var h=F(5015),B=F(4449),fe=F(377),ue=F(6554),de=F(9489),Y=F(4072),k=F(1555);const L=X=>{if(X&&"function"==typeof X[ue.L])return(X=>K=>{const J=X[ue.L]();if("function"!=typeof J.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return J.subscribe(K)})(X);if((0,de.z)(X))return(0,h.V)(X);if((0,Y.t)(X))return(X=>K=>(X.then(J=>{K.closed||(K.next(J),K.complete())},J=>K.error(J)).then(null,B.z),K))(X);if(X&&"function"==typeof X[fe.hZ])return(X=>K=>{const J=X[fe.hZ]();for(;;){let me;try{me=J.next()}catch(ie){return K.error(ie),K}if(me.done){K.complete();break}if(K.next(me.value),K.closed)break}return"function"==typeof J.return&&K.add(()=>{J.return&&J.return()}),K})(X);{const J=`You provided ${(0,k.K)(X)?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(J)}}},5015:(Qe,De,F)=>{"use strict";F.d(De,{V:()=>h});const h=B=>V=>{for(let fe=0,ve=B.length;fe<ve&&!V.closed;fe++)V.next(B[fe]);V.complete()}},8955:(Qe,De,F)=>{"use strict";var h=F(3018);let B=null;function V(){return B}const be=new h.OlP("DocumentToken");let de=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,h.Yz7)({factory:Y,token:i,providedIn:"platform"}),i})();function Y(){return(0,h.LFG)(L)}const k=new h.OlP("Location Initialized");let L=(()=>{class i extends de{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(r){const a=V().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=V().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,c){X()?this._history.pushState(r,a,c):this.location.hash=c}replaceState(r,a,c){X()?this._history.replaceState(r,a,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(be))},i.\u0275prov=(0,h.Yz7)({factory:K,token:i,providedIn:"platform"}),i})();function X(){return!!window.history.pushState}function K(){return new L((0,h.LFG)(be))}function J(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function me(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ie(i){return i&&"?"!==i[0]?"?"+i:i}let te=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,h.Yz7)({factory:Le,token:i,providedIn:"root"}),i})();function Le(i){const n=(0,h.LFG)(be).location;return new Te((0,h.LFG)(de),n&&n.origin||"")}const Pe=new h.OlP("appBaseHref");let Te=(()=>{class i extends te{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return J(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+ie(this._platformLocation.search),c=this._platformLocation.hash;return c&&r?`${a}${c}`:a}pushState(r,a,c,f){const m=this.prepareExternalUrl(c+ie(f));this._platformLocation.pushState(r,a,m)}replaceState(r,a,c,f){const m=this.prepareExternalUrl(c+ie(f));this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(de),h.LFG(Pe,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Ge=(()=>{class i extends te{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=J(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,c,f){let m=this.prepareExternalUrl(c+ie(f));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,a,m)}replaceState(r,a,c,f){let m=this.prepareExternalUrl(c+ie(f));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(de),h.LFG(Pe,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Ye=(()=>{class i{constructor(r,a){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const c=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=me(Ce(c)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+ie(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Ce(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",c=null){this._platformStrategy.pushState(c,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ie(a)),c)}replaceState(r,a="",c=null){this._platformStrategy.replaceState(c,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ie(a)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,c;null===(c=(a=this._platformStrategy).historyGo)||void 0===c||c.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(c=>c(r,a))}subscribe(r,a,c){return this._subject.subscribe({next:r,error:a,complete:c})}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(te),h.LFG(de))},i.normalizeQueryParams=ie,i.joinWithSlash=J,i.stripTrailingSlash=me,i.\u0275prov=(0,h.Yz7)({factory:Ve,token:i,providedIn:"root"}),i})();function Ve(){return new Ye((0,h.LFG)(te),(0,h.LFG)(de))}function Ce(i){return i.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const nr=h.kL8;class Ri{}let aa=(()=>{class i extends Ri{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(nr(a||this.locale)(r)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.soG))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class _u{constructor(n,r,a,c){this.$implicit=n,this.ngForOf=r,this.index=a,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class i{constructor(r,a,c){this._viewContainer=r,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=[];r.forEachOperation((c,f,m)=>{if(null==c.previousIndex){const E=this._viewContainer.createEmbeddedView(this._template,new _u(null,this._ngForOf,-1,-1),null===m?void 0:m),D=new sr(c,E);a.push(D)}else if(null==m)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const E=this._viewContainer.get(f);this._viewContainer.move(E,m);const D=new sr(c,E);a.push(D)}});for(let c=0;c<a.length;c++)this._perViewChange(a[c].view,a[c].record);for(let c=0,f=this._viewContainer.length;c<f;c++){const m=this._viewContainer.get(c);m.context.index=c,m.context.count=f,m.context.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(r,a){r.context.$implicit=a.item}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class sr{constructor(n,r){this.record=n,this.view=r}}let xr=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new Ni,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Jt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Jt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Ni{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,h.AaK)(n)}'.`)}let da=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[{provide:Ri,useClass:aa}]}),i})();function jr(i){return"server"===i}let ha=(()=>{class i{}return i.\u0275prov=(0,h.Yz7)({token:i,providedIn:"root",factory:()=>new Ep((0,h.LFG)(be),window)}),i})();class Ep{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=a.currentNode;for(;c;){const f=c.shadowRoot;if(f){const m=f.getElementById(n)||f.querySelector(`[name="${n}"]`);if(m)return m}c=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,c=r.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],c-f[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=bu(this.window.history)||bu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function bu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Ms extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Ms,B||(B=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(vo=vo||document.querySelector("base"),vo?vo.getAttribute("href"):null);return null==r?null:function(i){Iu=Iu||document.createElement("a"),Iu.setAttribute("href",i);const n=Iu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[c,f]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(c.trim()===n)return decodeURIComponent(f)}return null}(document.cookie,n)}}let Iu,vo=null;const th=new h.OlP("TRANSITION_ID"),nh=[{provide:h.ip1,useFactory:function(i,n,r){return()=>{r.get(h.CZH).donePromise.then(()=>{const a=V(),c=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<c.length;f++)a.remove(c[f])})}},deps:[th,be,h.zs3],multi:!0}];class vn{static init(){(0,h.VLi)(new vn)}addToWindow(n){h.dqk.getAngularTestability=(a,c=!0)=>{const f=n.findTestabilityInTree(a,c);if(null==f)throw new Error("Could not find testability for element.");return f},h.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(a=>{const c=h.dqk.getAllAngularTestabilities();let f=c.length,m=!1;const E=function(D){m=m||D,f--,0==f&&a(m)};c.forEach(function(D){D.whenStable(E)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const c=n.getTestability(r);return null!=c?c:a?V().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let rh=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const ma=new h.OlP("EventManagerPlugins");let _a=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(c=>c.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,c){return this._findPluginFor(a).addEventListener(r,a,c)}addGlobalEventListener(r,a,c){return this._findPluginFor(a).addGlobalEventListener(r,a,c)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const c=this._plugins;for(let f=0;f<c.length;f++){const m=c[f];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(ma),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class ih{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const c=V().getGlobalEventTarget(this._doc,n);if(!c)throw new Error(`Unsupported event target ${c} for event ${r}`);return this.addEventListener(c,r,a)}}let Au=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),a.add(c))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Su=(()=>{class i extends Au{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,c){r.forEach(f=>{const m=this._doc.createElement("style");m.textContent=f,c.push(a.appendChild(m))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(el),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,c)=>{this._addStylesToHost(r,c,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(el))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(be))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function el(i){V().remove(i)}const Ae={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ft=/%COMP%/g;function ya(i,n,r){for(let a=0;a<n.length;a++){let c=n[a];Array.isArray(c)?ya(i,c,r):(c=c.replace(Ft,i),r.push(c))}return r}function sh(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let Os=(()=>{class i{constructor(r,a,c){this.eventManager=r,this.sharedStylesHost=a,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new va(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case h.ifc.Emulated:{let c=this.rendererByCompId.get(a.id);return c||(c=new wa(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,c)),c.applyToHost(r),c}case 1:case h.ifc.ShadowDom:return new Oi(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const c=ya(a.id,a.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(_a),h.LFG(Su),h.LFG(h.AFp))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class va{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ae[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,c){if(c){r=c+":"+r;const f=Ae[c];f?n.setAttributeNS(f,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const c=Ae[a];c?n.removeAttributeNS(c,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,c){c&(h.JOm.DashCase|h.JOm.Important)?n.style.setProperty(r,a,c&h.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&h.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,sh(a)):this.eventManager.addEventListener(n,r,sh(a))}}class wa extends va{constructor(n,r,a,c){super(n),this.component=a;const f=ya(c+"-"+a.id,a.styles,[]);r.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(Ft,c+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Ft,i)}(c+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class Oi extends va{constructor(n,r,a,c){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=ya(c.id,c.styles,[]);for(let m=0;m<f.length;m++){const E=document.createElement("style");E.textContent=f[m],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let V_=(()=>{class i extends ih{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,c){return r.addEventListener(a,c,!1),()=>this.removeEventListener(r,a,c)}removeEventListener(r,a,c){return r.removeEventListener(a,c)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(be))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Mu=["alt","control","meta","shift"],j_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let is=(()=>{class i extends ih{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,c){const f=i.parseEventName(a),m=i.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(r,f.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const f=i._normalizeKey(a.pop());let m="";if(Mu.forEach(D=>{const S=a.indexOf(D);S>-1&&(a.splice(S,1),m+=D+".")}),m+=f,0!=a.length||0===f.length)return null;const E={};return E.domEventName=c,E.fullKey=m,E}static getEventFullKey(r){let a="",c=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Rp.hasOwnProperty(n)&&(n=Rp[n]))}return j_[n]||n}(r);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Mu.forEach(f=>{f!=c&&Hr[f](r)&&(a+=f+".")}),a+=c,a}static eventCallback(r,a,c){return f=>{i.getEventFullKey(f)===r&&c.runGuarded(()=>a(f))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(be))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const q_=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){Ms.makeCurrent(),vn.init()},multi:!0},{provide:be,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),ks=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:ma,useClass:V_,multi:!0,deps:[be,h.R0b,h.Lbi]},{provide:ma,useClass:is,multi:!0,deps:[be]},[],{provide:Os,useClass:Os,deps:[_a,Su,h.AFp]},{provide:h.FYo,useExisting:Os},{provide:Au,useExisting:Su},{provide:Su,useClass:Su,deps:[be]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:_a,useClass:_a,deps:[ma,h.R0b]},{provide:class{},useClass:rh,deps:[]},[]];let sl=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:h.AFp,useValue:r.appId},{provide:th,useExisting:h.AFp},nh]}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(i,12))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:ks,imports:[da,h.hGG]}),i})();"undefined"!=typeof window&&window;var tn=F(4402),rt=F(5917),ss=F(9765),Aa=F(7971);class mr extends ss.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Aa.N;return this._value}next(n){super.next(this._value=n)}}var ku=F(4869),Sa=F(9796),Rr=F(7393);class VE extends Rr.L{notifyNext(n,r,a,c,f){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class hh extends Rr.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fp=F(7444),si=F(7574);function Lp(i,n,r,a,c=new hh(i,r,a)){if(!c.closed)return n instanceof si.y?n.subscribe(c):(0,Fp.s)(n)(c)}var fh=F(6693);const Vp={};class xa{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Q_(n,this.resultSelector))}}class Q_ extends VE{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Vp),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(Lp(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const c=this.values,m=this.toRespond?c[a]===Vp?--this.toRespond:this.toRespond:0;c[a]=r,0===m&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const Ls=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Es=F(3282);function Lu(...i){return(0,Es.J)(1)((0,rt.of)(...i))}var yi=F(9193);function bo(i){return new si.y(n=>{let r;try{r=i()}catch(c){return void n.error(c)}return(r?(0,tn.D)(r):(0,yi.c)()).subscribe(n)})}var Ra=F(2441),mt=F(8002),os=F(5345);function kn(i,n){return"function"==typeof n?r=>r.pipe(kn((a,c)=>(0,tn.D)(i(a,c)).pipe((0,mt.U)((f,m)=>n(a,f,c,m))))):r=>r.lift(new Vs(i))}class Vs{constructor(n){this.project=n}call(n,r){return r.subscribe(new UE(n,this.project))}}class UE extends os.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(c){return void this.destination.error(c)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new os.IY(this),c=this.destination;c.add(a),this.innerSubscription=(0,os.ft)(n,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Bp=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function ol(i){return n=>0===i?(0,yi.c)():n.lift(new X_(i))}class X_{constructor(n){if(this.total=n,this.total<0)throw new Bp}call(n,r){return r.subscribe(new pn(n,this.total))}}class pn extends Rr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function al(...i){const n=i[i.length-1];return(0,ku.K)(n)?(i.pop(),r=>Lu(i,r,n)):r=>Lu(i,r)}function Us(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(c){return c.lift(new BE(i,n,r))}}class BE{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new jp(n,this.accumulator,this.seed,this.hasSeed))}}class jp extends Rr.L{constructor(n,r,a,c){super(n),this.accumulator=r,this._seed=a,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(c){this.destination.error(c)}this.seed=a,this.destination.next(a)}}function Pi(i,n){return function(a){return a.lift(new Hp(i,n))}}class Hp{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new jE(n,this.predicate,this.thisArg))}}class jE extends Rr.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}function Bs(i){return function(r){const a=new HE(i),c=r.lift(a);return a.caught=c}}class HE{constructor(n){this.selector=n}call(n,r){return r.subscribe(new Na(n,this.selector,this.caught))}}class Na extends os.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const a=new os.IY(this);this.add(a);const c=(0,os.ft)(r,a);c!==a&&this.add(c)}}}var _r=F(9773);function Cs(i,n){return(0,_r.zg)(i,n,1)}function $p(i){return function(r){return 0===i?(0,yi.c)():r.lift(new Un(i))}}class Un{constructor(n){if(this.total=n,this.total<0)throw new Bp}call(n,r){return r.subscribe(new Ma(n,this.total))}}class Ma extends Rr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,c=this.count++;r.length<a?r.push(n):r[c%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,c=this.ring;for(let f=0;f<a;f++){const m=r++%a;n.next(c[m])}}n.complete()}}function Oa(i=$r){return n=>n.lift(new $E(i))}class $E{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new ey(n,this.errorFactory))}}class ey extends Rr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function $r(){return new Ls}function ki(i=null){return n=>n.lift(new Pa(i))}class Pa{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new Io(n,this.defaultValue))}}class Io extends Rr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Fi=F(4487);function Do(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Pi((c,f)=>i(c,f,a)):Fi.y,ol(1),r?ki(n):Oa(()=>new Ls))}var Nr=F(3342),GE=F(1307),ty=F(5319);class Mr{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Vu(n,this.callback))}}class Vu extends Rr.L{constructor(n,r){super(n),this.add(new ty.w(r))}}class Gr{constructor(n,r){this.id=n,this.url=r}}class ll extends Gr{constructor(n,r,a="imperative",c=null){super(n,r),this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends Gr{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gp extends Gr{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ny extends Gr{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ph extends Gr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ry extends Gr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iy extends Gr{constructor(n,r,a,c,f){super(n,r),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ao extends Gr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gh extends Gr{constructor(n,r,a,c){super(n,r),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uu{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mh{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bu{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ju{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _h{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yh{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const At="primary";class vh{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function ka(i){return new vh(i)}const Hu="ngNavigationCancelingError";function Hs(i){const n=Error("NavigationCancelingError: "+i);return n[Hu]=!0,n}function qp(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const c={};for(let f=0;f<a.length;f++){const m=a[f],E=i[f];if(m.startsWith(":"))c[m.substring(1)]=E;else if(m!==E.path)return null}return{consumed:i.slice(0,a.length),posParams:c}}function Li(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let c;for(let f=0;f<r.length;f++)if(c=r[f],!sy(i[c],n[c]))return!1;return!0}function sy(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((c,f)=>a[f]===c)}return i===n}function $s(i){return Array.prototype.concat.apply([],i)}function Gs(i){return i.length>0?i[i.length-1]:null}function Wn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function vi(i){return(0,h.CqO)(i)?i:(0,h.QGY)(i)?(0,tn.D)(Promise.resolve(i)):(0,rt.of)(i)}const bs={exact:function Zp(i,n,r){if(!So(i.segments,n.segments)||!qu(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!Zp(i.children[a],n.children[a],r))return!1;return!0},subset:dl},as={exact:function(i,n){return Li(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>sy(i[r],n[r]))},ignored:()=>!0};function $u(i,n,r){return bs[r.paths](i.root,n.root,r.matrixParams)&&as[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function dl(i,n,r){return Gu(i,n,n.segments,r)}function Gu(i,n,r,a){if(i.segments.length>r.length){const c=i.segments.slice(0,r.length);return!(!So(c,r)||n.hasChildren()||!qu(c,r,a))}if(i.segments.length===r.length){if(!So(i.segments,r)||!qu(i.segments,r,a))return!1;for(const c in n.children)if(!i.children[c]||!dl(i.children[c],n.children[c],a))return!1;return!0}{const c=r.slice(0,i.segments.length),f=r.slice(i.segments.length);return!!(So(i.segments,c)&&qu(i.segments,c,a)&&i.children[At])&&Gu(i.children[At],n,f,a)}}function qu(i,n,r){return n.every((a,c)=>as[r](i[c].parameters,a.parameters))}class Is{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return WE.serialize(this)}}class Lt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Wn(r,(a,c)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hl(this)}}class us{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=ka(this.parameters)),this._parameterMap}toString(){return wh(this)}}function So(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class zu{}class Wp{parse(n){const r=new y(n);return new Is(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${Wu(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(c=>`${xo(r)}=${xo(c)}`).join("&"):`${xo(r)}=${xo(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const WE=new Wp;function hl(i){return i.segments.map(n=>wh(n)).join("/")}function Wu(i,n){if(!i.hasChildren())return hl(i);if(n){const r=i.children[At]?Wu(i.children[At],!1):"",a=[];return Wn(i.children,(c,f)=>{f!==At&&a.push(`${f}:${Wu(c,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return Wn(i.children,(a,c)=>{c===At&&(r=r.concat(n(a,c)))}),Wn(i.children,(a,c)=>{c!==At&&(r=r.concat(n(a,c)))}),r}(i,(a,c)=>c===At?[Wu(i.children[At],!1)]:[`${c}:${Wu(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[At]?`${hl(i)}/${r[0]}`:`${hl(i)}/(${r.join("//")})`}}function fl(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xo(i){return fl(i).replace(/%3B/gi,";")}function Zs(i){return fl(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yu(i){return decodeURIComponent(i)}function Kp(i){return Yu(i.replace(/\+/g,"%20"))}function wh(i){return`${Zs(i.path)}${function(i){return Object.keys(i).map(n=>`;${Zs(n)}=${Zs(i[n])}`).join("")}(i.parameters)}`}const Yp=/^[^\/()?;=#]+/;function Qu(i){const n=i.match(Yp);return n?n[0]:""}const Qp=/^[^=?&#]+/,oy=/^[^?&#]+/;class y{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[At]=new Lt(n,r)),a}parseSegment(){const n=Qu(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new us(Yu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=Qu(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const c=Qu(this.remaining);c&&(a=c,this.capture(a))}n[Yu(r)]=Yu(a)}parseQueryParam(n){const r=function(i){const n=i.match(Qp);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const m=function(i){const n=i.match(oy);return n?n[0]:""}(this.remaining);m&&(a=m,this.capture(a))}const c=Kp(r),f=Kp(a);if(n.hasOwnProperty(c)){let m=n[c];Array.isArray(m)||(m=[m],n[c]=m),m.push(f)}else n[c]=f}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Qu(this.remaining),c=this.remaining[a.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let f;a.indexOf(":")>-1?(f=a.substr(0,a.indexOf(":")),this.capture(f),this.capture(":")):n&&(f=At);const m=this.parseChildren();r[f]=1===Object.keys(m).length?m[At]:new Lt([],m),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class v{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=I(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=I(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=x(n,this._root);return r.length<2?[]:r[r.length-2].children.map(c=>c.value).filter(c=>c!==n)}pathFromRoot(n){return x(n,this._root).map(r=>r.value)}}function I(i,n){if(i===n.value)return n;for(const r of n.children){const a=I(i,r);if(a)return a}return null}function x(i,n){if(i===n.value)return[n];for(const r of n.children){const a=x(i,r);if(a.length)return a.unshift(n),a}return[]}class P{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function re(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class Re extends v{constructor(n,r){super(n),this.snapshot=r,gl(this,n)}toString(){return this.snapshot.toString()}}function Ke(i,n){const r=function(i,n){const m=new Ui([],{},{},"",{},At,n,null,i.root,-1,{});return new Ju("",new P(m,[]))}(i,n),a=new mr([new us("",{})]),c=new mr({}),f=new mr({}),m=new mr({}),E=new mr(""),D=new Ct(a,c,m,E,f,At,n,r.root);return D.snapshot=r.root,new Re(new P(D,[]),r)}class Ct{constructor(n,r,a,c,f,m,E,D){this.url=n,this.params=r,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=m,this.component=E,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(n=>ka(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(n=>ka(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function In(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const c=r[a],f=r[a-1];if(c.routeConfig&&""===c.routeConfig.path)a--;else{if(f.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class Ui{constructor(n,r,a,c,f,m,E,D,S,R,O){this.url=n,this.params=r,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=m,this.component=E,this.routeConfig=D,this._urlSegment=S,this._lastPathIndex=R,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ju extends v{constructor(n,r){super(r),this.url=n,gl(this,r)}toString(){return ml(this._root)}}function gl(i,n){n.value._routerState=i,n.children.forEach(r=>gl(i,r))}function ml(i){const n=i.children.length>0?` { ${i.children.map(ml).join(", ")} } `:"";return`${i.value}${n}`}function Ch(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Li(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Li(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Li(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Li(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function _l(i,n){return Li(i.params,n.params)&&function(i,n){return So(i,n)&&i.every((r,a)=>Li(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||_l(i.parent,n.parent))}function La(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const c=function(i,n,r){return n.children.map(a=>{for(const c of r.children)if(i.shouldReuseRoute(a.value,c.value.snapshot))return La(i,a,c);return La(i,a)})}(i,n,r);return new P(a,c)}{if(i.shouldAttach(n.value)){const f=i.retrieve(n.value);if(null!==f){const m=f.route;return wi(n,m),m}}const a=function(i){return new Ct(new mr(i.url),new mr(i.params),new mr(i.queryParams),new mr(i.fragment),new mr(i.data),i.outlet,i.component,i)}(n.value),c=n.children.map(f=>La(i,f));return new P(a,c)}}function wi(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)wi(i.children[r],n.children[r])}function Oo(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function yl(i){return"object"==typeof i&&null!=i&&i.outlets}function KE(i,n,r,a,c){let f={};return a&&Wn(a,(m,E)=>{f[E]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),new Is(r.root===i?n:kT(r.root,i,n),f,c)}function kT(i,n,r){const a={};return Wn(i.children,(c,f)=>{a[f]=c===n?r:kT(c,n,r)}),new Lt(i.segments,a)}class Xp{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&Oo(a[0]))throw new Error("Root segment cannot have matrix parameters");const c=a.find(yl);if(c&&c!==Gs(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ih{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function QE(i,n,r){if(i||(i=new Lt([],{})),0===i.segments.length&&i.hasChildren())return eg(i,n,r);const a=function(i,n,r){let a=0,c=n;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(a>=r.length)return f;const m=i.segments[c],E=r[a];if(yl(E))break;const D=`${E}`,S=a<r.length-1?r[a+1]:null;if(c>0&&void 0===D)break;if(D&&S&&"object"==typeof S&&void 0===S.outlets){if(!cy(D,S,m))return f;a+=2}else{if(!cy(D,{},m))return f;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}(i,n,r),c=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const f=new Lt(i.segments.slice(0,a.pathIndex),{});return f.children[At]=new Lt(i.segments.slice(a.pathIndex),i.children),eg(f,0,c)}return a.match&&0===c.length?new Lt(i.segments,{}):a.match&&!i.hasChildren()?uy(i,n,r):a.match?eg(i,0,c):uy(i,n,r)}function eg(i,n,r){if(0===r.length)return new Lt(i.segments,{});{const a=function(i){return yl(i[0])?i[0].outlets:{[At]:i}}(r),c={};return Wn(a,(f,m)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[m]=QE(i.children[m],n,f))}),Wn(i.children,(f,m)=>{void 0===a[m]&&(c[m]=f)}),new Lt(i.segments,c)}}function uy(i,n,r){const a=i.segments.slice(0,n);let c=0;for(;c<r.length;){const f=r[c];if(yl(f)){const D=JE(f.outlets);return new Lt(a,D)}if(0===c&&Oo(r[0])){a.push(new us(i.segments[n].path,Dh(r[0]))),c++;continue}const m=yl(f)?f.outlets[At]:`${f}`,E=c<r.length-1?r[c+1]:null;m&&E&&Oo(E)?(a.push(new us(m,Dh(E))),c+=2):(a.push(new us(m,{})),c++)}return new Lt(a,{})}function JE(i){const n={};return Wn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=uy(new Lt([],{}),0,r))}),n}function Dh(i){const n={};return Wn(i,(r,a)=>n[a]=`${r}`),n}function cy(i,n,r){return i==r.path&&Li(n,r.parameters)}class LT{constructor(n,r,a,c){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=c}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),Ch(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const c=re(r);n.children.forEach(f=>{const m=f.value.outlet;this.deactivateRoutes(f,c[m],a),delete c[m]}),Wn(c,(f,m)=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(n,r,a){const c=n.value,f=r?r.value:null;if(c===f)if(c.component){const m=a.getContext(c.outlet);m&&this.deactivateChildRoutes(n,r,m.children)}else this.deactivateChildRoutes(n,r,a);else f&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const c=a.outlet.detach(),f=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:f})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),c=a&&n.value.component?a.children:r,f=re(n);for(const m of Object.keys(f))this.deactivateRouteAndItsChildren(f[m],c);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const c=re(r);n.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],a),this.forwardEvent(new _h(f.value.snapshot))}),n.children.length&&this.forwardEvent(new ju(n.value.snapshot))}activateRoutes(n,r,a){const c=n.value,f=r?r.value:null;if(Ch(c),c===f)if(c.component){const m=a.getOrCreateContext(c.outlet);this.activateChildRoutes(n,r,m.children)}else this.activateChildRoutes(n,r,a);else if(c.component){const m=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const E=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),m.children.onOutletReAttached(E.contexts),m.attachRef=E.componentRef,m.route=E.route.value,m.outlet&&m.outlet.attach(E.componentRef,E.route.value),Sn(E.route)}else{const E=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(c.snapshot),D=E?E.module.componentFactoryResolver:null;m.attachRef=null,m.route=c,m.resolver=D,m.outlet&&m.outlet.activateWith(c,D),this.activateChildRoutes(n,null,m.children)}}else this.activateChildRoutes(n,null,a)}}function Sn(i){Ch(i.value),i.children.forEach(Sn)}class dy{constructor(n,r){this.routes=n,this.module=r}}function zs(i){return"function"==typeof i}function Xu(i){return i instanceof Is}const tg=Symbol("INITIAL_VALUE");function ng(){return kn(i=>function(...i){let n,r;return(0,ku.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,Sa.k)(i[0])&&(i=i[0]),(0,fh.n)(i,r).lift(new xa(n))}(i.map(n=>n.pipe(ol(1),al(tg)))).pipe(Us((n,r)=>{let a=!1;return r.reduce((c,f,m)=>c!==tg?c:(f===tg&&(a=!0),a||!1!==f&&m!==r.length-1&&!Xu(f)?c:f),n)},tg),Pi(n=>n!==tg),(0,mt.U)(n=>Xu(n)?n:!0===n),ol(1)))}let vl=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&h._UZ(0,"router-outlet")},directives:function(){return[Dy]},encapsulation:2}),i})();function qr(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];hy(a,eC(n,a))}}function hy(i,n){i.children&&qr(i.children,n)}function eC(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function rg(i){const n=i.children&&i.children.map(rg),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==At&&(r.component=vl),r}function un(i){return i.outlet||At}function wl(i,n){const r=i.filter(a=>un(a)===n);return r.push(...i.filter(a=>un(a)!==n)),r}const ig={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sg(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},ig):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(n.matcher||qp)(r,i,n);if(!f)return Object.assign({},ig);const m={};Wn(f.posParams,(D,S)=>{m[S]=D.path});const E=f.consumed.length>0?Object.assign(Object.assign({},m),f.consumed[f.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:E,positionalParamSegments:null!==(a=f.posParams)&&void 0!==a?a:{}}}function og(i,n,r,a,c="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>Th(i,n,a)&&un(a)!==At)}(i,r,a)){const m=new Lt(n,function(i,n,r,a){const c={};c[At]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const f of r)if(""===f.path&&un(f)!==At){const m=new Lt([],{});m._sourceSegment=i,m._segmentIndexShift=n.length,c[un(f)]=m}return c}(i,n,a,new Lt(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>Th(i,n,a))}(i,r,a)){const m=new Lt(i.segments,function(i,n,r,a,c,f){const m={};for(const E of a)if(Th(i,r,E)&&!c[un(E)]){const D=new Lt([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===f?i.segments.length:n.length,m[un(E)]=D}return Object.assign(Object.assign({},c),m)}(i,n,r,a,i.children,c));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:r}}const f=new Lt(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:r}}function Th(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function rC(i,n,r,a){return!!(un(i)===a||a!==At&&Th(n,r,i))&&("**"===i.path||sg(n,i,r).matched)}function iC(i,n,r){return 0===n.length&&!i.children[r]}class Ah{constructor(n){this.segmentGroup=n||null}}class fy{constructor(n){this.urlTree=n}}function El(i){return new si.y(n=>n.error(new Ah(i)))}function py(i){return new si.y(n=>n.error(new fy(i)))}function qT(i){return new si.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class ag{constructor(n,r,a,c,f){this.configLoader=r,this.urlSerializer=a,this.urlTree=c,this.config=f,this.allowRedirects=!0,this.ngModule=n.get(h.h0i)}apply(){const n=og(this.urlTree.root,[],[],this.config).segmentGroup,r=new Lt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,At).pipe((0,mt.U)(f=>this.createUrlTree(gy(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bs(f=>{if(f instanceof fy)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Ah?this.noMatchError(f):f}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,At).pipe((0,mt.U)(c=>this.createUrlTree(gy(c),n.queryParams,n.fragment))).pipe(Bs(c=>{throw c instanceof Ah?this.noMatchError(c):c}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const c=n.segments.length>0?new Lt([],{[At]:n}):n;return new Is(c,r,a)}expandSegmentGroup(n,r,a,c){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,mt.U)(f=>new Lt([],f))):this.expandSegment(n,a,r,a.segments,c,!0)}expandChildren(n,r,a){const c=[];for(const f of Object.keys(a.children))"primary"===f?c.unshift(f):c.push(f);return(0,tn.D)(c).pipe(Cs(f=>{const m=a.children[f],E=wl(r,f);return this.expandSegmentGroup(n,E,m,f).pipe((0,mt.U)(D=>({segment:D,outlet:f})))}),Us((f,m)=>(f[m.outlet]=m.segment,f),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?Pi((c,f)=>i(c,f,a)):Fi.y,$p(1),r?ki(n):Oa(()=>new Ls))}())}expandSegment(n,r,a,c,f,m){return(0,tn.D)(a).pipe(Cs(E=>this.expandSegmentAgainstRoute(n,r,a,E,c,f,m).pipe(Bs(S=>{if(S instanceof Ah)return(0,rt.of)(null);throw S}))),Do(E=>!!E),Bs((E,D)=>{if(E instanceof Ls||"EmptyError"===E.name){if(iC(r,c,f))return(0,rt.of)(new Lt([],{}));throw new Ah(r)}throw E}))}expandSegmentAgainstRoute(n,r,a,c,f,m,E){return rC(c,r,f,m)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(n,r,c,f,m):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,c,f,m):El(r):El(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,c,f,m){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,c,m):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,c,f,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,c){const f=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?py(f):this.lineralizeSegments(a,f).pipe((0,_r.zg)(m=>{const E=new Lt(m,{});return this.expandSegment(n,E,r,m,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,c,f,m){const{matched:E,consumedSegments:D,lastChild:S,positionalParamSegments:R}=sg(r,c,f);if(!E)return El(r);const O=this.applyRedirectCommands(D,c.redirectTo,R);return c.redirectTo.startsWith("/")?py(O):this.lineralizeSegments(c,O).pipe((0,_r.zg)(q=>this.expandSegment(n,r,a,q.concat(f.slice(S)),m,!1)))}matchSegmentAgainstRoute(n,r,a,c,f){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,rt.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,mt.U)(q=>(a._loadedConfig=q,new Lt(c,{})))):(0,rt.of)(new Lt(c,{}));const{matched:m,consumedSegments:E,lastChild:D}=sg(r,a,c);if(!m)return El(r);const S=c.slice(D);return this.getChildConfig(n,a,c).pipe((0,_r.zg)(O=>{const q=O.module,W=O.routes,{segmentGroup:ge,slicedSegments:ke}=og(r,E,S,W),$e=new Lt(ge.segments,ge.children);if(0===ke.length&&$e.hasChildren())return this.expandChildren(q,W,$e).pipe((0,mt.U)(Et=>new Lt(E,Et)));if(0===W.length&&0===ke.length)return(0,rt.of)(new Lt(E,{}));const vt=un(a)===f;return this.expandSegment(q,$e,W,ke,vt?At:f,!0).pipe((0,mt.U)(dt=>new Lt(E.concat(dt.segments),dt.children)))}))}getChildConfig(n,r,a){return r.children?(0,rt.of)(new dy(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,rt.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,_r.zg)(c=>{return c?this.configLoader.load(n.injector,r).pipe((0,mt.U)(f=>(r._loadedConfig=f,f))):(i=r,new si.y(n=>n.error(Hs(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,rt.of)(new dy([],n))}runCanLoadGuards(n,r,a){const c=r.canLoad;if(!c||0===c.length)return(0,rt.of)(!0);const f=c.map(m=>{const E=n.get(m);let D;if((i=E)&&zs(i.canLoad))D=E.canLoad(r,a);else{if(!zs(E))throw new Error("Invalid CanLoad guard");D=E(r,a)}var i;return vi(D)});return(0,rt.of)(f).pipe(ng(),(0,Nr.b)(m=>{if(!Xu(m))return;const E=Hs(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw E.url=m,E}),(0,mt.U)(m=>!0===m))}lineralizeSegments(n,r){let a=[],c=r.root;for(;;){if(a=a.concat(c.segments),0===c.numberOfChildren)return(0,rt.of)(a);if(c.numberOfChildren>1||!c.children[At])return qT(n.redirectTo);c=c.children[At]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,c){const f=this.createSegmentGroup(n,r.root,a,c);return new Is(f,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return Wn(n,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const E=c.substring(1);a[f]=r[E]}else a[f]=c}),a}createSegmentGroup(n,r,a,c){const f=this.createSegments(n,r.segments,a,c);let m={};return Wn(r.children,(E,D)=>{m[D]=this.createSegmentGroup(n,E,a,c)}),new Lt(f,m)}createSegments(n,r,a,c){return r.map(f=>f.path.startsWith(":")?this.findPosParam(n,f,c):this.findOrReturn(f,a))}findPosParam(n,r,a){const c=a[r.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return c}findOrReturn(n,r){let a=0;for(const c of r){if(c.path===n.path)return r.splice(a),c;a++}return n}}function gy(i){const n={};for(const a of Object.keys(i.children)){const f=gy(i.children[a]);(f.segments.length>0||f.hasChildren())&&(n[a]=f)}return function(i){if(1===i.numberOfChildren&&i.children[At]){const n=i.children[At];return new Lt(i.segments.concat(n.segments),n.children)}return i}(new Lt(i.segments,n))}class oC{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ug{constructor(n,r){this.component=n,this.route=r}}function zT(i,n,r){const a=i._root;return Zr(a,n?n._root:null,r,[a.value])}function cg(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function Zr(i,n,r,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=re(n);return i.children.forEach(m=>{(function(i,n,r,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,m=n?n.value:null,E=r?r.getContext(i.value.outlet):null;if(m&&f.routeConfig===m.routeConfig){const D=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!So(i.url,n.url);case"pathParamsOrQueryParamsChange":return!So(i.url,n.url)||!Li(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_l(i,n)||!Li(i.queryParams,n.queryParams);case"paramsChange":default:return!_l(i,n)}}(m,f,f.routeConfig.runGuardsAndResolvers);D?c.canActivateChecks.push(new oC(a)):(f.data=m.data,f._resolvedData=m._resolvedData),Zr(i,n,f.component?E?E.children:null:r,a,c),D&&E&&E.outlet&&E.outlet.isActivated&&c.canDeactivateChecks.push(new ug(E.outlet.component,m))}else m&&Sh(n,E,c),c.canActivateChecks.push(new oC(a)),Zr(i,null,f.component?E?E.children:null:r,a,c)})(m,f[m.value.outlet],r,a.concat([m.value]),c),delete f[m.value.outlet]}),Wn(f,(m,E)=>Sh(m,r.getContext(E),c)),c}function Sh(i,n,r){const a=re(i),c=i.value;Wn(a,(f,m)=>{Sh(f,c.component?n?n.children.getContext(m):null:n,r)}),r.canDeactivateChecks.push(new ug(c.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,c))}class eR{}function XT(i){return new si.y(n=>n.error(i))}class tR{constructor(n,r,a,c,f,m){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=m}recognize(){const n=og(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,At);if(null===r)return null;const a=new Ui([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new P(a,r),f=new Ju(this.url,c);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(n){const r=n.value,a=In(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const f of Object.keys(r.children)){const m=r.children[f],E=wl(n,f),D=this.processSegmentGroup(E,m,f);if(null===D)return null;a.push(...D)}const c=dC(a);return c.sort((n,r)=>n.value.outlet===At?-1:r.value.outlet===At?1:n.value.outlet.localeCompare(r.value.outlet)),c}processSegment(n,r,a,c){for(const f of n){const m=this.processSegmentAgainstRoute(f,r,a,c);if(null!==m)return m}return iC(r,a,c)?[]:null}processSegmentAgainstRoute(n,r,a,c){if(n.redirectTo||!rC(n,r,a,c))return null;let f,m=[],E=[];if("**"===n.path){const W=a.length>0?Gs(a).parameters:{};f=new Ui(a,W,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vy(n),un(n),n.component,n,Il(r),yy(r)+a.length,dg(n))}else{const W=sg(r,n,a);if(!W.matched)return null;m=W.consumedSegments,E=a.slice(W.lastChild),f=new Ui(m,W.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vy(n),un(n),n.component,n,Il(r),yy(r)+m.length,dg(n))}const D=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:R}=og(r,m,E,D.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);var i;if(0===R.length&&S.hasChildren()){const W=this.processChildren(D,S);return null===W?null:[new P(f,W)]}if(0===D.length&&0===R.length)return[new P(f,[])];const O=un(n)===c,q=this.processSegment(D,S,R,O?At:c);return null===q?null:[new P(f,q)]}}function _y(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function dC(i){const n=[],r=new Set;for(const a of i){if(!_y(a)){n.push(a);continue}const c=n.find(f=>a.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...a.children),r.add(c)):n.push(a)}for(const a of r){const c=dC(a.children);n.push(new P(a.value,c))}return n.filter(a=>!r.has(a))}function Il(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function yy(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function vy(i){return i.data||{}}function dg(i){return i.resolve||{}}function hg(i){return kn(n=>{const r=i(n);return r?(0,tn.D)(r).pipe((0,mt.U)(()=>n)):(0,rt.of)(n)})}class nA extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const by=new h.OlP("ROUTES");class fC{constructor(n,r,a,c){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=c}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactory(r.loadChildren).pipe((0,mt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=f.create(n);return new dy($s(m.injector.get(by,void 0,h.XFs.Self|h.XFs.Optional)).map(rg),m)}),Bs(f=>{throw r._loader$=void 0,f}));return r._loader$=new Ra.c(c,()=>new ss.xQ).pipe((0,GE.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,tn.D)(this.loader.load(n)):vi(n()).pipe((0,_r.zg)(r=>r instanceof h.YKP?(0,rt.of)(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}class rA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tl,this.attachRef=null}}class Tl{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new rA,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class pC{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function Iy(i){throw i}function gC(i,n,r){return n.parse("/")}function fg(i,n){return(0,rt.of)(null)}const sA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class i{constructor(r,a,c,f,m,E,D,S){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=c,this.location=f,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ss.xQ,this.errorHandler=Iy,this.malformedUriErrorHandler=gC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fg,afterPreactivation:fg},this.urlHandlingStrategy=new pC,this.routeReuseStrategy=new nA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(h.h0i),this.console=m.get(h.c2e);const q=m.get(h.R0b);this.isNgZoneEnabled=q instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Is(new Lt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fC(E,D,W=>this.triggerEvent(new Uu(W)),W=>this.triggerEvent(new mh(W))),this.routerState=Ke(this.currentUrlTree,this.rootComponentType),this.transitions=new mr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(Pi(c=>0!==c.id),(0,mt.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),kn(c=>{let f=!1,m=!1;return(0,rt.of)(c).pipe((0,Nr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(E=>{const D=this.browserUrlTree.toString(),S=!this.navigated||E.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return Ys(E.source)&&(this.browserUrlTree=E.extractedUrl),(0,rt.of)(E).pipe(kn(O=>{const q=this.transitions.getValue();return a.next(new ll(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),q!==this.transitions.getValue()?yi.E:Promise.resolve(O)}),function(i,n,r,a){return kn(c=>function(i,n,r,a,c){return new ag(i,n,r,a,c).apply()}(i,n,r,c.extractedUrl,a).pipe((0,mt.U)(f=>Object.assign(Object.assign({},c),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Nr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(i,n,r,a,c){return(0,_r.zg)(f=>function(i,n,r,a,c="emptyOnly",f="legacy"){try{const m=new tR(i,n,r,a,c,f).recognize();return null===m?XT(new eR):(0,rt.of)(m)}catch(m){return XT(m)}}(i,n,f.urlAfterRedirects,r(f.urlAfterRedirects),a,c).pipe((0,mt.U)(m=>Object.assign(Object.assign({},f),{targetSnapshot:m}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Nr.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const q=new ph(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);a.next(q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:W,source:ge,restoredState:ke,extras:$e}=E,vt=new ll(q,this.serializeUrl(W),ge,ke);a.next(vt);const Rt=Ke(W,this.rootComponentType).snapshot;return(0,rt.of)(Object.assign(Object.assign({},E),{targetSnapshot:Rt,urlAfterRedirects:W,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),yi.E}),hg(E=>{const{targetSnapshot:D,id:S,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:W}}=E;return this.hooks.beforePreactivation(D,{navigationId:S,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!W})}),(0,Nr.b)(E=>{const D=new ry(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),(0,mt.U)(E=>Object.assign(Object.assign({},E),{guards:zT(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,n){return(0,_r.zg)(r=>{const{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:m}}=r;return 0===m.length&&0===f.length?(0,rt.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,tn.D)(i).pipe((0,_r.zg)(c=>function(i,n,r,a,c){const f=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,rt.of)(!0);const m=f.map(E=>{const D=cg(E,n,c);let S;if(function(i){return i&&zs(i.canDeactivate)}(D))S=vi(D.canDeactivate(i,n,r,a));else{if(!zs(D))throw new Error("Invalid CanDeactivate guard");S=vi(D(i,n,r,a))}return S.pipe(Do())});return(0,rt.of)(m).pipe(ng())}(c.component,c.route,r,n,a)),Do(c=>!0!==c,!0))}(m,a,c,i).pipe((0,_r.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,n,r,a){return(0,tn.D)(n).pipe(Cs(c=>Lu(function(i,n){return null!==i&&n&&n(new Bu(i)),(0,rt.of)(!0)}(c.route.parent,a),function(i,n){return null!==i&&n&&n(new js(i)),(0,rt.of)(!0)}(c.route,a),function(i,n,r){const a=n[n.length-1],f=n.slice(0,n.length-1).reverse().map(m=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(m)).filter(m=>null!==m).map(m=>bo(()=>{const E=m.guards.map(D=>{const S=cg(D,m.node,r);let R;if(function(i){return i&&zs(i.canActivateChild)}(S))R=vi(S.canActivateChild(a,i));else{if(!zs(S))throw new Error("Invalid CanActivateChild guard");R=vi(S(a,i))}return R.pipe(Do())});return(0,rt.of)(E).pipe(ng())}));return(0,rt.of)(f).pipe(ng())}(i,c.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,rt.of)(!0);const c=a.map(f=>bo(()=>{const m=cg(f,n,r);let E;if(function(i){return i&&zs(i.canActivate)}(m))E=vi(m.canActivate(n,i));else{if(!zs(m))throw new Error("Invalid CanActivate guard");E=vi(m(n,i))}return E.pipe(Do())}));return(0,rt.of)(c).pipe(ng())}(i,c.route,r))),Do(c=>!0!==c,!0))}(a,f,i,n):(0,rt.of)(E)),(0,mt.U)(E=>Object.assign(Object.assign({},r),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,Nr.b)(E=>{if(Xu(E.guardsResult)){const S=Hs(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw S.url=E.guardsResult,S}const D=new iy(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(D)}),Pi(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),hg(E=>{if(E.guards.canActivateChecks.length)return(0,rt.of)(E).pipe((0,Nr.b)(D=>{const S=new Ao(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}),kn(D=>{let S=!1;return(0,rt.of)(D).pipe(function(i,n){return(0,_r.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:c}}=r;if(!c.length)return(0,rt.of)(r);let f=0;return(0,tn.D)(c).pipe(Cs(m=>function(i,n,r,a){return function(i,n,r,a){const c=Object.keys(i);if(0===c.length)return(0,rt.of)({});const f={};return(0,tn.D)(c).pipe((0,_r.zg)(m=>function(i,n,r,a){const c=cg(i,n,a);return vi(c.resolve?c.resolve(n,r):c(n,r))}(i[m],n,r,a).pipe((0,Nr.b)(E=>{f[m]=E}))),$p(1),(0,_r.zg)(()=>Object.keys(f).length===c.length?(0,rt.of)(f):yi.E))}(i._resolve,i,n,a).pipe((0,mt.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),In(i,r).resolve),null)))}(m.route,a,i,n)),(0,Nr.b)(()=>f++),$p(1),(0,_r.zg)(m=>f===c.length?(0,rt.of)(r):yi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Nr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,Nr.b)(D=>{const S=new gh(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}))}),hg(E=>{const{targetSnapshot:D,id:S,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:W}}=E;return this.hooks.afterPreactivation(D,{navigationId:S,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!W})}),(0,mt.U)(E=>{const D=function(i,n,r){const a=La(i,n._root,r?r._root:void 0);return new Re(a,n)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:D})}),(0,Nr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,n,r)=>(0,mt.U)(a=>(new LT(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,Nr.b)({next(){f=!0},complete(){f=!0}}),function(i){return n=>n.lift(new Mr(i))}(()=>{if(!f&&!m){const E=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,E)):this.cancelNavigationTransition(c,E)}this.currentNavigation=null}),Bs(E=>{if(m=!0,function(i){return i&&i[Hu]}(E)){const D=Xu(E.url);D||(this.navigated=!0,this.restoreHistory(c,!0));const S=new Gp(c.id,this.serializeUrl(c.extractedUrl),E.message);a.next(S),D?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),O={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ys(c.source)};this.scheduleNavigation(R,"imperative",null,O,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const D=new ny(c.id,this.serializeUrl(c.extractedUrl),E);a.next(D);try{c.resolve(this.errorHandler(E))}catch(S){c.reject(S)}}return yi.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:c,state:f,urlTree:m}=a,E={replaceUrl:!0};if(f){const D=Object.assign({},f);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(E.state=D)}this.scheduleNavigation(m,c,f,E)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const c=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!c||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){qr(r),this.config=r.map(rg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:c,queryParams:f,fragment:m,queryParamsHandling:E,preserveFragment:D}=a,S=c||this.routerState.root,R=D?this.currentUrlTree.fragment:m;let O=null;switch(E){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=f||null}return null!==O&&(O=this.removeEmptyProps(O)),function(i,n,r,a,c){if(0===r.length)return KE(n.root,n.root,n,a,c);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Xp(!0,0,i);let n=0,r=!1;const a=i.reduce((c,f,m)=>{if("object"==typeof f&&null!=f){if(f.outlets){const E={};return Wn(f.outlets,(D,S)=>{E[S]="string"==typeof D?D.split("/"):D}),[...c,{outlets:E}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===m?(f.split("/").forEach((E,D)=>{0==D&&"."===E||(0==D&&""===E?r=!0:".."===E?n++:""!=E&&c.push(E))}),c):[...c,f]},[]);return new Xp(r,n,a)}(r);if(f.toRoot())return KE(n.root,new Lt([],{}),n,a,c);const m=function(i,n,r){if(i.isAbsolute)return new Ih(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const f=r.snapshot._urlSegment;return new Ih(f,f===n.root,0)}const a=Oo(i.commands[0])?0:1;return function(i,n,r){let a=i,c=n,f=r;for(;f>c;){if(f-=c,a=a.parent,!a)throw new Error("Invalid number of '../'");c=a.segments.length}return new Ih(a,!1,c-f)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(f,n,i),E=m.processChildren?eg(m.segmentGroup,m.index,f.commands):QE(m.segmentGroup,m.index,f.commands);return KE(m.segmentGroup,E,n,a,c)}(S,this.currentUrlTree,r,O,null!=R?R:null)}navigateByUrl(r,a={skipLocationChange:!1}){const c=Xu(r)?r:this.parseUrl(r),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,r)}return a}isActive(r,a){let c;if(c=!0===a?Object.assign({},sA):!1===a?Object.assign({},oA):a,Xu(r))return $u(this.currentUrlTree,r,c);const f=this.parseUrl(r);return $u(this.currentUrlTree,f,c)}removeEmptyProps(r){return Object.keys(r).reduce((a,c)=>{const f=r[c];return null!=f&&(a[c]=f),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new To(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,c,f,m){var E,D;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),R=Ys(a)&&S&&!Ys(S.source),W=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(R&&W)return Promise.resolve(!0);let ge,ke,$e;m?(ge=m.resolve,ke=m.reject,$e=m.promise):$e=new Promise((dt,Et)=>{ge=dt,ke=Et});const vt=++this.navigationId;let Rt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Rt=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Rt=0,this.setTransition({id:vt,targetPageId:Rt,source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:f,resolve:ge,reject:ke,promise:$e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$e.catch(dt=>Promise.reject(dt))}setBrowserUrl(r,a){const c=this.urlSerializer.serialize(r),f=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(r,a=!1){var c,f;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===m?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const c=new Gp(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(c),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.DyG),h.LFG(zu),h.LFG(Tl),h.LFG(Ye),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function Ys(i){return"imperative"!==i}let Dy=(()=>{class i{constructor(r,a,c,f,m){this.parentContexts=r,this.location=a,this.resolver=c,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=f||At,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,D=new _C(r,E,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Tl),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},i.\u0275dir=h.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class _C{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===Ct?this.route:n===Tl?this.childContexts:this.parent.get(n,r)}}class Ty{}class Sy{preload(n,r){return(0,rt.of)(null)}}let xh=(()=>{class i{constructor(r,a,c,f,m){this.router=r,this.injector=f,this.preloadingStrategy=m,this.loader=new fC(a,c,S=>r.triggerEvent(new Uu(S)),S=>r.triggerEvent(new mh(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(r=>r instanceof To),Cs(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(h.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const c=[];for(const f of a)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const m=f._loadedConfig;c.push(this.processRoutes(m.module,m.routes))}else f.loadChildren&&!f.canLoad?c.push(this.preloadConfig(r,f)):f.children&&c.push(this.processRoutes(r,f.children));return(0,tn.D)(c).pipe((0,Es.J)(),(0,mt.U)(f=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,rt.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,_r.zg)(f=>(a._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(oi),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Ty))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Sl=(()=>{class i{constructor(r,a,c={}){this.router=r,this.viewportScroller=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof To&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof yh&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new yh(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(oi),h.LFG(ha),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Po=new h.OlP("ROUTER_CONFIGURATION"),xy=new h.OlP("ROUTER_FORROOT_GUARD"),Rh=[Ye,{provide:zu,useClass:Wp},{provide:oi,useFactory:function(i,n,r,a,c,f,m,E={},D,S){const R=new oi(null,i,n,r,a,c,f,$s(m));return D&&(R.urlHandlingStrategy=D),S&&(R.routeReuseStrategy=S),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(E,R),E.enableTracing&&R.events.subscribe(O=>{var q,W;null===(q=console.group)||void 0===q||q.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(W=console.groupEnd)||void 0===W||W.call(console)}),R},deps:[zu,Tl,Ye,h.zs3,h.v3s,h.Sil,by,Po,[class{},new h.FiY],[class{},new h.FiY]]},Tl,{provide:Ct,useFactory:function(i){return i.routerState.root},deps:[oi]},{provide:h.v3s,useClass:h.EAV},xh,Sy,class{preload(n,r){return r().pipe(Bs(()=>(0,rt.of)(null)))}},{provide:Po,useValue:{enableTracing:!1}}];function cA(){return new h.PXZ("Router",oi)}let Ny=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[Rh,_g(r),{provide:xy,useFactory:yC,deps:[[oi,new h.FiY,new h.tp0]]},{provide:Po,useValue:a||{}},{provide:te,useFactory:dA,deps:[de,[new h.tBr(Pe),new h.FiY],Po]},{provide:Sl,useFactory:lA,deps:[oi,ha,Po]},{provide:Ty,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:Sy},{provide:h.PXZ,multi:!0,useFactory:cA},[My,{provide:h.ip1,multi:!0,useFactory:EC,deps:[My]},{provide:CC,useFactory:hA,deps:[My]},{provide:h.tb,multi:!0,useExisting:CC}]]}}static forChild(r){return{ngModule:i,providers:[_g(r)]}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(xy,8),h.LFG(oi,8))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();function lA(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new Sl(i,n,r)}function dA(i,n,r={}){return r.useHash?new Ge(i,n):new Te(i,n)}function yC(i){return"guarded"}function _g(i){return[{provide:h.deG,multi:!0,useValue:i},{provide:by,multi:!0,useValue:i}]}let My=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ss.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const c=new Promise(E=>a=E),f=this.injector.get(oi),m=this.injector.get(Po);return"disabled"===m.initialNavigation?(f.setUpLocationChangeListener(),a(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,rt.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),f.initialNavigation()):a(!0),c})}bootstrapListener(r){const a=this.injector.get(Po),c=this.injector.get(xh),f=this.injector.get(Sl),m=this.injector.get(oi),E=this.injector.get(h.z2F);r===E.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&m.initialNavigation(),c.setUpPreloading(),f.init(),m.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.zs3))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function EC(i){return i.appInitializer.bind(i)}function hA(i){return i.bootstrapListener.bind(i)}const CC=new h.OlP("Router Initializer"),bC=[];let fA=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ny.forRoot(bC)],Ny]}),i})();var pA=F(1555);function yg(i,n){return new si.y(r=>{const a=i.length;if(0===a)return void r.complete();const c=new Array(a);let f=0,m=0;for(let E=0;E<a;E++){const D=(0,tn.D)(i[E]);let S=!1;r.add(D.subscribe({next:R=>{S||(S=!0,m++),c[E]=R},error:R=>r.error(R),complete:()=>{f++,(f===a||!S)&&(m===a&&r.next(n?n.reduce((R,O,q)=>(R[O]=c[q],R),{}):c),r.complete())}}))}})}let Oy=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Qsj),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i}),i})(),ec=(()=>{class i extends Oy{}return i.\u0275fac=function(){let n;return function(a){return(n||(n=h.n5z(i)))(a||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();const cs=new h.OlP("NgValueAccessor"),IC={provide:cs,useExisting:(0,h.Gpc)(()=>ar),multi:!0},vg=new h.OlP("CompositionEventMode");let ar=(()=>{class i extends Oy{constructor(r,a,c){super(r,a),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=V()?V().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(vg,8))},i.\u0275dir=h.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&h.NdJ("input",function(f){return a._handleInput(f.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(f){return a._compositionEnd(f.target.value)})},features:[h._Bn([IC]),h.qOj]}),i})();function ko(i){return null==i||0===i.length}const yr=new h.OlP("NgValidators"),zr=new h.OlP("NgAsyncValidators");function tc(i){return null}function AC(i){return null!=i}function Fy(i){const n=(0,h.QGY)(i)?(0,tn.D)(i):i;return(0,h.CqO)(n),n}function wA(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function SC(i,n){return n.map(r=>r(i))}function Ly(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function Uy(i){return null!=i?function(i){if(!i)return null;const n=i.filter(AC);return 0==n.length?null:function(r){return wA(SC(r,n))}}(Ly(i)):null}function xC(i){return null!=i?function(i){if(!i)return null;const n=i.filter(AC);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,Sa.k)(n))return yg(n,null);if((0,pA.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return yg(r.map(a=>n[a]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return yg(i=1===i.length&&(0,Sa.k)(i[0])?i[0]:i,null).pipe((0,mt.U)(r=>n(...r)))}return yg(i,null)}(SC(r,n).map(Fy)).pipe((0,mt.U)(wA))}}(Ly(i)):null}function EA(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function RC(i){return i?Array.isArray(i)?i:[i]:[]}function By(i,n){return Array.isArray(i)?i.includes(n):i===n}function IA(i,n){const r=RC(n);return RC(i).forEach(c=>{By(r,c)||r.push(c)}),r}function DA(i,n){return RC(n).filter(r=>!By(i,r))}let TA=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Uy(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=xC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i}),i})(),Ei=(()=>{class i extends TA{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=h.n5z(i)))(a||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();class Va extends TA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fo{constructor(n){this._cd=n}is(n){var r,a,c;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(c=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===c?void 0:c[n])}}let Ua=(()=>{class i extends Fo{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Va,2))},i.\u0275dir=h.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&h.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[h.qOj]}),i})(),xl=(()=>{class i extends Fo{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Ei,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){2&r&&h.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))("ng-submitted",a.is("submitted"))},features:[h.qOj]}),i})();function Xs(i,n){ja(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Dg(i,n)})}(i,n),function(i,n){const r=(a,c)=>{n.valueAccessor.writeValue(a),c&&n.viewToModelUpdate(a)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Dg(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Lo(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function ja(i,n){const r=function(i){return i._rawValidators}(i);null!==n.validator?i.setValidators(EA(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const a=function(i){return i._rawAsyncValidators}(i);null!==n.asyncValidator?i.setAsyncValidators(EA(a,n.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const c=()=>i.updateValueAndValidity();Lo(n._rawValidators,c),Lo(n._rawAsyncValidators,c)}function Dg(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Ph(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const kh="VALID",Wr="INVALID",Ml="PENDING",Fh="DISABLED";function UC(i){return(Lh(i)?i.validators:i)||null}function qy(i){return Array.isArray(i)?Uy(i):i||null}function BC(i,n){return(Lh(n)?n.asyncValidators:i)||null}function jC(i){return Array.isArray(i)?xC(i):i||null}function Lh(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Ag{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=qy(this._rawValidators),this._composedAsyncValidatorFn=jC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===kh}get invalid(){return this.status===Wr}get pending(){return this.status==Ml}get disabled(){return this.status===Fh}get enabled(){return this.status!==Fh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=qy(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=jC(n)}addValidators(n){this.setValidators(IA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(IA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(DA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(DA(n,this._rawAsyncValidators))}hasValidator(n){return By(this._rawValidators,n)}hasAsyncValidator(n){return By(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Ml,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Fh,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=kh,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kh||this.status===Ml)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fh:kh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Ml,this._hasOwnPendingAsyncValidator=!0;const r=Fy(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let a=i;return n.forEach(c=>{a=a instanceof Zy?a.controls.hasOwnProperty(c)?a.controls[c]:null:a instanceof RA&&a.at(c)||null}),a}(this,n)}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Fh:this.errors?Wr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ml)?Ml:this._anyControlsHaveStatus(Wr)?Wr:kh}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Lh(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Sg extends Ag{constructor(n=null,r,a){super(UC(r),BC(a,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ph(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ph(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Zy extends Ag{constructor(n,r,a){super(UC(r),BC(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,c)=>{a.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=r instanceof Sg?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((c,f)=>{a=r(a,c,f)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class RA extends Ag{constructor(n,r,a){super(UC(r),BC(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((a,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,c)=>{this.at(c)&&this.at(c).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,c)=>{a.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof Sg?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const HC={provide:Ei,useExisting:(0,h.Gpc)(()=>Pl)},Ol=(()=>Promise.resolve(null))();let Pl=(()=>{class i extends Ei{constructor(r,a){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.vpe,this.form=new Zy({},Uy(r),xC(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ol.then(()=>{const a=this._findContainer(r.path);r.control=a.registerControl(r.name,r.control),Xs(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ol.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name),Ph(this._directives,r)})}addFormGroup(r){Ol.then(()=>{const a=this._findContainer(r.path),c=new Zy({});(function(i,n){ja(i,n)})(c,r),a.registerControl(r.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ol.then(()=>{const a=this._findContainer(r.path);a&&a.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,a){Ol.then(()=>{this.form.get(r.path).setValue(a)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function(i,n){i._syncPendingControls(),n.forEach(r=>{const a=r.control;"submit"===a.updateOn&&a._pendingChange&&(r.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(yr,10),h.Y36(zr,10))},i.\u0275dir=h.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,a){1&r&&h.NdJ("submit",function(f){return a.onSubmit(f)})("reset",function(){return a.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([HC]),h.qOj]}),i})();const OA={provide:Va,useExisting:(0,h.Gpc)(()=>Ha)},Wy=(()=>Promise.resolve(null))();let Ha=(()=>{class i extends Va{constructor(r,a,c,f){super(),this.control=new Sg,this._registered=!1,this.update=new h.vpe,this._parent=r,this._setValidators(a),this._setAsyncValidators(c),this.valueAccessor=function(i,n){if(!n)return null;let r,a,c;return Array.isArray(n),n.forEach(f=>{f.constructor===ar?r=f:function(i){return Object.getPrototypeOf(i.constructor)===ec}(f)?a=f:c=f}),c||a||r||null}(0,f)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){Wy.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const a=r.isDisabled.currentValue,c=""===a||a&&"false"!==a;Wy.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Ei,9),h.Y36(yr,10),h.Y36(zr,10),h.Y36(cs,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([OA]),h.qOj,h.TTD]}),i})(),xg=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Vh=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();const Mg=new h.OlP("NgModelWithFormControlWarning");const nb={provide:yr,useExisting:(0,h.Gpc)(()=>$a),multi:!0};let $a=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?function(i){return ko(i.value)?{required:!0}:null}(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,a){2&r&&h.uIk("required",a.required?"":null)},inputs:{required:"required"},features:[h._Bn([nb])]}),i})();const HA={provide:yr,useExisting:(0,h.Gpc)(()=>ev),multi:!0};let ev=(()=>{class i{constructor(){this._validator=tc}ngOnChanges(r){"minlength"in r&&(this._createValidator(),this._onChange&&this._onChange())}validate(r){return this.enabled()?this._validator(r):null}registerOnValidatorChange(r){this._onChange=r}_createValidator(){this._validator=this.enabled()?function(i){return n=>ko(n.value)||!function(i){return null!=i&&"number"==typeof i.length}(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(function(i){return"number"==typeof i?i:parseInt(i,10)}(this.minlength)):tc}enabled(){return null!=this.minlength}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,a){2&r&&h.uIk("minlength",a.enabled()?a.minlength:null)},inputs:{minlength:"minlength"},features:[h._Bn([HA]),h.TTD]}),i})(),qA=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Vh]]}),i})(),Uo=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[qA]}),i})(),tv=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:Mg,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[qA]}),i})();const ub=["captchaWrapperElem"];let Vl=(()=>{class i{constructor(r){this.zone=r,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(r,a,c,f){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{c(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(c.bind(this,window[this.windowGrecaptcha]));const m=document.createElement("script");m.innerHTML="",m.src=this.getCaptchaScriptUrl(r,a,f),m.async=!0,m.defer=!0,document.getElementsByTagName("head")[0].appendChild(m)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(r){return r?`&hl=${r}`:""}getCaptchaScriptUrl(r,a,c){return`https://www.${r?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${a}${this.getLanguageParam(c)}`}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),nv=(()=>{class i{constructor(r,a,c,f){this.renderer=r,this.zone=a,this.injector=c,this.scriptService=f,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.type="image",this.tabIndex=0,this.success=new h.vpe,this.load=new h.vpe,this.reset=new h.vpe,this.ready=new h.vpe,this.error=new h.vpe,this.expire=new h.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.isLoaded=!1}ngAfterViewInit(){var r;this.control=null===(r=this.injector.get(Va,void 0,h.XFs.Optional))||void 0===r?void 0:r.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(r){r&&r.hl&&!r.hl.firstChange&&r.hl.currentValue!==r.hl.previousValue&&this.scriptService.cleanup(),r&&r.useGlobalDomain&&!r.useGlobalDomain.firstChange&&r.useGlobalDomain.currentValue!==r.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(r){const a=document.getElementById(r);if(!a)throw Error(`Captcha element with id '${r}' was not found`);this.captchaElem=a}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(r){this.currentResponse=r,this.success.next(r),this.zone.run(()=>{this.onChange(r),this.onTouched(r)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript(this.useGlobalDomain,"explicit",r=>{this.onloadCallback(r)},this.hl)}onloadCallback(r){if(this.reCaptchaApi=r,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const r=this.renderer.createElement("div");r.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,r),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(r){}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Qsj),h.Y36(h.R0b),h.Y36(h.zs3),h.Y36(Vl))},i.\u0275dir=h.lG2({type:i,inputs:{useGlobalDomain:"useGlobalDomain",type:"type",tabIndex:"tabIndex",siteKey:"siteKey",hl:"hl"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[h.TTD]}),i})();var Ul=(()=>{return(i=Ul||(Ul={}))[i.InvisibleReCaptcha=0]="InvisibleReCaptcha",i[i.ReCaptcha2=1]="ReCaptcha2",Ul;var i})();let rv=(()=>{class i extends nv{constructor(r,a,c,f){super(r,a,c,f),this.renderer=r,this.zone=a,this.injector=c,this.scriptService=f,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=Ul.ReCaptcha2}ngOnChanges(r){super.ngOnChanges(r)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:r=>this.zone.run(()=>this.handleCallback(r)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Qsj),h.Y36(h.R0b),h.Y36(h.zs3),h.Y36(Vl))},i.\u0275cmp=h.Xpm({type:i,selectors:[["ngx-recaptcha2"]],viewQuery:function(r,a){if(1&r&&h.Gf(ub,5),2&r){let c;h.iGM(c=h.CRH())&&(a.captchaWrapperElem=c.first)}},inputs:{theme:"theme",size:"size",hl:"hl"},features:[h._Bn([{provide:cs,useExisting:(0,h.Gpc)(()=>i),multi:!0}]),h.qOj,h.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(r,a){1&r&&h._UZ(0,"div",null,0)},encapsulation:2}),i})(),zA=(()=>{class i{constructor(r,a){this.scriptService=r,this.zone=a}execute(r,a,c,f,m){this.executeAsPromise(r,a,f).then(c).catch(E=>m?m(E):console.error(E))}executeAsPromise(r,a,c){return new Promise((f,m)=>{this.scriptService.registerCaptchaScript(!(!c||!c.useGlobalDomain),r,S=>{this.zone.runOutsideAngular(()=>{try{S.execute(r,{action:a}).then(R=>this.zone.run(()=>f(R)))}catch(R){m(R)}})})})}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Vl),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),jh=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[Vl,zA],imports:[[da]]}),i})();var Ci=F(8939),cb=F(6682),Bl=F(309),lb=F(7771),db=F(8858);class WA extends ss.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new KA(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=a.length;let m;if(this.closed)throw new Aa.N;if(this.isStopped||this.hasError?m=ty.w.EMPTY:(this.observers.push(n),m=new db.W(this,n)),c&&n.add(n=new Bl.ht(n,c)),r)for(let E=0;E<f&&!n.closed;E++)n.next(a[E]);else for(let E=0;E<f&&!n.closed;E++)n.next(a[E].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),m}_getNow(){return(this.scheduler||lb.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,c=this._events,f=c.length;let m=0;for(;m<f&&!(n-c[m].time<a);)m++;return f>r&&(m=Math.max(m,f-r)),m>0&&c.splice(0,m),c}}class KA{constructor(n,r){this.time=n,this.value=r}}function hb(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},c=>c.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let c,m,f=0,E=!1,D=!1;return function(R){let O;f++,!c||E?(E=!1,c=new WA(i,n,a),O=c.subscribe(this),m=R.subscribe({next(q){c.next(q)},error(q){E=!0,c.error(q)},complete(){D=!0,m=void 0,c.complete()}}),D&&(m=void 0)):O=c.subscribe(this),this.add(()=>{f--,O.unsubscribe(),O=void 0,m&&!D&&r&&0===f&&(m.unsubscribe(),m=void 0,c=void 0)})}}(a))}function iv(i,n){return n?kn(()=>i,n):kn(()=>i)}var fb=F(3101),gn=F(9126),sv=F(7841);const JA=new h.OlP("angularfire2.auth.use-emulator"),XA=new h.OlP("angularfire2.auth.settings"),Lg=new h.OlP("angularfire2.auth.tenant-id"),pb=new h.OlP("angularfire2.auth.langugage-code"),ov=new h.OlP("angularfire2.auth.use-device-language"),av=new h.OlP("angularfire.auth.persistence"),eS=(i,n,r,a,c,f,m,E)=>(0,gn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=n.runOutsideAngular(()=>i.auth());if(r&&D.useEmulator(...r),a&&(D.tenantId=a),D.languageCode=c,f&&D.useDeviceLanguage(),m)for(const[S,R]of Object.entries(m))D.settings[S]=R;return E&&D.setPersistence(E),D},[r,a,c,f,m,E]);let bi=(()=>{class i{constructor(r,a,c,f,m,E,D,S,R,O,q){const W=new ss.xQ,ge=(0,rt.of)(void 0).pipe((0,Bl.QV)(m.outsideAngular),kn(()=>f.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,mt.U)(()=>(0,Ci.on)(r,f,a)),(0,mt.U)(ke=>eS(ke,f,E,S,R,O,D,q)),hb({bufferSize:1,refCount:!1}));if(jr(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,rt.of)(null);else{ge.pipe(Do()).subscribe();const $e=ge.pipe(kn(dt=>dt.getRedirectResult().then(Et=>Et,()=>null)),gn.iC,hb({bufferSize:1,refCount:!1})),vt=ge.pipe(kn(dt=>new si.y(Et=>({unsubscribe:f.runOutsideAngular(()=>dt.onAuthStateChanged($n=>Et.next($n),$n=>Et.error($n),()=>Et.complete()))})))),Rt=ge.pipe(kn(dt=>new si.y(Et=>({unsubscribe:f.runOutsideAngular(()=>dt.onIdTokenChanged($n=>Et.next($n),$n=>Et.error($n),()=>Et.complete()))}))));this.authState=$e.pipe(iv(vt),(0,fb.R)(m.outsideAngular),(0,Bl.QV)(m.insideAngular)),this.user=$e.pipe(iv(Rt),(0,fb.R)(m.outsideAngular),(0,Bl.QV)(m.insideAngular)),this.idToken=this.user.pipe(kn(dt=>dt?(0,tn.D)(dt.getIdToken()):(0,rt.of)(null))),this.idTokenResult=this.user.pipe(kn(dt=>dt?(0,tn.D)(dt.getIdTokenResult()):(0,rt.of)(null))),this.credential=(0,cb.T)($e,W,this.authState.pipe(Pi(dt=>!dt))).pipe((0,mt.U)(dt=>(null==dt?void 0:dt.user)?dt:null),(0,fb.R)(m.outsideAngular),(0,Bl.QV)(m.insideAngular))}return(0,Ci.pX)(this,ge,f,{spy:{apply:(ke,$e,vt)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&vt.then(Rt=>W.next(Rt))}}})}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Ci.Dh),h.LFG(Ci.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gn.HU),h.LFG(JA,8),h.LFG(XA,8),h.LFG(Lg,8),h.LFG(pb,8),h.LFG(ov,8),h.LFG(av,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),vR=(()=>{class i{constructor(){sv.Z.registerVersion("angularfire",gn.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[bi]}),i})();var tS=F(3637);function gb(){return i=>i.lift(new mb)}class mb{call(n,r){return r.subscribe(new _b(n))}}class _b extends Rr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class nS{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new wR(n,this.compare,this.keySelector))}}class wR extends Rr.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:c}=this;r=c?c(n):n}catch(c){return this.destination.error(c)}let a=!1;if(this.hasKey)try{const{compare:c}=this;a=c(this.key,r)}catch(c){return this.destination.error(c)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}F(4828);var We,Vg=F(4486),we=F(8239),Ga=F(5452),Ug=F(6034),rc=F(5601),St=F(3854),iS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bo={},jl=jl||{},ht=iS||self;function Hh(){}function Bi(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function jo(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var uv="closure_uid_"+(1e9*Math.random()>>>0),cv=0;function to(i,n,r){return i.call.apply(i.bind,arguments)}function $h(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),i.apply(n,c)}}return function(){return i.apply(n,arguments)}}function Qt(i,n,r){return(Qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?to:$h).apply(null,arguments)}function no(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Kn(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,c,f){for(var m=Array(arguments.length-2),E=2;E<arguments.length;E++)m[E-2]=arguments[E];return n.prototype[c].apply(a,m)}}function ur(){this.s=this.s,this.o=this.o}var Hl={};ur.prototype.s=!1,ur.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,uv)&&i[uv]||(i[uv]=++cv)}(this);delete Hl[i]}},ur.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ic=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},sc=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const a=i.length,c="string"==typeof i?i.split(""):i;for(let f=0;f<a;f++)f in c&&n.call(r,c[f],f,i)};function oc(i){return Array.prototype.concat.apply([],arguments)}function qa(i){const n=i.length;if(0<n){const r=Array(n);for(let a=0;a<n;a++)r[a]=i[a];return r}return[]}function Ho(i){return/^[\s\xa0]*$/.test(i)}var Kr,ac=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Yn(i,n){return-1!=i.indexOf(n)}function Bg(i,n){return i<n?-1:i>n?1:0}e:{var dv=ht.navigator;if(dv){var hv=dv.userAgent;if(hv){Kr=hv;break e}}Kr=""}function jg(i,n,r){for(const a in i)n.call(r,i[a],a,i)}function fv(i){const n={};for(const r in i)n[r]=i[r];return n}var pv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gv(i,n){let r,a;for(let c=1;c<arguments.length;c++){for(r in a=arguments[c],a)i[r]=a[r];for(let f=0;f<pv.length;f++)r=pv[f],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function Hg(i){return Hg[" "](i),i}Hg[" "]=Hh;var Gh,i,vb=Yn(Kr,"Opera"),Gl=Yn(Kr,"Trident")||Yn(Kr,"MSIE"),mv=Yn(Kr,"Edge"),$g=mv||Gl,wb=Yn(Kr,"Gecko")&&!(Yn(Kr.toLowerCase(),"webkit")&&!Yn(Kr,"Edge"))&&!(Yn(Kr,"Trident")||Yn(Kr,"MSIE"))&&!Yn(Kr,"Edge"),ER=Yn(Kr.toLowerCase(),"webkit")&&!Yn(Kr,"Edge");function Eb(){var i=ht.document;return i?i.documentMode:void 0}e:{var _v="",Gg=(i=Kr,wb?/rv:([^\);]+)(\)|;)/.exec(i):mv?/Edge\/([\d\.]+)/.exec(i):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ER?/WebKit\/(\S+)/.exec(i):vb?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Gg&&(_v=Gg?Gg[1]:""),Gl){var yv=Eb();if(null!=yv&&yv>parseFloat(_v)){Gh=String(yv);break e}}Gh=_v}var aS={};function CR(){return n=aS,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=ac(String(Gh)).split("."),r=ac("9").split("."),a=Math.max(n.length,r.length);for(let m=0;0==i&&m<a;m++){var c=n[m]||"",f=r[m]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=Bg(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||Bg(0==c[2].length,0==f[2].length)||Bg(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i}();var n}var bR=ht.document&&Gl&&(Eb()||parseInt(Gh,10))||void 0,IR=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ht.addEventListener("test",Hh,n),ht.removeEventListener("test",Hh,n)}catch(r){}return i}();function ai(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function qh(i,n){if(ai.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(wb){e:{try{Hg(n.nodeName);var c=!0;break e}catch(f){}c=!1}c||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:DR[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qh.Z.h.call(this)}}ai.prototype.h=function(){this.defaultPrevented=!0},Kn(qh,ai);var DR={2:"touch",3:"pen",4:"mouse"};qh.prototype.h=function(){qh.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Zh="closure_listenable_"+(1e6*Math.random()|0),uS=0;function Ev(i,n,r,a,c){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=c,this.key=++uS,this.ca=this.fa=!1}function ql(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function qg(i){this.src=i,this.g={},this.h=0}function Cb(i,n){var r=n.type;if(r in i.g){var f,a=i.g[r],c=ic(a,n);(f=0<=c)&&Array.prototype.splice.call(a,c,1),f&&(ql(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function bb(i,n,r,a){for(var c=0;c<i.length;++c){var f=i[c];if(!f.ca&&f.listener==n&&f.capture==!!r&&f.ia==a)return c}return-1}qg.prototype.add=function(i,n,r,a,c){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var m=bb(i,n,a,c);return-1<m?(n=i[m],r||(n.fa=!1)):((n=new Ev(n,this.src,f,!!a,c)).fa=r,i.push(n)),n};var Ib="closure_lm_"+(1e6*Math.random()|0),Cv={};function bv(i,n,r,a,c){if(a&&a.once)return uc(i,n,r,a,c);if(Array.isArray(n)){for(var f=0;f<n.length;f++)bv(i,n[f],r,a,c);return null}return r=zg(r),i&&i[Zh]?i.N(n,r,jo(a)?!!a.capture:!!a,c):cS(i,n,r,!1,a,c)}function cS(i,n,r,a,c,f){if(!n)throw Error("Invalid event type");var m=jo(c)?!!c.capture:!!c,E=Zl(i);if(E||(i[Ib]=E=new qg(i)),(r=E.add(n,r,a,m,f)).proxy)return r;if(a=function(){var n=Ab;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)IR||(c=m),void 0===c&&(c=!1),i.addEventListener(n.toString(),a,c);else if(i.attachEvent)i.attachEvent(Tb(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function uc(i,n,r,a,c){if(Array.isArray(n)){for(var f=0;f<n.length;f++)uc(i,n[f],r,a,c);return null}return r=zg(r),i&&i[Zh]?i.O(n,r,jo(a)?!!a.capture:!!a,c):cS(i,n,r,!0,a,c)}function Db(i,n,r,a,c){if(Array.isArray(n))for(var f=0;f<n.length;f++)Db(i,n[f],r,a,c);else a=jo(a)?!!a.capture:!!a,r=zg(r),i&&i[Zh]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=bb(f=i.g[n],r,a,c))&&(ql(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete i.g[n],i.h--))):i&&(i=Zl(i))&&(n=i.g[n.toString()],i=-1,n&&(i=bb(n,r,a,c)),(r=-1<i?n[i]:null)&&Zg(r))}function Zg(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[Zh])Cb(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(Tb(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=Zl(n))?(Cb(r,i),0==r.h&&(r.src=null,n[Ib]=null)):ql(i)}}}function Tb(i){return i in Cv?Cv[i]:Cv[i]="on"+i}function Ab(i,n){if(i.ca)i=!0;else{n=new qh(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&Zg(i),i=r.call(a,n)}return i}function Zl(i){return(i=i[Ib])instanceof qg?i:null}var Iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function zg(i){return"function"==typeof i?i:(i[Iv]||(i[Iv]=function(n){return i.handleEvent(n)}),i[Iv])}function vr(){ur.call(this),this.i=new qg(this),this.P=this,this.I=null}function Or(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new ai(n,i);else if(n instanceof ai)n.target=n.target||i;else{var c=n;gv(n=new ai(a,i),c)}if(c=!0,r)for(var f=r.length-1;0<=f;f--){var m=n.g=r[f];c=Wg(m,a,!0,n)&&c}if(c=Wg(m=n.g=i,a,!0,n)&&c,c=Wg(m,a,!1,n)&&c,r)for(f=0;f<r.length;f++)c=Wg(m=n.g=r[f],a,!1,n)&&c}function Wg(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var c=!0,f=0;f<n.length;++f){var m=n[f];if(m&&!m.ca&&m.capture==r){var E=m.listener,D=m.ia||m.src;m.fa&&Cb(i.i,m),c=!1!==E.call(D,a)&&c}}return c&&!a.defaultPrevented}Kn(vr,ur),vr.prototype[Zh]=!0,vr.prototype.removeEventListener=function(i,n,r,a){Db(this,i,n,r,a)},vr.prototype.M=function(){if(vr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)ql(r[a]);delete i.g[n],i.h--}}this.I=null},vr.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},vr.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var Dv=ht.JSON.stringify;function dS(){var i=hS;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var Mb,xb=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Rb,i=>i.reset());class Rb{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Nb(i){ht.setTimeout(()=>{throw i},0)}function zh(i,n){Mb||function(){var i=ht.Promise.resolve(void 0);Mb=function(){i.then(Wh)}}(),Av||(Mb(),Av=!0),hS.add(i,n)}var Av=!1,hS=new class{constructor(){this.h=this.g=null}add(n,r){const a=xb.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a}};function Wh(){for(var i;i=dS();){try{i.h.call(i.g)}catch(r){Nb(r)}var n=xb;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}Av=!1}function Kg(i,n){vr.call(this),this.h=i||1,this.g=n||ht,this.j=Qt(this.kb,this),this.l=Date.now()}function Kh(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Yh(i,n,r){if("function"==typeof i)r&&(i=Qt(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Qt(i.handleEvent,i)}return 2147483647<Number(n)?-1:ht.setTimeout(i,n||0)}function Ob(i){i.g=Yh(()=>{i.g=null,i.i&&(i.i=!1,Ob(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}Kn(Kg,vr),(We=Kg.prototype).da=!1,We.S=null,We.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Or(this,"tick"),this.da&&(Kh(this),this.start()))}},We.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.M=function(){Kg.Z.M.call(this),Kh(this),delete this.g};class Sv extends ur{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Ob(this)}M(){super.M(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cc(i){ur.call(this),this.h=i,this.g={}}Kn(cc,ur);var xv=[];function fS(i,n,r,a){Array.isArray(r)||(r&&(xv[0]=r.toString()),r=xv);for(var c=0;c<r.length;c++){var f=bv(n,r[c],a||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Pb(i){jg(i.g,function(n,r){this.g.hasOwnProperty(r)&&Zg(n)},i),i.g={}}function Qh(){this.g=!0}function lc(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var m=1;m<c.length;m++)c[m]=""}}}return Dv(r)}catch(E){return n}}(i,r)+(a?" "+a:"")})}cc.prototype.M=function(){cc.Z.M.call(this),Pb(this)},cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qh.prototype.Aa=function(){this.g=!1},Qh.prototype.info=function(){};var $o={},Yg=null;function Jh(){return Yg=Yg||new vr}function Lb(i){ai.call(this,$o.Ma,i)}function zl(i){const n=Jh();Or(n,new Lb(n,i))}function Nv(i,n){ai.call(this,$o.STAT_EVENT,i),this.stat=n}function Pr(i){const n=Jh();Or(n,new Nv(n,i))}function Mv(i,n){ai.call(this,$o.Na,i),this.size=n}function Xh(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){i()},n)}$o.Ma="serverreachability",Kn(Lb,ai),$o.STAT_EVENT="statevent",Kn(Nv,ai),$o.Na="timingevent",Kn(Mv,ai);var Qg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ef(){}function Ov(){}ef.prototype.h=null;var tm,Wl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xg(){ai.call(this,"d")}function em(){ai.call(this,"c")}function tf(){}function Kl(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new cc(this),this.P=TR,this.W=new Kg(i=$g?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Pv}function Pv(){this.i=null,this.g="",this.h=!1}Kn(Xg,ai),Kn(em,ai),Kn(tf,ef),tf.prototype.g=function(){return new XMLHttpRequest},tf.prototype.i=function(){return{}},tm=new tf;var TR=45e3,kv={},nm={};function rm(i,n,r){i.K=1,i.v=rf(wr(n)),i.s=r,i.U=!0,Ub(i,null)}function Ub(i,n){i.F=Date.now(),nf(i),i.A=wr(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),Bv(r.h,"t",a),i.C=0,r=i.l.H,i.h=new Pv,i.g=MS(i.l,r?n:null,!i.s),0<i.O&&(i.L=new Sv(Qt(i.Ia,i,i.g),i.O)),fS(i.V,i.g,"readystatechange",i.gb),n=i.H?fv(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),zl(1),function(i,n,r,a,c,f){i.info(function(){if(i.g)if(f)for(var m="",E=f.split("&"),D=0;D<E.length;D++){var S=E[D].split("=");if(1<S.length){var R=S[0];S=S[1];var O=R.split("_");m=2<=O.length&&"type"==O[1]?m+(R+"=")+S+"&":m+(R+"=redacted&")}}else m=null;else m=f;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+n+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Qn(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Fv(i,n,r){let c,a=!0;for(;!i.I&&i.C<r.length;){if(c=gS(i,r),c==nm){4==n&&(i.o=4,Pr(14),a=!1),lc(i.j,i.m,null,"[Incomplete Response]");break}if(c==kv){i.o=4,Pr(15),lc(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}lc(i.j,i.m,c,null),za(i,c)}Qn(i)&&c!=nm&&c!=kv&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Pr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),s0(n),n.L=!0,Pr(11))):(lc(i.j,i.m,r,"[Invalid Chunked Response]"),Za(i),Yl(i))}function gS(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?nm:(r=Number(n.substring(r,a)),isNaN(r)?kv:(a+=1)+r>n.length?nm:(n=n.substr(a,r),i.C=a+r,n))}function nf(i){i.Y=Date.now()+i.P,Lv(i,i.P)}function Lv(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Xh(Qt(i.eb,i),n)}function im(i){i.B&&(ht.clearTimeout(i.B),i.B=null)}function Yl(i){0==i.l.G||i.I||ff(i.l,i)}function Za(i){im(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,Kh(i.W),Pb(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function za(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||cm(r.i,i)))if(r.I=i.N,!i.J&&cm(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(S){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(r.u)r.ta=c[1],0<r.ta-r.U&&37500>c[2]&&r.N&&0==r.A&&!r.v&&(r.v=Xh(Qt(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;gm(r),pm(r)}it(r),Pr(18)}if(1>=Gv(r.i)&&r.ka){try{r.ka()}catch(S){}r.ka=void 0}}else io(r,11)}else if((i.J||r.g==i)&&gm(r),!Ho(n))for(c=r.Ca.g.parse(n),n=0;n<c.length;n++){let S=c[n];if(r.U=S[0],S=S[1],2==r.G)if("c"==S[0]){r.J=S[1],r.la=S[2];const R=S[3];null!=R&&(r.ma=R,r.h.info("VER="+r.ma));const O=S[4];null!=O&&(r.za=O,r.h.info("SVER="+r.za));const q=S[5];null!=q&&"number"==typeof q&&0<q&&(r.K=a=1.5*q,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;const W=i.g;if(W){const ge=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ge){var f=a.i;!f.g&&(Yn(ge,"spdy")||Yn(ge,"quic")||Yn(ge,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(lm(f,f.h),f.h=null))}if(a.D){const ke=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;ke&&(a.sa=ke,Wt(a.F,a.D,ke))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var m=i;if((a=r).oa=Rn(a,a.H?a.la:null,a.W),m.J){qv(a.i,m);var E=m,D=a.K;D&&E.setTimeout(D),E.B&&(im(E),nf(E)),a.g=m}else NS(a);0<r.l.length&&t0(r)}else"stop"!=S[0]&&"close"!=S[0]||io(r,7);else 3==r.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?io(r,7):Zo(r):"noop"!=S[0]&&r.j&&r.j.wa(S),r.A=0)}zl(4)}catch(S){}}function Vv(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(Bi(i)||"string"==typeof i)sc(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Bi(i)||"string"==typeof i){r=[];for(var a=i.length,c=0;c<a;c++)r.push(c)}else for(c in r=[],a=0,i)r[a++]=c;c=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Bi(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var f=0;f<c;f++)n.call(void 0,a[f],r&&r[f],i)}}function dc(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof dc)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function Uv(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];Wa(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var c={};for(r=n=0;n<i.g.length;)Wa(c,a=i.g[n])||(i.g[r++]=a,c[a]=1),n++;i.g.length=r}}function Wa(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(We=Kl.prototype).setTimeout=function(i){this.P=i},We.gb=function(i){i=i.target;const n=this.L;n&&3==ro(i)?n.l():this.Ia(i)},We.Ia=function(i){try{if(i==this.g)e:{const R=ro(this.g);var n=this.g.Da();const O=this.g.ba();if(!(3>R)&&(3!=R||$g||this.g&&(this.h.h||this.g.ga()||Xv(this.g)))){this.I||4!=R||7==n||zl(8==n||0>=O?3:2),im(this);var r=this.g.ba();this.N=r;t:if(Qn(this)){var a=Xv(this.g);i="";var c=a.length,f=4==ro(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Za(this),Yl(this);var m="";break t}this.h.i=new ht.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,i+=this.h.i.decode(a[n],{stream:f&&n==c-1});a.splice(0,c),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==r,function(i,n,r,a,c,f,m){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+n+"\n"+r+"\n"+f+" "+m})}(this.j,this.u,this.A,this.m,this.X,R,r),this.i){if(this.$&&!this.J){t:{if(this.g){var E,D=this.g;if((E=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ho(E)){var S=E;break t}}S=null}if(!(r=S)){this.i=!1,this.o=3,Pr(12),Za(this),Yl(this);break e}lc(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,za(this,r)}this.U?(Fv(this,R,m),$g&&this.i&&3==R&&(fS(this.V,this.W,"tick",this.fb),this.W.start())):(lc(this.j,this.m,m,null),za(this,m)),4==R&&Za(this),this.i&&!this.I&&(4==R?ff(this.l,this):(this.i=!1,nf(this)))}else 400==r&&0<m.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Za(this),Yl(this)}}}catch(R){}},We.fb=function(){if(this.g){var i=ro(this.g),n=this.g.ga();this.C<n.length&&(im(this),Fv(this,i,n),this.i&&4!=i&&nf(this))}},We.cancel=function(){this.I=!0,Za(this)},We.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(zl(3),Pr(17)),Za(this),this.o=2,Yl(this)):Lv(this,this.Y-i)},(We=dc.prototype).R=function(){Uv(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},We.T=function(){return Uv(this),this.g.concat()},We.get=function(i,n){return Wa(this.h,i)?this.h[i]:n},We.set=function(i,n){Wa(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},We.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var c=r[a],f=this.get(c);i.call(n,f,c,this)}};var _S=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Go(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Go){this.g=void 0!==n?n:i.g,sm(this,i.j),this.s=i.s,om(this,i.i),ji(this,i.m),this.l=i.l,n=i.h;var r=new Ql;r.i=n.i,n.g&&(r.g=new dc(n.g),r.h=n.h),ls(this,r),this.o=i.o}else i&&(r=String(i).match(_S))?(this.g=!!n,sm(this,r[1]||"",!0),this.s=sf(r[2]||""),om(this,r[3]||"",!0),ji(this,r[4]),this.l=sf(r[5]||"",!0),ls(this,r[6]||"",!0),this.o=sf(r[7]||"")):(this.g=!!n,this.h=new Ql(null,this.g))}function wr(i){return new Go(i)}function sm(i,n,r){i.j=r?sf(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function om(i,n,r){i.i=r?sf(n,!0):n}function ji(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function ls(i,n,r){n instanceof Ql?(i.h=n,function(i,n){n&&!i.j&&(qo(i),i.i=null,i.g.forEach(function(r,a){var c=a.toLowerCase();a!=c&&(uf(this,a),Bv(this,c,r))},i)),i.j=n}(i.h,i.g)):(r||(n=of(n,Hb)),i.h=new Ql(n,i.g))}function Wt(i,n,r){i.h.set(n,r)}function rf(i){return Wt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function sf(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function of(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,vS),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function vS(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Go.prototype.toString=function(){var i=[],n=this.j;n&&i.push(of(n,am,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(of(n,am,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(of(r,"/"==r.charAt(0)?wS:af,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",of(r,ES)),i.join("")};var am=/[#\/\?@]/g,af=/[#\?:]/g,wS=/[#\?]/g,Hb=/[#\?@]/g,ES=/#/g;function Ql(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function qo(i){i.g||(i.g=new dc,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),c=null;if(0<=a){var f=i[r].substring(0,a);c=i[r].substring(a+1)}else f=i[r];n(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function uf(i,n){qo(i),n=hc(i,n),Wa(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Wa((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&Uv(i)))}function $b(i,n){return qo(i),n=hc(i,n),Wa(i.g.h,n)}function Bv(i,n,r){uf(i,n),0<r.length&&(i.i=null,i.g.set(hc(i,n),qa(r)),i.h+=r.length)}function hc(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function Hv(i){this.l=i||Gb,i=ht.PerformanceNavigationTiming?0<(i=ht.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ht.g&&ht.g.Ea&&ht.g.Ea()&&ht.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=Ql.prototype).add=function(i,n){qo(this),this.i=null,i=hc(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},We.forEach=function(i,n){qo(this),this.g.forEach(function(r,a){sc(r,function(c){i.call(n,c,a,this)},this)},this)},We.T=function(){qo(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var c=i[a],f=0;f<c.length;f++)r.push(n[a]);return r},We.R=function(i){qo(this);var n=[];if("string"==typeof i)$b(this,i)&&(n=oc(n,this.g.get(hc(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=oc(n,i[r])}return n},We.set=function(i,n){return qo(this),this.i=null,$b(this,i=hc(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},We.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],c=encodeURIComponent(String(a));a=this.R(a);for(var f=0;f<a.length;f++){var m=c;""!==a[f]&&(m+="="+encodeURIComponent(String(a[f]))),i.push(m)}}return this.i=i.join("&")};var Gb=10;function $v(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Gv(i){return i.h?1:i.g?i.g.size:0}function cm(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function lm(i,n){i.g?i.g.add(n):i.h=n}function qv(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function Zv(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return qa(i.i)}function zv(){}function CS(){this.g=new zv}function bS(i,n,r){const a=r||"";try{Vv(i,function(c,f){let m=c;jo(c)&&(m=Dv(c)),n.push(a+f+"="+encodeURIComponent(m))})}catch(c){throw n.push(a+"type="+encodeURIComponent("_badmap")),c}}function dm(i,n,r,a,c){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,c(a)}catch(f){}}function cf(i){this.l=i.$b||null,this.j=i.ib||!1}function hm(i,n){vr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=Wv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hv.prototype.cancel=function(){if(this.i=Zv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},zv.prototype.stringify=function(i){return ht.JSON.stringify(i,void 0)},zv.prototype.parse=function(i){return ht.JSON.parse(i,void 0)},Kn(cf,ef),cf.prototype.g=function(){return new hm(this.l,this.j)},cf.prototype.i=function(i){return function(){return i}}({}),Kn(hm,vr);var Wv=0;function qb(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function lf(i){i.readyState=4,i.l=null,i.j=null,i.A=null,df(i)}function df(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(We=hm.prototype).open=function(i,n){if(this.readyState!=Wv)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,df(this)},We.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||ht).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lf(this)),this.readyState=Wv},We.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,df(this)),this.g&&(this.readyState=3,df(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ht.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qb(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},We.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?lf(this):df(this),3==this.readyState&&qb(this)}},We.Ua=function(i){this.g&&(this.response=this.responseText=i,lf(this))},We.Ta=function(i){this.g&&(this.response=i,lf(this))},We.ha=function(){this.g&&lf(this)},We.setRequestHeader=function(i,n){this.v.append(i,n)},We.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(hm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var DS=ht.JSON.parse;function Jn(i){vr.call(this),this.headers=new dc,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zb,this.K=this.L=!1}Kn(Jn,vr);var Zb="",TS=/^https?$/i,AS=["POST","PUT"];function xS(i){return"content-type"==i.toLowerCase()}function Kv(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Yv(i),hf(i)}function Yv(i){i.D||(i.D=!0,Or(i,"complete"),Or(i,"error"))}function Qv(i){if(i.h&&void 0!==jl&&(!i.C[1]||4!=ro(i)||2!=i.ba()))if(i.v&&4==ro(i))Yh(i.Fa,0,i);else if(Or(i,"readystatechange"),4==ro(i)){i.h=!1;try{const E=i.ba();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var a;if(a=0===E){var c=String(i.H).match(_S)[1]||null;if(!c&&ht.self&&ht.self.location){var f=ht.self.location.protocol;c=f.substr(0,f.length-1)}a=!TS.test(c?c.toLowerCase():"")}r=a}if(r)Or(i,"complete"),Or(i,"success");else{i.m=6;try{var m=2<ro(i)?i.g.statusText:""}catch(D){m=""}i.j=m+" ["+i.ba()+"]",Yv(i)}}finally{hf(i)}}}function hf(i,n){if(i.g){Jv(i);const r=i.g,a=i.C[0]?Hh:null;i.g=null,i.C=null,n||Or(i,"ready");try{r.onreadystatechange=a}catch(c){}}}function Jv(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ht.clearTimeout(i.A),i.A=null)}function ro(i){return i.g?i.g.readyState:0}function Xv(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Zb:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function fm(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){let n="";return jg(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Wt(i,n,r))}function fc(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function e0(i){this.za=0,this.l=[],this.h=new Qh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fc("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fc("baseRetryDelayMs",5e3,i),this.$a=fc("retryDelaySeedMs",1e4,i),this.Ya=fc("forwardChannelMaxRetries",2,i),this.ra=fc("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Hv(i&&i.concurrentRequestLimit),this.Ca=new CS,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Zo(i){if(Wb(i),3==i.G){var n=i.V++,r=wr(i.F);Wt(r,"SID",i.J),Wt(r,"RID",n),Wt(r,"TYPE","terminate"),Jl(i,r),(n=new Kl(i,i.h,n,void 0)).K=2,n.v=rf(wr(r)),r=!1,ht.navigator&&ht.navigator.sendBeacon&&(r=ht.navigator.sendBeacon(n.v.toString(),"")),!r&&ht.Image&&((new Image).src=n.v,r=!0),r||(n.g=MS(n.l,null),n.g.ea(n.v)),n.F=Date.now(),nf(n)}pf(i)}function pm(i){i.g&&(s0(i),i.g.cancel(),i.g=null)}function Wb(i){pm(i),i.u&&(ht.clearTimeout(i.u),i.u=null),gm(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ht.clearTimeout(i.m),i.m=null)}function Ka(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&t0(i)}function t0(i){$v(i.i)||i.m||(i.m=!0,zh(i.Ha,i),i.C=0)}function RS(i,n){var r;r=n?n.m:i.V++;const a=wr(i.F);Wt(a,"SID",i.J),Wt(a,"RID",r),Wt(a,"AID",i.U),Jl(i,a),i.o&&i.s&&fm(a,i.o,i.s),r=new Kl(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=r0(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),lm(i.i,r),rm(r,a,n)}function Jl(i,n){i.j&&Vv({},function(r,a){Wt(n,a,r)})}function r0(i,n,r){r=Math.min(i.l.length,r);var a=i.j?Qt(i.j.Oa,i.j,i):null;e:{var c=i.l;let f=-1;for(;;){const m=["count="+r];-1==f?0<r?(f=c[0].h,m.push("ofs="+f)):f=0:m.push("ofs="+f);let E=!0;for(let D=0;D<r;D++){let S=c[D].h;const R=c[D].g;if(S-=f,0>S)f=Math.max(0,c[D].h-100),E=!1;else try{bS(R,m,"req"+S+"_")}catch(O){a&&a(R)}}if(E){a=m.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,a}function NS(i){i.g||i.u||(i.Y=1,zh(i.Ga,i),i.A=0)}function it(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Xh(Qt(i.Ga,i),Yb(i,i.A)),i.A++,0))}function s0(i){null!=i.B&&(ht.clearTimeout(i.B),i.B=null)}function Kb(i){i.g=new Kl(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=wr(i.oa);Wt(n,"RID","rpc"),Wt(n,"SID",i.J),Wt(n,"CI",i.N?"0":"1"),Wt(n,"AID",i.U),Jl(i,n),Wt(n,"TYPE","xmlhttp"),i.o&&i.s&&fm(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=rf(wr(n)),r.s=null,r.U=!0,Ub(r,i)}function gm(i){null!=i.v&&(ht.clearTimeout(i.v),i.v=null)}function ff(i,n){var r=null;if(i.g==n){gm(i),s0(i),i.g=null;var a=2}else{if(!cm(i.i,n))return;r=n.D,qv(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var c=i.C;Or(a=Jh(),new Mv(a,r,n,c)),t0(i)}else NS(i);else if(3==(c=n.o)||0==c&&0<i.I||!(1==a&&function(i,n){return!(Gv(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Xh(Qt(i.Ha,i,n),Yb(i,i.C)),i.C++,0)))}(i,n)||2==a&&it(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),c){case 1:io(i,5);break;case 4:io(i,10);break;case 3:io(i,6);break;default:io(i,2)}}function Yb(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function io(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=Qt(i.jb,i);r||(r=new Go("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||sm(r,"https"),rf(r)),function(i,n){const r=new Qh;if(ht.Image){const a=new Image;a.onload=no(dm,r,a,"TestLoadImage: loaded",!0,n),a.onerror=no(dm,r,a,"TestLoadImage: error",!1,n),a.onabort=no(dm,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=no(dm,r,a,"TestLoadImage: timeout",!1,n),ht.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else Pr(2);i.G=0,i.j&&i.j.va(n),pf(i),Wb(i)}function pf(i){i.G=0,i.I=-1,i.j&&((0!=Zv(i.i).length||0!=i.l.length)&&(i.i.i.length=0,qa(i.l),i.l.length=0),i.j.ua())}function Rn(i,n,r){let a=function(i){return i instanceof Go?wr(i):new Go(i,void 0)}(r);if(""!=a.i)n&&om(a,n+"."+a.i),ji(a,a.m);else{const c=ht.location;a=function(i,n,r,a){var c=new Go(null,void 0);return i&&sm(c,i),n&&om(c,n),r&&ji(c,r),a&&(c.l=a),c}(c.protocol,n?n+"."+c.hostname:c.hostname,+c.port,r)}return i.aa&&jg(i.aa,function(c,f){Wt(a,f,c)}),r=i.sa,(n=i.D)&&r&&Wt(a,n,r),Wt(a,"VER",i.ma),Jl(i,a),a}function MS(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Jn(r&&i.Ba&&!i.qa?new cf({ib:!0}):i.qa)).L=i.H,n}function o0(){}function Xl(){if(Gl&&!(10<=Number(bR)))throw Error("Environmental error: no available transport.")}function Hi(i,n){vr.call(this),this.g=new e0(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Ho(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ho(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new pc(this)}function a0(i){Xg.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function u0(){em.call(this),this.status=1}function pc(i){this.g=i}(We=Jn.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tm.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:tm),this.g.onreadystatechange=Qt(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(f){return void Kv(this,f)}i=r||"";const c=new dc(this.headers);a&&Vv(a,function(f,m){c.set(m,f)}),a=function(i){e:{var n=xS;const r=i.length,a="string"==typeof i?i.split(""):i;for(let c=0;c<r;c++)if(c in a&&n.call(void 0,a[c],c,i)){n=c;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(c.T()),r=ht.FormData&&i instanceof ht.FormData,!(0<=ic(AS,n))||a||r||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,m){this.g.setRequestHeader(m,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jv(this),0<this.B&&((this.K=function(i){return Gl&&CR()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.pa,this)):this.A=Yh(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){Kv(this,f)}},We.pa=function(){void 0!==jl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Or(this,"timeout"),this.abort(8))},We.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Or(this,"complete"),Or(this,"abort"),hf(this))},We.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hf(this,!0)),Jn.Z.M.call(this)},We.Fa=function(){this.s||(this.F||this.v||this.l?Qv(this):this.cb())},We.cb=function(){Qv(this)},We.ba=function(){try{return 2<ro(this)?this.g.status:-1}catch(i){return-1}},We.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},We.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),DS(n)}},We.Da=function(){return this.m},We.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=e0.prototype).ma=8,We.G=1,We.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},We.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const c=new Kl(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=fv(f),gv(f,this.P)):f=this.P),null===this.o&&(c.H=f),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var a=this.l[r];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=r0(this,c,n),Wt(r=wr(this.F),"RID",i),Wt(r,"CVER",22),this.D&&Wt(r,"X-HTTP-Session-Id",this.D),Jl(this,r),this.o&&f&&fm(r,this.o,f),lm(this.i,c),this.Ra&&Wt(r,"TYPE","init"),this.ja?(Wt(r,"$req",n),Wt(r,"SID","null"),c.$=!0,rm(c,r,null)):rm(c,r,n),this.G=2}}else 3==this.G&&(i?RS(this,i):0==this.l.length||$v(this.i)||RS(this))},We.Ga=function(){if(this.u=null,Kb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Xh(Qt(this.bb,this),i)}},We.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),pm(this),Kb(this))},We.ab=function(){null!=this.v&&(this.v=null,pm(this),it(this),Pr(19))},We.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(We=o0.prototype).xa=function(){},We.wa=function(){},We.va=function(){},We.ua=function(){},We.Oa=function(){},Xl.prototype.g=function(i,n){return new Hi(i,n)},Kn(Hi,vr),Hi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),zh(Qt(i.hb,i,n))),Pr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=Rn(i,null,i.W),t0(i)},Hi.prototype.close=function(){Zo(this.g)},Hi.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,Ka(this.g,n)}else this.v?((n={}).__data__=Dv(i),Ka(this.g,n)):Ka(this.g,i)},Hi.prototype.M=function(){this.g.j=null,delete this.j,Zo(this.g),delete this.g,Hi.Z.M.call(this)},Kn(a0,Xg),Kn(u0,em),Kn(pc,o0),pc.prototype.xa=function(){Or(this.g,"a")},pc.prototype.wa=function(i){Or(this.g,new a0(i))},pc.prototype.va=function(i){Or(this.g,new u0(i))},pc.prototype.ua=function(){Or(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,Qg.NO_ERROR=0,Qg.TIMEOUT=8,Qg.HTTP_ERROR=6,Vb.COMPLETE="complete",Ov.EventType=Wl,Wl.OPEN="a",Wl.CLOSE="b",Wl.ERROR="c",Wl.MESSAGE="d",vr.prototype.listen=vr.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.La,Jn.prototype.getLastErrorCode=Jn.prototype.Da,Jn.prototype.getStatus=Jn.prototype.ba,Jn.prototype.getResponseJson=Jn.prototype.Qa,Jn.prototype.getResponseText=Jn.prototype.ga,Jn.prototype.send=Jn.prototype.ea;var Qb=Bo.createWebChannelTransport=function(){return new Xl},OS=Bo.getStatEventTarget=function(){return Jh()},c0=Bo.ErrorCode=Qg,PS=Bo.EventType=Vb,gf=Bo.Event=$o,Jb=Bo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kS=Bo.FetchXmlHttpFactory=cf,mm=Bo.WebChannel=Ov,_m=Bo.XhrIo=Jn;class Er{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let gc="9.1.0";const zo=new rc.Yd("@firebase/firestore");function l0(){return zo.logLevel}function Fe(i,...n){if(zo.logLevel<=rc.in.DEBUG){const r=n.map(d0);zo.debug(`Firestore (${gc}): ${i}`,...r)}}function Xn(i,...n){if(zo.logLevel<=rc.in.ERROR){const r=n.map(d0);zo.error(`Firestore (${gc}): ${i}`,...r)}}function _f(i,...n){if(zo.logLevel<=rc.in.WARN){const r=n.map(d0);zo.warn(`Firestore (${gc}): ${i}`,...r)}}function d0(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function et(i="Unexpected state"){const n=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+i;throw Xn(n),new Error(n)}function ft(i,n){i||et()}function Be(i,n){return i}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class FS{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class AR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(Er.UNAUTHENTICATED))}shutdown(){}}class SR{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class xR{constructor(n){this.t=n,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let c=this.i;const f=S=>this.i!==c?(c=this.i,r(S)):Promise.resolve();let m=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Cr,n.enqueueRetryable(()=>f(this.currentUser))};const E=()=>{const S=m;n.enqueueRetryable((0,we.Z)(function*(){yield S.promise,yield f(a.currentUser)}))},D=S=>{Fe("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(S=>D(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?D(S):(Fe("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Cr)}},0),E()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(Fe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ft("string"==typeof a.accessToken),new FS(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ft(null===n||"string"==typeof n),new Er(n)}}class eI{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=Er.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class ym{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new eI(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(Er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $i{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function LS(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}$i.T=-1;class h0{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const c=LS(40);for(let f=0;f<c.length;++f)a.length<20&&c[f]<r&&(a+=n.charAt(c[f]%n.length))}return a}}function Ot(i,n){return i<n?-1:i>n?1:0}function ed(i,n,r){return i.length===n.length&&i.every((a,c)=>r(a,n[c]))}function tI(i){return i+"\0"}class br{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return br.fromMillis(Date.now())}static fromDate(n){return br.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new br(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Ot(this.nanoseconds,n.nanoseconds):Ot(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new xt(n)}static min(){return new xt(new br(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function nI(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Ya(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function rI(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class yf{constructor(n,r,a){void 0===r?r=0:r>n.length&&et(),void 0===a?a=n.length-r:a>n.length-r&&et(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===yf.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof yf?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let c=0;c<a;c++){const f=n.get(c),m=r.get(c);if(f<m)return-1;if(f>m)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class jt extends yf{construct(n,r,a){return new jt(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(c=>c.length>0))}return new jt(r)}static emptyPath(){return new jt([])}}const VS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends yf{construct(n,r,a){return new Ir(n,r,a)}static isValidIdentifier(n){return VS.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(n){const r=[];let a="",c=0;const f=()=>{if(0===a.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let m=!1;for(;c<n.length;){const E=n[c];if("\\"===E){if(c+1===n.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const D=n[c+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=D,c+=2}else"`"===E?(m=!m,c++):"."!==E||m?(a+=E,c++):(f(),c++)}if(f(),m)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ir(r)}static emptyPath(){return new Ir([])}}class td{constructor(n){this.fields=n,n.sort(Ir.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return ed(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class Dr{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Dr(r)}static fromUint8Array(n){const r=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(n);return new Dr(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Ot(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(i){if(ft(!!i),"string"==typeof i){let n=0;const r=sI.exec(i);if(ft(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),n=Number(c)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Fn(i.seconds),nanos:Fn(i.nanos)}}function Fn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function nd(i){return"string"==typeof i?Dr.fromBase64String(i):Dr.fromUint8Array(i)}function vm(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function f0(i){const n=i.mapValue.fields.__previous_value__;return vm(n)?f0(n):n}function vf(i){const n=Qa(i.mapValue.fields.__local_write_time__.timestampValue);return new br(n.seconds,n.nanos)}function mc(i){return null==i}function wm(i){return 0===i&&1/i==-1/0}function Em(i){return"number"==typeof i&&Number.isInteger(i)&&!wm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class tt{constructor(n){this.path=n}static fromPath(n){return new tt(jt.fromString(n))}static fromName(n){return new tt(jt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===jt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return jt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new tt(new jt(n.slice()))}}function Ja(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vm(i)?4:10:et()}function so(i,n){const r=Ja(i);if(r!==Ja(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return vf(i).isEqual(vf(n));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Qa(a.timestampValue),m=Qa(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return c=n,nd(i.bytesValue).isEqual(nd(c.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,c){return Fn(a.geoPointValue.latitude)===Fn(c.geoPointValue.latitude)&&Fn(a.geoPointValue.longitude)===Fn(c.geoPointValue.longitude)}(i,n);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Fn(a.integerValue)===Fn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=Fn(a.doubleValue),m=Fn(c.doubleValue);return f===m?wm(f)===wm(m):isNaN(f)&&isNaN(m)}return!1}(i,n);case 9:return ed(i.arrayValue.values||[],n.arrayValue.values||[],so);case 10:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(nI(f)!==nI(m))return!1;for(const E in f)if(f.hasOwnProperty(E)&&(void 0===m[E]||!so(f[E],m[E])))return!1;return!0}(i,n);default:return et()}var c}function wf(i,n){return void 0!==(i.values||[]).find(r=>so(r,n))}function rd(i,n){const r=Ja(i),a=Ja(n);if(r!==a)return Ot(r,a);switch(r){case 0:return 0;case 1:return Ot(i.booleanValue,n.booleanValue);case 2:return function(c,f){const m=Fn(c.integerValue||c.doubleValue),E=Fn(f.integerValue||f.doubleValue);return m<E?-1:m>E?1:m===E?0:isNaN(m)?isNaN(E)?0:-1:1}(i,n);case 3:return oI(i.timestampValue,n.timestampValue);case 4:return oI(vf(i),vf(n));case 5:return Ot(i.stringValue,n.stringValue);case 6:return function(c,f){const m=nd(c),E=nd(f);return m.compareTo(E)}(i.bytesValue,n.bytesValue);case 7:return function(c,f){const m=c.split("/"),E=f.split("/");for(let D=0;D<m.length&&D<E.length;D++){const S=Ot(m[D],E[D]);if(0!==S)return S}return Ot(m.length,E.length)}(i.referenceValue,n.referenceValue);case 8:return function(c,f){const m=Ot(Fn(c.latitude),Fn(f.latitude));return 0!==m?m:Ot(Fn(c.longitude),Fn(f.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(c,f){const m=c.values||[],E=f.values||[];for(let D=0;D<m.length&&D<E.length;++D){const S=rd(m[D],E[D]);if(S)return S}return Ot(m.length,E.length)}(i.arrayValue,n.arrayValue);case 10:return function(c,f){const m=c.fields||{},E=Object.keys(m),D=f.fields||{},S=Object.keys(D);E.sort(),S.sort();for(let R=0;R<E.length&&R<S.length;++R){const O=Ot(E[R],S[R]);if(0!==O)return O;const q=rd(m[E[R]],D[S[R]]);if(0!==q)return q}return Ot(E.length,S.length)}(i.mapValue,n.mapValue);default:throw et()}}function oI(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Ot(i,n);const r=Qa(i),a=Qa(n),c=Ot(r.seconds,a.seconds);return 0!==c?c:Ot(r.nanos,a.nanos)}function p0(i){return g0(i)}function g0(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const c=Qa(a);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?nd(i.bytesValue).toBase64():"referenceValue"in i?tt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let c="[",f=!0;for(const m of a.values||[])f?f=!1:c+=",",c+=g0(m);return c+"]"}(i.arrayValue):"mapValue"in i?function(a){const c=Object.keys(a.fields||{}).sort();let f="{",m=!0;for(const E of c)m?m=!1:f+=",",f+=`${E}:${g0(a.fields[E])}`;return f+"}"}(i.mapValue):et();var n}function Cm(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function m0(i){return!!i&&"integerValue"in i}function bm(i){return!!i&&"arrayValue"in i}function _0(i){return!!i&&"nullValue"in i}function aI(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Im(i){return!!i&&"mapValue"in i}function id(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Ya(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=id(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=id(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Yr{constructor(n){this.value=n}static empty(){return new Yr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!Im(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=id(r)}setAll(n){let r=Ir.emptyPath(),a={},c=[];n.forEach((m,E)=>{if(!r.isImmediateParentOf(E)){const D=this.getFieldsMap(r);this.applyChanges(D,a,c),a={},c=[],r=E.popLast()}m?a[E.lastSegment()]=id(m):c.push(E.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,a,c)}delete(n){const r=this.field(n.popLast());Im(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return so(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let c=r.mapValue.fields[n.get(a)];Im(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=c),r=c}return r.mapValue.fields}applyChanges(n,r,a){Ya(r,(c,f)=>n[c]=f);for(const c of a)delete n[c]}clone(){return new Yr(id(this.value))}}function uI(i){const n=[];return Ya(i.fields,(r,a)=>{const c=new Ir([r]);if(Im(a)){const f=uI(a.mapValue).fields;if(0===f.length)n.push(c);else for(const m of f)n.push(c.child(m))}else n.push(c)}),new td(n)}class Dn{constructor(n,r,a,c,f){this.key=n,this.documentType=r,this.version=a,this.data=c,this.documentState=f}static newInvalidDocument(n){return new Dn(n,0,xt.min(),Yr.empty(),0)}static newFoundDocument(n,r,a){return new Dn(n,1,r,a,0)}static newNoDocument(n,r){return new Dn(n,2,r,Yr.empty(),0)}static newUnknownDocument(n,r){return new Dn(n,3,r,Yr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Dn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Dn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class y0{constructor(n,r=null,a=[],c=[],f=null,m=null,E=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=c,this.limit=f,this.startAt=m,this.endAt=E,this.A=null}}function Dm(i,n=null,r=[],a=[],c=null,f=null,m=null){return new y0(i,n,r,a,c,f,m)}function sd(i){const n=Be(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+p0(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),mc(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=ad(n.startAt)),n.endAt&&(r+="|ub:",r+=ad(n.endAt)),n.A=r}return n.A}function Tm(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!HS(i.orderBy[c],n.orderBy[c]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((r=i.filters[c]).op!==(a=n.filters[c]).op||!r.field.isEqual(a.field)||!so(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!hI(i.startAt,n.startAt)&&hI(i.endAt,n.endAt)}function Am(i){return tt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class kr extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new cI(n,r,a):"array-contains"===r?new dI(n,a):"in"===r?new RR(n,a):"not-in"===r?new jS(n,a):"array-contains-any"===r?new od(n,a):new kr(n,r,a)}static R(n,r,a){return"in"===r?new BS(n,a):new lI(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(rd(r,this.value)):null!==r&&Ja(this.value)===Ja(r)&&this.P(rd(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cI extends kr{constructor(n,r,a){super(n,r,a),this.key=tt.fromName(a.referenceValue)}matches(n){const r=tt.comparator(n.key,this.key);return this.P(r)}}class BS extends kr{constructor(n,r){super(n,"in",r),this.keys=w0(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class lI extends kr{constructor(n,r){super(n,"not-in",r),this.keys=w0(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function w0(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>tt.fromName(a.referenceValue))}class dI extends kr{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return bm(r)&&wf(r.arrayValue,this.value)}}class RR extends kr{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&wf(this.value.arrayValue,r)}}class jS extends kr{constructor(n,r){super(n,"not-in",r)}matches(n){if(wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!wf(this.value.arrayValue,r)}}class od extends kr{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!bm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>wf(this.value.arrayValue,a))}}class Sm{constructor(n,r){this.position=n,this.before=r}}function ad(i){return`${i.before?"b":"a"}:${i.position.map(n=>p0(n)).join(",")}`}class Wo{constructor(n,r="asc"){this.field=n,this.dir=r}}function HS(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function _c(i,n,r){let a=0;for(let c=0;c<i.position.length;c++){const f=n[c],m=i.position[c];if(a=f.field.isKeyField()?tt.comparator(tt.fromName(m.referenceValue),r.key):rd(m,r.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function hI(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!so(i.position[r],n.position[r]))return!1;return!0}class Xa{constructor(n,r=null,a=[],c=[],f=null,m="F",E=null,D=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=c,this.limit=f,this.limitType=m,this.startAt=E,this.endAt=D,this.V=null,this.S=null}}function fI(i,n,r,a,c,f,m,E){return new Xa(i,n,r,a,c,f,m,E)}function ui(i){return new Xa(i)}function Ef(i){return!mc(i.limit)&&"F"===i.limitType}function E0(i){return!mc(i.limit)&&"L"===i.limitType}function ud(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function C0(i){for(const n of i.filters)if(n.v())return n.field;return null}function b0(i){return null!==i.collectionGroup}function Cf(i){const n=Be(i);if(null===n.V){n.V=[];const r=C0(n),a=ud(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new Wo(r)),n.V.push(new Wo(Ir.keyField(),"asc"));else{let c=!1;for(const f of n.explicitOrderBy)n.V.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Wo(Ir.keyField(),f))}}}return n.V}function ds(i){const n=Be(i);if(!n.S)if("F"===n.limitType)n.S=Dm(n.path,n.collectionGroup,Cf(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const f of Cf(n))r.push(new Wo(f.field,"desc"===f.dir?"asc":"desc"));const a=n.endAt?new Sm(n.endAt.position,!n.endAt.before):null,c=n.startAt?new Sm(n.startAt.position,!n.startAt.before):null;n.S=Dm(n.path,n.collectionGroup,r,n.filters,n.limit,a,c)}return n.S}function pI(i,n,r){return new Xa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function bf(i,n){return Tm(ds(i),ds(n))&&i.limitType===n.limitType}function xm(i){return`${sd(ds(i))}|lt:${i.limitType}`}function Rm(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${p0(a.value)}`;var a}).join(", ")}]`),mc(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+ad(i.startAt)),i.endAt&&(n+=", endAt: "+ad(i.endAt)),`Target(${n})`}(ds(i))}; limitType=${i.limitType})`}function yc(i,n){return n.isFoundDocument()&&function(r,a){const c=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):tt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(i,n)&&function(r,a){for(const c of r.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(i,n)&&function(r,a){for(const c of r.filters)if(!c.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!_c(r.startAt,Cf(r),a)||r.endAt&&_c(r.endAt,Cf(r),a)));var r,a}function I0(i){return(n,r)=>{let a=!1;for(const c of Cf(i)){const f=$S(c,n,r);if(0!==f)return f;a=a||c.field.isKeyField()}return 0}}function $S(i,n,r){const a=i.field.isKeyField()?tt.comparator(n.key,r.key):function(c,f,m){const E=f.data.field(c),D=m.data.field(c);return null!==E&&null!==D?rd(E,D):et()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return et()}}function GS(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(n)?"-0":n}}function gI(i){return{integerValue:""+i}}function mI(i,n){return Em(n)?gI(n):GS(i,n)}class Nm{constructor(){this._=void 0}}function _I(i,n,r){return i instanceof cd?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(f.fields.__previous_value__=c),{mapValue:f}}(r,n):i instanceof vc?T0(i,n):i instanceof oo?vI(i,n):function(a,c){const f=D0(a,c),m=If(f)+If(a.C);return m0(f)&&m0(a.C)?gI(m):GS(a.N,m)}(i,n)}function yI(i,n,r){return i instanceof vc?T0(i,n):i instanceof oo?vI(i,n):r}function D0(i,n){return i instanceof wc?m0(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class cd extends Nm{}class vc extends Nm{constructor(n){super(),this.elements=n}}function T0(i,n){const r=Df(n);for(const a of i.elements)r.some(c=>so(c,a))||r.push(a);return{arrayValue:{values:r}}}class oo extends Nm{constructor(n){super(),this.elements=n}}function vI(i,n){let r=Df(n);for(const a of i.elements)r=r.filter(c=>!so(c,a));return{arrayValue:{values:r}}}class wc extends Nm{constructor(n,r){super(),this.N=n,this.C=r}}function If(i){return Fn(i.integerValue||i.doubleValue)}function Df(i){return bm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ko{constructor(n,r){this.field=n,this.transform=r}}class ZS{constructor(n,r){this.version=n,this.transformResults=r}}class cr{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new cr}static exists(n){return new cr(void 0,n)}static updateTime(n){return new cr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Mm(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class Om{}function zS(i,n,r){i instanceof Tf?function(a,c,f){const m=a.value.clone(),E=CI(a.fieldTransforms,c,f.transformResults);m.setAll(E),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,n,r):i instanceof eu?function(a,c,f){if(!Mm(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=CI(a.fieldTransforms,c,f.transformResults),E=c.data;E.setAll(KS(a)),E.setAll(m),c.convertToFoundDocument(f.version,E).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function A0(i,n,r){var c;i instanceof Tf?function(a,c,f){if(!Mm(a.precondition,c))return;const m=a.value.clone(),E=ld(a.fieldTransforms,f,c);m.setAll(E),c.convertToFoundDocument(EI(c),m).setHasLocalMutations()}(i,n,r):i instanceof eu?function(a,c,f){if(!Mm(a.precondition,c))return;const m=ld(a.fieldTransforms,f,c),E=c.data;E.setAll(KS(a)),E.setAll(m),c.convertToFoundDocument(EI(c),E).setHasLocalMutations()}(i,n,r):Mm(i.precondition,c=n)&&c.convertToNoDocument(xt.min())}function WS(i,n){let r=null;for(const a of i.fieldTransforms){const c=n.data.field(a.field),f=D0(a.transform,c||null);null!=f&&(null==r&&(r=Yr.empty()),r.set(a.field,f))}return r||null}function wI(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&ed(r,a,(c,f)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof vc&&a instanceof vc||r instanceof oo&&a instanceof oo?ed(r.elements,a.elements,so):r instanceof wc&&a instanceof wc?so(r.C,a.C):r instanceof cd&&a instanceof cd);var r,a}(c,f))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function EI(i){return i.isFoundDocument()?i.version:xt.min()}class Tf extends Om{constructor(n,r,a,c=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=c,this.type=0}}class eu extends Om{constructor(n,r,a,c,f=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=c,this.fieldTransforms=f,this.type=1}}function KS(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function CI(i,n,r){const a=new Map;ft(i.length===r.length);for(let c=0;c<r.length;c++){const f=i[c],m=f.transform,E=n.data.field(f.field);a.set(f.field,yI(m,E,r[c]))}return a}function ld(i,n,r){const a=new Map;for(const c of i){const f=c.transform,m=r.data.field(c.field);a.set(c.field,_I(f,m,n))}return a}class Af extends Om{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class S0 extends Om{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class YS{constructor(n){this.count=n}}var Nn,Pt;function x0(i){switch(i){case pe.OK:return et();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return et()}}function bI(i){if(void 0===i)return Xn("GRPC error has no .code"),pe.UNKNOWN;switch(i){case Nn.OK:return pe.OK;case Nn.CANCELLED:return pe.CANCELLED;case Nn.UNKNOWN:return pe.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return pe.INTERNAL;case Nn.UNAVAILABLE:return pe.UNAVAILABLE;case Nn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Nn.NOT_FOUND:return pe.NOT_FOUND;case Nn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Nn.ABORTED:return pe.ABORTED;case Nn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Nn.DATA_LOSS:return pe.DATA_LOSS;default:return et()}}(Pt=Nn||(Nn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";class Tr{constructor(n,r){this.comparator=n,this.root=r||er.EMPTY}insert(n,r){return new Tr(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,er.BLACK,null,null))}remove(n){return new Tr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,er.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(n,a.key);if(0===c)return r+a.left.size;c<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Pm(this.root,n,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Pm(this.root,n,this.comparator,!0)}}class Pm{constructor(n,r,a,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=r?a(n.key,r):1,c&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class er{constructor(n,r,a,c,f){this.key=n,this.value=r,this.color=null!=a?a:er.RED,this.left=null!=c?c:er.EMPTY,this.right=null!=f?f:er.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,c,f){return new er(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let c=this;const f=a(n,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(n,r,a),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(n,r,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,c=this;if(r(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(n,c.key)){if(c.right.isEmpty())return er.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const n=this.left.check();if(n!==this.right.check())throw et();return n+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1,er.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(i,n,r,a,c){return this}insert(i,n,r){return new er(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(n){this.comparator=n,this.data=new Tr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,n[1])>=0)return;r(c.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new II(this.data.getIterator())}getIteratorFrom(n){return new II(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof Ln)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,f=a.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new Ln(this.comparator);return r.data=n,r}}class II{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const DI=new Tr(tt.comparator);function Gi(){return DI}const R0=new Tr(tt.comparator);function km(){return R0}const TI=new Tr(tt.comparator);function AI(){return TI}const QS=new Ln(tt.comparator);function nn(...i){let n=QS;for(const r of i)n=n.add(r);return n}const JS=new Ln(Ot);function Sf(){return JS}class tu{constructor(n,r,a,c,f){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,nu.createSynthesizedTargetChangeForCurrentChange(n,r)),new tu(xt.min(),a,Sf(),Gi(),nn())}}class nu{constructor(n,r,a,c,f){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,r){return new nu(Dr.EMPTY_BYTE_STRING,r,nn(),nn(),nn())}}class N0{constructor(n,r,a,c){this.k=n,this.removedTargetIds=r,this.key=a,this.$=c}}class dd{constructor(n,r){this.targetId=n,this.O=r}}class Xt{constructor(n,r,a=Dr.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=c}}class Yo{constructor(){this.F=0,this.M=XS(),this.L=Dr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=nn(),r=nn(),a=nn();return this.M.forEach((c,f)=>{switch(f){case 0:n=n.add(c);break;case 2:r=r.add(c);break;case 1:a=a.add(c);break;default:et()}}),new nu(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=XS()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class hd{constructor(n){this.tt=n,this.et=new Map,this.nt=Gi(),this.st=fd(),this.it=new Ln(Ot)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:et()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,c)=>{this.ht(c)&&r(c)})}ft(n){const r=n.targetId,a=n.O.count,c=this.dt(r);if(c){const f=c.target;if(Am(f))if(0===a){const m=new tt(f.path);this.at(r,m,Dn.newNoDocument(m,xt.min()))}else ft(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((f,m)=>{const E=this.dt(m);if(E){if(f.current&&Am(E.target)){const D=new tt(E.target.path);null!==this.nt.get(D)||this.gt(m,D)||this.at(m,D,Dn.newNoDocument(D,n))}f.K&&(r.set(m,f.W()),f.G())}});let a=nn();this.st.forEach((f,m)=>{let E=!0;m.forEachWhile(D=>{const S=this.dt(D);return!S||2===S.purpose||(E=!1,!1)}),E&&(a=a.add(f))});const c=new tu(n,r,this.it,this.nt,a);return this.nt=Gi(),this.st=fd(),this.it=new Ln(Ot),c}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const c=this.ut(n);this.gt(n,r)?c.H(r,1):c.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new Yo,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new Ln(Ot),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Fe("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Yo),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function fd(){return new Tr(tt.comparator)}function XS(){return new Tr(tt.comparator)}const wt={asc:"ASCENDING",desc:"DESCENDING"},hs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class M0{constructor(n,r){this.databaseId=n,this.D=r}}function Ts(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function e1(i,n){return i.D?n.toBase64():n.toUint8Array()}function SI(i,n){return Ts(i,n.toTimestamp())}function lr(i){return ft(!!i),xt.fromTimestamp(function(n){const r=Qa(n);return new br(r.seconds,r.nanos)}(i))}function xI(i,n){return(r=i,new jt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function RI(i){const n=jt.fromString(i);return ft(jm(n)),n}function xf(i,n){return xI(i.databaseId,n.path)}function Bn(i,n){const r=RI(n);if(r.get(1)!==i.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new tt(NI(r))}function wn(i,n){return xI(i.databaseId,n)}function fs(i){const n=RI(i);return 4===n.length?jt.emptyPath():NI(n)}function pd(i){return new jt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function NI(i){return ft(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function O0(i,n,r){return{name:xf(i,n),fields:r.value.mapValue.fields}}function Fm(i,n,r){const a=Bn(i,n.name),c=lr(n.updateTime),f=new Yr({mapValue:{fields:n.fields}}),m=Dn.newFoundDocument(a,c,f);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function Lm(i,n){let r;if(n instanceof Tf)r={update:O0(i,n.key,n.value)};else if(n instanceof Af)r={delete:xf(i,n.key)};else if(n instanceof eu)r={update:O0(i,n.key,n.data),updateMask:L0(n.fieldMask)};else{if(!(n instanceof S0))return et();r={verify:xf(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(c,f){const m=f.transform;if(m instanceof cd)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof oo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wc)return{fieldPath:f.field.canonicalString(),increment:m.C};throw et()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(c=n.precondition).updateTime?{updateTime:SI(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:et()),r;var c}function ru(i,n){const r=n.currentDocument?void 0!==(c=n.currentDocument).updateTime?cr.updateTime(lr(c.updateTime)):void 0!==c.exists?cr.exists(c.exists):cr.none():cr.none(),a=n.updateTransforms?n.updateTransforms.map(c=>function(f,m){let E=null;"setToServerValue"in m?(ft("REQUEST_TIME"===m.setToServerValue),E=new cd):"appendMissingElements"in m?E=new vc(m.appendMissingElements.values||[]):"removeAllFromArray"in m?E=new oo(m.removeAllFromArray.values||[]):"increment"in m?E=new wc(f,m.increment):et();const D=Ir.fromServerFormat(m.fieldPath);return new Ko(D,E)}(i,c)):[];var c;if(n.update){const c=Bn(i,n.update.name),f=new Yr({mapValue:{fields:n.update.fields}});if(n.updateMask){const m=new td((n.updateMask.fieldPaths||[]).map(S=>Ir.fromServerFormat(S)));return new eu(c,f,m,r,a)}return new Tf(c,f,r,a)}if(n.delete){const c=Bn(i,n.delete);return new Af(c,r)}if(n.verify){const c=Bn(i,n.verify);return new S0(c,r)}return et()}function P0(i,n){return{documents:[wn(i,n.path)]}}function Vm(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=wn(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=wn(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(E){if(0===E.length)return;const D=E.map(S=>function(R){if("=="===R.op){if(aI(R.value))return{unaryFilter:{field:Cc(R.field),op:"IS_NAN"}};if(_0(R.value))return{unaryFilter:{field:Cc(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(aI(R.value))return{unaryFilter:{field:Cc(R.field),op:"IS_NOT_NAN"}};if(_0(R.value))return{unaryFilter:{field:Cc(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cc(R.field),op:OI(R.op),value:R.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(n.filters);c&&(r.structuredQuery.where=c);const f=function(E){if(0!==E.length)return E.map(D=>{return{field:Cc((S=D).field),direction:Um(S.dir)};var S})}(n.orderBy);f&&(r.structuredQuery.orderBy=f);const m=(D=n.limit,i.D||mc(D)?D:{value:D});var D;return null!==m&&(r.structuredQuery.limit=m),n.startAt&&(r.structuredQuery.startAt=Ec(n.startAt)),n.endAt&&(r.structuredQuery.endAt=Ec(n.endAt)),r}function md(i){let n=fs(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let c=null;if(a>0){ft(1===a);const R=r.from[0];R.allDescendants?c=R.collectionId:n=n.child(R.collectionId)}let f=[];r.where&&(f=F0(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(R=>{return new Wo(bc((O=R).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let E=null;r.limit&&(E=function(R){let O;return O="object"==typeof R?R.value:R,mc(O)?null:O}(r.limit));let D=null;r.startAt&&(D=MI(r.startAt));let S=null;return r.endAt&&(S=MI(r.endAt)),fI(n,c,m,f,E,"F",D,S)}function F0(i){return i?void 0!==i.unaryFilter?[n1(i)]:void 0!==i.fieldFilter?[Bm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>F0(n)).reduce((n,r)=>n.concat(r)):et():[]}function Ec(i){return{before:i.before,values:i.position}}function MI(i){return new Sm(i.values||[],!!i.before)}function Um(i){return wt[i]}function OI(i){return hs[i]}function Cc(i){return{fieldPath:i.canonicalString()}}function bc(i){return Ir.fromServerFormat(i.fieldPath)}function Bm(i){return kr.create(bc(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return et()}}(i.fieldFilter.op),i.fieldFilter.value)}function n1(i){switch(i.unaryFilter.op){case"IS_NAN":const n=bc(i.unaryFilter.field);return kr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=bc(i.unaryFilter.field);return kr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=bc(i.unaryFilter.field);return kr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bc(i.unaryFilter.field);return kr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return et()}}function L0(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function jm(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ao(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=_t(n)),n=NR(i.get(r),n);return _t(n)}function NR(i,n){let r=n;const a=i.length;for(let c=0;c<a;c++){const f=i.charAt(c);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function _t(i){return i+"\x01\x01"}function iu(i){const n=i.length;if(ft(n>=2),2===n)return ft("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),jt.emptyPath();const r=n-2,a=[];let c="";for(let f=0;f<n;){const m=i.indexOf("\x01",f);switch((m<0||m>r)&&et(),i.charAt(m+1)){case"\x01":const E=i.substring(f,m);let D;0===c.length?D=E:(c+=E,D=c,c=""),a.push(D);break;case"\x10":c+=i.substring(f,m),c+="\0";break;case"\x11":c+=i.substring(f,m+1);break;default:et()}f=m+2}return new jt(a)}class Nf{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class qi{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}qi.store="owner",qi.key="owner";class su{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}su.store="mutationQueues",su.keyPath="userId";class En{constructor(n,r,a,c,f){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=f}}En.store="mutations",En.keyPath="batchId",En.userMutationsIndex="userMutationsIndex",En.userMutationsKeyPath=["userId","batchId"];class ci{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,ao(r)]}static key(n,r,a){return[n,ao(r),a]}}ci.store="documentMutations",ci.PLACEHOLDER=new ci;class MR{constructor(n,r){this.path=n,this.readTime=r}}class r1{constructor(n,r){this.path=n,this.version=r}}class Ut{constructor(n,r,a,c,f,m){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=c,this.readTime=f,this.parentPath=m}}Ut.store="remoteDocuments",Ut.readTimeIndex="readTimeIndex",Ut.readTimeIndexPath="readTime",Ut.collectionReadTimeIndex="collectionReadTimeIndex",Ut.collectionReadTimeIndexPath=["parentPath","readTime"];class uo{constructor(n){this.byteSize=n}}uo.store="remoteDocumentGlobal",uo.key="remoteDocumentGlobalKey";class Ii{constructor(n,r,a,c,f,m,E){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=m,this.query=E}}Ii.store="targets",Ii.keyPath="targetId",Ii.queryTargetsIndexName="queryTargetsIndex",Ii.queryTargetsKeyPath=["canonicalId","targetId"];class dr{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}dr.store="targetDocuments",dr.keyPath=["targetId","path"],dr.documentTargetsIndex="documentTargetsIndex",dr.documentTargetsKeyPath=["path","targetId"];class Zi{constructor(n,r,a,c){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}Zi.key="targetGlobalKey",Zi.store="targetGlobal";class Ic{constructor(n,r){this.collectionId=n,this.parent=r}}Ic.store="collectionParents",Ic.keyPath=["collectionId","parent"];class Qo{constructor(n,r,a,c){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=c}}Qo.store="clientMetadata",Qo.keyPath="clientId";class _d{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}_d.store="bundles",_d.keyPath="bundleId";class yd{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}yd.store="namedQueries",yd.keyPath="name";const i1=[su.store,En.store,ci.store,Ut.store,Ii.store,qi.store,Zi.store,dr.store,Qo.store,uo.store,Ic.store,_d.store,yd.store],Hm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Se{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Se((a,c)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(a,c)},this.catchCallback=f=>{this.wrapFailure(r,f).next(a,c)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Se.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Se.reject(r)}static resolve(n){return new Se((r,a)=>{r(n)})}static reject(n){return new Se((r,a)=>{a(n)})}static waitFor(n){return new Se((r,a)=>{let c=0,f=0,m=!1;n.forEach(E=>{++c,E.next(()=>{++f,m&&f===c&&r()},D=>a(D))}),m=!0,f===c&&r()})}static or(n){let r=Se.resolve(!1);for(const a of n)r=r.next(c=>c?Se.resolve(c):a());return r}static forEach(n,r){const a=[];return n.forEach((c,f)=>{a.push(r.call(this,c,f))}),this.waitFor(a)}}class Mf{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new Cr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new $m(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const c=V0(a.target.error);this.Tt.reject(new $m(n,c))}}static open(n,r,a,c){try{return new Mf(r,n.transaction(c,a))}catch(f){throw new $m(r,f)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Fe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new o1(r)}}class zi{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===zi.Rt((0,St.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Fe("SimpleDb","Removing database:",n),Tc(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,St.hl)())return!1;if(zi.Pt())return!0;const n=(0,St.z$)(),r=zi.Rt(n),a=0<r&&r<10,c=zi.vt(n),f=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||f)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,we.Z)(function*(){return r.db||(Fe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,c)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{a(m.target.result)},f.onblocked=()=>{c(new $m(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const E=m.target.error;c("VersionError"===E.name?new Ne(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===E.name?new Ne(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+E):new $m(n,E))},f.onupgradeneeded=m=>{Fe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,c){var f=this;return(0,we.Z)(function*(){const m="readonly"===r;let E=0;for(;;){++E;try{f.db=yield f.Dt(n);const D=Mf.open(f.db,n,m?"readonly":"readwrite",a),S=c(D).catch(R=>(D.abort(R),Se.reject(R))).toPromise();return S.catch(()=>{}),yield D.It,S}catch(D){const S="FirebaseError"!==D.name&&E<3;if(Fe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",S),f.close(),!S)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class s1{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Tc(this.kt.delete())}}class $m extends Ne{constructor(n,r){super(pe.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Dc(i){return"IndexedDbTransactionError"===i.name}class o1{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(Fe("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),Tc(a)}add(n){return Fe("SimpleDb","ADD",this.store.name,n,n),Tc(this.store.add(n))}get(n){return Tc(this.store.get(n)).next(r=>(void 0===r&&(r=null),Fe("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Fe("SimpleDb","DELETE",this.store.name,n),Tc(this.store.delete(n))}count(){return Fe("SimpleDb","COUNT",this.store.name),Tc(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),c=[];return this.Bt(a,(f,m)=>{c.push(m)}).next(()=>c)}Ut(n,r){Fe("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const c=this.cursor(a);return this.Bt(c,(f,m,E)=>E.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const c=this.cursor(a);return this.Bt(c,r)}jt(n){const r=this.cursor({});return new Se((a,c)=>{r.onerror=f=>{const m=V0(f.target.error);c(m)},r.onsuccess=f=>{const m=f.target.result;m?n(m.primaryKey,m.value).next(E=>{E?m.continue():a()}):a()}})}Bt(n,r){const a=[];return new Se((c,f)=>{n.onerror=m=>{f(m.target.error)},n.onsuccess=m=>{const E=m.target.result;if(!E)return void c();const D=new s1(E),S=r(E.primaryKey,E.value,D);if(S instanceof Se){const R=S.catch(O=>(D.done(),Se.reject(O)));a.push(R)}D.isDone?c():null===D.Ft?E.continue():E.continue(D.Ft)}}).next(()=>Se.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function Tc(i){return new Se((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const c=V0(a.target.error);r(c)}})}let kI=!1;function V0(i){const n=zi.Rt((0,St.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kI||(kI=!0,setTimeout(()=>{throw a},0)),a}}return i}class FI extends PI{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Ar(i,n){const r=Be(i);return zi.St(r.Qt,n)}class U0{constructor(n,r,a,c){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(n.key)&&zS(f,n,a[c])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&A0(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&A0(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),nn())}isEqual(n){return this.batchId===n.batchId&&ed(this.mutations,n.mutations,(r,a)=>wI(r,a))&&ed(this.baseMutations,n.baseMutations,(r,a)=>wI(r,a))}}class B0{constructor(n,r,a,c){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=c}static from(n,r,a){ft(n.mutations.length===a.length);let c=AI();const f=n.mutations;for(let m=0;m<f.length;m++)c=c.insert(f[m].key,a[m].version);return new B0(n,r,a,c)}}class Jo{constructor(n,r,a,c,f=xt.min(),m=xt.min(),E=Dr.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=E}withSequenceNumber(n){return new Jo(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class vd{constructor(n){this.Wt=n}}function LI(i,n){if(n.document)return Fm(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=tt.fromSegments(n.noDocument.path),a=Ed(n.noDocument.readTime),c=Dn.newNoDocument(r,a);return n.hasCommittedMutations?c.setHasCommittedMutations():c}if(n.unknownDocument){const r=tt.fromSegments(n.unknownDocument.path),a=Ed(n.unknownDocument.version);return Dn.newUnknownDocument(r,a)}return et()}function j0(i,n,r){const a=H0(r),c=n.key.path.popLast().toArray();if(n.isFoundDocument()){const f={name:xf(E=i.Wt,(D=n).key),fields:D.data.value.mapValue.fields,updateTime:Ts(E,D.version.toTimestamp())};return new Ut(null,null,f,n.hasCommittedMutations,a,c)}var E,D;if(n.isNoDocument()){const f=n.key.path.toArray(),m=wd(n.version),E=n.hasCommittedMutations;return new Ut(null,new MR(f,m),null,E,a,c)}if(n.isUnknownDocument()){const f=n.key.path.toArray(),m=wd(n.version);return new Ut(new r1(f,m),null,null,!0,a,c)}return et()}function H0(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function VI(i){const n=new br(i[0],i[1]);return xt.fromTimestamp(n)}function wd(i){const n=i.toTimestamp();return new Nf(n.seconds,n.nanoseconds)}function Ed(i){const n=new br(i.seconds,i.nanoseconds);return xt.fromTimestamp(n)}function Cd(i,n){const r=(n.baseMutations||[]).map(f=>ru(i.Wt,f));for(let f=0;f<n.mutations.length-1;++f){const m=n.mutations[f];f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(m.updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f)}const a=n.mutations.map(f=>ru(i.Wt,f)),c=br.fromMillis(n.localWriteTimeMs);return new U0(n.batchId,c,r,a)}function bd(i){const n=Ed(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Ed(i.lastLimboFreeSnapshotVersion):xt.min();let a;var c;return void 0!==i.query.documents?(ft(1===(c=i.query).documents.length),a=ds(ui(fs(c.documents[0])))):a=ds(md(i.query)),new Jo(a,i.targetId,0,i.lastListenSequenceNumber,n,r,Dr.fromBase64String(i.resumeToken))}function UI(i,n){const r=wd(n.snapshotVersion),a=wd(n.lastLimboFreeSnapshotVersion);let c;c=Am(n.target)?P0(i.Wt,n.target):Vm(i.Wt,n.target);const f=n.resumeToken.toBase64();return new Ii(n.targetId,sd(n.target),r,f,n.sequenceNumber,a,c)}function $0(i){const n=md({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pI(n,n.limit,"L"):n}class OR{getBundleMetadata(n,r){return a1(n).get(r).next(a=>{if(a)return{id:(c=a).bundleId,createTime:Ed(c.createTime),version:c.version};var c})}saveBundleMetadata(n,r){return a1(n).put({bundleId:(a=r).id,createTime:wd(lr(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return u1(n).get(r).next(a=>{if(a)return{name:(c=a).name,query:$0(c.bundledQuery),readTime:Ed(c.readTime)};var c})}saveNamedQuery(n,r){return u1(n).put({name:(a=r).name,readTime:wd(lr(a.readTime)),bundledQuery:a.bundledQuery});var a}}function a1(i){return Ar(i,_d.store)}function u1(i){return Ar(i,yd.store)}class G0{constructor(){this.Gt=new q0}addToCollectionParentIndex(n,r){return this.Gt.add(r),Se.resolve()}getCollectionParents(n,r){return Se.resolve(this.Gt.getEntries(r))}}class q0{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),c=this.index[r]||new Ln(jt.comparator),f=!c.has(a);return this.index[r]=c.add(a),f}has(n){const r=n.lastSegment(),a=n.popLast(),c=this.index[r];return c&&c.has(a)}getEntries(n){return(this.index[n]||new Ln(jt.comparator)).toArray()}}class c1{constructor(){this.zt=new q0}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),c=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const f={collectionId:a,parent:ao(c)};return BI(n).put(f)}return Se.resolve()}getCollectionParents(n,r){const a=[],c=IDBKeyRange.bound([r,""],[tI(r),""],!1,!0);return BI(n).Lt(c).next(f=>{for(const m of f){if(m.collectionId!==r)break;a.push(iu(m.parent))}return a})}}function BI(i){return Ar(i,Ic.store)}const jI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Di{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new Di(n,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function HI(i,n,r){const a=i.store(En.store),c=i.store(ci.store),f=[],m=IDBKeyRange.only(r.batchId);let E=0;const D=a.Kt({range:m},(R,O,q)=>(E++,q.delete()));f.push(D.next(()=>{ft(1===E)}));const S=[];for(const R of r.mutations){const O=ci.key(n,R.key.path,r.batchId);f.push(c.delete(O)),S.push(R.key)}return Se.waitFor(f).next(()=>S)}function Of(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw et();n=i.noDocument}return JSON.stringify(n).length}Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(41943040,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);class Pf{constructor(n,r,a,c){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=c,this.Jt={}}static Yt(n,r,a,c){ft(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new Pf(f,r,a,c)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(n).Kt({index:En.userMutationsIndex,range:a},(c,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(n,r,a,c){const f=jn(n),m=Wi(n);return m.add({}).next(E=>{ft("number"==typeof E);const D=new U0(E,r,a,c),S=function(q,W,ge){const ke=ge.baseMutations.map(vt=>Lm(q.Wt,vt)),$e=ge.mutations.map(vt=>Lm(q.Wt,vt));return new En(W,ge.batchId,ge.localWriteTime.toMillis(),ke,$e)}(this.N,this.userId,D),R=[];let O=new Ln((q,W)=>Ot(q.canonicalString(),W.canonicalString()));for(const q of c){const W=ci.key(this.userId,q.key.path,E);O=O.add(q.key.path.popLast()),R.push(m.put(S)),R.push(f.put(W,ci.PLACEHOLDER))}return O.forEach(q=>{R.push(this.Ht.addToCollectionParentIndex(n,q))}),n.addOnCommittedListener(()=>{this.Jt[E]=D.keys()}),Se.waitFor(R).next(()=>D)})}lookupMutationBatch(n,r){return Wi(n).get(r).next(a=>a?(ft(a.userId===this.userId),Cd(this.N,a)):null)}Xt(n,r){return this.Jt[r]?Se.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const c=a.keys();return this.Jt[r]=c,c}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,c=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return Wi(n).Kt({index:En.userMutationsIndex,range:c},(m,E,D)=>{E.userId===this.userId&&(ft(E.batchId>=a),f=Cd(this.N,E)),D.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Wi(n).Kt({index:En.userMutationsIndex,range:r,reverse:!0},(c,f,m)=>{a=f.batchId,m.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(n).Lt(En.userMutationsIndex,r).next(a=>a.map(c=>Cd(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=ci.prefixForPath(this.userId,r.path),c=IDBKeyRange.lowerBound(a),f=[];return jn(n).Kt({range:c},(m,E,D)=>{const[S,R,O]=m,q=iu(R);if(S===this.userId&&r.path.isEqual(q))return Wi(n).get(O).next(W=>{if(!W)throw et();ft(W.userId===this.userId),f.push(Cd(this.N,W))});D.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Ln(Ot);const c=[];return r.forEach(f=>{const m=ci.prefixForPath(this.userId,f.path),E=IDBKeyRange.lowerBound(m),D=jn(n).Kt({range:E},(S,R,O)=>{const[q,W,ge]=S,ke=iu(W);q===this.userId&&f.path.isEqual(ke)?a=a.add(ge):O.done()});c.push(D)}),Se.waitFor(c).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,c=a.length+1,f=ci.prefixForPath(this.userId,a),m=IDBKeyRange.lowerBound(f);let E=new Ln(Ot);return jn(n).Kt({range:m},(D,S,R)=>{const[O,q,W]=D,ge=iu(q);O===this.userId&&a.isPrefixOf(ge)?ge.length===c&&(E=E.add(W)):R.done()}).next(()=>this.Zt(n,E))}Zt(n,r){const a=[],c=[];return r.forEach(f=>{c.push(Wi(n).get(f).next(m=>{if(null===m)throw et();ft(m.userId===this.userId),a.push(Cd(this.N,m))}))}),Se.waitFor(c).next(()=>a)}removeMutationBatch(n,r){return HI(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Se.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Se.resolve();const a=IDBKeyRange.lowerBound(ci.prefixForUser(this.userId)),c=[];return jn(n).Kt({range:a},(f,m,E)=>{if(f[0]===this.userId){const D=iu(f[1]);c.push(D)}else E.done()}).next(()=>{ft(0===c.length)})})}containsKey(n,r){return $I(n,this.userId,r)}ee(n){return Z0(n).get(this.userId).next(r=>r||new su(this.userId,-1,""))}}function $I(i,n,r){const a=ci.prefixForPath(n,r.path),c=a[1],f=IDBKeyRange.lowerBound(a);let m=!1;return jn(i).Kt({range:f,qt:!0},(E,D,S)=>{const[R,O,q]=E;R===n&&O===c&&(m=!0),S.done()}).next(()=>m)}function Wi(i){return Ar(i,En.store)}function jn(i){return Ar(i,ci.store)}function Z0(i){return Ar(i,su.store)}class Fr{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Fr(0)}static ie(){return new Fr(-1)}}class z0{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new Fr(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>xt.fromTimestamp(new br(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(c=>(c.highestListenSequenceNumber=r,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.oe(n,c)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Id(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(ft(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let c=0;const f=[];return Id(n).Kt((m,E)=>{const D=bd(E);D.sequenceNumber<=r&&null===a.get(D.targetId)&&(c++,f.push(this.removeTargetData(n,D)))}).next(()=>Se.waitFor(f)).next(()=>c)}forEachTarget(n,r){return Id(n).Kt((a,c)=>{const f=bd(c);r(f)})}re(n){return W0(n).get(Zi.key).next(r=>(ft(null!==r),r))}oe(n,r){return W0(n).put(Zi.key,r)}ae(n,r){return Id(n).put(UI(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=sd(r),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return Id(n).Kt({range:c,index:Ii.queryTargetsIndexName},(m,E,D)=>{const S=bd(E);Tm(r,S.target)&&(f=S,D.done())}).next(()=>f)}addMatchingKeys(n,r,a){const c=[],f=Xo(n);return r.forEach(m=>{const E=ao(m.path);c.push(f.put(new dr(a,E))),c.push(this.referenceDelegate.addReference(n,a,m))}),Se.waitFor(c)}removeMatchingKeys(n,r,a){const c=Xo(n);return Se.forEach(r,f=>{const m=ao(f.path);return Se.waitFor([c.delete([a,m]),this.referenceDelegate.removeReference(n,a,f)])})}removeMatchingKeysForTargetId(n,r){const a=Xo(n),c=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),c=Xo(n);let f=nn();return c.Kt({range:a,qt:!0},(m,E,D)=>{const S=iu(m[1]),R=new tt(S);f=f.add(R)}).next(()=>f)}containsKey(n,r){const a=ao(r.path),c=IDBKeyRange.bound([a],[tI(a)],!1,!0);let f=0;return Xo(n).Kt({index:dr.documentTargetsIndex,qt:!0,range:c},([m,E],D,S)=>{0!==m&&(f++,S.done())}).next(()=>f>0)}Et(n,r){return Id(n).get(r).next(a=>a?bd(a):null)}}function Id(i){return Ar(i,Ii.store)}function W0(i){return Ar(i,Zi.store)}function Xo(i){return Ar(i,dr.store)}function ou(i){return K0.apply(this,arguments)}function K0(){return(K0=(0,we.Z)(function*(i){if(i.code!==pe.FAILED_PRECONDITION||i.message!==Hm)throw i;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function GI([i,n],[r,a]){const c=Ot(i,r);return 0===c?Ot(n,a):c}class l1{constructor(n){this.ue=n,this.buffer=new Ln(GI),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();GI(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class qI{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,we.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(c){Dc(c)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield ou(c)}yield r._e(n)}))}}class d1{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return Se.resolve($i.T);const a=new l1(r);return this.me.forEachTarget(n,c=>a.fe(c.sequenceNumber)).next(()=>this.me.ye(n,c=>a.fe(c))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(jI)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jI):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,c,f,m,E,D,S;const R=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),c=this.params.maximumSequenceNumbersToCollect):c=O,m=Date.now(),this.nthSequenceNumber(n,c))).next(O=>(a=O,E=Date.now(),this.removeTargets(n,a,r))).next(O=>(f=O,D=Date.now(),this.removeOrphanedDocuments(n,a))).next(O=>(S=Date.now(),l0()<=rc.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-R}ms\n\tDetermined least recently used ${c} in `+(E-m)+`ms\n\tRemoved ${f} targets in `+(D-E)+`ms\n\tRemoved ${O} documents in `+(S-D)+`ms\nTotal Duration: ${S-R}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:O})))}}class PR{constructor(n,r){this.db=n,this.garbageCollector=new d1(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(c=>a+c))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,c)=>r(c))}addReference(n,r,a){return Gm(n,a)}removeReference(n,r,a){return Gm(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return Gm(n,r)}Ie(n,r){return function(a,c){let f=!1;return Z0(a).jt(m=>$I(a,m,c).next(E=>(E&&(f=!0),Se.resolve(!E)))).next(()=>f)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Te(n,(m,E)=>{if(E<=r){const D=this.Ie(n,m).next(S=>{if(!S)return f++,a.getEntry(n,m).next(()=>(a.removeEntry(m),Xo(n).delete([0,ao(m.path)])))});c.push(D)}}).next(()=>Se.waitFor(c)).next(()=>a.apply(n)).next(()=>f)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return Gm(n,r)}Te(n,r){const a=Xo(n);let c,f=$i.T;return a.Kt({index:dr.documentTargetsIndex},([m,E],{path:D,sequenceNumber:S})=>{0===m?(f!==$i.T&&r(new tt(iu(c)),f),f=S,c=D):f=$i.T}).next(()=>{f!==$i.T&&r(new tt(iu(c)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Gm(i,n){return Xo(i).put((a=i.currentSequenceNumber,new dr(0,ao(n.path),a)));var a}class Dd{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[c,f]of a)if(this.equalsFn(c,n))return f}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),c=this.inner[a];if(void 0!==c){for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return void(c[f]=[n,r]);c.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],n))return 1===a.length?delete this.inner[r]:a.splice(c,1),!0;return!1}forEach(n){Ya(this.inner,(r,a)=>{for(const[c,f]of a)n(c,f)})}isEmpty(){return rI(this.inner)}}class Ac{constructor(){this.changes=new Dd(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:xt.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:Dn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Se.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class kR{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return Sc(n).put(kf(r),a)}removeEntry(n,r){const a=Sc(n),c=kf(r);return a.delete(c)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return Sc(n).get(kf(r)).next(a=>this.Re(r,a))}be(n,r){return Sc(n).get(kf(r)).next(a=>({document:this.Re(r,a),size:Of(a)}))}getEntries(n,r){let a=Gi();return this.Pe(n,r,(c,f)=>{const m=this.Re(c,f);a=a.insert(c,m)}).next(()=>a)}ve(n,r){let a=Gi(),c=new Tr(tt.comparator);return this.Pe(n,r,(f,m)=>{const E=this.Re(f,m);a=a.insert(f,E),c=c.insert(f,Of(m))}).next(()=>({documents:a,Ve:c}))}Pe(n,r,a){if(r.isEmpty())return Se.resolve();const c=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let m=f.getNext();return Sc(n).Kt({range:c},(E,D,S)=>{const R=tt.fromSegments(E);for(;m&&tt.comparator(m,R)<0;)a(m,null),m=f.getNext();m&&m.isEqual(R)&&(a(m,D),m=f.hasNext()?f.getNext():null),m?S.Mt(m.path.toArray()):S.done()}).next(()=>{for(;m;)a(m,null),m=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(n,r,a){let c=Gi();const f=r.path.length+1,m={};if(a.isEqual(xt.min())){const E=r.path.toArray();m.range=IDBKeyRange.lowerBound(E)}else{const E=r.path.toArray(),D=H0(a);m.range=IDBKeyRange.lowerBound([E,D],!0),m.index=Ut.collectionReadTimeIndex}return Sc(n).Kt(m,(E,D,S)=>{if(E.length!==f)return;const R=LI(this.N,D);r.path.isPrefixOf(R.key.path)?yc(r,R)&&(c=c.insert(R.key,R)):S.done()}).next(()=>c)}newChangeBuffer(n){return new ZI(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return zI(n).get(uo.key).next(r=>(ft(!!r),r))}Ae(n,r){return zI(n).put(uo.key,r)}Re(n,r){if(r){const a=LI(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(xt.min()))return a}return Dn.newInvalidDocument(n)}}class ZI extends Ac{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Dd(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(n){const r=[];let a=0,c=new Ln((f,m)=>Ot(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const E=this.De.get(f);if(m.document.isValidDocument()){const D=j0(this.Se.N,m.document,this.getReadTime(f));c=c.add(f.path.popLast()),a+=Of(D)-E,r.push(this.Se.addEntry(n,f,D))}else if(a-=E,this.trackRemovals){const D=j0(this.Se.N,Dn.newNoDocument(f,xt.min()),this.getReadTime(f));r.push(this.Se.addEntry(n,f,D))}else r.push(this.Se.removeEntry(n,f))}),c.forEach(f=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,f))}),r.push(this.Se.updateMetadata(n,a)),Se.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:c})=>(c.forEach((f,m)=>{this.De.set(f,m)}),a))}}function zI(i){return Ar(i,uo.store)}function Sc(i){return Ar(i,Ut.store)}function kf(i){return i.path.toArray()}class h1{constructor(n){this.N=n}Ct(n,r,a,c){ft(a<c&&a>=0&&c<=11);const f=new Mf("createOrUpgrade",r);var E;a<1&&c>=1&&(n.createObjectStore(qi.store),(E=n).createObjectStore(su.store,{keyPath:su.keyPath}),E.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0}),E.createObjectStore(ci.store),qm(n),function(E){E.createObjectStore(Ut.store)}(n));let m=Se.resolve();return a<3&&c>=3&&(0!==a&&(function(E){E.deleteObjectStore(dr.store),E.deleteObjectStore(Ii.store),E.deleteObjectStore(Zi.store)}(n),qm(n)),m=m.next(()=>function(E){const D=E.store(Zi.store),S=new Zi(0,0,xt.min().toTimestamp(),0);return D.put(Zi.key,S)}(f))),a<4&&c>=4&&(0!==a&&(m=m.next(()=>function(E,D){return D.store(En.store).Lt().next(S=>{E.deleteObjectStore(En.store),E.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0});const R=D.store(En.store),O=S.map(q=>R.put(q));return Se.waitFor(O)})}(n,f))),m=m.next(()=>{!function(E){E.createObjectStore(Qo.store,{keyPath:Qo.keyPath})}(n)})),a<5&&c>=5&&(m=m.next(()=>this.Ce(f))),a<6&&c>=6&&(m=m.next(()=>(function(E){E.createObjectStore(uo.store)}(n),this.Ne(f)))),a<7&&c>=7&&(m=m.next(()=>this.xe(f))),a<8&&c>=8&&(m=m.next(()=>this.ke(n,f))),a<9&&c>=9&&(m=m.next(()=>{(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(n),function(E){const D=E.objectStore(Ut.store);D.createIndex(Ut.readTimeIndex,Ut.readTimeIndexPath,{unique:!1}),D.createIndex(Ut.collectionReadTimeIndex,Ut.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&c>=10&&(m=m.next(()=>this.$e(f))),a<11&&c>=11&&(m=m.next(()=>{(function(E){E.createObjectStore(_d.store,{keyPath:_d.keyPath})})(n),function(E){E.createObjectStore(yd.store,{keyPath:yd.keyPath})}(n)})),m}Ne(n){let r=0;return n.store(Ut.store).Kt((a,c)=>{r+=Of(c)}).next(()=>{const a=new uo(r);return n.store(uo.store).put(uo.key,a)})}Ce(n){const r=n.store(su.store),a=n.store(En.store);return r.Lt().next(c=>Se.forEach(c,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.Lt(En.userMutationsIndex,m).next(E=>Se.forEach(E,D=>{ft(D.userId===f.userId);const S=Cd(this.N,D);return HI(n,f.userId,S).next(()=>{})}))}))}xe(n){const r=n.store(dr.store),a=n.store(Ut.store);return n.store(Zi.store).get(Zi.key).next(c=>{const f=[];return a.Kt((m,E)=>{const D=new jt(m),S=[0,ao(D)];f.push(r.get(S).next(R=>R?Se.resolve():r.put(new dr(0,ao(D),c.highestListenSequenceNumber))))}).next(()=>Se.waitFor(f))})}ke(n,r){n.createObjectStore(Ic.store,{keyPath:Ic.keyPath});const a=r.store(Ic.store),c=new q0,f=m=>{if(c.add(m)){const E=m.lastSegment(),D=m.popLast();return a.put({collectionId:E,parent:ao(D)})}};return r.store(Ut.store).Kt({qt:!0},(m,E)=>{const D=new jt(m);return f(D.popLast())}).next(()=>r.store(ci.store).Kt({qt:!0},([m,E,D],S)=>{const R=iu(E);return f(R.popLast())}))}$e(n){const r=n.store(Ii.store);return r.Kt((a,c)=>{const f=bd(c),m=UI(this.N,f);return r.put(m)})}}function qm(i){i.createObjectStore(dr.store,{keyPath:dr.keyPath}).createIndex(dr.documentTargetsIndex,dr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Ii.store,{keyPath:Ii.keyPath}).createIndex(Ii.queryTargetsIndexName,Ii.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Zi.store)}const Y0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Q0{constructor(n,r,a,c,f,m,E,D,S,R){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=f,this.window=m,this.document=E,this.Fe=S,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!Q0.bt())throw new Ne(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PR(this,c),this.We=r+"main",this.N=new vd(D),this.Ge=new zi(this.We,11,new h1(this.N)),this.ze=new z0(this.referenceDelegate,this.N),this.Ht=new c1,this.He=new kR(this.N,this.Ht),this.Je=new OR,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Y0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new $i(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,we.Z)(function*(c){if(r.started)return n(c)});return function(c){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,we.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,we.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Zm(n).put(new Qo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Dc(n))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Ff(n).get(qi.key).next(r=>Se.resolve(this.cn(r)))}un(n){return Zm(n).delete(this.clientId)}hn(){var n=this;return(0,we.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Ar(a,Qo.store);return c.Lt().next(f=>{const m=n.fn(f,18e5),E=f.filter(D=>-1===m.indexOf(D));return Se.forEach(E,D=>c.delete(D.clientId)).next(()=>E)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Se.resolve(!0):Ff(n).get(qi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Y0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zm(n).Lt().next(a=>void 0===this.fn(a,5e3).find(c=>{if(this.clientId!==c.clientId){const m=!this.inForeground&&c.inForeground,E=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||m&&E)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Fe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,we.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[qi.store,Qo.store],r=>{const a=new FI(r,$i.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Zm(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return Pf.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let f;return Fe("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",i1,m=>(f=new FI(m,this.Le?this.Le.next():$i.T),"readwrite-primary"===r?this.sn(f).next(E=>!!E||this.rn(f)).next(E=>{if(!E)throw Xn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(pe.FAILED_PRECONDITION,Hm);return a(f)}).next(E=>this.an(f).next(()=>E)):this.En(f).next(()=>a(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}En(n){return Ff(n).get(qi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ne(pe.FAILED_PRECONDITION,Y0)})}an(n){const r=new qi(this.clientId,this.allowTabSynchronization,Date.now());return Ff(n).put(qi.key,r)}static bt(){return zi.bt()}on(n){const r=Ff(n);return r.get(qi.key).next(a=>this.cn(a)?(Fe("IndexedDbPersistence","Releasing primary lease."),r.delete(qi.key)):Se.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(Xn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,St.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Fe("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Xn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Xn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Ff(i){return Ar(i,qi.store)}function Zm(i){return Ar(i,Qo.store)}function J0(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class f1{constructor(n,r){this.progress=n,this.Tn=r}}class WI{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(c=>{for(const f of a)f.applyToLocalView(c);return c})}bn(n,r){n.forEach((a,c)=>{for(const f of r)f.applyToLocalView(c)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return tt.isDocumentKey((c=r).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(n,r.path):b0(r)?this.Sn(n,r,a):this.Dn(n,r,a);var c}Vn(n,r){return this.An(n,new tt(r)).next(a=>{let c=km();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Sn(n,r,a){const c=r.collectionGroup;let f=km();return this.Ht.getCollectionParents(n,c).next(m=>Se.forEach(m,E=>{const D=(S=r,R=E.child(c),new Xa(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,R;return this.Dn(n,D,a).next(S=>{S.forEach((R,O)=>{f=f.insert(R,O)})})}).next(()=>f))}Dn(n,r,a){let c,f;return this.He.getDocumentsMatchingQuery(n,r,a).next(m=>(c=m,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(m=>(f=m,this.Cn(n,f,c).next(E=>{c=E;for(const D of f)for(const S of D.mutations){const R=S.key;let O=c.get(R);null==O&&(O=Dn.newInvalidDocument(R),c=c.insert(R,O)),A0(S,O,D.localWriteTime),O.isFoundDocument()||(c=c.remove(R))}}))).next(()=>(c.forEach((m,E)=>{yc(r,E)||(c=c.remove(m))}),c))}Cn(n,r,a){let c=nn();for(const m of r)for(const E of m.mutations)E instanceof eu&&null===a.get(E.key)&&(c=c.add(E.key));let f=a;return this.He.getEntries(n,c).next(m=>(m.forEach((E,D)=>{D.isFoundDocument()&&(f=f.insert(E,D))}),f))}}class X0{constructor(n,r,a,c){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=c}static kn(n,r){let a=nn(),c=nn();for(const f of r.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new X0(n,r.fromCache,a,c)}}class KI{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,c){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||a.isEqual(xt.min())?this.Fn(n,r):this.On.Pn(n,c).next(f=>{const m=this.Mn(r,f);return(Ef(r)||E0(r))&&this.Ln(r.limitType,m,c,a)?this.Fn(n,r):(l0()<=rc.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rm(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(E=>(m.forEach(D=>{E=E.insert(D.key,D)}),E)))});var f}Mn(n,r){let a=new Ln(I0(n));return r.forEach((c,f)=>{yc(n,f)&&(a=a.add(f))}),a}Ln(n,r,a,c){if(a.size!==r.size)return!0;const f="F"===n?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Fn(n,r){return l0()<=rc.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Rm(r)),this.On.getDocumentsMatchingQuery(n,r,xt.min())}}class p1{constructor(n,r,a,c){this.persistence=n,this.Bn=r,this.N=c,this.Un=new Tr(Ot),this.qn=new Dd(f=>sd(f),Tm),this.Kn=xt.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new WI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function Td(i,n,r,a){return new p1(i,n,r,a)}function ew(i,n){return zm.apply(this,arguments)}function zm(){return(zm=(0,we.Z)(function*(i,n){const r=Be(i);let a=r.In,c=r.Qn;const f=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let E;return r.In.getAllMutationBatches(m).next(D=>(E=D,a=r.persistence.getMutationQueue(n),c=new WI(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(m))).next(D=>{const S=[],R=[];let O=nn();for(const q of E){S.push(q.batchId);for(const W of q.mutations)O=O.add(W.key)}for(const q of D){R.push(q.batchId);for(const W of q.mutations)O=O.add(W.key)}return c.Pn(m,O).next(q=>({Wn:q,removedBatchIds:S,addedBatchIds:R}))})});return r.In=a,r.Qn=c,r.Bn.$n(r.Qn),f})).apply(this,arguments)}function YI(i,n){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=n.batch.keys(),f=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,E,D,S){const R=D.batch,O=R.keys();let q=Se.resolve();return O.forEach(W=>{q=q.next(()=>S.getEntry(E,W)).next(ge=>{const ke=D.docVersions.get(W);ft(null!==ke),ge.version.compareTo(ke)<0&&(R.applyToRemoteDocument(ge,D),ge.isValidDocument()&&S.addEntry(ge,D.commitVersion))})}),q.next(()=>m.In.removeMutationBatch(E,R))}(r,a,n,f).next(()=>f.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,c))})}function tw(i){const n=Be(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function QI(i,n){const r=Be(i),a=n.snapshotVersion;let c=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});c=r.Un;const E=[];n.targetChanges.forEach((S,R)=>{const O=c.get(R);if(!O)return;E.push(r.ze.removeMatchingKeys(f,S.removedDocuments,R).next(()=>r.ze.addMatchingKeys(f,S.addedDocuments,R)));const q=S.resumeToken;if(q.approximateByteSize()>0){const W=O.withResumeToken(q,a).withSequenceNumber(f.currentSequenceNumber);c=c.insert(R,W),ge=O,$e=S,ft((ke=W).resumeToken.approximateByteSize()>0),(0===ge.resumeToken.approximateByteSize()||ke.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||$e.addedDocuments.size+$e.modifiedDocuments.size+$e.removedDocuments.size>0)&&E.push(r.ze.updateTargetData(f,W))}var ge,ke,$e});let D=Gi();if(n.documentUpdates.forEach((S,R)=>{n.resolvedLimboDocuments.has(S)&&E.push(r.persistence.referenceDelegate.updateLimboDocument(f,S))}),E.push(JI(f,m,n.documentUpdates,a,void 0).next(S=>{D=S})),!a.isEqual(xt.min())){const S=r.ze.getLastRemoteSnapshotVersion(f).next(R=>r.ze.setTargetsMetadata(f,f.currentSequenceNumber,a));E.push(S)}return Se.waitFor(E).next(()=>m.apply(f)).next(()=>r.Qn.vn(f,D)).next(()=>D)}).then(f=>(r.Un=c,f))}function JI(i,n,r,a,c){let f=nn();return r.forEach(m=>f=f.add(m)),n.getEntries(i,f).next(m=>{let E=Gi();return r.forEach((D,S)=>{const R=m.get(D),O=(null==c?void 0:c.get(D))||a;S.isNoDocument()&&S.version.isEqual(xt.min())?(n.removeEntry(D,O),E=E.insert(D,S)):!R.isValidDocument()||S.version.compareTo(R.version)>0||0===S.version.compareTo(R.version)&&R.hasPendingWrites?(n.addEntry(S,O),E=E.insert(D,S)):Fe("LocalStore","Ignoring outdated watch update for ",D,". Current version:",R.version," Watch version:",S.version)}),E})}function g1(i,n){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function Ad(i,n){const r=Be(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return r.ze.getTargetData(a,n).next(f=>f?(c=f,Se.resolve(c)):r.ze.allocateTargetId(a).next(m=>(c=new Jo(n,m,0,a.currentSequenceNumber),r.ze.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=r.Un.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function Sd(i,n,r){return nw.apply(this,arguments)}function nw(){return(nw=(0,we.Z)(function*(i,n,r){const a=Be(i),c=a.Un.get(n),f=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",f,m=>a.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!Dc(m))throw m;Fe("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}a.Un=a.Un.remove(n),a.qn.delete(c.target)})).apply(this,arguments)}function Wm(i,n,r){const a=Be(i);let c=xt.min(),f=nn();return a.persistence.runTransaction("Execute query","readonly",m=>function(E,D,S){const R=Be(E),O=R.qn.get(S);return void 0!==O?Se.resolve(R.Un.get(O)):R.ze.getTargetData(D,S)}(a,m,ds(n)).next(E=>{if(E)return c=E.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(m,E.targetId).next(D=>{f=D})}).next(()=>a.Bn.getDocumentsMatchingQuery(m,n,r?c:xt.min(),r?f:nn())).next(E=>({documents:E,Gn:f})))}function XI(i,n){const r=Be(i),a=Be(r.ze),c=r.Un.get(n);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",f=>a.Et(f,n).next(m=>m?m.target:null))}function xd(i){const n=Be(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,c,f){const m=Be(a);let E=Gi(),D=H0(f);const S=Sc(c),R=IDBKeyRange.lowerBound(D,!0);return S.Kt({index:Ut.readTimeIndex,range:R},(O,q)=>{const W=LI(m.N,q);E=E.insert(W.key,W),D=q.readTime}).next(()=>({Tn:E,readTime:VI(D)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function rw(){return(rw=(0,we.Z)(function*(i){const n=Be(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const c=Sc(a);let f=xt.min();return c.Kt({index:Ut.readTimeIndex,reverse:!0},(m,E,D)=>{E.readTime&&(f=VI(E.readTime)),D.done()}).next(()=>f)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function ps(){return(ps=(0,we.Z)(function*(i,n,r,a){const c=Be(i);let f=nn(),m=Gi(),E=AI();for(const R of r){const O=n.zn(R.metadata.name);R.document&&(f=f.add(O)),m=m.insert(O,n.Hn(R)),E=E.insert(O,n.Jn(R.metadata.readTime))}const D=c.jn.newChangeBuffer({trackRemovals:!0}),S=yield Ad(c,(R=a,ds(ui(jt.fromString(`__bundle__/docs/${R}`)))));var R;return c.persistence.runTransaction("Apply bundle documents","readwrite",R=>JI(R,D,m,xt.min(),E).next(O=>(D.apply(R),O)).next(O=>c.ze.removeMatchingKeysForTargetId(R,S.targetId).next(()=>c.ze.addMatchingKeys(R,f,S.targetId)).next(()=>c.Qn.vn(R,O)).next(()=>O)))})).apply(this,arguments)}function m1(i,n){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,we.Z)(function*(i,n,r=nn()){const a=yield Ad(i,ds($0(n.bundledQuery))),c=Be(i);return c.persistence.runTransaction("Save named query","readwrite",f=>{const m=lr(n.readTime);if(a.snapshotVersion.compareTo(m)>=0)return c.Je.saveNamedQuery(f,n);const E=a.withResumeToken(Dr.EMPTY_BYTE_STRING,m);return c.Un=c.Un.insert(E.targetId,E),c.ze.updateTargetData(f,E).next(()=>c.ze.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>c.ze.addMatchingKeys(f,r,a.targetId)).next(()=>c.Je.saveNamedQuery(f,n))})})).apply(this,arguments)}class _1{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Se.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:lr(a.createTime)}),Se.resolve()}getNamedQuery(n,r){return Se.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:$0(a.bundledQuery),readTime:lr(a.readTime)}),Se.resolve();var a}}class sw{constructor(){this.Zn=new Ln(Lr.ts),this.es=new Ln(Lr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new Lr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new Lr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new tt(new jt([])),a=new Lr(r,n),c=new Lr(r,n+1),f=[];return this.es.forEachInRange([a,c],m=>{this.rs(m),f.push(m.key)}),f}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new tt(new jt([])),a=new Lr(r,n),c=new Lr(r,n+1);let f=nn();return this.es.forEachInRange([a,c],m=>{f=f.add(m.key)}),f}containsKey(n){const r=new Lr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class Lr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return tt.comparator(n.key,r.key)||Ot(n.ls,r.ls)}static ns(n,r){return Ot(n.ls,r.ls)||tt.comparator(n.key,r.key)}}class ow{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Ln(Lr.ts)}checkEmpty(n){return Se.resolve(0===this.In.length)}addMutationBatch(n,r,a,c){const f=this.fs;this.fs++;const m=new U0(f,r,a,c);this.In.push(m);for(const E of c)this.ds=this.ds.add(new Lr(E.key,f)),this.Ht.addToCollectionParentIndex(n,E.key.path.popLast());return Se.resolve(m)}lookupMutationBatch(n,r){return Se.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const c=this._s(r+1),f=c<0?0:c;return Se.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Se.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new Lr(r,0),c=new Lr(r,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([a,c],m=>{const E=this.ws(m.ls);f.push(E)}),Se.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new Ln(Ot);return r.forEach(c=>{const f=new Lr(c,0),m=new Lr(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,m],E=>{a=a.add(E.ls)})}),Se.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,c=a.length+1;let f=a;tt.isDocumentKey(f)||(f=f.child(""));const m=new Lr(new tt(f),0);let E=new Ln(Ot);return this.ds.forEachWhile(D=>{const S=D.key.path;return!!a.isPrefixOf(S)&&(S.length===c&&(E=E.add(D.ls)),!0)},m),Se.resolve(this.gs(E))}gs(n){const r=[];return n.forEach(a=>{const c=this.ws(a);null!==c&&r.push(c)}),r}removeMutationBatch(n,r){ft(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return Se.forEach(r.mutations,c=>{const f=new Lr(c.key,r.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new Lr(r,0),c=this.ds.firstAfterOrEqual(a);return Se.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(n){return Se.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class aw{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Tr(tt.comparator),this.size=0}addEntry(n,r,a){const c=r.key,f=this.docs.get(c),m=f?f.size:0,E=this.ps(r);return this.docs=this.docs.insert(c,{document:r.clone(),size:E,readTime:a}),this.size+=E-m,this.Ht.addToCollectionParentIndex(n,c.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return Se.resolve(a?a.document.clone():Dn.newInvalidDocument(r))}getEntries(n,r){let a=Gi();return r.forEach(c=>{const f=this.docs.get(c);a=a.insert(c,f?f.document.clone():Dn.newInvalidDocument(c))}),Se.resolve(a)}getDocumentsMatchingQuery(n,r,a){let c=Gi();const f=new tt(r.path.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:E,value:{document:D,readTime:S}}=m.getNext();if(!r.path.isPrefixOf(E.path))break;S.compareTo(a)<=0||yc(r,D)&&(c=c.insert(D.key,D.clone()))}return Se.resolve(c)}Es(n,r){return Se.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new eD(this)}getSize(n){return Se.resolve(this.size)}}class eD extends Ac{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,c)=>{c.document.isValidDocument()?r.push(this.Se.addEntry(n,c.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Se.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class uw{constructor(n){this.persistence=n,this.Ts=new Dd(r=>sd(r),Tm),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Is=0,this.As=new sw,this.targetCount=0,this.Rs=Fr.se()}forEachTarget(n,r){return this.Ts.forEach((a,c)=>r(c)),Se.resolve()}getLastRemoteSnapshotVersion(n){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Se.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),Se.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new Fr(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Se.resolve()}updateTargetData(n,r){return this.ae(r),Se.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(n,r,a){let c=0;const f=[];return this.Ts.forEach((m,E)=>{E.sequenceNumber<=r&&null===a.get(E.targetId)&&(this.Ts.delete(m),f.push(this.removeMatchingKeysForTargetId(n,E.targetId)),c++)}),Se.waitFor(f).next(()=>c)}getTargetCount(n){return Se.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return Se.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),Se.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const c=this.persistence.referenceDelegate,f=[];return c&&r.forEach(m=>{f.push(c.markPotentiallyOrphaned(n,m))}),Se.waitFor(f)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Se.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return Se.resolve(a)}containsKey(n,r){return Se.resolve(this.As.containsKey(r))}}class cw{constructor(n,r){this.bs={},this.Le=new $i(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new uw(this),this.Ht=new G0,this.He=new aw(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new vd(r),this.Je=new _1(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new ow(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){Fe("MemoryPersistence","Starting transaction:",n);const c=new y1(this.Le.next());return this.referenceDelegate.vs(),a(c).next(f=>this.referenceDelegate.Vs(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ss(n,r){return Se.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class y1 extends PI{constructor(n){super(),this.currentSequenceNumber=n}}class lw{constructor(n){this.persistence=n,this.Ds=new sw,this.Cs=null}static Ns(n){return new lw(n)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),Se.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),Se.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Se.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(c=>this.xs.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(c=>{c.forEach(f=>this.xs.add(f.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.xs,a=>{const c=tt.fromPath(a);return this.ks(n,c).next(f=>{f||r.removeEntry(c)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Se.or([()=>Se.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function tD(i,n){return`firestore_clients_${i}_${n}`}function nD(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function Km(i,n){return`firestore_targets_${i}_${n}`}class Nd{constructor(n,r,a,c){this.user=n,this.batchId=r,this.state=a,this.error=c}static $s(n,r,a){const c=JSON.parse(a);let f,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(f=new Ne(c.error.code,c.error.message))),m?new Nd(n,r,c.state,f):(Xn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Md{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let c,f="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new Ne(a.error.code,a.error.message))),f?new Md(n,a.state,c):(Xn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Vf{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let c="object"==typeof a&&a.activeTargetIds instanceof Array,f=Sf();for(let m=0;c&&m<a.activeTargetIds.length;++m)c=Em(a.activeTargetIds[m]),f=f.add(a.activeTargetIds[m]);return c?new Vf(n,f):(Xn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class Ym{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Ym(r.clientId,r.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Qm{constructor(){this.activeTargetIds=Sf()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class dw{constructor(n,r,a,c,f){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Tr(Ot),this.started=!1,this.Ks=[];const m=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=tD(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Qm),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(E){return`firestore_bundle_loaded_${E}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,we.Z)(function*(){const r=yield n.syncEngine.pn();for(const c of r){if(c===n.Ls)continue;const f=n.getItem(tD(n.persistenceKey,c));if(f){const m=Vf.$s(c,f);m&&(n.qs=n.qs.insert(m.clientId,m))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const c=n.Xs(a);c&&n.Zs(c)}for(const c of n.Ks)n.Us(c);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,c)=>{c.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(Km(this.persistenceKey,n));if(a){const c=Md.$s(n,a);c&&(r=c.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Km(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(c=>{this.ni(c)}),this.currentUser=n,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Fe("SharedClientState","READ",n,r),r}setItem(n,r){Fe("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Fe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(Fe("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,we.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const c=r.ai(a.key);return r.ci(c,null)}{const c=r.ui(a.key,a.newValue);if(c)return r.ci(c.clientId,c)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const c=r.hi(a.key,a.newValue);if(c)return r.li(c)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const c=r.fi(a.key,a.newValue);if(c)return r.di(c)}}else if(a.key===r.Hs){if(null!==a.newValue){const c=r.Xs(a.newValue);if(c)return r.Zs(c)}}else if(a.key===r.Qs){const c=function(f){let m=$i.T;if(null!=f)try{const E=JSON.parse(f);ft("number"==typeof E),m=E}catch(E){Xn("SharedClientState","Failed to read sequence number from WebStorage",E)}return m}(a.newValue);c!==$i.T&&r.sequenceNumberHandler(c)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const c=new Nd(this.currentUser,n,r,a),f=nD(this.persistenceKey,this.currentUser,n);this.setItem(f,c.Os())}ni(n){const r=nD(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const c=Km(this.persistenceKey,n),f=new Md(n,r,a);this.setItem(c,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Vf.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),c=Number(a[1]);return Nd.$s(new Er(void 0!==a[2]?a[2]:null),c,r)}fi(n,r){const a=this.zs.exec(n),c=Number(a[1]);return Md.$s(c,r)}Xs(n){return Ym.$s(n)}li(n){var r=this;return(0,we.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),c=this.ti(this.qs),f=this.ti(a),m=[],E=[];return f.forEach(D=>{c.has(D)||m.push(D)}),c.forEach(D=>{f.has(D)||E.push(D)}),this.syncEngine.gi(m,E).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=Sf();return n.forEach((a,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class hw{constructor(){this.yi=new Qm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new Qm,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class rD{Ei(n){}shutdown(){}}class iD{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class v1{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class FR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,c){const f=this.Bi(n,r);Fe("RestConnection","Sending: ",f,a);const m={};return this.Ui(m,c),this.qi(n,f,m,a).then(E=>(Fe("RestConnection","Received: ",E),E),E=>{throw _f("RestConnection",`${n} failed with error: `,E,"url: ",f,"request:",a),E})}Ki(n,r,a,c){return this.Li(n,r,a,c)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+gc,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${sD[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,c){return new Promise((f,m)=>{const E=new _m;E.listenOnce(PS.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case c0.NO_ERROR:const S=E.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(S)),f(S);break;case c0.TIMEOUT:Fe("Connection",'RPC "'+n+'" timed out'),m(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case c0.HTTP_ERROR:const R=E.getStatus();if(Fe("Connection",'RPC "'+n+'" failed with status:',R,"response text:",E.getResponseText()),R>0){const O=E.getResponseJson().error;if(O&&O.status&&O.message){const q=function(W){const ge=W.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ge)>=0?ge:pe.UNKNOWN}(O.status);m(new Ne(q,O.message))}else m(new Ne(pe.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Fe("Connection",'RPC "'+n+'" completed.')}});const D=JSON.stringify(c);E.send(r,"POST",D,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],c=Qb(),f=OS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new kS({})),this.Ui(m.initMessageHeaders,r),(0,St.uI)()||(0,St.b$)()||(0,St.d)()||(0,St.w1)()||(0,St.Mn)()||(0,St.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=a.join("");Fe("Connection","Creating WebChannel: "+E,m);const D=c.createWebChannel(E,m);let S=!1,R=!1;const O=new v1({vi:W=>{R?Fe("Connection","Not sending because WebChannel is closed:",W):(S||(Fe("Connection","Opening WebChannel transport."),D.open(),S=!0),Fe("Connection","WebChannel sending:",W),D.send(W))},Vi:()=>D.close()}),q=(W,ge,ke)=>{W.listen(ge,$e=>{try{ke($e)}catch(vt){setTimeout(()=>{throw vt},0)}})};return q(D,mm.EventType.OPEN,()=>{R||Fe("Connection","WebChannel transport opened.")}),q(D,mm.EventType.CLOSE,()=>{R||(R=!0,Fe("Connection","WebChannel transport closed"),O.$i())}),q(D,mm.EventType.ERROR,W=>{R||(R=!0,_f("Connection","WebChannel transport errored:",W),O.$i(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))}),q(D,mm.EventType.MESSAGE,W=>{var ge;if(!R){const ke=W.data[0];ft(!!ke);const $e=ke,vt=$e.error||(null===(ge=$e[0])||void 0===ge?void 0:ge.error);if(vt){Fe("Connection","WebChannel received error:",vt);const Rt=vt.status;let dt=function($n){const oa=Nn[$n];if(void 0!==oa)return bI(oa)}(Rt),Et=vt.message;void 0===dt&&(dt=pe.INTERNAL,Et="Unknown error status: "+Rt+" with message "+vt.message),R=!0,O.$i(new Ne(dt,Et)),D.close()}else Fe("Connection","WebChannel received:",ke),O.Oi(ke)}}),q(f,gf.STAT_EVENT,W=>{W.stat===Jb.PROXY?Fe("Connection","Detected buffering proxy"):W.stat===Jb.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function Qr(){return"undefined"!=typeof window?window:null}function ea(){return"undefined"!=typeof document?document:null}function Uf(i){return new M0(i,!0)}class fw{constructor(n,r,a=1e3,c=1.5,f=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=c,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),c=Math.max(0,r-a);c>0&&Fe("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class w1{constructor(n,r,a,c,f,m){this.Oe=n,this.er=a,this.nr=c,this.credentialsProvider=f,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new fw(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,we.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,we.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,we.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===pe.RESOURCE_EXHAUSTED?(Xn(r.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===pe.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const c=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(c)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,we.Z)(function*(){n.state=0,n.start()}))}pr(n){return Fe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bf extends w1{constructor(n,r,a,c,f){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,f),this.N=c}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(D=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:et(),c=n.targetChange.targetIds||[],f=function(D,S){return D.D?(ft(void 0===S||"string"==typeof S),Dr.fromBase64String(S||"")):(ft(void 0===S||S instanceof Uint8Array),Dr.fromUint8Array(S||new Uint8Array))}(i,n.targetChange.resumeToken),m=n.targetChange.cause,E=m&&function(D){const S=void 0===D.code?pe.UNKNOWN:bI(D.code);return new Ne(S,D.message||"")}(m);r=new Xt(a,c,f,E||null)}else if("documentChange"in n){const a=n.documentChange,c=Bn(i,a.document.name),f=lr(a.document.updateTime),m=new Yr({mapValue:{fields:a.document.fields}}),E=Dn.newFoundDocument(c,f,m);r=new N0(a.targetIds||[],a.removedTargetIds||[],E.key,E)}else if("documentDelete"in n){const a=n.documentDelete,c=Bn(i,a.document),f=a.readTime?lr(a.readTime):xt.min(),m=Dn.newNoDocument(c,f);r=new N0([],a.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const a=n.documentRemove,c=Bn(i,a.document);r=new N0([],a.removedTargetIds||[],c,null)}else{if(!("filter"in n))return et();{const a=n.filter,f=new YS(a.count||0);r=new dd(a.targetId,f)}}var D;return r}(this.N,n),a=function(c){if(!("targetChange"in c))return xt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?xt.min():f.readTime?lr(f.readTime):xt.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=pd(this.N),r.addTarget=function(c,f){let m;const E=f.target;return m=Am(E)?{documents:P0(c,E)}:{query:Vm(c,E)},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?m.resumeToken=e1(c,f.resumeToken):f.snapshotVersion.compareTo(xt.min())>0&&(m.readTime=Ts(c,f.snapshotVersion.toTimestamp())),m}(this.N,n);const a=function(i,n){const r=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=pd(this.N),r.removeTarget=n,this.wr(r)}}class E1 extends w1{constructor(n,r,a,c,f){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,f),this.N=c,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ft(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(ft(void 0!==n),i.map(r=>function(a,c){let f=lr(a.updateTime?a.updateTime:c);return f.isEqual(xt.min())&&(f=lr(c)),new ZS(f,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=lr(n.commitTime);return this.listener.vr(a,r)}return ft(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=pd(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>Lm(this.N,a))};this.wr(r)}}class pw extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(n,r,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Ne(pe.UNKNOWN,c.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(n,r,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Ne(pe.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class C1{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Xn(r),this.$r=!1):Fe("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class oD{constructor(n,r,a,c,f){var m=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(E=>{a.enqueueAndForget((0,we.Z)(function*(){var D;ta(m)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,we.Z)(function*(S){const R=Be(S);R.Kr.add(4),yield au(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield jf(R)}),function(S){return D.apply(this,arguments)})(m))}))}),this.Wr=new C1(a,c)}}function jf(i){return gw.apply(this,arguments)}function gw(){return(gw=(0,we.Z)(function*(i){if(ta(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function au(i){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,we.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function Hf(i,n){const r=Be(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),mw(r)?Xm(r):zf(r).cr()&&$f(r,n))}function uu(i,n){const r=Be(i),a=zf(r);r.qr.delete(n),a.cr()&&b1(r,n),0===r.qr.size&&(a.cr()?a.lr():ta(r)&&r.Wr.set("Unknown"))}function $f(i,n){i.Gr.Y(n.targetId),zf(i).Ir(n)}function b1(i,n){i.Gr.Y(n),zf(i).Ar(n)}function Xm(i){i.Gr=new hd({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),zf(i).start(),i.Wr.Or()}function mw(i){return ta(i)&&!zf(i).ar()&&i.qr.size>0}function ta(i){return 0===Be(i).Kr.size}function Gf(i){i.Gr=void 0}function aD(i){return _w.apply(this,arguments)}function _w(){return(_w=(0,we.Z)(function*(i){i.qr.forEach((n,r)=>{$f(i,n)})})).apply(this,arguments)}function yw(i,n){return qf.apply(this,arguments)}function qf(){return(qf=(0,we.Z)(function*(i,n){Gf(i),mw(i)?(i.Wr.Lr(n),Xm(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function I1(i,n,r){return vw.apply(this,arguments)}function vw(){return(vw=(0,we.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof Xt&&2===n.state&&n.cause)try{yield(a=(0,we.Z)(function*(c,f){const m=f.cause;for(const E of f.targetIds)c.qr.has(E)&&(yield c.remoteSyncer.rejectListen(E,m),c.qr.delete(E),c.Gr.removeTarget(E))}),function(c,f){return a.apply(this,arguments)})(i,n)}catch(a){Fe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield Zf(i,a)}else if(n instanceof N0?i.Gr.rt(n):n instanceof dd?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(xt.min()))try{const a=yield tw(i.localStore);r.compareTo(a)>=0&&(yield function(c,f){const m=c.Gr._t(f);return m.targetChanges.forEach((E,D)=>{if(E.resumeToken.approximateByteSize()>0){const S=c.qr.get(D);S&&c.qr.set(D,S.withResumeToken(E.resumeToken,f))}}),m.targetMismatches.forEach(E=>{const D=c.qr.get(E);if(!D)return;c.qr.set(E,D.withResumeToken(Dr.EMPTY_BYTE_STRING,D.snapshotVersion)),b1(c,E);const S=new Jo(D.target,E,1,D.sequenceNumber);$f(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(a){Fe("RemoteStore","Failed to raise snapshot:",a),yield Zf(i,a)}var a})).apply(this,arguments)}function Zf(i,n,r){return e_.apply(this,arguments)}function e_(){return(e_=(0,we.Z)(function*(i,n,r){if(!Dc(n))throw n;i.Kr.add(1),yield au(i),i.Wr.set("Offline"),r||(r=()=>tw(i.localStore)),i.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield jf(i)}))})).apply(this,arguments)}function ww(i,n){return n().catch(r=>Zf(i,r,n))}function Od(i){return t_.apply(this,arguments)}function t_(){return(t_=(0,we.Z)(function*(i){const n=Be(i),r=xc(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;uD(n);)try{const c=yield g1(n.localStore,a);if(null===c){0===n.Ur.length&&r.lr();break}a=c.batchId,D1(n,c)}catch(c){yield Zf(n,c)}cD(n)&&Ew(n)})).apply(this,arguments)}function uD(i){return ta(i)&&i.Ur.length<10}function D1(i,n){i.Ur.push(n);const r=xc(i);r.cr()&&r.br&&r.Pr(n.mutations)}function cD(i){return ta(i)&&!xc(i).ar()&&i.Ur.length>0}function Ew(i){xc(i).start()}function T1(i){return n_.apply(this,arguments)}function n_(){return(n_=(0,we.Z)(function*(i){xc(i).Sr()})).apply(this,arguments)}function lD(i){return r_.apply(this,arguments)}function r_(){return(r_=(0,we.Z)(function*(i){const n=xc(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function dD(i,n,r){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,we.Z)(function*(i,n,r){const a=i.Ur.shift(),c=B0.from(a,n,r);yield ww(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Od(i)})).apply(this,arguments)}function A1(i,n){return bw.apply(this,arguments)}function bw(){return(bw=(0,we.Z)(function*(i,n){var r;n&&xc(i).br&&(yield(r=(0,we.Z)(function*(a,c){if(x0(f=c.code)&&f!==pe.ABORTED){const m=a.Ur.shift();xc(a).hr(),yield ww(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield Od(a)}var f}),function(a,c){return r.apply(this,arguments)})(i,n)),cD(i)&&Ew(i)})).apply(this,arguments)}function i_(i,n){return hD.apply(this,arguments)}function hD(){return(hD=(0,we.Z)(function*(i,n){const r=Be(i);n?(r.Kr.delete(2),yield jf(r)):n||(r.Kr.add(2),yield au(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function zf(i){return i.zr||(i.zr=function(n,r,a){const c=Be(n);return c.Cr(),new Bf(r,c.nr,c.credentials,c.N,a)}(i.datastore,i.asyncQueue,{Si:aD.bind(null,i),Ci:yw.bind(null,i),Tr:I1.bind(null,i)}),i.jr.push(function(){var n=(0,we.Z)(function*(r){r?(i.zr.hr(),mw(i)?Xm(i):i.Wr.set("Unknown")):(yield i.zr.stop(),Gf(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function xc(i){return i.Hr||(i.Hr=function(n,r,a){const c=Be(n);return c.Cr(),new E1(r,c.nr,c.credentials,c.N,a)}(i.datastore,i.asyncQueue,{Si:T1.bind(null,i),Ci:A1.bind(null,i),Vr:lD.bind(null,i),vr:dD.bind(null,i)}),i.jr.push(function(){var n=(0,we.Z)(function*(r){r?(i.Hr.hr(),yield Od(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Fe("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class fD{constructor(n,r,a,c,f){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=c,this.removalCallback=f,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(n,r,a,c,f){const m=Date.now()+a,E=new fD(n,r,m,c,f);return E.start(a),E}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(i,n){if(Xn("AsyncQueue",`${n}: ${i}`),Dc(i))return new Ne(pe.UNAVAILABLE,`${n}: ${i}`);throw i}class Kf{constructor(n){this.comparator=n?(r,a)=>n(r,a)||tt.comparator(r.key,a.key):(r,a)=>tt.comparator(r.key,a.key),this.keyedMap=km(),this.sortedSet=new Tr(this.comparator)}static emptySet(n){return new Kf(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof Kf)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,f=a.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new Kf;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class S1{constructor(){this.Jr=new Tr(tt.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):et():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class Yf{constructor(n,r,a,c,f,m,E,D){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=E,this.excludesMetadataChanges=D}static fromInitialDocuments(n,r,a,c){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new Yf(n,r,Kf.emptySet(r),f,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&bf(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==a[c].type||!r[c].doc.isEqual(a[c].doc))return!1;return!0}}class LR{constructor(){this.Xr=void 0,this.listeners=[]}}class VR{constructor(){this.queries=new Dd(n=>xm(n),bf),this.onlineState="Unknown",this.Zr=new Set}}function pD(i,n){return gD.apply(this,arguments)}function gD(){return(gD=(0,we.Z)(function*(i,n){const r=Be(i),a=n.query;let c=!1,f=r.queries.get(a);if(f||(c=!0,f=new LR),c)try{f.Xr=yield r.onListen(a)}catch(m){const E=Wf(m,`Initialization of query '${Rm(n.query)}' failed`);return void n.onError(E)}r.queries.set(a,f),f.listeners.push(n),n.eo(r.onlineState),f.Xr&&n.no(f.Xr)&&yD(r)})).apply(this,arguments)}function mD(i,n){return _D.apply(this,arguments)}function _D(){return(_D=(0,we.Z)(function*(i,n){const r=Be(i),a=n.query;let c=!1;const f=r.queries.get(a);if(f){const m=f.listeners.indexOf(n);m>=0&&(f.listeners.splice(m,1),c=0===f.listeners.length)}if(c)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function UR(i,n){const r=Be(i);let a=!1;for(const c of n){const m=r.queries.get(c.query);if(m){for(const E of m.listeners)E.no(c)&&(a=!0);m.Xr=c}}a&&yD(r)}function BR(i,n,r){const a=Be(i),c=a.queries.get(n);if(c)for(const f of c.listeners)f.onError(r);a.queries.delete(n)}function yD(i){i.Zr.forEach(n=>{n.next()})}class Iw{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const c of n.docChanges)3!==c.type&&a.push(c);n=new Yf(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Yf.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class x1{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class vD{constructor(n){this.N=n}zn(n){return Bn(this.N,n)}Hn(n){return n.metadata.exists?Fm(this.N,n.document,!1):Dn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return lr(n)}}class jR{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=R1(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new vD(this.N);for(const c of n)if(c.metadata.queries){const f=a.zn(c.metadata.name);for(const m of c.metadata.queries){const E=(r.get(m)||nn()).add(f);r.set(m,E)}}return r}complete(){var n=this;return(0,we.Z)(function*(){const r=yield function(i,n,r,a){return ps.apply(this,arguments)}(n.localStore,new vD(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const c of n.queries)yield m1(n.localStore,c,a.get(c.name));return n.progress.taskState="Success",new f1(Object.assign({},n.progress),r)})()}}function R1(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class N1{constructor(n){this.key=n}}class wD{constructor(n){this.key=n}}class ED{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=nn(),this.mutatedKeys=nn(),this.po=I0(n),this.Eo=new Kf(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new S1,c=r?r.Eo:this.Eo;let f=r?r.mutatedKeys:this.mutatedKeys,m=c,E=!1;const D=Ef(this.query)&&c.size===this.query.limit?c.last():null,S=E0(this.query)&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((R,O)=>{const q=c.get(R),W=yc(this.query,O)?O:null,ge=!!q&&this.mutatedKeys.has(q.key),ke=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let $e=!1;q&&W?q.data.isEqual(W.data)?ge!==ke&&(a.track({type:3,doc:W}),$e=!0):this.Ro(q,W)||(a.track({type:2,doc:W}),$e=!0,(D&&this.po(W,D)>0||S&&this.po(W,S)<0)&&(E=!0)):!q&&W?(a.track({type:0,doc:W}),$e=!0):q&&!W&&(a.track({type:1,doc:q}),$e=!0,(D||S)&&(E=!0)),$e&&(W?(m=m.add(W),f=ke?f.add(R):f.delete(R)):(m=m.delete(R),f=f.delete(R)))}),Ef(this.query)||E0(this.query))for(;m.size>this.query.limit;){const R=Ef(this.query)?m.last():m.first();m=m.delete(R.key),f=f.delete(R.key),a.track({type:1,doc:R})}return{Eo:m,Ao:a,Ln:E,mutatedKeys:f}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const c=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const f=n.Ao.Yr();f.sort((S,R)=>function(O,q){const W=ge=>{switch(ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return W(O)-W(q)}(S.type,R.type)||this.po(S.doc,R.doc)),this.bo(a);const m=r?this.Po():[],E=0===this.yo.size&&this.current?1:0,D=E!==this.mo;return this.mo=E,0!==f.length||D?{snapshot:new Yf(this.query,n.Eo,c,f,n.mutatedKeys,0===E,D,!1),vo:m}:{vo:m}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new S1,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=nn(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new wD(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new N1(a))}),r}So(n){this._o=n.Gn,this.yo=nn();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return Yf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class M1{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class HR{constructor(n){this.key=n,this.Co=!1}}class $R{constructor(n,r,a,c,f,m){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Dd(E=>xm(E),bf),this.ko=new Map,this.$o=new Set,this.Oo=new Tr(tt.comparator),this.Fo=new Map,this.Mo=new sw,this.Lo={},this.Bo=new Map,this.Uo=Fr.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function GR(i,n){return CD.apply(this,arguments)}function CD(){return(CD=(0,we.Z)(function*(i,n){const r=Rw(i);let a,c;const f=r.xo.get(n);if(f)a=f.targetId,r.sharedClientState.addLocalQueryTarget(a),c=f.view.Do();else{const m=yield Ad(r.localStore,ds(n)),E=r.sharedClientState.addLocalQueryTarget(m.targetId);a=m.targetId,c=yield Dw(r,n,a,"current"===E),r.isPrimaryClient&&Hf(r.remoteStore,m)}return c})).apply(this,arguments)}function Dw(i,n,r,a){return bD.apply(this,arguments)}function bD(){return(bD=(0,we.Z)(function*(i,n,r,a){i.Ko=(R,O,q)=>{return(W=(0,we.Z)(function*(ge,ke,$e,vt){let Rt=ke.view.Io($e);Rt.Ln&&(Rt=yield Wm(ge.localStore,ke.query,!1).then(({documents:$n})=>ke.view.Io($n,Rt)));const dt=vt&&vt.targetChanges.get(ke.targetId),Et=ke.view.applyChanges(Rt,ge.isPrimaryClient,dt);return Ld(ge,ke.targetId,Et.vo),Et.snapshot}),function(ge,ke,$e,vt){return W.apply(this,arguments)})(i,R,O,q);var W};const c=yield Wm(i.localStore,n,!0),f=new ED(n,c.Gn),m=f.Io(c.documents),E=nu.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),D=f.applyChanges(m,i.isPrimaryClient,E);Ld(i,r,D.vo);const S=new M1(n,r,f);return i.xo.set(n,S),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),D.snapshot})).apply(this,arguments)}function O1(i,n){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,we.Z)(function*(i,n){const r=Be(i),a=r.xo.get(n),c=r.ko.get(a.targetId);if(c.length>1)return r.ko.set(a.targetId,c.filter(f=>!bf(f,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Sd(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),uu(r.remoteStore,a.targetId),Fd(r,a.targetId)}).catch(ou))):(Fd(r,a.targetId),yield Sd(r.localStore,a.targetId,!0))})).apply(this,arguments)}function s_(){return(s_=(0,we.Z)(function*(i,n,r){const a=Nw(i);try{const c=yield function(f,m){const E=Be(f),D=br.now(),S=m.reduce((O,q)=>O.add(q.key),nn());let R;return E.persistence.runTransaction("Locally write mutations","readwrite",O=>E.Qn.Pn(O,S).next(q=>{R=q;const W=[];for(const ge of m){const ke=WS(ge,R.get(ge.key));null!=ke&&W.push(new eu(ge.key,ke,uI(ke.value.mapValue),cr.exists(!0)))}return E.In.addMutationBatch(O,D,W,m)})).then(O=>(O.applyToLocalDocumentSet(R),{batchId:O.batchId,changes:R}))}(a.localStore,n);a.sharedClientState.addPendingMutation(c.batchId),function(f,m,E){let D=f.Lo[f.currentUser.toKey()];D||(D=new Tr(Ot)),D=D.insert(m,E),f.Lo[f.currentUser.toKey()]=D}(a,c.batchId,r),yield cu(a,c.changes),yield Od(a.remoteStore)}catch(c){const f=Wf(c,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function ID(i,n){return Tw.apply(this,arguments)}function Tw(){return(Tw=(0,we.Z)(function*(i,n){const r=Be(i);try{const a=yield QI(r.localStore,n);n.targetChanges.forEach((c,f)=>{const m=r.Fo.get(f);m&&(ft(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Co=!0:c.modifiedDocuments.size>0?ft(m.Co):c.removedDocuments.size>0&&(ft(m.Co),m.Co=!1))}),yield cu(r,a,n)}catch(a){yield ou(a)}})).apply(this,arguments)}function o_(i,n,r){const a=Be(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const c=[];a.xo.forEach((f,m)=>{const E=m.view.eo(n);E.snapshot&&c.push(E.snapshot)}),function(f,m){const E=Be(f);E.onlineState=m;let D=!1;E.queries.forEach((S,R)=>{for(const O of R.listeners)O.eo(m)&&(D=!0)}),D&&yD(E)}(a.eventManager,n),c.length&&a.No.Tr(c),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function DD(i,n,r){return a_.apply(this,arguments)}function a_(){return(a_=(0,we.Z)(function*(i,n,r){const a=Be(i);a.sharedClientState.updateQueryState(n,"rejected",r);const c=a.Fo.get(n),f=c&&c.key;if(f){let m=new Tr(tt.comparator);m=m.insert(f,Dn.newNoDocument(f,xt.min()));const E=nn().add(f),D=new tu(xt.min(),new Map,new Ln(Ot),m,E);yield ID(a,D),a.Oo=a.Oo.remove(f),a.Fo.delete(n),OD(a)}else yield Sd(a.localStore,n,!1).then(()=>Fd(a,n,r)).catch(ou)})).apply(this,arguments)}function TD(i,n){return AD.apply(this,arguments)}function AD(){return(AD=(0,we.Z)(function*(i,n){const r=Be(i),a=n.batch.batchId;try{const c=yield YI(r.localStore,n);MD(r,a,null),ND(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield cu(r,c)}catch(c){yield ou(c)}})).apply(this,arguments)}function SD(i,n,r){return kd.apply(this,arguments)}function kd(){return(kd=(0,we.Z)(function*(i,n,r){const a=Be(i);try{const c=yield function(f,m){const E=Be(f);return E.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let S;return E.In.lookupMutationBatch(D,m).next(R=>(ft(null!==R),S=R.keys(),E.In.removeMutationBatch(D,R))).next(()=>E.In.performConsistencyCheck(D)).next(()=>E.Qn.Pn(D,S))})}(a.localStore,n);MD(a,n,r),ND(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield cu(a,c)}catch(c){yield ou(c)}})).apply(this,arguments)}function RD(){return(RD=(0,we.Z)(function*(i,n){const r=Be(i);ta(r.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(f){const m=Be(f);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",E=>m.In.getHighestUnacknowledgedBatchId(E))}(r.localStore);if(-1===a)return void n.resolve();const c=r.Bo.get(a)||[];c.push(n),r.Bo.set(a,c)}catch(a){const c=Wf(a,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}})).apply(this,arguments)}function ND(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function MD(i,n,r){const a=Be(i);let c=a.Lo[a.currentUser.toKey()];if(c){const f=c.get(n);f&&(r?f.reject(r):f.resolve(),c=c.remove(n)),a.Lo[a.currentUser.toKey()]=c}}function Fd(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||P1(i,a)})}function P1(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(uu(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),OD(i))}function Ld(i,n,r){for(const a of r)a instanceof N1?(i.Mo.addReference(a.key,n),k1(i,a)):a instanceof wD?(Fe("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||P1(i,a.key)):et()}function k1(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(Fe("SyncEngine","New document in limbo: "+r),i.$o.add(a),OD(i))}function OD(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new tt(jt.fromString(n)),a=i.Uo.next();i.Fo.set(a,new HR(r)),i.Oo=i.Oo.insert(r,a),Hf(i.remoteStore,new Jo(ds(ui(r.path)),a,2,$i.T))}}function cu(i,n,r){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,we.Z)(function*(i,n,r){const a=Be(i),c=[],f=[],m=[];var E;a.xo.isEmpty()||(a.xo.forEach((E,D)=>{m.push(a.Ko(D,n,r).then(S=>{if(S){a.isPrimaryClient&&a.sharedClientState.updateQueryState(D.targetId,S.fromCache?"not-current":"current"),c.push(S);const R=X0.kn(D.targetId,S);f.push(R)}}))}),yield Promise.all(m),a.No.Tr(c),yield(E=(0,we.Z)(function*(D,S){const R=Be(D);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Se.forEach(S,q=>Se.forEach(q.Nn,W=>R.persistence.referenceDelegate.addReference(O,q.targetId,W)).next(()=>Se.forEach(q.xn,W=>R.persistence.referenceDelegate.removeReference(O,q.targetId,W)))))}catch(O){if(!Dc(O))throw O;Fe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of S){const q=O.targetId;if(!O.fromCache){const W=R.Un.get(q),ke=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);R.Un=R.Un.insert(q,ke)}}}),function(D,S){return E.apply(this,arguments)})(a.localStore,f))})).apply(this,arguments)}function F1(i,n){return PD.apply(this,arguments)}function PD(){return(PD=(0,we.Z)(function*(i,n){const r=Be(i);if(!r.currentUser.isEqual(n)){Fe("SyncEngine","User change. New user:",n.toKey());const a=yield ew(r.localStore,n);r.currentUser=n,(c=r).Bo.forEach(m=>{m.forEach(E=>{E.reject(new Ne(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield cu(r,a.Wn)}var c})).apply(this,arguments)}function qR(i,n){const r=Be(i),a=r.Fo.get(n);if(a&&a.Co)return nn().add(a.key);{let c=nn();const f=r.ko.get(n);if(!f)return c;for(const m of f){const E=r.xo.get(m);c=c.unionWith(E.view.To)}return c}}function L1(i,n){return kD.apply(this,arguments)}function kD(){return(kD=(0,we.Z)(function*(i,n){const r=Be(i),a=yield Wm(r.localStore,n.query,!0),c=n.view.So(a);return r.isPrimaryClient&&Ld(r,n.targetId,c.vo),c})).apply(this,arguments)}function FD(i){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,we.Z)(function*(i){const n=Be(i);return xd(n.localStore).then(r=>cu(n,r))})).apply(this,arguments)}function ZR(i,n,r,a){return LD.apply(this,arguments)}function LD(){return(LD=(0,we.Z)(function*(i,n,r,a){const c=Be(i),f=yield function(m,E){const D=Be(m),S=Be(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",R=>S.Xt(R,E).next(O=>O?D.Qn.Pn(R,O):Se.resolve(null)))}(c.localStore,n);var E;null!==f?("pending"===r?yield Od(c.remoteStore):"acknowledged"===r||"rejected"===r?(MD(c,n,a||null),ND(c,n),E=n,Be(Be(c.localStore).In).te(E)):et(),yield cu(c,f)):Fe("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Rc(){return(Rc=(0,we.Z)(function*(i,n){const r=Be(i);if(Rw(r),Nw(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),c=yield VD(r,a.toArray());r.qo=!0,yield i_(r.remoteStore,!0);for(const f of c)Hf(r.remoteStore,f)}else if(!1===n&&!1!==r.qo){const a=[];let c=Promise.resolve();r.ko.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?a.push(m):c=c.then(()=>(Fd(r,m),Sd(r.localStore,m,!0))),uu(r.remoteStore,m)}),yield c,yield VD(r,a),function(f){const m=Be(f);m.Fo.forEach((E,D)=>{uu(m.remoteStore,D)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Tr(tt.comparator)}(r),r.qo=!1,yield i_(r.remoteStore,!1)}})).apply(this,arguments)}function VD(i,n,r){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,we.Z)(function*(i,n,r){const a=Be(i),c=[],f=[];for(const m of n){let E;const D=a.ko.get(m);if(D&&0!==D.length){E=yield Ad(a.localStore,ds(D[0]));for(const S of D){const R=a.xo.get(S),O=yield L1(a,R);O.snapshot&&f.push(O.snapshot)}}else{const S=yield XI(a.localStore,m);E=yield Ad(a.localStore,S),yield Dw(a,UD(S),m,!1)}c.push(E)}return a.No.Tr(f),c})).apply(this,arguments)}function UD(i){return fI(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function xw(i){const n=Be(i);return Be(Be(n.localStore).persistence).pn()}function U1(i,n,r,a){return li.apply(this,arguments)}function li(){return(li=(0,we.Z)(function*(i,n,r,a){const c=Be(i);if(c.qo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(n))switch(r){case"current":case"not-current":{const f=yield xd(c.localStore),m=tu.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield cu(c,f,m);break}case"rejected":yield Sd(c.localStore,n,!0),Fd(c,n,a);break;default:et()}})).apply(this,arguments)}function B1(i,n,r){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,we.Z)(function*(i,n,r){const a=Rw(i);if(a.qo){for(const c of n){if(a.ko.has(c)){Fe("SyncEngine","Adding an already active target "+c);continue}const f=yield XI(a.localStore,c),m=yield Ad(a.localStore,f);yield Dw(a,UD(f),m.targetId,!1),Hf(a.remoteStore,m)}for(const c of r)a.ko.has(c)&&(yield Sd(a.localStore,c,!1).then(()=>{uu(a.remoteStore,c),Fd(a,c)}).catch(ou))}})).apply(this,arguments)}function Rw(i){const n=Be(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=ID.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=qR.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=DD.bind(null,n),n.No.Tr=UR.bind(null,n.eventManager),n.No.jo=BR.bind(null,n.eventManager),n}function Nw(i){const n=Be(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=TD.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=SD.bind(null,n),n}class Ow{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,we.Z)(function*(){r.N=Uf(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return Td(this.persistence,new KI,n.initialUser,this.N)}Go(n){return new cw(lw.Ns,this.N)}Wo(n){return new hw}terminate(){var n=this;return(0,we.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Pw extends Ow{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,we.Z)(function*(){yield r().call(a,n),yield function(i){return rw.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield Nw(a.Jo.syncEngine),yield Od(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return Td(this.persistence,new KI,n.initialUser,this.N)}zo(n){return new qI(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=J0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Di.withCacheSize(this.cacheSizeBytes):Di.DEFAULT;return new Q0(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,Qr(),ea(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new hw}}class j1 extends Pw{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,we.Z)(function*(){yield r().call(a,n);const c=a.Jo.syncEngine;a.sharedClientState instanceof dw&&(a.sharedClientState.syncEngine={_i:ZR.bind(null,c),mi:U1.bind(null,c),gi:B1.bind(null,c),pn:xw.bind(null,c),wi:FD.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var f=(0,we.Z)(function*(m){yield function(i,n){return Rc.apply(this,arguments)}(a.Jo.syncEngine,m),a.gcScheduler&&(m&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):m||a.gcScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}Wo(n){const r=Qr();if(!dw.bt(r))throw new Ne(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=J0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new dw(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class u_{initialize(n,r){var a=this;return(0,we.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>o_(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=F1.bind(null,a.syncEngine),yield i_(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new VR}createDatastore(n){const r=Uf(n.databaseInfo.databaseId),a=new FR(n.databaseInfo);return new pw(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,c=n.asyncQueue,f=E=>o_(this.syncEngine,E,0),m=iD.bt()?new iD:new rD,new oD(r,a,c,f,m);var r,a,c,f,m}createSyncEngine(n,r){return function(a,c,f,m,E,D,S){const R=new $R(a,c,f,m,E,D);return S&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,we.Z)(function*(r){const a=Be(r);Fe("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield au(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function kw(i,n=10240){let r=0;return{read:()=>(0,we.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class c_{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class H1{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new Cr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,we.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,we.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,we.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),c=Number(a);isNaN(c)&&n.sa(`length string (${a}) is not valid number`);const f=yield n.ia(c);return new x1(JSON.parse(f),r.length+c)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,we.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,we.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,we.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class Fw{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,we.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ne(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,we.Z)(function*(f,m){const E=Be(f),D=pd(E.N)+"/documents",S={documents:m.map(W=>xf(E.N,W))},R=yield E.Ki("BatchGetDocuments",D,S),O=new Map;R.forEach(W=>{const ge=function(i,n){return"found"in n?function(r,a){ft(!!a.found);const c=Bn(r,a.found.name),f=lr(a.found.updateTime),m=new Yr({mapValue:{fields:a.found.fields}});return Dn.newFoundDocument(c,f,m)}(i,n):"missing"in n?function(r,a){ft(!!a.missing),ft(!!a.readTime);const c=Bn(r,a.missing),f=lr(a.readTime);return Dn.newNoDocument(c,f)}(i,n):et()}(E.N,W);O.set(ge.key.toString(),ge)});const q=[];return m.forEach(W=>{const ge=O.get(W.toString());ft(!!ge),q.push(ge)}),q}),function(f,m){return c.apply(this,arguments)})(r.datastore,n);var c;return a.forEach(c=>r.recordVersion(c)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Af(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,we.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,c)=>{const f=tt.fromPath(c);n.mutations.push(new S0(f,n.precondition(f)))}),yield(a=(0,we.Z)(function*(c,f){const m=Be(c),E=pd(m.N)+"/documents",D={writes:f.map(S=>Lm(m.N,S))};yield m.Li("Commit",E,D)}),function(c,f){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw et();r=xt.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new Ne(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?cr.updateTime(r):cr.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(xt.min()))throw new Ne(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(r)}return cr.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class BD{constructor(n,r,a,c){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=c,this.aa=5,this.rr=new fw(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,we.Z)(function*(){const r=new Fw(n.datastore),a=n.ua(r);a&&a.then(c=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(c)}).catch(f=>{n.ha(f)}))}).catch(c=>{n.ha(c)})}))}ua(n){try{const r=this.updateFunction(n);return!mc(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!x0(r)}return!1}}class jD{constructor(n,r,a){var c=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Er.UNAUTHENTICATED,this.clientId=h0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var f=(0,we.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield c.credentialListener(m),c.user=m});return function(m){return f.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,we.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const c=Wf(a,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function l_(i,n){return Lw.apply(this,arguments)}function Lw(){return(Lw=(0,we.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var c=(0,we.Z)(function*(f){a.isEqual(f)||(yield ew(n.localStore,f),a=f)});return function(f){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function gs(i,n){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,we.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield HD(i);Fe("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(c=>{return(f=(0,we.Z)(function*(m,E){const D=Be(m);D.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const S=ta(D);D.Kr.add(3),yield au(D),S&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(E),D.Kr.delete(3),yield jf(D)}),function(m,E){return f.apply(this,arguments)})(n.remoteStore,c);var f}),i.onlineComponents=n})).apply(this,arguments)}function HD(i){return Uw.apply(this,arguments)}function Uw(){return(Uw=(0,we.Z)(function*(i){return i.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield l_(i,new Ow)),i.offlineComponents})).apply(this,arguments)}function Bw(i){return jw.apply(this,arguments)}function jw(){return(jw=(0,we.Z)(function*(i){return i.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield gs(i,new u_)),i.onlineComponents})).apply(this,arguments)}function $D(i){return HD(i).then(n=>n.persistence)}function Hw(i){return HD(i).then(n=>n.localStore)}function $1(i){return Bw(i).then(n=>n.remoteStore)}function $w(i){return Bw(i).then(n=>n.syncEngine)}function Nc(i){return Gw.apply(this,arguments)}function Gw(){return(Gw=(0,we.Z)(function*(i){const n=yield Bw(i),r=n.eventManager;return r.onListen=GR.bind(null,n.syncEngine),r.onUnlisten=O1.bind(null,n.syncEngine),r})).apply(this,arguments)}function Z1(i,n,r={}){const a=new Cr;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(c,f,m,E,D){const S=new c_({next:O=>{f.enqueueAndForget(()=>mD(c,R));const q=O.docs.has(m);!q&&O.fromCache?D.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&E&&"server"===E.source?D.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(O)},error:O=>D.reject(O)}),R=new Iw(ui(m.path),S,{includeMetadataChanges:!0,uo:!0});return pD(c,R)}(yield Nc(i),i.asyncQueue,n,r,a)})),a.promise}function qw(i,n,r={}){const a=new Cr;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(c,f,m,E,D){const S=new c_({next:O=>{f.enqueueAndForget(()=>mD(c,R)),O.fromCache&&"server"===E.source?D.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(O)},error:O=>D.reject(O)}),R=new Iw(m,S,{includeMetadataChanges:!0,uo:!0});return pD(c,R)}(yield Nc(i),i.asyncQueue,n,r,a)})),a.promise}class Zw{constructor(n,r,a,c,f,m,E,D){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=c,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=E,this.useFetchStreams=D}}class Mc{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Mc&&n.projectId===this.projectId&&n.database===this.database}}const zD=new Map;function zw(i,n,r){if(!r)throw new Ne(pe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function K1(i,n,r,a){if(!0===n&&!0===a)throw new Ne(pe.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Y1(i){if(!tt.isDocumentKey(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Q1(i){if(tt.isDocumentKey(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function tp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":et()}function Kt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=tp(i);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function WD(i,n){if(n<=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class KD{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,K1("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class np{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KD({}),this._settingsFrozen=!1,n instanceof Mc?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(a.options.projectId)}(n))}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KD(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new AR;switch(r.type){case"gapi":const a=r.client;return ft(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new ym(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zD.get(n);r&&(Fe("ComponentProvider","Removing Datastore"),zD.delete(n),r.terminate())}(this),Promise.resolve()}}class mn{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new mn(this.firestore,n,this._key)}}class di{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new di(this.firestore,n,this._query)}}class na extends di{constructor(n,r,a){super(n,r,ui(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new mn(this.firestore,null,new tt(n))}withConverter(n){return new na(this.firestore,n,this._path)}}function YD(i,n,...r){if(i=(0,St.m9)(i),zw("collection","path",n),i instanceof np){const a=jt.fromString(n,...r);return Q1(a),new na(i,null,a)}{if(!(i instanceof mn||i instanceof na))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jt.fromString(n,...r));return Q1(a),new na(i.firestore,null,a)}}function Hn(i,n,...r){if(i=(0,St.m9)(i),1===arguments.length&&(n=h0.I()),zw("doc","path",n),i instanceof np){const a=jt.fromString(n,...r);return Y1(a),new mn(i,null,new tt(a))}{if(!(i instanceof mn||i instanceof na))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jt.fromString(n,...r));return Y1(a),new mn(i.firestore,i instanceof na?i.converter:null,new tt(a))}}function X1(i,n){return i=(0,St.m9)(i),n=(0,St.m9)(n),(i instanceof mn||i instanceof na)&&(n instanceof mn||n instanceof na)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function Kw(i,n){return i=(0,St.m9)(i),n=(0,St.m9)(n),i instanceof di&&n instanceof di&&i.firestore===n.firestore&&bf(i._query,n._query)&&i.converter===n.converter}class QD{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new fw(this,"async_queue_retry"),this.Ea=()=>{const r=ea();r&&Fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=ea();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=ea();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new Cr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,we.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Dc(r))throw r;Fe("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const c=fD.createAndSchedule(this,n,r,a,f=>this.Ra(f));return this._a.push(c),c}Ta(){this.ma&&et()}verifyOperationInProgress(){}ba(){var n=this;return(0,we.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function Yw(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(i)}class d_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Vn extends np{constructor(n,r){super(n,r),this.type="firestore",this._queue=new QD,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||h_(this),this._firestoreClient.terminate()}}function tr(i){return i._firestoreClient||h_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function h_(i){var n;const r=i._freezeSettings(),a=(f=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new Zw(i._databaseId,f,i._persistenceKey,(E=r).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var f,E;i._firestoreClient=new jD(i._credentials,i._queue,a)}function rp(i,n,r){const a=new Cr;return i.asyncQueue.enqueue((0,we.Z)(function*(){try{yield l_(i,r),yield gs(i,n),a.resolve()}catch(c){if(!("FirebaseError"===(f=c).name?f.code===pe.FAILED_PRECONDITION||f.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var f})).then(()=>a.promise)}function ox(i){if(i._initialized||i._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ms{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ra{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ra(Dr.fromBase64String(n))}catch(r){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new ra(Dr.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Ud{constructor(n){this._methodName=n}}class Xw{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Ot(this._lat,n._lat)||Ot(this._long,n._long)}}const ax=/^__.*__$/;class ux{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new eu(n,this.data,this.fieldMask,r,this.fieldTransforms):new Tf(n,this.data,r,this.fieldTransforms)}}class XD{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new eu(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function eT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class f_{constructor(n,r,a,c,f,m){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=c,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new f_(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:a,xa:!1});return c.ka(n),c}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:a,xa:!1});return c.Sa(),c}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return g_(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(eT(this.Da)&&ax.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class WR{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||Uf(n)}Ba(n,r,a,c=!1){return new f_({Da:n,methodName:r,La:a,path:Ir.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Oc(i){const n=i._freezeSettings(),r=Uf(i._databaseId);return new WR(i._databaseId,!!n.ignoreUndefinedProperties,r)}function p_(i,n,r,a,c,f={}){const m=i.Ba(f.merge||f.mergeFields?2:0,n,r,c);nE("Data must be an object, but it was:",m,a);const E=nT(a,m);let D,S;if(f.merge)D=new td(m.fieldMask),S=m.fieldTransforms;else if(f.mergeFields){const R=[];for(const O of f.mergeFields){const q=iT(n,O,r);if(!m.contains(q))throw new Ne(pe.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Bd(R,q)||R.push(q)}D=new td(R),S=m.fieldTransforms.filter(O=>D.covers(O.field))}else D=null,S=m.fieldTransforms;return new ux(new Yr(E),D,S)}class ip extends Ud{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof ip}}function cx(i,n,r){return new f_({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class tT extends Ud{_toFieldTransform(n){return new Ko(n.path,new cd)}isEqual(n){return n instanceof tT}}class lx extends Ud{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=cx(this,n,!0),a=this.Ua.map(f=>Pc(f,r)),c=new vc(a);return new Ko(n.path,c)}isEqual(n){return this===n}}class dx extends Ud{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=cx(this,n,!0),a=this.Ua.map(f=>Pc(f,r)),c=new oo(a);return new Ko(n.path,c)}isEqual(n){return this===n}}class hx extends Ud{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new wc(n.N,mI(n.N,this.qa));return new Ko(n.path,r)}isEqual(n){return this===n}}function eE(i,n,r,a){const c=i.Ba(1,n,r);nE("Data must be an object, but it was:",c,a);const f=[],m=Yr.empty();Ya(a,(D,S)=>{const R=rE(n,D,r);S=(0,St.m9)(S);const O=c.$a(R);if(S instanceof ip)f.push(R);else{const q=Pc(S,O);null!=q&&(f.push(R),m.set(R,q))}});const E=new td(f);return new XD(m,E,c.fieldTransforms)}function tE(i,n,r,a,c,f){const m=i.Ba(1,n,r),E=[iT(n,a,r)],D=[c];if(f.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<f.length;q+=2)E.push(iT(n,f[q])),D.push(f[q+1]);const S=[],R=Yr.empty();for(let q=E.length-1;q>=0;--q)if(!Bd(S,E[q])){const W=E[q];let ge=D[q];ge=(0,St.m9)(ge);const ke=m.$a(W);if(ge instanceof ip)S.push(W);else{const $e=Pc(ge,ke);null!=$e&&(S.push(W),R.set(W,$e))}}const O=new td(S);return new XD(R,O,m.fieldTransforms)}function _s(i,n,r,a=!1){return Pc(r,i.Ba(a?4:3,n))}function Pc(i,n){if(rT(i=(0,St.m9)(i)))return nE("Unsupported field value:",n,i),nT(i,n);if(i instanceof Ud)return function(r,a){if(!eT(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const c=[];let f=0;for(const m of r){let E=Pc(m,a.Oa(f));null==E&&(E={nullValue:"NULL_VALUE"}),c.push(E),f++}return{arrayValue:{values:c}}}(i,n)}return function(r,a){if(null===(r=(0,St.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return mI(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=br.fromDate(r);return{timestampValue:Ts(a.N,c)}}if(r instanceof br){const c=new br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ts(a.N,c)}}if(r instanceof Xw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:e1(a.N,r._byteString)};if(r instanceof mn){const c=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw a.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xI(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${tp(r)}`)}(i,n)}function nT(i,n){const r={};return rI(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ya(i,(a,c)=>{const f=Pc(c,n.Na(a));null!=f&&(r[a]=f)}),{mapValue:{fields:r}}}function rT(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof br||i instanceof Xw||i instanceof ra||i instanceof mn||i instanceof Ud)}function nE(i,n,r){if(!rT(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=tp(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function iT(i,n,r){if((n=(0,St.m9)(n))instanceof ms)return n._internalPath;if("string"==typeof n)return rE(i,n);throw g_("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const fx=new RegExp("[~\\*/\\[\\]]");function rE(i,n,r){if(n.search(fx)>=0)throw g_(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ms(...n.split("."))._internalPath}catch(a){throw g_(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function g_(i,n,r,a,c){const f=a&&!a.isEmpty(),m=void 0!==c;let E=`Function ${n}() called with invalid data`;r&&(E+=" (via `toFirestore()`)"),E+=". ";let D="";return(f||m)&&(D+=" (found",f&&(D+=` in field ${a}`),m&&(D+=` in document ${c}`),D+=")"),new Ne(pe.INVALID_ARGUMENT,E+i+D)}function Bd(i,n){return i.some(r=>r.isEqual(n))}class jd{constructor(n,r,a,c,f){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new KR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(m_("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class KR extends jd{data(){return super.data()}}function m_(i,n){return"string"==typeof n?rE(i,n):n instanceof ms?n._internalPath:n._delegate._internalPath}class Hd{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class lu extends jd{constructor(n,r,a,c,f,m){super(n,r,a,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new __(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(m_("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class __ extends lu{data(n={}){return super.data(n)}}class co{constructor(n,r,a,c){this._firestore=n,this._userDataWriter=r,this._snapshot=c,this.metadata=new Hd(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new __(this._firestore,this._userDataWriter,a.key,a,new Hd(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>({type:"added",doc:new __(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Hd(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const E=new __(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Hd(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let D=-1,S=-1;return 0!==m.type&&(D=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),1!==m.type&&(f=f.add(m.doc),S=f.indexOf(m.doc.key)),{type:px(m.type),doc:E,oldIndex:D,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function px(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function sT(i,n){return i instanceof lu&&n instanceof lu?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof co&&n instanceof co&&i._firestore===n._firestore&&Kw(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function oT(i){if(E0(i)&&0===i.explicitOrderBy.length)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}function du(i,...n){for(const r of n)i=r._apply(i);return i}class gx extends y_{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=Oc(n.firestore),a=function(c,f,m,E,D,S,R){let O;if(D.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){cE(R,S);const W=[];for(const ge of R)W.push(uE(E,c,ge));O={arrayValue:{values:W}}}else O=uE(E,c,R)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||cE(R,S),O=_s(m,"where",R,"in"===S||"not-in"===S);const q=kr.create(D,S,O);return function(W,ge){if(ge.v()){const $e=C0(W);if(null!==$e&&!$e.isEqual(ge.field))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$e.toString()}' and '${ge.field.toString()}'`);const vt=ud(W);null!==vt&&cT(0,ge.field,vt)}const ke=function($e,vt){for(const Rt of $e.filters)if(vt.indexOf(Rt.op)>=0)return Rt.op;return null}(W,function($e){switch($e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ge.op));if(null!==ke)throw new Ne(pe.INVALID_ARGUMENT,ke===ge.op?`Invalid query. You cannot use more than one '${ge.op.toString()}' filter.`:`Invalid query. You cannot use '${ge.op.toString()}' filters with '${ke.toString()}' filters.`)}(c,q),q}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new di(n.firestore,n.converter,function(c,f){const m=c.filters.concat([f]);return new Xa(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)}(n._query,a))}}class As extends y_{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,c,f){if(null!==a.startAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Wo(c,f);return function(E,D){if(null===ud(E)){const S=C0(E);null!==S&&cT(0,S,D.field)}}(a,m),m}(n._query,this.Ka,this.Wa);return new di(n.firestore,n.converter,function(a,c){const f=a.explicitOrderBy.concat([c]);return new Xa(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class iE extends y_{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new di(n.firestore,n.converter,pI(n._query,this.Ga,this.za))}}class sE extends y_{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=sp(n,this.type,this.Ha,this.Ja);return new di(n.firestore,n.converter,(c=r,new Xa((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class v_ extends y_{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=sp(n,this.type,this.Ha,this.Ja);return new di(n.firestore,n.converter,(c=r,new Xa((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function sp(i,n,r,a){if(r[0]=(0,St.m9)(r[0]),r[0]instanceof jd)return function(c,f,m,E,D){if(!E)throw new Ne(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const S=[];for(const R of Cf(c))if(R.field.isKeyField())S.push(Cm(f,E.key));else{const O=E.data.field(R.field);if(vm(O))throw new Ne(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const q=R.field.canonicalString();throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}S.push(O)}return new Sm(S,D)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const c=Oc(i.firestore);return function(f,m,E,D,S,R){const O=f.explicitOrderBy;if(S.length>O.length)throw new Ne(pe.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let W=0;W<S.length;W++){const ge=S[W];if(O[W].field.isKeyField()){if("string"!=typeof ge)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof ge}`);if(!b0(f)&&-1!==ge.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${ge}' contains a slash.`);const ke=f.path.child(jt.fromString(ge));if(!tt.isDocumentKey(ke))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${ke}' is not because it contains an odd number of segments.`);const $e=new tt(ke);q.push(Cm(m,$e))}else{const ke=_s(E,D,ge);q.push(ke)}}return new Sm(q,R)}(i._query,i.firestore._databaseId,c,n,r,a)}}function uE(i,n,r){if("string"==typeof(r=(0,St.m9)(r))){if(""===r)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!b0(n)&&-1!==r.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(jt.fromString(r));if(!tt.isDocumentKey(a))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Cm(i,new tt(a))}if(r instanceof mn)return Cm(i,r._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${tp(r)}.`)}function cE(i,n){if(!Array.isArray(i)||0===i.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function cT(i,n,r){if(!r.isEqual(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class lE{convertValue(n,r="none"){switch(Ja(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Fn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(nd(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw et()}}convertObject(n,r){const a={};return Ya(n.fields,(c,f)=>{a[c]=this.convertValue(f,r)}),a}convertGeoPoint(n){return new Xw(Fn(n.latitude),Fn(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=f0(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(vf(n));default:return null}}convertTimestamp(n){const r=Qa(n);return new br(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=jt.fromString(n);ft(jm(a));const c=new Mc(a.get(1),a.get(3)),f=new tt(a.popFirst(5));return c.isEqual(r)||Xn(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function op(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class yx extends lE{constructor(n){super(),this.firestore=n}convertBytes(n){return new ra(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new mn(this.firestore,null,r)}}class lT{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Oc(n)}set(n,r,a){this._verifyNotCommitted();const c=hu(n,this._firestore),f=op(c.converter,r,a),m=p_(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,a);return this._mutations.push(m.toMutation(c._key,cr.none())),this}update(n,r,a,...c){this._verifyNotCommitted();const f=hu(n,this._firestore);let m;return m="string"==typeof(r=(0,St.m9)(r))||r instanceof ms?tE(this._dataReader,"WriteBatch.update",f._key,r,a,c):eE(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,cr.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=hu(n,this._firestore);return this._mutations=this._mutations.concat(new Af(r._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hu(i,n){if((i=(0,St.m9)(i)).firestore!==n)throw new Ne(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class kc extends lE{constructor(n){super(),this.firestore=n}convertBytes(n){return new ra(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new mn(this.firestore,null,r)}}function b_(i,n,r){i=Kt(i,mn);const a=Kt(i.firestore,Vn),c=op(i.converter,n,r);return $d(a,[p_(Oc(a),"setDoc",i._key,c,null!==i.converter,r).toMutation(i._key,cr.none())])}function hE(i,n,r,...a){i=Kt(i,mn);const c=Kt(i.firestore,Vn),f=Oc(c);let m;return m="string"==typeof(n=(0,St.m9)(n))||n instanceof ms?tE(f,"updateDoc",i._key,n,r,a):eE(f,"updateDoc",i._key,n),$d(c,[m.toMutation(i._key,cr.exists(!0))])}function hT(i,...n){var r,a,c;i=(0,St.m9)(i);let f={includeMetadataChanges:!1},m=0;"object"!=typeof n[m]||Yw(n[m])||(f=n[m],m++);const E={includeMetadataChanges:f.includeMetadataChanges};if(Yw(n[m])){const O=n[m];n[m]=null===(r=O.next)||void 0===r?void 0:r.bind(O),n[m+1]=null===(a=O.error)||void 0===a?void 0:a.bind(O),n[m+2]=null===(c=O.complete)||void 0===c?void 0:c.bind(O)}let D,S,R;if(i instanceof mn)S=Kt(i.firestore,Vn),R=ui(i._key.path),D={next:O=>{n[m]&&n[m](D_(S,i,O))},error:n[m+1],complete:n[m+2]};else{const O=Kt(i,di);S=Kt(O.firestore,Vn),R=O._query;const q=new kc(S);D={next:W=>{n[m]&&n[m](new co(S,q,O,W))},error:n[m+1],complete:n[m+2]},oT(i._query)}return function(O,q,W,ge){const ke=new c_(ge),$e=new Iw(q,ke,W);return O.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return pD(yield Nc(O),$e)})),()=>{ke.Xo(),O.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return mD(yield Nc(O),$e)}))}}(tr(S),R,E,D)}function $d(i,n){return function(r,a){const c=new Cr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,n,r){return s_.apply(this,arguments)}(yield $w(r),a,c)})),c.promise}(tr(i),n)}function D_(i,n,r){const a=r.docs.get(n._key),c=new kc(i);return new lu(i,c,n._key,a,new Hd(r.hasPendingWrites,r.fromCache),n.converter)}class Ex extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Oc(n)}get(n){const r=hu(n,this._firestore),a=new yx(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return et();const f=c[0];if(f.isFoundDocument())return new jd(this._firestore,a,f.key,f,r.converter);if(f.isNoDocument())return new jd(this._firestore,a,r._key,null,r.converter);throw et()})}set(n,r,a){const c=hu(n,this._firestore),f=op(c.converter,r,a),m=p_(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,a);return this._transaction.set(c._key,m),this}update(n,r,a,...c){const f=hu(n,this._firestore);let m;return m="string"==typeof(r=(0,St.m9)(r))||r instanceof ms?tE(this._dataReader,"Transaction.update",f._key,r,a,c):eE(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,m),this}delete(n){const r=hu(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=hu(n,this._firestore),a=new kc(this._firestore);return super.get(n).then(c=>new lu(this._firestore,a,r._key,c._document,new Hd(!1,!1),r.converter))}}function T_(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function gE(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function fT(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){gc=i})(Ga.SDK_VERSION),(0,Ga._registerComponent)(new Ug.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new Vn(r,new xR(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,Ga.registerVersion)("@firebase/firestore","3.1.0",void 0);class cp{constructor(n){this._delegate=n}static fromBase64String(n){return fT(),new cp(ra.fromBase64String(n))}static fromUint8Array(n){return gE(),new cp(ra.fromUint8Array(n))}toBase64(){return fT(),this._delegate.toBase64()}toUint8Array(){return gE(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mE(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class lp{enableIndexedDbPersistence(n,r){return function(i,n){ox(i=Kt(i,Vn));const r=tr(i),a=i._freezeSettings(),c=new u_;return rp(r,c,new Pw(c,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){ox(i=Kt(i,Vn));const n=tr(i),r=i._freezeSettings(),a=new u_;return rp(n,a,new j1(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Cr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(r=(0,we.Z)(function*(a){if(!zi.bt())return Promise.resolve();const c=a+"main";yield zi.delete(c)}),function(a){return r.apply(this,arguments)})(J0(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class Fc{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Mc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&_f("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var c;const f=(i=Kt(i,np))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==n&&_f("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let m,E;if("string"==typeof a.mockUserToken)m=a.mockUserToken,E=Er.MOCK_USER;else{m=(0,St.Sg)(a.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Er(D)}i._credentials=new SR(new FS(m,E))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const n=yield $D(i),r=yield $1(i);return n.setNetworkEnabled(!0),function(a){const c=Be(a);return c.Kr.delete(0),jf(c)}(r)}))}(tr(i=Kt(i,Vn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,we.Z)(function*(){const n=yield $D(i),r=yield $1(i);return n.setNetworkEnabled(!1),(a=(0,we.Z)(function*(c){const f=Be(c);f.Kr.add(0),yield au(f),f.Wr.set("Offline")}),function(c){return a.apply(this,arguments)})(r);var a}))}(tr(i=Kt(i,Vn)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,K1("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new Cr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,n){return RD.apply(this,arguments)}(yield $w(n),r)})),r.promise}(tr(i=Kt(i,Vn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new c_(n);return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return a=yield Nc(i),c=r,Be(a).Zr.add(c),void c.next();var a,c})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return a=yield Nc(i),c=r,void Be(a).Zr.delete(c);var a,c}))}}(tr(i=Kt(i,Vn)),Yw(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new pu(this,YD(this._delegate,n))}catch(r){throw Jr(r,"collection()","Firestore.collection()")}}doc(n){try{return new Ki(this,Hn(this._delegate,n))}catch(r){throw Jr(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new fi(this,function(i,n){if(i=Kt(i,np),zw("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new di(i,null,(r=n,new Xa(jt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw Jr(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new Cr;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const a=yield(c=i,Bw(c).then(f=>f.datastore));var c;new BD(i.asyncQueue,a,n,r).run()})),r.promise}(tr(i),r=>n(new Ex(i,r)))}(this._delegate,r=>n(new pT(this,r)))}batch(){return tr(this._delegate),new gT(new lT(this._delegate,n=>$d(this._delegate,n)))}loadBundle(n){return function(i,n){const r=tr(i=Kt(i,Vn)),a=new d_;return function(i,n,r,a){const c=function(f,m){let E;return E="string"==typeof f?(new TextEncoder).encode(f):f,D=function(D,S){if(D instanceof Uint8Array)return kw(D,S);if(D instanceof ArrayBuffer)return kw(new Uint8Array(D),S);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(E),new H1(D,m);var D}(r,Uf(n));i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function(i,n,r){const a=Be(i);var c;(c=(0,we.Z)(function*(f,m,E){try{const D=yield m.getMetadata();if(yield function(q,W){const ge=Be(q),ke=lr(W.createTime);return ge.persistence.runTransaction("hasNewerBundle","readonly",$e=>ge.Je.getBundleMetadata($e,W.id)).then($e=>!!$e&&$e.createTime.compareTo(ke)>=0)}(f.localStore,D))return yield m.close(),void E._completeWith((q=D,{taskState:"Success",documentsLoaded:q.totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}));E._updateProgress(R1(D));const S=new jR(D,f.localStore,m.N);let R=yield m.Qo();for(;R;){const q=yield S.fo(R);q&&E._updateProgress(q),R=yield m.Qo()}const O=yield S.complete();yield cu(f,O.Tn,void 0),yield function(q,W){const ge=Be(q);return ge.persistence.runTransaction("Save bundle","readwrite",ke=>ge.Je.saveBundleMetadata(ke,W))}(f.localStore,D),E._completeWith(O.progress)}catch(D){_f("SyncEngine",`Loading bundle failed with ${D}`),E._failWith(D)}var q}),function(f,m,E){return c.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield $w(i),c,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,we.Z)(function*(){return function(r,a){const c=Be(r);return c.persistence.runTransaction("Get named query","readonly",f=>c.Je.getNamedQuery(f,a))}(yield Hw(i),n)}))}(tr(i=Kt(i,Vn)),n).then(r=>r?new di(i,null,r.query):null)}(this._delegate,n).then(r=>r?new fi(this,r):null)}}class Lc extends lE{constructor(n){super(),this.firestore=n}convertBytes(n){return new cp(new ra(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return Ki.forKey(r,this.firestore,null)}}class pT{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Lc(n)}get(n){const r=Bc(n);return this._delegate.get(r).then(a=>new Uc(this._firestore,new lu(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const c=Bc(n);return a?(T_("Transaction.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(n,r,a,...c){const f=Bc(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,a,...c),this}delete(n){const r=Bc(n);return this._delegate.delete(r),this}}class gT{constructor(n){this._delegate=n}set(n,r,a){const c=Bc(n);return a?(T_("WriteBatch.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(n,r,a,...c){const f=Bc(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,a,...c),this}delete(n){const r=Bc(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Vc{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new __(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new dp(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=Vc.INSTANCES;let c=a.get(n);c||(c=new WeakMap,a.set(n,c));let f=c.get(r);return f||(f=new Vc(n,new Lc(n),r),c.set(r,f)),f}}Vc.INSTANCES=new WeakMap;class Ki{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Lc(n)}static forPath(n,r,a){if(n.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Ki(r,new mn(r._delegate,a,new tt(n)))}static forKey(n,r,a){return new Ki(r,new mn(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new pu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new pu(this.firestore,YD(this._delegate,n))}catch(r){throw Jr(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,St.m9)(n))instanceof mn&&X1(this._delegate,n)}set(n,r){r=T_("DocumentReference.set",r);try{return r?b_(this._delegate,n,r):b_(this._delegate,n)}catch(a){throw Jr(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?hE(this._delegate,n):hE(this._delegate,n,r,...a)}catch(c){throw Jr(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return $d(Kt(i.firestore,Vn),[new Af(i._key,cr.none())])}(this._delegate)}onSnapshot(...n){const r=_E(n),a=yE(n,c=>new Uc(this.firestore,new lu(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return hT(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Kt(i,mn);const n=Kt(i.firestore,Vn),r=tr(n),a=new kc(n);return function(i,n){const r=new Cr;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(a=(0,we.Z)(function*(c,f,m){try{const E=yield function(D,S){const R=Be(D);return R.persistence.runTransaction("read document","readonly",O=>R.Qn.An(O,S))}(c,f);E.isFoundDocument()?m.resolve(E):E.isNoDocument()?m.resolve(null):m.reject(new Ne(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(E){const D=Wf(E,`Failed to get document '${f} from cache`);m.reject(D)}}),function(c,f,m){return a.apply(this,arguments)})(yield Hw(i),n,r);var a})),r.promise}(r,i._key).then(c=>new lu(n,a,i._key,c,new Hd(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Kt(i,mn);const n=Kt(i.firestore,Vn);return Z1(tr(n),i._key,{source:"server"}).then(r=>D_(n,i,r))}(this._delegate):function(i){i=Kt(i,mn);const n=Kt(i.firestore,Vn);return Z1(tr(n),i._key).then(r=>D_(n,i,r))}(this._delegate),r.then(a=>new Uc(this.firestore,new lu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new Ki(this.firestore,this._delegate.withConverter(n?Vc.getInstance(this.firestore,n):null))}}function Jr(i,n,r){return i.message=i.message.replace(n,r),i}function _E(i){for(const n of i)if("object"==typeof n&&!mE(n))return n;return{}}function yE(i,n){var r,a;let c;return c=mE(i[0])?i[0]:mE(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{c.next&&c.next(n(f))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class Uc{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new Ki(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return sT(this._delegate,n._delegate)}}class dp extends Uc{data(n){const r=this._delegate.data(n);return function(i,n){i||et()}(void 0!==r),r}}class fi{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Lc(n)}where(n,r,a){try{return new fi(this.firestore,du(this._delegate,function(i,n,r){const a=n,c=m_("where",i);return new gx(c,a,r)}(n,r,a)))}catch(c){throw Jr(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new fi(this.firestore,du(this._delegate,function(i,n="asc"){const r=n,a=m_("orderBy",i);return new As(a,r)}(n,r)))}catch(a){throw Jr(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new fi(this.firestore,du(this._delegate,function(i){return WD("limit",i),new iE("limit",i,"F")}(n)))}catch(r){throw Jr(r,"limit()","Query.limit()")}}limitToLast(n){try{return new fi(this.firestore,du(this._delegate,function(i){return WD("limitToLast",i),new iE("limitToLast",i,"L")}(n)))}catch(r){throw Jr(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new fi(this.firestore,du(this._delegate,function(...i){return new sE("startAt",i,!0)}(...n)))}catch(r){throw Jr(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new fi(this.firestore,du(this._delegate,function(...i){return new sE("startAfter",i,!1)}(...n)))}catch(r){throw Jr(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new fi(this.firestore,du(this._delegate,function(...i){return new v_("endBefore",i,!0)}(...n)))}catch(r){throw Jr(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new fi(this.firestore,du(this._delegate,function(...i){return new v_("endAt",i,!1)}(...n)))}catch(r){throw Jr(r,"endAt()","Query.endAt()")}}isEqual(n){return Kw(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Kt(i,di);const n=Kt(i.firestore,Vn),r=tr(n),a=new kc(n);return function(i,n){const r=new Cr;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(a=(0,we.Z)(function*(c,f,m){try{const E=yield Wm(c,f,!0),D=new ED(f,E.Gn),S=D.Io(E.documents),R=D.applyChanges(S,!1);m.resolve(R.snapshot)}catch(E){const D=Wf(E,`Failed to execute query '${f} against cache`);m.reject(D)}}),function(c,f,m){return a.apply(this,arguments)})(yield Hw(i),n,r);var a})),r.promise}(r,i._query).then(c=>new co(n,a,i,c))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Kt(i,di);const n=Kt(i.firestore,Vn),r=tr(n),a=new kc(n);return qw(r,i._query,{source:"server"}).then(c=>new co(n,a,i,c))}(this._delegate):function(i){i=Kt(i,di);const n=Kt(i.firestore,Vn),r=tr(n),a=new kc(n);return oT(i._query),qw(r,i._query).then(c=>new co(n,a,i,c))}(this._delegate),r.then(a=>new sa(this.firestore,new co(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=_E(n),a=yE(n,c=>new sa(this.firestore,new co(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return hT(this._delegate,r,a)}withConverter(n){return new fi(this.firestore,this._delegate.withConverter(n?Vc.getInstance(this.firestore,n):null))}}class mT{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new dp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sa{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new fi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new dp(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new mT(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new dp(this._firestore,a))})}isEqual(n){return sT(this._delegate,n._delegate)}}class pu extends fi{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Ki(this.firestore,n):null}doc(n){try{return new Ki(this.firestore,void 0===n?Hn(this._delegate):Hn(this._delegate,n))}catch(r){throw Jr(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Kt(i.firestore,Vn),a=Hn(i),c=op(i.converter,n);return $d(r,[p_(Oc(i.firestore),"addDoc",a._key,c,null!==i.converter,{}).toMutation(a._key,cr.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new Ki(this.firestore,r))}isEqual(n){return X1(this._delegate,n._delegate)}withConverter(n){return new pu(this.firestore,this._delegate.withConverter(n?Vc.getInstance(this.firestore,n):null))}}function Bc(i){return Kt(i,mn)}class vE{constructor(...n){this._delegate=new ms(...n)}static documentId(){return new vE(Ir.keyField().canonicalString())}isEqual(n){return(n=(0,St.m9)(n))instanceof ms&&this._delegate._internalPath.isEqual(n._internalPath)}}class qd{constructor(n){this._delegate=n}static serverTimestamp(){const n=new tT("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new qd(n)}static delete(){const n=new ip("deleteField");return n._methodName="FieldValue.delete",new qd(n)}static arrayUnion(...n){const r=function(...i){return new lx("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new qd(r)}static arrayRemove(...n){const r=function(...i){return new dx("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new qd(r)}static increment(n){const r=function(i){return new hx("increment",i)}(n);return r._methodName="FieldValue.increment",new qd(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const JR={Firestore:Fc,GeoPoint:Xw,Timestamp:br,Blob:cp,Transaction:pT,WriteBatch:gT,DocumentReference:Ki,DocumentSnapshot:Uc,Query:fi,QueryDocumentSnapshot:dp,QuerySnapshot:sa,CollectionReference:pu,FieldPath:vE,FieldValue:qd,setLogLevel:function(i){!function(i){zo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function _T(i,n){return function(i,n=tS.z){return new si.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function yT(i,n){return _T(i,n).pipe((0,mt.U)(r=>({payload:r,type:"query"})))}function wE(i,n){return yT(i,n).pipe(al(void 0),gb(),(0,mt.U)(([r,a])=>{const c=a.payload.docChanges(),f=c.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((m,E)=>{const D=c.find(R=>R.doc.ref.isEqual(m.ref)),S=null==r?void 0:r.payload.docs.find(R=>R.ref.isEqual(m.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(m.metadata)||!D&&S&&JSON.stringify(S.metadata)===JSON.stringify(m.metadata)||f.push({type:"modified",payload:{oldIndex:E,newIndex:E,type:"modified",doc:m}})}),f}))}function Sx(i,n,r){return wE(i,r).pipe(Us((a,c)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return vT(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return vT(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return vT(i,n.oldIndex,1)}return i}(i,a))}),i}(a,c.map(f=>f.payload),n),[]),r=>r.lift(new nS(void 0,void 0)),(0,mt.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function vT(i,n,r,...a){const c=i.slice();return c.splice(n,r,...a),c}function Rx(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){(function(i,n){i.INTERNAL.registerComponent(new Ug.wA("firestore-compat",r=>((n,r)=>new Fc(n,r,new lp))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},JR)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(Vg.Z);class Nx{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=wE(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,mt.U)(a=>a.filter(c=>n.indexOf(c.type)>-1)))),r.pipe(al(void 0),gb(),Pi(([a,c])=>c.length>0||!a),(0,mt.U)(([a,c])=>c),gn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Us((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=Rx(n);return Sx(this.query,r,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(n={}){return yT(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),gn.iC)}get(n){return(0,tn.D)(this.query.get(n)).pipe(gn.iC)}add(n){return this.ref.add(n)}doc(n){return new s(this.ref.doc(n),this.afs)}}class s{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:c,query:f}=_(a,r);return new Nx(c,f,this.afs)}snapshotChanges(){return function(i,n){return _T(i,n).pipe(al(void 0),gb(),(0,mt.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,tn.D)(this.ref.get(n)).pipe(gn.iC)}}class o{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?wE(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),Pi(r=>r.length>0),gn.iC):wE(this.query,this.afs.schedulers.outsideAngular).pipe(gn.iC)}auditTrail(n){return this.stateChanges(n).pipe(Us((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=Rx(n);return Sx(this.query,r,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(n={}){return yT(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(a=>a.payload.docs.map(c=>n.idField?Object.assign({[n.idField]:c.id},c.data()):c.data())),gn.iC)}get(n){return(0,tn.D)(this.query.get(n)).pipe(gn.iC)}}const u=new h.OlP("angularfire2.enableFirestorePersistence"),l=new h.OlP("angularfire2.firestore.persistenceSettings"),d=new h.OlP("angularfire2.firestore.settings"),g=new h.OlP("angularfire2.firestore.use-emulator");function _(i,n=(r=>r)){return{query:n(i),ref:i}}let w=(()=>{class i{constructor(r,a,c,f,m,E,D,S,R,O,q,W,ge,ke,$e,vt){this.schedulers=D;const Rt=(0,Ci.on)(r,E,a),dt=R;O&&eS(Rt,E,q,ge,ke,$e,W,vt),[this.firestore,this.persistenceEnabled$]=(0,gn.cc)(`${Rt.name}.firestore`,"AngularFirestore",Rt.name,()=>{const Et=E.runOutsideAngular(()=>Rt.firestore());if(f&&Et.settings(f),dt&&Et.useEmulator(...dt),c&&!jr(m)){const $n=()=>{try{return(0,tn.D)(Et.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(oa){return"undefined"!=typeof console&&console.warn(oa),(0,rt.of)(!1)}};return[Et,E.runOutsideAngular($n)]}return[Et,(0,rt.of)(!1)]},[f,dt,c])}collection(r,a){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:m}=_(c,a),E=this.schedulers.ngZone.run(()=>f);return new Nx(E,m,this)}collectionGroup(r,a){const c=a||(m=>m),f=this.firestore.collectionGroup(r);return new o(c(f),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>a);return new s(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Ci.Dh),h.LFG(Ci.xv,8),h.LFG(u,8),h.LFG(d,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gn.HU),h.LFG(l,8),h.LFG(g,8),h.LFG(bi,8),h.LFG(JA,8),h.LFG(XA,8),h.LFG(Lg,8),h.LFG(pb,8),h.LFG(ov,8),h.LFG(av,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),b=(()=>{class i{constructor(){sv.Z.registerVersion("angularfire",gn.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:u,useValue:!0},{provide:l,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[w]}),i})();class A{constructor(n,r){this.dueTime=n,this.scheduler=r}call(n,r){return r.subscribe(new N(n,this.dueTime,this.scheduler))}}class N extends Rr.L{constructor(n,r,a){super(n),this.dueTime=r,this.scheduler=a,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(M,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function M(i){i.debouncedNext()}var U=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(U||(U={})),U))();const Z="firebasestorage.googleapis.com",ce="storageBucket";class le extends St.ZR{constructor(n,r){super(Xe(n),`Firebase Storage: ${r} (${Xe(n)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,le.prototype)}_codeEquals(n){return Xe(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Xe(i){return"storage/"+i}function lt(){return new le("unknown","An unknown error occurred, please check the error payload for server response.")}function jc(){return new le("canceled","User canceled the upload/download.")}function A_(){return new le("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function LN(){return new le("no-download-url","The given file does not have any download URLs.")}function S_(i){return new le("invalid-argument",i)}function rN(){return new le("app-deleted","The Firebase app was deleted.")}function iN(i){return new le("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function DE(i,n){return new le("invalid-format","String does not match format '"+i+"': "+n)}function wT(i){throw new le("internal-error","Internal error: "+i)}class VN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=U.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=U.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=U.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,r,a,c){if(this.sent_)throw wT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,n,!0),void 0!==c)for(const f in c)c.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,c[f].toString());return void 0!==a?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}}getResponseText(){if(!this.sent_)throw wT("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class BN{createConnection(){return new VN}}class Ti{constructor(n,r){this.bucket=n,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,r){let a;try{a=Ti.makeFromUrl(n,r)}catch(c){return new Ti(n,"")}if(""===a.path)return a;throw function(i){return new le("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,r){let a=null;const c="([A-Za-z0-9.\\-_]+)",E=new RegExp("^gs://"+c+"(/(.*))?$","i");function S(Et){Et.path_=decodeURIComponent(Et.path)}const O=r.replace(/[.]/g,"\\."),dt=[{regex:E,indices:{bucket:1,path:3},postModify:function(Et){"/"===Et.path.charAt(Et.path.length-1)&&(Et.path_=Et.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${c}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${r===Z?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${c}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let Et=0;Et<dt.length;Et++){const $n=dt[Et],oa=$n.regex.exec(n);if(oa){let SE=oa[$n.indices.path];SE||(SE=""),a=new Ti(oa[$n.indices.bucket],SE),$n.postModify(a);break}}if(null==a)throw function(i){return new le("invalid-url","Invalid URL '"+i+"'.")}(n);return a}}class jN{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function ET(i){return"string"==typeof i||i instanceof String}function sN(i){return Mx()&&i instanceof Blob}function Mx(){return"undefined"!=typeof Blob}function Ox(i,n,r,a){if(a<n)throw S_(`Invalid value for '${i}'. Expected ${n} or greater.`);if(a>r)throw S_(`Invalid value for '${i}'. Expected ${r} or less.`)}function Wd(i,n,r){let a=n;return null==r&&(a=`https://${n}`),`${r}://${a}/v0${i}`}function oN(i){const n=encodeURIComponent;let r="?";for(const a in i)i.hasOwnProperty(a)&&(r=r+(n(a)+"=")+n(i[a])+"&");return r=r.slice(0,-1),r}class zN{constructor(n,r,a,c,f,m,E,D,S,R,O){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=r,this.headers_=a,this.body_=c,this.successCodes_=f.slice(),this.additionalRetryCodes_=m.slice(),this.callback_=E,this.errorCallback_=D,this.progressCallback_=R,this.timeout_=S,this.pool_=O,this.promise_=new Promise((q,W)=>{this.resolve_=q,this.reject_=W,this.start_()})}start_(){const n=this;function a(c,f){const m=n.resolve_,E=n.reject_,D=f.connection;if(f.wasSuccessCode)try{const S=n.callback_(D,D.getResponseText());!function(i){return void 0!==i}(S)?m():m(S)}catch(S){E(S)}else if(null!==D){const S=lt();S.serverResponse=D.getResponseText(),E(n.errorCallback_?n.errorCallback_(D,S):S)}else E(f.canceled?n.appDelete_?rN():jc():new le("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?a(0,new CT(!1,null,!0)):this.backoffId_=function(i,n,r){let a=1,c=null,f=!1,m=0;function E(){return 2===m}let D=!1;function S(...ge){D||(D=!0,n.apply(null,ge))}function R(ge){c=setTimeout(()=>{c=null,i(O,E())},ge)}function O(ge,...ke){if(D)return;if(ge)return void S.call(null,ge,...ke);if(E()||f)return void S.call(null,ge,...ke);let vt;a<64&&(a*=2),1===m?(m=2,vt=0):vt=1e3*(a+Math.random()),R(vt)}let q=!1;function W(ge){q||(q=!0,!D&&(null!==c?(ge||(m=2),clearTimeout(c),R(0)):ge||(m=1)))}return R(0),setTimeout(()=>{f=!0,W(!0)},r),W}(function(c,f){if(f)return void c(!1,new CT(!1,null,!0));const m=n.pool_.createConnection();function E(D){null!==n.progressCallback_&&n.progressCallback_(D.loaded,D.lengthComputable?D.total:-1)}n.pendingConnection_=m,null!==n.progressCallback_&&m.addUploadProgressListener(E),m.send(n.url_,n.method_,n.body_,n.headers_).then(()=>{null!==n.progressCallback_&&m.removeUploadProgressListener(E),n.pendingConnection_=null;const D=m.getErrorCode()===U.NO_ERROR,S=m.getStatus();if(!D||n.isRetryStatusCode_(S)){const O=m.getErrorCode()===U.ABORT;return void c(!1,new CT(!1,null,O))}const R=-1!==n.successCodes_.indexOf(S);c(!0,new CT(R,m))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(n){const r=n>=500&&n<600,c=-1!==[408,429].indexOf(n),f=-1!==this.additionalRetryCodes_.indexOf(n);return r||c||f}}class CT{constructor(n,r,a){this.wasSuccessCode=n,this.connection=r,this.canceled=!!a}}function eM(...i){const n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){const r=new n;for(let a=0;a<i.length;a++)r.append(i[a]);return r.getBlob()}if(Mx())return new Blob(i);throw new le("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ss={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Px{constructor(n,r){this.data=n,this.contentType=r||null}}function kx(i,n){switch(i){case Ss.RAW:return new Px(aN(n));case Ss.BASE64:case Ss.BASE64URL:return new Px(uN(i,n));case Ss.DATA_URL:return new Px(function(i){const n=new cN(i);return n.base64?uN(Ss.BASE64,n.rest):function(i){let n;try{n=decodeURIComponent(i)}catch(r){throw DE(Ss.DATA_URL,"Malformed data URL.")}return aN(n)}(n.rest)}(n),function(i){return new cN(i).contentType}(n))}throw lt()}function aN(i){const n=[];for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<=127?n.push(a):a<=2047?n.push(192|a>>6,128|63&a):55296==(64512&a)?r<i.length-1&&56320==(64512&i.charCodeAt(r+1))?(a=65536|(1023&a)<<10|1023&i.charCodeAt(++r),n.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a)):n.push(239,191,189):56320==(64512&a)?n.push(239,191,189):n.push(224|a>>12,128|a>>6&63,128|63&a)}return new Uint8Array(n)}function uN(i,n){switch(i){case Ss.BASE64:{const c=-1!==n.indexOf("-"),f=-1!==n.indexOf("_");if(c||f)throw DE(i,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Ss.BASE64URL:{const c=-1!==n.indexOf("+"),f=-1!==n.indexOf("/");if(c||f)throw DE(i,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function(i){return atob(i)}(n)}catch(c){throw DE(i,"Invalid character found")}const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}class cN{constructor(n){this.base64=!1,this.contentType=null;const r=n.match(/^data:([^,]+)?,/);if(null===r)throw DE(Ss.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=r[1]||null;null!=a&&(this.base64=function(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-";base64".length):a),this.rest=n.substring(n.indexOf(",")+1)}}class gu{constructor(n,r){let a=0,c="";sN(n)?(this.data_=n,a=n.size,c=n.type):n instanceof ArrayBuffer?(r?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),a=this.data_.length):n instanceof Uint8Array&&(r?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),a=n.length),this.size_=a,this.type_=c}size(){return this.size_}type(){return this.type_}slice(n,r){if(sN(this.data_)){const c=function(i,n,r){return i.webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null}(this.data_,n,r);return null===c?null:new gu(c)}{const a=new Uint8Array(this.data_.buffer,n,r-n);return new gu(a,!0)}}static getBlob(...n){if(Mx()){const r=n.map(a=>a instanceof gu?a.data_:a);return new gu(eM.apply(null,r))}{const r=n.map(m=>ET(m)?kx(Ss.RAW,m).data:m.data_);let a=0;r.forEach(m=>{a+=m.byteLength});const c=new Uint8Array(a);let f=0;return r.forEach(m=>{for(let E=0;E<m.length;E++)c[f++]=m[E]}),new gu(c,!0)}}uploadData(){return this.data_}}function Fx(i){let n;try{n=JSON.parse(i)}catch(r){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function lN(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function cM(i,n){return n}class Yi{constructor(n,r,a,c){this.server=n,this.local=r||n,this.writable=!!a,this.xform=c||cM}}let bT=null;function TE(){if(bT)return bT;const i=[];i.push(new Yi("bucket")),i.push(new Yi("generation")),i.push(new Yi("metageneration")),i.push(new Yi("name","fullPath",!0));const r=new Yi("name");r.xform=function(f,m){return function(i){return!ET(i)||i.length<2?i:lN(i)}(m)},i.push(r);const c=new Yi("size");return c.xform=function(f,m){return void 0!==m?Number(m):m},i.push(c),i.push(new Yi("timeCreated")),i.push(new Yi("updated")),i.push(new Yi("md5Hash",null,!0)),i.push(new Yi("cacheControl",null,!0)),i.push(new Yi("contentDisposition",null,!0)),i.push(new Yi("contentEncoding",null,!0)),i.push(new Yi("contentLanguage",null,!0)),i.push(new Yi("contentType",null,!0)),i.push(new Yi("metadata","customMetadata",!0)),bT=i,bT}function dN(i,n,r){const a=Fx(n);return null===a?null:function(i,n,r){const a={type:"file"},c=r.length;for(let f=0;f<c;f++){const m=r[f];a[m.local]=m.xform(a,n[m.server])}return function(i,n){Object.defineProperty(i,"ref",{get:function(){const f=new Ti(i.bucket,i.fullPath);return n._makeStorageReference(f)}})}(a,i),a}(i,a,r)}function Lx(i,n){const r={},a=n.length;for(let c=0;c<a;c++){const f=n[c];f.writable&&(r[f.server]=i[f.local])}return JSON.stringify(r)}const hN="prefixes";class Hc{constructor(n,r,a,c){this.url=n,this.method=r,this.handler=a,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mu(i){if(!i)throw lt()}function IT(i,n){return function(a,c){const f=dN(i,c,n);return mu(null!==f),f}}function x_(i){return function(r,a){let c;return c=401===r.getStatus()?r.getResponseText().includes("Firebase App Check token is invalid")?new le("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new le("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?function(i){return new le("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===r.getStatus()?function(i){return new le("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):a,c.serverResponse=a.serverResponse,c}}function DT(i){const n=x_(i);return function(a,c){let f=n(a,c);return 404===a.getStatus()&&(f=function(i){return new le("object-not-found","Object '"+i+"' does not exist.")}(i.path)),f.serverResponse=c.serverResponse,f}}function pN(i,n,r){const c=Wd(n.fullServerUrl(),i.host,i._protocol),m=i.maxOperationRetryTime,E=new Hc(c,"GET",IT(i,r),m);return E.errorHandler=DT(n),E}function yM(i,n,r,a,c){const f={};f.prefix=n.isRoot?"":n.path+"/",r&&r.length>0&&(f.delimiter=r),a&&(f.pageToken=a),c&&(f.maxResults=c);const E=Wd(n.bucketOnlyServerUrl(),i.host,i._protocol),S=i.maxOperationRetryTime,R=new Hc(E,"GET",function(i,n){return function(a,c){const f=function(i,n,r){const a=Fx(r);return null===a?null:function(i,n,r){const a={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[hN])for(const c of r[hN]){const f=c.replace(/\/$/,""),m=i._makeStorageReference(new Ti(n,f));a.prefixes.push(m)}if(r.items)for(const c of r.items){const f=i._makeStorageReference(new Ti(n,c.name));a.items.push(f)}return a}(i,n,a)}(i,n,c);return mu(null!==f),f}}(i,n.bucket),S);return R.urlParams=f,R.errorHandler=x_(n),R}function vM(i,n,r){const c=Wd(n.fullServerUrl(),i.host,i._protocol),m=i.maxOperationRetryTime,E=new Hc(c,"GET",function(i,n){return function(a,c){const f=dN(i,c,n);return mu(null!==f),function(i,n,r,a){const c=Fx(n);if(null===c||!ET(c.downloadTokens))return null;const f=c.downloadTokens;if(0===f.length)return null;const m=encodeURIComponent;return f.split(",").map(S=>{const O=i.fullPath;return Wd("/b/"+m(i.bucket)+"/o/"+m(O),r,a)+oN({alt:"media",token:S})})[0]}(f,c,i.host,i._protocol)}}(i,r),m);return E.errorHandler=DT(n),E}function wM(i,n,r,a){const f=Wd(n.fullServerUrl(),i.host,i._protocol),E=Lx(r,a),S=i.maxOperationRetryTime,R=new Hc(f,"PATCH",IT(i,a),S);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=E,R.errorHandler=DT(n),R}function EM(i,n){const a=Wd(n.fullServerUrl(),i.host,i._protocol),E=new Hc(a,"DELETE",function(D,S){},i.maxOperationRetryTime);return E.successCodes=[200,204],E.errorHandler=DT(n),E}function gN(i,n,r){const a=Object.assign({},r);return a.fullPath=i.path,a.size=n.size(),a.contentType||(a.contentType=function(i,n){return n&&n.type()||"application/octet-stream"}(0,n)),a}class TT{constructor(n,r,a,c){this.current=n,this.total=r,this.finalized=!!a,this.metadata=c||null}}function Vx(i,n){let r=null;try{r=i.getResponseHeader("X-Goog-Upload-Status")}catch(c){mu(!1)}return mu(!!r&&-1!==(n||["active"]).indexOf(r)),r}const TM={STATE_CHANGED:"state_changed"},Qi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ux(i){switch(i){case"running":case"pausing":case"canceling":return Qi.RUNNING;case"paused":return Qi.PAUSED;case"success":return Qi.SUCCESS;case"canceled":return Qi.CANCELED;case"error":default:return Qi.ERROR}}class AM{constructor(n,r,a){if(function(i){return"function"==typeof i}(n)||null!=r||null!=a)this.next=n,this.error=null!=r?r:void 0,this.complete=null!=a?a:void 0;else{const f=n;this.next=f.next,this.error=f.error,this.complete=f.complete}}}function R_(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}class yN{constructor(n,r,a=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=r,this._metadata=a,this._mappings=TE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=c=>{this._request=void 0,this._chunkMultiplier=1,c._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=c,this._transition("error"))},this._metadataErrorHandler=c=>{this._request=void 0,c._codeEquals("canceled")?this.completeTransitions_():(this._error=c,this._transition("error"))},this._promise=new Promise((c,f)=>{this._resolve=c,this._reject=f,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const n=this._transferred;return r=>this._updateProgress(n+r)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,a])=>{switch(this._state){case"running":n(r,a);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,c){const f=n.bucketOnlyServerUrl(),m=gN(n,a,c),E={name:m.fullPath},D=Wd(f,i.host,i._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a.size()}`,"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},O=Lx(m,r),ge=new Hc(D,"POST",function(ke){let $e;Vx(ke);try{$e=ke.getResponseHeader("X-Goog-Upload-URL")}catch(vt){mu(!1)}return mu(ET($e)),$e},i.maxUploadRetryTime);return ge.urlParams=E,ge.headers=R,ge.body=O,ge.errorHandler=x_(n),ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(f=>{this._request=void 0,this._uploadUrl=f,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((r,a)=>{const c=function(i,n,r,a){const D=new Hc(r,"POST",function(S){const R=Vx(S,["active","final"]);let O=null;try{O=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(W){mu(!1)}O||mu(!1);const q=Number(O);return mu(!isNaN(q)),new TT(q,a.size(),"final"===R)},i.maxUploadRetryTime);return D.headers={"X-Goog-Upload-Command":"query"},D.errorHandler=x_(n),D}(this._ref.storage,this._ref._location,n,this._blob),f=this._ref.storage._makeRequest(c,r,a);this._request=f,f.getPromise().then(m=>{m=m,this._request=void 0,this._updateProgress(m.current),this._needToFetchStatus=!1,m.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,r=new TT(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken((c,f)=>{let m;try{m=function(i,n,r,a,c,f,m,E){const D=new TT(0,0);if(m?(D.current=m.current,D.total=m.total):(D.current=0,D.total=a.size()),a.size()!==D.total)throw new le("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const S=D.total-D.current;let R=S;c>0&&(R=Math.min(R,c));const O=D.current,ge={"X-Goog-Upload-Command":R===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${D.current}`},ke=a.slice(O,O+R);if(null===ke)throw A_();const dt=new Hc(r,"POST",function(Et,$n){const oa=Vx(Et,["active","final"]),Wx=D.current+R,SE=a.size();let Kx;return Kx="final"===oa?IT(n,f)(Et,$n):null,new TT(Wx,SE,"final"===oa,Kx)},n.maxUploadRetryTime);return dt.headers=ge,dt.body=ke.uploadData(),dt.progressCallback=E||null,dt.errorHandler=x_(i),dt}(this._ref._location,this._ref.storage,a,this._blob,n,this._mappings,r,this._makeProgressCallback())}catch(D){return this._error=D,void this._transition("error")}const E=this._ref.storage._makeRequest(m,c,f);this._request=E,E.getPromise().then(D=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(D.current),D.finalized?(this._metadata=D.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,r)=>{const a=pN(this._ref.storage,this._ref._location,this._mappings),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,r)=>{const a=function(i,n,r,a,c){const f=n.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},D=function(){let dt="";for(let Et=0;Et<2;Et++)dt+=Math.random().toString().slice(2);return dt}();m["Content-Type"]="multipart/related; boundary="+D;const S=gN(n,a,c),R=Lx(S,r),W=gu.getBlob("--"+D+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+D+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",a,"\r\n--"+D+"--");if(null===W)throw A_();const ge={name:S.fullPath},ke=Wd(f,i.host,i._protocol),vt=i.maxUploadRetryTime,Rt=new Hc(ke,"POST",IT(i,r),vt);return Rt.urlParams=ge,Rt.headers=m,Rt.body=W.uploadData(),Rt.errorHandler=x_(n),Rt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(a,n,r);this._request=c,c.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const r=this._transferred;this._transferred=n,this._transferred!==r&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":const r="paused"===this._state;this._state=n,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=jc(),this._state=n,this._notifyObservers();break;case"error":case"success":this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=Ux(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,r,a,c){const f=new AM(r||void 0,a||void 0,c||void 0);return this._addObserver(f),()=>{this._removeObserver(f)}}then(n,r){return this._promise.then(n,r)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const r=this._observers.indexOf(n);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(Ux(this._state)){case Qi.SUCCESS:R_(this._resolve.bind(null,this.snapshot))();break;case Qi.CANCELED:case Qi.ERROR:R_(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(Ux(this._state)){case Qi.RUNNING:case Qi.PAUSED:n.next&&R_(n.next.bind(n,this.snapshot))();break;case Qi.SUCCESS:n.complete&&R_(n.complete.bind(n))();break;case Qi.CANCELED:case Qi.ERROR:n.error&&R_(n.error.bind(n,this._error))();break;default:n.error&&R_(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class fp{constructor(n,r){this._service=n,this._location=r instanceof Ti?r:Ti.makeFromUrl(r,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,r){return new fp(n,r)}get root(){const n=new Ti(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lN(this._location.path)}get storage(){return this._service}get parent(){const n=function(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const r=new Ti(this._location.bucket,n);return new fp(this._service,r)}_throwIfRoot(n){if(""===this._location.path)throw iN(n)}}function wN(i,n,r){return Bx.apply(this,arguments)}function Bx(){return(Bx=(0,we.Z)(function*(i,n,r){const c=yield EN(i,{pageToken:r});n.prefixes.push(...c.prefixes),n.items.push(...c.items),null!=c.nextPageToken&&(yield wN(i,n,c.nextPageToken))})).apply(this,arguments)}function EN(i,n){return jx.apply(this,arguments)}function jx(){return(jx=(0,we.Z)(function*(i,n){null!=n&&"number"==typeof n.maxResults&&Ox("options.maxResults",1,1e3,n.maxResults);const r=n||{},a=yM(i.storage,i._location,"/",r.pageToken,r.maxResults);return(yield i.storage.makeRequestWithTokens(a)).getPromise()})).apply(this,arguments)}function Hx(){return(Hx=(0,we.Z)(function*(i){i._throwIfRoot("getMetadata");const n=pN(i.storage,i._location,TE());return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function $x(){return($x=(0,we.Z)(function*(i,n){i._throwIfRoot("updateMetadata");const r=wM(i.storage,i._location,n,TE());return(yield i.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function Gx(){return(Gx=(0,we.Z)(function*(i){i._throwIfRoot("getDownloadURL");const n=vM(i.storage,i._location,TE());return(yield i.storage.makeRequestWithTokens(n)).getPromise().then(r=>{if(null===r)throw LN();return r})})).apply(this,arguments)}function qx(){return(qx=(0,we.Z)(function*(i){i._throwIfRoot("deleteObject");const n=EM(i.storage,i._location);return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function CN(i,n){const r=function(i,n){const r=n.split("/").filter(a=>a.length>0).join("/");return 0===i.length?r:i+"/"+r}(i._location.path,n),a=new Ti(i._location.bucket,r);return new fp(i.storage,a)}function bN(i,n){if(i instanceof Zx){const r=i;if(null==r._bucket)throw new le("no-default-bucket","No default bucket found. Did you set the '"+ce+"' property when initializing the app?");const a=new fp(r,r._bucket);return null!=n?bN(a,n):a}return void 0!==n?CN(i,n):i}function LM(i,n){if(n&&function(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof Zx)return function(i,n){return new fp(i,n)}(i,n);throw S_("To use ref(service, url), the first argument must be a Storage instance.")}return bN(i,n)}function IN(i,n){const r=null==n?void 0:n[ce];return null==r?null:Ti.makeFromBucketSpec(r,i)}class Zx{constructor(n,r,a,c,f,m){this.app=n,this._authProvider=r,this._appCheckProvider=a,this._pool=c,this._url=f,this._firebaseVersion=m,this._bucket=null,this._host=Z,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=f?Ti.makeFromBucketSpec(f,this._host):IN(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Ti.makeFromBucketSpec(this._url,n):IN(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){Ox("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){Ox("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,we.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const r=n._authProvider.getImmediate({optional:!0});if(r){const a=yield r.getToken();if(null!==a)return a.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,we.Z)(function*(){const r=n._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new fp(this,n)}_makeRequest(n,r,a){if(this._deleted)return new jN(rN());{const c=function(i,n,r,a,c,f){const m=oN(i.urlParams),E=i.url+m,D=Object.assign({},i.headers);return function(i,n){n&&(i["X-Firebase-GMPID"]=n)}(D,n),function(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(D,r),function(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(D,f),function(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(D,a),new zN(E,i.method,D,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,c)}(n,this._appId,r,a,this._pool,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(n){var r=this;return(0,we.Z)(function*(){const[a,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,a,c)})()}}function TN(i,n){return LM(i=(0,St.m9)(i),n)}(0,Ga._registerComponent)(new Ug.wA("storage",function(i,{instanceIdentifier:n}){const r=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),c=i.getProvider("app-check-internal");return new Zx(r,a,c,new BN,n,Ga.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ga.registerVersion)("@firebase/storage","0.8.3");class AT{constructor(n,r,a){this._delegate=n,this.task=r,this.ref=a}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class AN{constructor(n,r){this._delegate=n,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new AT(this._delegate.snapshot,this,this._ref)}then(n,r){return this._delegate.then(a=>{if(n)return n(new AT(a,this,this._ref))},r)}on(n,r,a,c){let f;return r&&(f="function"==typeof r?m=>r(new AT(m,this,this._ref)):{next:r.next?m=>r.next(new AT(m,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(n,f,a||void 0,c||void 0)}}class SN{constructor(n,r){this._delegate=n,this._service=r}get prefixes(){return this._delegate.prefixes.map(n=>new $c(n,this._service))}get items(){return this._delegate.items.map(n=>new $c(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $c{constructor(n,r){this._delegate=n,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const r=function(i,n){return CN(i,n)}(this._delegate,n);return new $c(r,this.storage)}get root(){return new $c(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new $c(n,this.storage)}put(n,r){return this._throwIfRoot("put"),new AN(function(i,n,r){return function(i,n,r){return i._throwIfRoot("uploadBytesResumable"),new yN(i,new gu(n),r)}(i=(0,St.m9)(i),n,r)}(this._delegate,n,r),this)}putString(n,r=Ss.RAW,a){this._throwIfRoot("putString");const c=kx(r,n),f=Object.assign({},a);return null==f.contentType&&null!=c.contentType&&(f.contentType=c.contentType),new AN(new yN(this._delegate,new gu(c.data,!0),f),this)}listAll(){return function(i){return function(i){const n={prefixes:[],items:[]};return wN(i,n).then(()=>n)}(i=(0,St.m9)(i))}(this._delegate).then(n=>new SN(n,this.storage))}list(n){return function(i,n){return EN(i=(0,St.m9)(i),n)}(this._delegate,n||void 0).then(r=>new SN(r,this.storage))}getMetadata(){return function(i){return function(i){return Hx.apply(this,arguments)}(i=(0,St.m9)(i))}(this._delegate)}updateMetadata(n){return function(i,n){return function(i,n){return $x.apply(this,arguments)}(i=(0,St.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function(i){return function(i){return Gx.apply(this,arguments)}(i=(0,St.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(i){return function(i){return qx.apply(this,arguments)}(i=(0,St.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw iN(n)}}class xN{constructor(n,r){this.app=n,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(RN(n))throw S_("ref() expected a child path but got a URL, use refFromURL instead.");return new $c(TN(this._delegate,n),this)}refFromURL(n){if(!RN(n))throw S_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ti.makeFromUrl(n,this._delegate.host)}catch(r){throw S_("refFromUrl() expected a valid full URL but got an invalid one.")}return new $c(TN(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,r,a={}){!function(i,n,r,a={}){!function(i,n,r,a={}){i.host=`${n}:${r}`,i._protocol="http";const{mockUserToken:c}=a;c&&(i._overrideAuthToken="string"==typeof c?c:(0,St.Sg)(c,i.app.options.projectId))}(i,n,r,a)}(this._delegate,n,r,a)}}function RN(i){return/^[A-Za-z]+:\/\//.test(i)}function tO(i,{instanceIdentifier:n}){const r=i.getProvider("app-compat").getImmediate(),a=i.getProvider("storage").getImmediate({identifier:n});return new xN(r,a)}function NN(i){const n=function(i){return new si.y(n=>{const r=m=>n.next(m);r(i.snapshot);const f=i.on("state_changed",r);return i.then(m=>{r(m),n.complete()},m=>{r(i.snapshot),(m=>{n.error(m)})(m)}),function(){f()}}).pipe(function(i,n=tS.P){return r=>r.lift(new A(i,n))}(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,mt.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function ST(i){return{getDownloadURL:()=>(0,rt.of)(void 0).pipe(gn.fc,kn(()=>i.getDownloadURL()),gn.iC),getMetadata:()=>(0,rt.of)(void 0).pipe(gn.fc,kn(()=>i.getMetadata()),gn.iC),delete:()=>(0,tn.D)(i.delete()),child:n=>ST(i.child(n)),updateMetadata:n=>(0,tn.D)(i.updateMetadata(n)),put:(n,r)=>NN(i.put(n,r)),putString:(n,r,a)=>NN(i.putString(n,r,a)),listAll:()=>(0,tn.D)(i.listAll())}}!function(i){const n={TaskState:Qi,TaskEvent:TM,StringFormat:Ss,Storage:xN,Reference:$c};i.INTERNAL.registerComponent(new Ug.wA("storage-compat",tO,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.3")}(Vg.Z);const iO=new h.OlP("angularfire2.storageBucket"),sO=new h.OlP("angularfire2.storage.maxUploadRetryTime"),oO=new h.OlP("angularfire2.storage.maxOperationRetryTime"),aO=new h.OlP("angularfire2.storage.use-emulator");let uO=(()=>{class i{constructor(r,a,c,f,m,E,D,S,R){const O=(0,Ci.on)(r,m,a);this.storage=(0,gn.cc)(`${O.name}.storage.${c}`,"AngularFireStorage",O.name,()=>{const q=m.runOutsideAngular(()=>O.storage(c||void 0)),W=R;return W&&q.useEmulator(...W),D&&q.setMaxUploadRetryTime(D),S&&q.setMaxOperationRetryTime(S),q},[D,S])}ref(r){return ST(this.storage.ref(r))}refFromURL(r){return ST(this.storage.refFromURL(r))}upload(r,a,c){return ST(this.storage.ref(r)).put(a,c)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Ci.Dh),h.LFG(Ci.xv,8),h.LFG(iO,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gn.HU),h.LFG(sO,8),h.LFG(oO,8),h.LFG(aO,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),cO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})(),lO=(()=>{class i{constructor(){sv.Z.registerVersion("angularfire",gn.q4.full,"gcs-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[uO],imports:[cO]}),i})();var MN=F(6031);let N_=(()=>{class i{constructor(r){this.au=r}signup(r,a){return this.au.createUserWithEmailAndPassword(r,a)}signIn(r,a){return this.au.signInWithEmailAndPassword(r,a)}signInWithGoogle(){return this.au.signInWithPopup(new MN.N)}signOut(){return location.reload(),this.au.signOut()}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(bi))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class AE{constructor(){this.projects=[],this.workingSessions=[]}}let xT=(()=>{class i{constructor(r,a){this.fs=r,this.auth=a,this.user=new AE,this.userData=new mr(this.user),this.currentUserData=this.userData.asObservable()}gotUserAllData(){const a=(0,MN.n)().currentUser;null!==a&&(this.uid=a.uid),this.fs.collection("users",c=>c.where("uid","==",this.uid)).valueChanges().subscribe(c=>{this.user=c[0],this.userData.next(this.user)})}changeUserData(r){return this.userData.next(r),(0,rt.of)(this.fs.doc(`users/${this.uid}`).set(r))}DeleteUser(){this.fs.doc(`users/${this.uid}`).delete().catch(r=>console.log(r)).then(()=>console.log(`${this.user.uid} has been deleted.`)),this.auth.signOut()}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(w),h.LFG(N_))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dO=(()=>{class i{constructor(r,a,c){this.au=r,this.fs=a,this.userService=c,this.SignedIn=new h.vpe,this.signup=new h.vpe,this.continueWithEmail=new h.vpe,this.email="",this.message=""}ngOnInit(){}signUp(){this.signup.emit(!0)}continuewithemail(){0==this.email.length?this.message="\u{1f514} Please fill in your email address":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.email).toLowerCase())?this.continueWithEmail.emit({1:!0,2:this.email}):this.message="\u{1f514} Please fill in a valid email address"}signInGoogle(){this.au.signInWithGoogle().then(r=>{this.fs.collection("users").doc(r.user.uid).get().subscribe(a=>{a.exists?(console.log("Already a user, Welcome Back"),this.SignedIn.emit({1:!0})):(console.log("New user, Welcome "),this.fs.collection("users").doc(r.user.uid).set({uid:r.user.uid,email:r.user.email,firstName:r.user.displayName.split(" ")[0],lastName:r.user.displayName.split(" ")[1],photoUrl:r.user.photoURL}).then(()=>{this.SignedIn.emit({1:!0})}))})}).catch(r=>{console.log(r),this.SignedIn.emit({1:!1})})}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(N_),h.Y36(w),h.Y36(xT))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-sign-in"]],outputs:{SignedIn:"SignedIn",signup:"signup",continueWithEmail:"continueWithEmail"},decls:29,vars:2,consts:[["id","sign-in-card"],["type","email","name","email","id","username","placeholder","\u2709 Email",3,"ngModel","keyup.enter","ngModelChange"],[1,"warning"],["id","continue-w-email",1,"sign-button",3,"click"],["id","continue-w-google",1,"sign-button",3,"click"],["id","google-icon","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","48","height","48","viewBox","0 0 48 48",2,"fill","#000000"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["id","continue-google-title"],["id","continue-w-apple",1,"sign-button"],["id","apple-icon","src","assets/apple.png","alt",""],["id","new-account"],["id","sign-up",1,"sign-button",3,"click"]],template:function(r,a){1&r&&(h.TgZ(0,"div",0),h.TgZ(1,"h1"),h._uU(2,"Log in to Pomoguru"),h.qZA(),h._UZ(3,"hr"),h.TgZ(4,"input",1),h.NdJ("keyup.enter",function(){return a.continuewithemail()})("ngModelChange",function(f){return a.email=f}),h.qZA(),h._UZ(5,"br"),h.TgZ(6,"p",2),h._uU(7),h.qZA(),h.TgZ(8,"button",3),h.NdJ("click",function(){return a.continuewithemail()}),h._uU(9,"Continue with Email"),h.qZA(),h.TgZ(10,"p"),h._uU(11,"or"),h.qZA(),h.TgZ(12,"button",4),h.NdJ("click",function(){return a.signInGoogle()}),h.O4$(),h.TgZ(13,"svg",5),h._UZ(14,"path",6),h._UZ(15,"path",7),h._UZ(16,"path",8),h._UZ(17,"path",9),h.qZA(),h.kcU(),h.TgZ(18,"p",10),h._uU(19,"Continue with Google"),h.qZA(),h.qZA(),h._UZ(20,"br"),h.TgZ(21,"button",11),h._UZ(22,"img",12),h._uU(23," Continue with Apple "),h.qZA(),h._UZ(24,"hr"),h.TgZ(25,"p",13),h._uU(26,"Don't have a Pomoguru account?"),h.qZA(),h.TgZ(27,"button",14),h.NdJ("click",function(){return a.signUp()}),h._uU(28,"Sign Up"),h.qZA(),h.qZA()),2&r&&(h.xp6(4),h.Q6J("ngModel",a.email),h.xp6(3),h.Oqu(a.message))},directives:[ar,Ua,Ha],styles:['#sign-in-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 7px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0;margin-top:13px}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#continue-w-google[_ngcontent-%COMP%]{background-color:#4286f5;display:flex;padding:0;align-items:center;justify-content:space-evenly;margin:auto;border-radius:28px}#continue-w-apple[_ngcontent-%COMP%]{border:1px solid #000;color:#000;background-color:#fff}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#new-account[_ngcontent-%COMP%]:after{border:1px solid #000}']}),i})(),hO=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-landing-page"]],decls:5,vars:0,consts:[["id","welcome-section"],["id","focus-quote"],["id","illustration-1","src","assets/time.png","alt","",1,"illustration"]],template:function(r,a){1&r&&(h.TgZ(0,"section",0),h.TgZ(1,"pre",1),h._uU(2,"            FOCUSING \n            IS ABOUT \n            SAYING NO.\n\n            -Steve Jobs\n  "),h.qZA(),h.TgZ(3,"div"),h._UZ(4,"img",2),h.qZA(),h.qZA())},styles:["body[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;height:200vh}section[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;position:relative;z-index:-1}#welcome-section[_ngcontent-%COMP%]{height:100vh;color:#fff;display:flex;background-image:url(wave-haikei.0d841049cd8bef49d11f.svg);background-size:cover;background-repeat:no-repeat}#focus-quote[_ngcontent-%COMP%]{color:#ffc34d;padding-top:141px;font-weight:400;font-family:inherit;font-size:30px}.illustration[_ngcontent-%COMP%]{padding-top:141px;padding-right:3%;max-width:40%;max-height:40%;display:block;position:absolute;right:0}pre[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width: 508px){#welcome-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}#illustration-1[_ngcontent-%COMP%]{z-index:1}}"]}),i})();function fO(i,n){1&i&&(h.TgZ(0,"span",15),h._uU(1,"Please Enter Your First Name \u{1f48e}"),h.qZA())}function pO(i,n){1&i&&(h.TgZ(0,"span",15),h._uU(1,"Please Enter Your Last Name \u{1f48e}"),h.qZA())}function gO(i,n){1&i&&(h.TgZ(0,"span",15),h._uU(1,"Please Enter a Password \u{1f926}\u200d\u2642\ufe0f"),h.qZA())}function mO(i,n){1&i&&(h.TgZ(0,"span",15),h._uU(1,"Password must be at least 8 characters in length \u{1f926}\u200d\u2642\ufe0f"),h.qZA())}function _O(i,n){1&i&&(h.TgZ(0,"span",15),h._uU(1,"Password must be at least 8 characters in length \u{1f926}\u200d\u2642\ufe0f"),h.qZA())}function yO(i,n){1&i&&(h.TgZ(0,"span",15),h._uU(1,"passwords do not match \u{1f937}\u200d\u2642\ufe0f"),h.qZA())}let vO=(()=>{class i{constructor(r,a){this.authService=r,this.fs=a,this.createdAndNowLoginIn=new h.vpe,this.email="",this.siteKey="",this.captcha=!1,this.siteKey="6LdNOqocAAAAADgo2zcsO4lp5MJV8HaIhngDFZZP"}ngOnInit(){}register(r){if(delete r.value.captcha,this.captcha){r.value.email=this.email;let a=r.value,c=new AE;c.email=a.email,c.firstName=a.firstname,c.lastName=a.lastname,c.photoUrl="assets/avatar.png",this.authService.signup(a.email,a.password).then(f=>{c.uid=f.user.uid,this.fs.collection("users").doc(f.user.uid).set(Object.assign({},c)).then(()=>{this.createdAndNowLoginIn.emit({1:!0})})}).catch(f=>{this.createdAndNowLoginIn.emit({1:!1}),console.log(f)})}else console.log("please prove that you are not a robot")}resolved(r){this.captcha=!0}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(N_),h.Y36(w))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-create-account"]],inputs:{email:"email"},outputs:{createdAndNowLoginIn:"createdAndNowLoginIn"},decls:30,vars:9,consts:[["id","create-account-card",3,"ngSubmit"],["f","ngForm"],["ngModel","","type","text","name","firstname","placeholder","\u{1f64e}\u200d\u2642\ufe0f First name","required","",1,"fas"],["firstName","ngModel"],["class","alerts",4,"ngIf"],["ngModel","","type","text","name","lastname","placeholder","\u{1f64e}\u200d\u2642\ufe0f Last name","required","",1,"fas"],["lastName","ngModel"],["ngModel","","type","password","name","password","placeholder","\u{1f512} Create a password","required","","minlength","8",1,"fas"],["Password","ngModel"],["ngModel","","type","password","name","passwordConfirm","placeholder","\u{1f512} Confirm your password","required","","minlength","8",1,"fas"],["PasswordConfirm","ngModel"],["id","captcha"],["ngModel","","name","captcha",3,"siteKey","success"],["captchaElem","ngModel"],["type","submit","id","continue-w-email",1,"sign-button",3,"disabled"],[1,"alerts"]],template:function(r,a){if(1&r){const c=h.EpF();h.TgZ(0,"form",0,1),h.NdJ("ngSubmit",function(){h.CHM(c);const m=h.MAs(1);return a.register(m)}),h.TgZ(2,"h1"),h._uU(3,"Complete your account setup"),h.qZA(),h._UZ(4,"hr"),h.TgZ(5,"p"),h._uU(6),h.qZA(),h._UZ(7,"input",2,3),h._UZ(9,"br"),h.YNc(10,fO,2,0,"span",4),h._UZ(11,"input",5,6),h._UZ(13,"br"),h.YNc(14,pO,2,0,"span",4),h._UZ(15,"input",7,8),h._UZ(17,"br"),h.YNc(18,gO,2,0,"span",4),h.YNc(19,mO,2,0,"span",4),h._UZ(20,"input",9,10),h._UZ(22,"br"),h.YNc(23,_O,2,0,"span",4),h.YNc(24,yO,2,0,"span",4),h.TgZ(25,"div",11),h.TgZ(26,"ngx-recaptcha2",12,13),h.NdJ("success",function(m){return a.resolved(m)}),h.qZA(),h.qZA(),h.TgZ(28,"button",14),h._uU(29," Continue with Email "),h.qZA(),h.qZA()}if(2&r){const c=h.MAs(1),f=h.MAs(8),m=h.MAs(12),E=h.MAs(16),D=h.MAs(21);h.xp6(6),h.Oqu(a.email),h.xp6(4),h.Q6J("ngIf",(null==f.errors?null:f.errors.required)&&f.touched),h.xp6(4),h.Q6J("ngIf",(null==m.errors?null:m.errors.required)&&m.touched),h.xp6(4),h.Q6J("ngIf",(null==E.errors?null:E.errors.required)&&E.touched),h.xp6(1),h.Q6J("ngIf",(null==E.errors?null:E.errors.minlength)&&E.touched),h.xp6(4),h.Q6J("ngIf",(null==D.errors?null:D.errors.minlength)&&D.touched&&(null==D.errors?null:D.errors.required)),h.xp6(1),h.Q6J("ngIf",D.value!==E.value),h.xp6(2),h.Q6J("siteKey",a.siteKey),h.xp6(2),h.Q6J("disabled",c.invalid)}},directives:[xg,xl,Pl,ar,Ua,Ha,$a,xr,ev,rv],styles:['#create-account-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 15px;font-family:"Font Awesome 5 Free",sans-serif;font-size:14px;font-weight:500;letter-spacing:1px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#captcha[_ngcontent-%COMP%]{margin:0% 27.5% 3%}.alerts[_ngcontent-%COMP%]{font-size:13px;display:block;margin-top:-6px}']}),i})();function wO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"div",2),h.TgZ(1,"h1"),h._uU(2,"Sign Up"),h.qZA(),h._UZ(3,"hr"),h.TgZ(4,"button",3),h.NdJ("click",function(){return h.CHM(r),h.oxw().signInGoogle()}),h.O4$(),h.TgZ(5,"svg",4),h._UZ(6,"path",5),h._UZ(7,"path",6),h._UZ(8,"path",7),h._UZ(9,"path",8),h.qZA(),h.kcU(),h.TgZ(10,"p",9),h._uU(11,"Continue with Google"),h.qZA(),h.qZA(),h._UZ(12,"br"),h.TgZ(13,"button",10),h._UZ(14,"img",11),h._uU(15," Continue with Apple "),h.qZA(),h.TgZ(16,"p"),h._uU(17,"or"),h.qZA(),h.TgZ(18,"input",12),h.NdJ("ngModelChange",function(c){return h.CHM(r),h.oxw().email=c})("keyup.enter",function(){return h.CHM(r),h.oxw().pass()}),h.qZA(),h._UZ(19,"br"),h.TgZ(20,"button",13),h.NdJ("click",function(){return h.CHM(r),h.oxw().pass()}),h._uU(21,"Continue with Email"),h.qZA(),h._UZ(22,"br"),h._UZ(23,"br"),h.TgZ(24,"p",14),h._uU(25),h.qZA(),h.qZA()}if(2&i){const r=h.oxw();h.xp6(18),h.Q6J("ngModel",r.email),h.xp6(7),h.Oqu(r.message)}}function EO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"app-create-account",15),h.NdJ("createdAndNowLoginIn",function(c){return h.CHM(r),h.oxw().logedIn(c)}),h.qZA()}if(2&i){const r=h.oxw();h.Q6J("email",r.email)}}let CO=(()=>{class i{constructor(r,a){this.au=r,this.fs=a,this.SignedIn=new h.vpe,this.email="",this.message="",this.showCreateAccount=!1}ngOnInit(){}pass(){0==this.email.length?this.message="\u{1f514} Please fill in your email address":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.email).toLowerCase())?this.showCreateAccount=!0:this.message="\u{1f514} Please fill in a valid email address"}signInGoogle(){this.au.signInWithGoogle().then(r=>{let a=new AE;a.uid=r.user.uid,a.email=r.user.email,a.firstName=r.user.displayName.split(" ")[0],a.lastName=r.user.displayName.split(" ")[1],a.photoUrl=r.user.photoURL,this.fs.collection("users").doc(r.user.uid).set(Object.assign({},a)).then(()=>{this.SignedIn.emit({1:!0})})}).catch(r=>{console.log(r),this.SignedIn.emit({1:!1})})}logedIn(r){this.SignedIn.emit({1:!0})}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(N_),h.Y36(w))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-sign-up"]],outputs:{SignedIn:"SignedIn"},decls:2,vars:2,consts:[["id","sign-up-card",4,"ngIf"],[3,"email","createdAndNowLoginIn",4,"ngIf"],["id","sign-up-card"],["id","continue-w-google",1,"sign-button",3,"click"],["id","google-icon","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","48","height","48","viewBox","0 0 48 48",2,"fill","#000000"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["id","continue-google-title"],["id","continue-w-apple",1,"sign-button"],["id","apple-icon","src","assets/apple.png","alt",""],["type","email","name","email","placeholder","\u2709 Work email address","required","",3,"ngModel","ngModelChange","keyup.enter"],["id","continue-w-email","type","submit",1,"sign-button",3,"click"],[1,"warning"],[3,"email","createdAndNowLoginIn"]],template:function(r,a){1&r&&(h.YNc(0,wO,26,2,"div",0),h.YNc(1,EO,1,1,"app-create-account",1)),2&r&&(h.Q6J("ngIf",0==a.showCreateAccount),h.xp6(1),h.Q6J("ngIf",a.showCreateAccount))},directives:[xr,ar,$a,Ua,Ha,vO],styles:['#sign-up-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 0 15px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:15px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#continue-w-email[_ngcontent-%COMP%]{margin-bottom:0}#continue-w-email[_ngcontent-%COMP%]:hover{background-color:#ff5959}#continue-w-google[_ngcontent-%COMP%]{background-color:#4286f5;display:flex;padding:0;align-items:center;justify-content:space-evenly;margin:auto;border-radius:28px}#continue-w-apple[_ngcontent-%COMP%]{border:1px solid #000;color:#000;background-color:#fff}#sign-up[_ngcontent-%COMP%]{border:1px solid #ff5959;color:#ff5959;background-color:#fff}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#apple-icon[_ngcontent-%COMP%]{width:12px}#google-icon[_ngcontent-%COMP%]{width:14px;height:auto;border-radius:100%;background-color:#fff;padding:15px;margin:0 0 0 -41px}#continue-google-title[_ngcontent-%COMP%]{margin:0 24px 0 0}#new-account[_ngcontent-%COMP%]:after{border:1px solid #000}']}),i})(),bO=(()=>{class i{constructor(){this.siteKey="",this.siteKey="6LdNOqocAAAAADgo2zcsO4lp5MJV8HaIhngDFZZP"}ngOnInit(){}send(r){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-forgot-password"]],decls:18,vars:2,consts:[["id","sign-in-email-card"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","id","email","name","email","placeholder","Enter your email","required",""],["Email","ngModel"],["id","captcha"],["ngModel","","name","captcha",3,"siteKey"],["captchaElem","ngModel"],["type","submit","id","login",1,"sign-button",3,"disabled"]],template:function(r,a){if(1&r){const c=h.EpF();h.TgZ(0,"div",0),h.TgZ(1,"form",1,2),h.NdJ("ngSubmit",function(){h.CHM(c);const m=h.MAs(2);return a.send(m)}),h.TgZ(3,"h1"),h._uU(4,"Update your password"),h.qZA(),h._UZ(5,"hr"),h.TgZ(6,"p"),h._uU(7,"Enter your email address and select Send Email."),h.qZA(),h._UZ(8,"br"),h._UZ(9,"input",3,4),h._UZ(11,"br"),h.TgZ(12,"div",5),h._UZ(13,"ngx-recaptcha2",6,7),h.qZA(),h.TgZ(15,"button",8),h._uU(16,"Send Email "),h.qZA(),h._UZ(17,"br"),h.qZA(),h.qZA()}if(2&r){const c=h.MAs(2);h.xp6(13),h.Q6J("siteKey",a.siteKey),h.xp6(2),h.Q6J("disabled",c.invalid)}},directives:[xg,xl,Pl,ar,Ua,Ha,$a,rv],styles:['#sign-in-email-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:0 0 15px;font-family:"Font Awesome 5 Free",sans-serif;font-size:14px;font-weight:500;letter-spacing:1px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:10px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#login[_ngcontent-%COMP%]:hover{background-color:#ff5959}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}p[_ngcontent-%COMP%]{margin:6px;font-weight:300;font-family:"Open Sans",sans-serif}#captcha[_ngcontent-%COMP%]{margin:0% 27.5% 3%}']}),i})();function IO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"div",2),h.TgZ(1,"form",3,4),h.NdJ("ngSubmit",function(){h.CHM(r);const c=h.MAs(2);return h.oxw().signInEmail(c)}),h.TgZ(3,"h1"),h._uU(4,"Welcome Back"),h.qZA(),h._UZ(5,"hr"),h.TgZ(6,"p"),h._uU(7),h.qZA(),h._UZ(8,"br"),h.TgZ(9,"input",5,6),h.NdJ("keyup.enter",function(){h.CHM(r);const c=h.MAs(2);return h.oxw().signInEmail(c)}),h.qZA(),h._UZ(11,"br"),h.TgZ(12,"div",7),h.TgZ(13,"span",8),h.NdJ("click",function(){return h.CHM(r),h.oxw().showpassword()}),h._uU(14,"\u{1f9d0}"),h.qZA(),h.TgZ(15,"span",9),h.NdJ("click",function(){return h.CHM(r),h.oxw().showResetPage()}),h._uU(16,"Forgot password?"),h.qZA(),h.qZA(),h._UZ(17,"br"),h.TgZ(18,"div",10),h._UZ(19,"ngx-recaptcha2",11,12),h.qZA(),h.TgZ(21,"button",13),h._uU(22,"Log in "),h.qZA(),h._UZ(23,"br"),h.qZA(),h.TgZ(24,"button",14),h.NdJ("click",function(){return h.CHM(r),h.oxw().notyou()}),h._uU(25,"Not you ?"),h.qZA(),h.TgZ(26,"p",15),h._uU(27),h.qZA(),h.qZA()}if(2&i){const r=h.MAs(2),a=h.oxw();h.xp6(7),h.Oqu(a.email),h.xp6(2),h.Q6J("type",a.isActive?"password":"text"),h.xp6(10),h.Q6J("siteKey",a.siteKey),h.xp6(2),h.Q6J("disabled",r.invalid),h.xp6(6),h.Oqu(a.message)}}function DO(i,n){1&i&&h._UZ(0,"app-forgot-password")}let TO=(()=>{class i{constructor(r){this.au=r,this.showSignIn=!0,this.SignedIn=new h.vpe,this.signin=new h.vpe,this.email="",this.siteKey="",this.isActive=!0,this.message="",this.siteKey="6LdNOqocAAAAADgo2zcsO4lp5MJV8HaIhngDFZZP"}ngOnInit(){}signInEmail(r){r.value.email=this.email;let a=r.value;this.au.signIn(a.email,a.password).then(()=>{this.SignedIn.emit({1:!0}),console.log("Yes logged in")}).catch(c=>{this.message="Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."==c.message?"\u26a0 Wrong Password! Or you dont Have Password, try to log in with Google or Apple. \u26a0":"\u26a0 Try again with a registred email! \u26a0"})}notyou(){this.signin.emit({1:!0})}showpassword(){this.isActive=!this.isActive}showResetPage(){this.showSignIn=!1}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(N_))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-sign-in-email"]],inputs:{email:"email"},outputs:{SignedIn:"SignedIn",signin:"signin"},decls:2,vars:2,consts:[["id","sign-in-email-card",4,"ngIf"],[4,"ngIf"],["id","sign-in-email-card"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","id","password","name","password","placeholder","\u{1f512} Enter your password","required","",1,"fas",3,"type","keyup.enter"],["Password","ngModel"],["id","container"],["id","showPass",3,"click"],["id","forgot-password",3,"click"],["id","captcha"],["ngModel","","name","captcha",3,"siteKey"],["captchaElem","ngModel"],["type","submit","id","login",1,"sign-button",3,"disabled"],["id","not-you",1,"sign-button",3,"click"],[1,"warning"]],template:function(r,a){1&r&&(h.YNc(0,IO,28,5,"div",0),h.YNc(1,DO,1,0,"app-forgot-password",1)),2&r&&(h.Q6J("ngIf",a.showSignIn),h.xp6(1),h.Q6J("ngIf",0==a.showSignIn))},directives:[xr,xg,xl,Pl,ar,Ua,Ha,$a,rv,bO],styles:['#sign-in-email-card[_ngcontent-%COMP%]{border-radius:10px;width:45%;margin:180px auto auto;text-align:center;background-color:var(--background-card);padding:20px 20px 30px;border:1px solid #000}h1[_ngcontent-%COMP%]{font-size:1.7em}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:0 0 15px;font-family:"Font Awesome 5 Free",sans-serif;font-size:14px;font-weight:500;letter-spacing:1px}.sign-button[_ngcontent-%COMP%]{width:290px;margin-bottom:10px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif}#login[_ngcontent-%COMP%]:hover{background-color:#ff5959}hr[_ngcontent-%COMP%]{margin:0% 6% 2%;border:none;height:.5px;background-color:var(--svg-color)}#not-you[_ngcontent-%COMP%]{border:none;color:#ff5959;background-color:#fff}p[_ngcontent-%COMP%]{margin:-8px}#captcha[_ngcontent-%COMP%]{margin:0% 27.5% 3%}#showPass[_ngcontent-%COMP%], #forgot-password[_ngcontent-%COMP%]{cursor:pointer}#container[_ngcontent-%COMP%]{display:flex;justify-content:center}#forgot-password[_ngcontent-%COMP%]{color:#ff5959;font-weight:500;font-family:"Open Sans",sans-serif;margin:0 0 0 132px}']}),i})();function AO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"app-sign-in",10),h.NdJ("signup",function(c){return h.CHM(r),h.oxw().runMessage(c)})("continueWithEmail",function(c){return h.CHM(r),h.oxw().showContinueWithEmail(c)})("SignedIn",function(c){return h.CHM(r),h.oxw().SignedIn(c)}),h.qZA()}}function SO(i,n){1&i&&h._UZ(0,"app-landing-page")}function xO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"app-sign-up",11),h.NdJ("SignedIn",function(c){return h.CHM(r),h.oxw().SignedIn(c)}),h.qZA()}}function RO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"app-sign-in-email",12),h.NdJ("signin",function(c){return h.CHM(r),h.oxw().turnBack(c)})("SignedIn",function(c){return h.CHM(r),h.oxw().SignedIn(c)}),h.qZA()}if(2&i){const r=h.oxw();h.Q6J("email",r.email)}}let NO=(()=>{class i{constructor(){this.isSignInClicked=!1,this.isHomeClicked=!0,this.isSignUpClicked=!1,this.isSignEmail=!1,this.email="",this.loggedIn=new h.vpe}ngOnInit(){}signIn(){this.isSignUpClicked=!1,this.isHomeClicked=!1,this.isSignInClicked=!0,this.isSignEmail=!1}home(){this.isSignUpClicked=!1,this.isSignInClicked=!1,this.isHomeClicked=!0,this.isSignEmail=!1}signUp(){this.isHomeClicked=!1,this.isSignInClicked=!1,this.isSignUpClicked=!0,this.isSignEmail=!1}runMessage(r){r&&(this.isSignUpClicked=!0,this.isSignInClicked=!1,this.isSignEmail=!1)}showContinueWithEmail(r){let c=r[2];r[1]&&(this.isSignInClicked=!1,this.isSignUpClicked=!1,this.isSignEmail=!0,this.email=c)}turnBack(r){1==r[1]&&(this.isSignUpClicked=!1,this.isHomeClicked=!1,this.isSignInClicked=!0,this.isSignEmail=!1)}SignedIn(r){this.loggedIn.emit(r[1])}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-header"]],outputs:{loggedIn:"loggedIn"},decls:13,vars:4,consts:[["id","navbar"],["id","top-title",3,"click"],["src","assets/tomato.png","alt","tomato image",1,"pomo",3,"click"],["id","sign"],[1,"btn",3,"click"],[1,"btn","sign-up",3,"click"],[3,"signup","continueWithEmail","SignedIn",4,"ngIf"],[4,"ngIf"],[3,"SignedIn",4,"ngIf"],[3,"email","signin","SignedIn",4,"ngIf"],[3,"signup","continueWithEmail","SignedIn"],[3,"SignedIn"],[3,"email","signin","SignedIn"]],template:function(r,a){1&r&&(h.TgZ(0,"header",0),h.TgZ(1,"h1",1),h.NdJ("click",function(){return a.home()}),h._uU(2,"Pomoguru"),h.qZA(),h.TgZ(3,"img",2),h.NdJ("click",function(){return a.home()}),h.qZA(),h.TgZ(4,"div",3),h.TgZ(5,"button",4),h.NdJ("click",function(){return a.signIn()}),h._uU(6,"Sign In"),h.qZA(),h.TgZ(7,"button",5),h.NdJ("click",function(){return a.signUp()}),h._uU(8,"Sign Up"),h.qZA(),h.qZA(),h.qZA(),h.YNc(9,AO,1,0,"app-sign-in",6),h.YNc(10,SO,1,0,"app-landing-page",7),h.YNc(11,xO,1,0,"app-sign-up",8),h.YNc(12,RO,1,1,"app-sign-in-email",9)),2&r&&(h.xp6(9),h.Q6J("ngIf",a.isSignInClicked),h.xp6(1),h.Q6J("ngIf",a.isHomeClicked),h.xp6(1),h.Q6J("ngIf",a.isSignUpClicked),h.xp6(1),h.Q6J("ngIf",a.isSignEmail))},directives:[xr,dO,hO,CO,TO],styles:["body[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;height:200vh}#navbar[_ngcontent-%COMP%]{position:fixed;width:100%;top:0;left:0;padding:10px 0;background-color:#ffc34dcc}.pomo[_ngcontent-%COMP%]{padding-top:18px;cursor:pointer}.sign-up[_ngcontent-%COMP%]{background-color:#ff4b4b;color:#fff}.sign-up[_ngcontent-%COMP%]:hover{background-color:#ff5959}#top-title[_ngcontent-%COMP%]{padding:0 0 0 30px;cursor:pointer}.btn[_ngcontent-%COMP%]{font-size:14px;font-weight:500;width:90px;margin:0% 2.2%;height:50px}#sign[_ngcontent-%COMP%]{display:flex;position:fixed;right:0;margin-right:10px}"]}),i})(),MO=(()=>{class i{constructor(r){this.auth=r,this.page=new h.vpe}ngOnInit(){}dash(){this.page.emit("dashboard")}projects(){this.page.emit("projects")}timer(){this.page.emit("timer")}settings(){this.page.emit("settings")}about(){this.page.emit("about")}signOut(){this.auth.signOut()}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(N_))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-nav"]],outputs:{page:"page"},decls:8,vars:0,consts:[["id","nav-bar"],["src","https://img.icons8.com/fluency/144/000000/home.png",3,"click"],["src","https://img.icons8.com/external-itim2101-flat-itim2101/64/000000/external-clipboard-project-management-itim2101-flat-itim2101.png",3,"click"],["src","https://img.icons8.com/external-photo3ideastudio-flat-photo3ideastudio/64/000000/external-clock-sleep-photo3ideastudio-flat-photo3ideastudio.png",3,"click"],["src","https://img.icons8.com/external-wanicon-flat-wanicon/64/000000/external-setting-online-security-wanicon-flat-wanicon.png",3,"click"],["src","https://img.icons8.com/external-wanicon-flat-wanicon/64/000000/external-alert-online-security-wanicon-flat-wanicon.png",3,"click"],["src","https://img.icons8.com/cute-clipart/64/000000/exit.png",3,"click"]],template:function(r,a){1&r&&(h.TgZ(0,"header",0),h.TgZ(1,"div"),h.TgZ(2,"img",1),h.NdJ("click",function(){return a.dash()}),h.qZA(),h.TgZ(3,"img",2),h.NdJ("click",function(){return a.projects()}),h.qZA(),h.TgZ(4,"img",3),h.NdJ("click",function(){return a.timer()}),h.qZA(),h.TgZ(5,"img",4),h.NdJ("click",function(){return a.settings()}),h.qZA(),h.TgZ(6,"img",5),h.NdJ("click",function(){return a.about()}),h.qZA(),h.TgZ(7,"img",6),h.NdJ("click",function(){return a.signOut()}),h.qZA(),h.qZA(),h.qZA())},styles:["body[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif;height:200vh}#nav-bar[_ngcontent-%COMP%]{position:fixed;width:100%;top:0;left:0;padding:10px 0;background-color:var(--nav-background);display:flex;justify-content:center}img[_ngcontent-%COMP%]{margin:0 0 0 53px;width:auto;height:43px;cursor:pointer;transition:transform .5s}img[_ngcontent-%COMP%]:hover{transform:scale(1.3)}"]}),i})(),OO=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(r,a){1&r&&(h.TgZ(0,"p"),h._uU(1,"dashboard works!"),h.qZA())},styles:[""]}),i})();var RT,PO=new Uint8Array(16);function kO(){if(!RT&&!(RT="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return RT(PO)}const FO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,VO=function(i){return"string"==typeof i&&FO.test(i)};for(var pi=[],zx=0;zx<256;++zx)pi.push((zx+256).toString(16).substr(1));const HO=function(i,n,r){var a=(i=i||{}).random||(i.rng||kO)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){r=r||0;for(var c=0;c<16;++c)n[r+c]=a[c];return n}return function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(pi[i[n+0]]+pi[i[n+1]]+pi[i[n+2]]+pi[i[n+3]]+"-"+pi[i[n+4]]+pi[i[n+5]]+"-"+pi[i[n+6]]+pi[i[n+7]]+"-"+pi[i[n+8]]+pi[i[n+9]]+"-"+pi[i[n+10]]+pi[i[n+11]]+pi[i[n+12]]+pi[i[n+13]]+pi[i[n+14]]+pi[i[n+15]]).toLowerCase();if(!VO(r))throw TypeError("Stringified UUID is invalid");return r}(a)};function $O(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"main",6),h.TgZ(2,"header"),h.TgZ(3,"div",1),h.TgZ(4,"h1",7),h._uU(5),h.qZA(),h.qZA(),h.TgZ(6,"div",3),h.TgZ(7,"p",8),h._uU(8),h.qZA(),h.O4$(),h.TgZ(9,"svg",9),h.NdJ("click",function(){const f=h.CHM(r).$implicit;return h.oxw().updateProjectName(f.uid)}),h._UZ(10,"path",10),h.qZA(),h.TgZ(11,"svg",11),h.NdJ("click",function(){const f=h.CHM(r).$implicit;return h.oxw().deleteProject(f.uid)}),h._UZ(12,"path",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&i){const r=n.$implicit;h.xp6(5),h.Oqu(r.name),h.xp6(3),h.hij("",r.TimePassed," minutes")}}let GO=(()=>{class i{constructor(r){this.userService=r,this.newProject="",this.projects=[],this.user=new AE}ngOnInit(){this.userService.currentUserData.subscribe(r=>{this.user=r,this.projects=this.user.projects?this.user.projects:[]})}createProject(){if(""!=this.newProject){let r={name:this.newProject,TimePassed:0,uid:HO()};document.getElementById("goal").value="",this.projects.push(r),this.user.projects=this.projects,this.userService.changeUserData(this.user)}else console.log("Please fill in with the new Project name")}deleteProject(r){this.projects=this.projects.filter(a=>a.uid!=r),this.user.projects=this.projects,this.userService.changeUserData(this.user)}updateProjectName(r){this.projects.find(c=>c.uid==r).name="*********",this.user.projects=this.projects,this.userService.changeUserData(this.user)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(xT))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-projects"]],decls:8,vars:2,consts:[["id","add-project-card",1,"card"],["id","project"],["type","string","id","goal","name","goal","placeholder","\u{1f3af} Create a new project",3,"ngModel","ngModelChange","keyup.enter"],["id","edit"],["id","tick",3,"click"],[4,"ngFor","ngForOf"],[1,"card"],["id","project-title"],["id","guide"],["id","setting","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24",3,"click"],["d","M 9.6679688 2 L 9.1757812 4.5234375 C 8.3550224 4.8338012 7.5961042 5.2674041 6.9296875 5.8144531 L 4.5058594 4.9785156 L 2.1738281 9.0214844 L 4.1132812 10.707031 C 4.0445153 11.128986 4 11.558619 4 12 C 4 12.441381 4.0445153 12.871014 4.1132812 13.292969 L 2.1738281 14.978516 L 4.5058594 19.021484 L 6.9296875 18.185547 C 7.5961042 18.732596 8.3550224 19.166199 9.1757812 19.476562 L 9.6679688 22 L 14.332031 22 L 14.824219 19.476562 C 15.644978 19.166199 16.403896 18.732596 17.070312 18.185547 L 19.494141 19.021484 L 21.826172 14.978516 L 19.886719 13.292969 C 19.955485 12.871014 20 12.441381 20 12 C 20 11.558619 19.955485 11.128986 19.886719 10.707031 L 21.826172 9.0214844 L 19.494141 4.9785156 L 17.070312 5.8144531 C 16.403896 5.2674041 15.644978 4.8338012 14.824219 4.5234375 L 14.332031 2 L 9.6679688 2 z M 12 8 C 14.209 8 16 9.791 16 12 C 16 14.209 14.209 16 12 16 C 9.791 16 8 14.209 8 12 C 8 9.791 9.791 8 12 8 z"],["id","cancel","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24",3,"click"],["d","M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"]],template:function(r,a){1&r&&(h.TgZ(0,"main",0),h.TgZ(1,"header"),h.TgZ(2,"div",1),h.TgZ(3,"input",2),h.NdJ("ngModelChange",function(f){return a.newProject=f})("keyup.enter",function(){return a.createProject()}),h.qZA(),h.qZA(),h.TgZ(4,"div",3),h.TgZ(5,"p",4),h.NdJ("click",function(){return a.createProject()}),h._uU(6,"\u2714"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(7,$O,13,2,"div",5)),2&r&&(h.xp6(3),h.Q6J("ngModel",a.newProject),h.xp6(4),h.Q6J("ngForOf",a.projects))},directives:[ar,Ua,Ha,es],styles:[".card[_ngcontent-%COMP%]{border-radius:19px;margin-top:10px}#add-project-card[_ngcontent-%COMP%]{margin:133px auto 68px}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}#setting[_ngcontent-%COMP%]{padding:0;transition:transform 1s}#setting[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}#project-title[_ngcontent-%COMP%]{padding-left:19px;padding-right:16px;text-align:left;font-size:18px;font-weight:500}#project[_ngcontent-%COMP%]{display:inherit}#guide[_ngcontent-%COMP%]{padding-bottom:11px;padding-right:5px}#cancel[_ngcontent-%COMP%]{padding:0 6px 0 0}#edit[_ngcontent-%COMP%]{display:flex;align-items:center}input[_ngcontent-%COMP%]{width:260px;border-radius:5px;border:1px solid var(--svg-color);padding:6px 12px;margin:8px 5px 8px 16px}input[_ngcontent-%COMP%]:focus{outline:none!important;border:1px solid rgb(238,167,26)}#tick[_ngcontent-%COMP%]{margin-right:16px;cursor:pointer}"]}),i})();function qO(i,n){1&i&&(h.O4$(),h.kcU(),h.TgZ(0,"p",19),h._uU(1,"Set up break time"),h.qZA())}function ZO(i,n){1&i&&(h.O4$(),h.kcU(),h.TgZ(0,"p",19),h._uU(1,"Set up focus time"),h.qZA())}function zO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",20),h.NdJ("click",function(){return h.CHM(r),h.oxw().sub()}),h._uU(1,"\u2013"),h.qZA()}}function WO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",21),h.NdJ("click",function(){return h.CHM(r),h.oxw().add()}),h._uU(1,"+"),h.qZA()}}function KO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().start()}),h._uU(1," Start "),h.qZA()}}function YO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().pause()}),h._uU(1," Pause "),h.qZA()}}function QO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().resume()}),h._uU(1," Resume "),h.qZA()}}function JO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().stop()}),h._uU(1," Stop "),h.qZA()}}function XO(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().back()}),h._uU(1," Back "),h.qZA()}}function eP(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().save()}),h._uU(1," Save "),h.qZA()}}function tP(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().cancel()}),h._uU(1," Cancel "),h.qZA()}}function nP(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){return h.CHM(r),h.oxw().next()}),h._uU(1," Next "),h.qZA()}}let rP=(()=>{class i{constructor(){this.isStart=!1,this.isPause=!1,this.time=10,this.now=0,this.minutes="00",this.seconds="00",this.isBreakTime=!1,this.isSetting=!0,this.isFocusTime=!0,this.count=0,this.isStop=!1}ngOnInit(){}start(){this.isStart=!0;var r=setInterval(()=>{if(this.time>0){this.now++;var a=this.time-this.now,c=Math.floor(a/60);this.minutes=c<10?"0"+c:c.toString();var f=Math.floor(a-60*c);this.seconds=f<10?"0"+f:f.toString(),10==f&&c<1&&this.playAudioFinishBreak(),(0==c&&0==f||this.isPause||this.isBreakTime||this.isFocusTime)&&(0==c&&0==f&&(this.count=1,this.time=0,this.isFocusTime=!0,this.isSetting=!0,this.isStart=!1),clearInterval(r))}},1e3)}pause(){this.isPause=!0}resume(){this.isPause=!1,this.start()}add(){this.count++,this.time=60*this.count;var r=this.time-this.now,a=Math.floor(r/60);this.minutes=a<10?"0"+a:a.toString();var c=Math.floor(r-60*a);this.seconds=c<10?"0"+c:c.toString()}sub(){if(this.count>0){this.count--,this.time=60*this.count;var r=this.time-this.now,a=Math.floor(r/60),c=Math.floor(r-60*a);this.minutes=a<10?"0"+a:a.toString(),this.seconds=c<10?"0"+c:c.toString()}this.count<=0&&(this.seconds="00",this.minutes="00",this.count=0)}save(){this.time=60*this.count,this.isBreakTime=!1,this.isSetting=!1,this.isFocusTime=!1,this.isStart=!1}stop(){this.isFocusTime=!0,this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isBreakTime=!1,this.isStop=!0,this.isSetting=!0}back(){this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isBreakTime=!1,this.isSetting=!0,this.isFocusTime=!0}next(){this.time=60*this.count,this.isFocusTime=!1,this.isSetting=!1,this.isStart=!1,this.isBreakTime=!1}cancel(){this.time=0,this.count=0,this.minutes="00",this.seconds="00",this.now=0,this.isFocusTime=!1,this.isBreakTime=!0}playAudioFinishBreak(){let r=new Audio;r.src="../assets/finishBreakAudio.wav",r.load(),r.play()}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-timer"]],decls:35,vars:14,consts:[[1,"card"],["id","top-title"],["src","assets/tomato.png","alt","tomato image",1,"pomo"],["id","cancel","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"],["id","settings"],["id","setting","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M 9.6679688 2 L 9.1757812 4.5234375 C 8.3550224 4.8338012 7.5961042 5.2674041 6.9296875 5.8144531 L 4.5058594 4.9785156 L 2.1738281 9.0214844 L 4.1132812 10.707031 C 4.0445153 11.128986 4 11.558619 4 12 C 4 12.441381 4.0445153 12.871014 4.1132812 13.292969 L 2.1738281 14.978516 L 4.5058594 19.021484 L 6.9296875 18.185547 C 7.5961042 18.732596 8.3550224 19.166199 9.1757812 19.476562 L 9.6679688 22 L 14.332031 22 L 14.824219 19.476562 C 15.644978 19.166199 16.403896 18.732596 17.070312 18.185547 L 19.494141 19.021484 L 21.826172 14.978516 L 19.886719 13.292969 C 19.955485 12.871014 20 12.441381 20 12 C 20 11.558619 19.955485 11.128986 19.886719 10.707031 L 21.826172 9.0214844 L 19.494141 4.9785156 L 17.070312 5.8144531 C 16.403896 5.2674041 15.644978 4.8338012 14.824219 4.5234375 L 14.332031 2 L 9.6679688 2 z M 12 8 C 14.209 8 16 9.791 16 12 C 16 14.209 14.209 16 12 16 C 9.791 16 8 14.209 8 12 C 8 9.791 9.791 8 12 8 z"],["id","guide",4,"ngIf"],["id","info","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","24","height","24","viewBox","0 0 24 24"],["d","M12,2C6.477,2,2,6.477,2,12s4.477,10,10,10s10-4.477,10-10S17.523,2,12,2z M12,17L12,17c-0.552,0-1-0.448-1-1v-4 c0-0.552,0.448-1,1-1h0c0.552,0,1,0.448,1,1v4C13,16.552,12.552,17,12,17z M12.5,9h-1C11.224,9,11,8.776,11,8.5v-1 C11,7.224,11.224,7,11.5,7h1C12.776,7,13,7.224,13,7.5v1C13,8.776,12.776,9,12.5,9z"],["id","time"],["id","mins"],["id","secs"],["id","sub",3,"click",4,"ngIf"],["id","add",3,"click",4,"ngIf"],["id","cmd"],["class","btn",3,"click",4,"ngIf"],["id","bottom-title"],["id","guide"],["id","sub",3,"click"],["id","add",3,"click"],[1,"btn",3,"click"]],template:function(r,a){1&r&&(h.TgZ(0,"main",0),h.TgZ(1,"header"),h.TgZ(2,"h1",1),h._uU(3,"Pomoguru"),h.qZA(),h._UZ(4,"img",2),h.O4$(),h.TgZ(5,"svg",3),h._UZ(6,"path",4),h.qZA(),h.qZA(),h.kcU(),h._UZ(7,"hr"),h.TgZ(8,"div",5),h.O4$(),h.TgZ(9,"svg",6),h._UZ(10,"path",7),h.qZA(),h.YNc(11,qO,2,0,"p",8),h.YNc(12,ZO,2,0,"p",8),h.TgZ(13,"svg",9),h._UZ(14,"path",10),h.qZA(),h.qZA(),h.kcU(),h.TgZ(15,"div",11),h.TgZ(16,"span",12),h._uU(17),h.qZA(),h._uU(18,":"),h.TgZ(19,"span",13),h._uU(20),h.qZA(),h.qZA(),h.YNc(21,zO,2,0,"button",14),h.YNc(22,WO,2,0,"button",15),h.TgZ(23,"div",16),h.YNc(24,KO,2,0,"button",17),h.YNc(25,YO,2,0,"button",17),h.YNc(26,QO,2,0,"button",17),h.YNc(27,JO,2,0,"button",17),h.YNc(28,XO,2,0,"button",17),h.YNc(29,eP,2,0,"button",17),h.YNc(30,tP,2,0,"button",17),h.YNc(31,nP,2,0,"button",17),h.qZA(),h.qZA(),h.TgZ(32,"h1",18),h._uU(33," Pomoguru "),h._UZ(34,"img",2),h.qZA()),2&r&&(h.xp6(11),h.Q6J("ngIf",1==a.isBreakTime),h.xp6(1),h.Q6J("ngIf",1==a.isFocusTime),h.xp6(5),h.Oqu(a.minutes),h.xp6(3),h.Oqu(a.seconds),h.xp6(1),h.Q6J("ngIf",a.isSetting),h.xp6(1),h.Q6J("ngIf",a.isSetting),h.xp6(2),h.Q6J("ngIf",0==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),h.xp6(1),h.Q6J("ngIf",0==a.isPause&&1==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),h.xp6(1),h.Q6J("ngIf",1==a.isPause&&0==a.isBreakTime&&0==a.isFocusTime&&1==a.isStart),h.xp6(1),h.Q6J("ngIf",1==a.isStart&&0==a.isBreakTime&&0==a.isFocusTime),h.xp6(1),h.Q6J("ngIf",1==a.isBreakTime),h.xp6(1),h.Q6J("ngIf",1==a.isBreakTime),h.xp6(1),h.Q6J("ngIf",1==a.isFocusTime),h.xp6(1),h.Q6J("ngIf",1==a.isFocusTime))},directives:[xr],styles:[""]}),i})(),iP=(()=>{class i{constructor(){this.msg="Are you sure to delete your account!",this.buttonValue="Delete",this.action=new h.vpe,this.buttonValueEvent=new h.vpe}ngOnInit(){}ngOnChanges(){document.getElementById("myModal").style.setProperty("display",this.display)}sendEvent(){this.action.emit(!0),this.close()}close(){this.display="none",this.buttonValueEvent.emit(this.display),document.getElementById("myModal").style.setProperty("display",this.display)}openPopupDialog(){document.getElementById("myModal").style.setProperty("display","block")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-modal"]],inputs:{msg:"msg",buttonValue:"buttonValue",display:"display"},outputs:{action:"action",buttonValueEvent:"buttonValueEvent"},features:[h.TTD],decls:8,vars:2,consts:[["id","myModal",1,"modal"],[1,"modal-content"],[1,"btn",3,"click"]],template:function(r,a){1&r&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"p"),h._uU(3),h.qZA(),h.TgZ(4,"button",2),h.NdJ("click",function(){return a.sendEvent()}),h._uU(5),h.qZA(),h.TgZ(6,"button",2),h.NdJ("click",function(){return a.close()}),h._uU(7,"Cancel"),h.qZA(),h.qZA(),h.qZA()),2&r&&(h.xp6(3),h.Oqu(a.msg),h.xp6(2),h.Oqu(a.buttonValue))},styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:220px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;padding:20px;border:1px solid #888;width:40%;text-align:center;border-radius:20px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:bold}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]}),i})(),sP=(()=>{class i{constructor(r){this.userService=r,this.user=new AE,this.name="",this.photoUrl="",this.audio=new Audio,this.msg="Are you sure to delete your account!",this.buttonValue="Delete",this.display="none",this.backgroundColor=window.getComputedStyle(document.documentElement).getPropertyValue("--background-card"),this.color=window.getComputedStyle(document.documentElement).getPropertyValue("--nav-background")}ngOnInit(){this.userService.currentUserData.subscribe(r=>{this.user=r,this.name=this.user.firstName+" "+this.user.lastName,this.photoUrl=this.user.photoUrl,this.user.setting?(this.setting=this.user.setting,document.getElementById(this.setting.toString()).style.setProperty("background-color",this.color)):(this.user.setting=1,this.userService.changeUserData(this.user),document.getElementById("1").style.backgroundColor=this.color)})}changeSound(r){switch(r){case 1:document.getElementById("1").style.setProperty("background-color",this.color),document.getElementById("2").style.setProperty("background-color",this.backgroundColor),document.getElementById("3").style.setProperty("background-color",this.backgroundColor),this.audio.src="assets/1.wav",this.audio.load(),this.audio.play(),this.user.setting=1;break;case 2:document.getElementById("2").style.setProperty("background-color",this.color),document.getElementById("1").style.setProperty("background-color",this.backgroundColor),document.getElementById("3").style.setProperty("background-color",this.backgroundColor),this.audio.src="assets/2.wav",this.audio.load(),this.audio.play(),this.user.setting=2;break;case 3:document.getElementById("3").style.setProperty("background-color",this.color),document.getElementById("2").style.setProperty("background-color",this.backgroundColor),document.getElementById("1").style.setProperty("background-color",this.backgroundColor),this.audio.src="assets/3.wav",this.audio.load(),this.audio.play(),this.user.setting=3}this.userService.changeUserData(this.user)}deleteUserEvent(){this.display="block"}close(r){"none"==r&&(this.display="none;")}deleteUser(r){1==r&&this.userService.DeleteUser()}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(xT))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-setting"]],decls:19,vars:5,consts:[["id","top-about",1,"card"],["id","profile-photo","alt","",3,"src"],["id","name"],["id","disc"],[3,"click"],["id","1","src","https://img.icons8.com/fluency-systems-filled/48/000000/musical.png"],["id","2","src","https://img.icons8.com/fluency-systems-filled/48/000000/musical.png"],["id","3","src","https://img.icons8.com/fluency-systems-filled/48/000000/musical.png"],["id","delete",3,"click"],[3,"msg","buttonValue","display","buttonValueEvent","action"]],template:function(r,a){1&r&&(h.TgZ(0,"main",0),h.TgZ(1,"header"),h._UZ(2,"img",1),h.TgZ(3,"p",2),h.TgZ(4,"b"),h._uU(5),h.qZA(),h.qZA(),h.qZA(),h._UZ(6,"hr"),h.TgZ(7,"p",3),h._uU(8," change sound when working-session finished: "),h.qZA(),h.TgZ(9,"ul"),h.TgZ(10,"li",4),h.NdJ("click",function(){return a.changeSound(1)}),h._UZ(11,"img",5),h.qZA(),h.TgZ(12,"li",4),h.NdJ("click",function(){return a.changeSound(2)}),h._UZ(13,"img",6),h.qZA(),h.TgZ(14,"li",4),h.NdJ("click",function(){return a.changeSound(3)}),h._UZ(15,"img",7),h.qZA(),h.qZA(),h.TgZ(16,"button",8),h.NdJ("click",function(){return a.deleteUserEvent()}),h._uU(17,"Delete Account"),h.qZA(),h.qZA(),h.TgZ(18,"app-modal",9),h.NdJ("buttonValueEvent",function(f){return a.close(f)})("action",function(f){return a.deleteUser(f)}),h.qZA()),2&r&&(h.xp6(2),h.s9C("src",a.photoUrl,h.LSH),h.xp6(3),h.hij(" ",a.name," "),h.xp6(13),h.Q6J("msg",a.msg)("buttonValue",a.buttonValue)("display",a.display))},directives:[iP],styles:['#top-about[_ngcontent-%COMP%]{margin:133px auto 0%}#disc[_ngcontent-%COMP%]{display:inline-block;padding:20px 25px;margin:0;font-size:13px;font-weight:normal;color:var(--guide-color)}#profile-photo[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:100%;object-fit:cover;object-position:50% 50%;margin:30px 0 25px}header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#name[_ngcontent-%COMP%]{margin:0 0 8px}li[_ngcontent-%COMP%]{list-style:none;float:left;cursor:pointer}li[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{background:#fff;height:30px;margin:0 5px;border-radius:5px}ul[_ngcontent-%COMP%]{margin:-13px 0 45px 139px}#delete[_ngcontent-%COMP%]{width:290px;cursor:pointer;border:none;background:#ff4b4b;color:#fff;padding:12px 12px 10px;border-radius:20px;font-weight:500;font-family:"Open Sans",sans-serif;margin-bottom:30px;margin-top:13px}']}),i})(),oP=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-about"]],decls:31,vars:0,consts:[["id","top-about",1,"card"],["id","top-title"],["src","assets/tomato.png","alt","tomato image",1,"pomo"],["id","disc"],["id","bottom-about",1,"card"],["id","header-images"],["id","avatar","src","assets/nawfel-orange-light.jpg","alt",""],["id","contact-icons"],["href","tel:+21653768412"],["src","assets/phone.png","alt","",1,"contact"],["href","https://www.linkedin.com/in/nawfel-sekrafi-874167172/","target","_blank"],["src","assets/linkedin.png","alt","",1,"contact"],["href","https://github.com/nawfelsekrafi","target","_blank"],["src","assets/git.png","alt","",1,"contact"],["href","https://doc-0k-80-docs.googleusercontent.com/docs/securesc/4o2iec4q36qqhpu4l9akda1divt403mv/ka5b3j565nml37am0ktfu6haos58d7ru/1635340275000/00510072891964138568/00510072891964138568/1bVy4XX0pdDs2MsKQO140W9y-MVjCH5Oh?e=download&authuser=0","download",""],["src","https://img.icons8.com/fluency/48/000000/parse-from-clipboard.png",1,"contact"],["id","guide"],["id","bottom-title"]],template:function(r,a){1&r&&(h.TgZ(0,"main",0),h.TgZ(1,"header"),h.TgZ(2,"h1",1),h._uU(3,"About"),h.qZA(),h._UZ(4,"img",2),h.qZA(),h._UZ(5,"hr"),h.TgZ(6,"p",3),h._uU(7,"This app is made with Angular 12, Firebase and much love\u2661, to help you be more focus and productive."),h._UZ(8,"br"),h._uU(9," PS: We take care of your beautiful eyes with our dark mode."),h.qZA(),h.qZA(),h.TgZ(10,"main",4),h.TgZ(11,"header"),h.TgZ(12,"h1",1),h._uU(13,"Nawfel Sekrafi"),h.qZA(),h.qZA(),h._UZ(14,"hr"),h.TgZ(15,"div",5),h._UZ(16,"img",6),h.TgZ(17,"div",7),h.TgZ(18,"a",8),h._UZ(19,"img",9),h.qZA(),h.TgZ(20,"a",10),h._UZ(21,"img",11),h.qZA(),h.TgZ(22,"a",12),h._UZ(23,"img",13),h.qZA(),h.TgZ(24,"a",14),h._UZ(25,"img",15),h.qZA(),h.qZA(),h.TgZ(26,"p",16),h._uU(27,"Hi, I 'am Nawfel, a fresh graduate student with bachelor degree in computer science from the faculty of sciences of Gabes-Tunisia 2021-, I 'am a developer, a long life learner, problem solving enthusiastic and a big brother. "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(28,"h1",17),h._uU(29," Pomoguru "),h._UZ(30,"img",2),h.qZA())},styles:["#top-about[_ngcontent-%COMP%]{margin:133px auto 0%}#bottom-about[_ngcontent-%COMP%]{margin:3% auto 0%}.contact[_ngcontent-%COMP%]{width:auto;height:30px}#contact-icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;margin-bottom:-8px}#avatar[_ngcontent-%COMP%]{width:auto;height:118px;height:152px;margin-right:8px;border-radius:0 25px}#header-images[_ngcontent-%COMP%]{display:flex;align-items:center}#disc[_ngcontent-%COMP%]{display:inline-block;padding:20px 25px;margin:0;font-size:13px;font-weight:normal;color:var(--guide-color)}"]}),i})();function aP(i,n){1&i&&(h.TgZ(0,"label",5),h._uU(1,"\u2600\ufe0f"),h.qZA())}function uP(i,n){1&i&&(h.TgZ(0,"label",5),h._uU(1,"\u{1f319}"),h.qZA())}function cP(i,n){1&i&&h._UZ(0,"app-dashboard")}function lP(i,n){1&i&&h._UZ(0,"app-projects")}function dP(i,n){1&i&&h._UZ(0,"app-timer")}function hP(i,n){1&i&&h._UZ(0,"app-setting")}function fP(i,n){1&i&&h._UZ(0,"app-about")}let pP=(()=>{class i{constructor(r){this.userService=r,this.dashboard=!1,this.timer=!1,this.settings=!1,this.about=!1,this.projects=!0,this.toggleSwitch=document.querySelector('.theme-switch input[type="checkbox"]'),this.day=!0;var a=localStorage.getItem("theme")?localStorage.getItem("'theme"):null;a&&(document.documentElement.setAttribute("data-theme",a),"dark"===a&&(this.toggleSwitch.checked=!0))}switchTheme(r){r.target.checked?(document.documentElement.setAttribute("data-theme","dark"),this.day=!1,localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),this.day=!0)}ngOnInit(){this.userService.gotUserAllData()}changePage(r){switch(r){case"dashboard":this.dashboard=!0,this.timer=!1,this.about=!1,this.projects=!1,this.settings=!1;break;case"settings":this.dashboard=!1,this.timer=!1,this.about=!1,this.projects=!1,this.settings=!0;break;case"about":this.dashboard=!1,this.timer=!1,this.about=!0,this.projects=!1,this.settings=!1;break;case"projects":this.dashboard=!1,this.timer=!1,this.about=!1,this.projects=!0,this.settings=!1;break;case"timer":this.dashboard=!1,this.timer=!0,this.about=!1,this.projects=!1,this.settings=!1}}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(xT))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-start"]],decls:10,vars:7,consts:[[3,"page"],[1,"theme-switch"],["type","checkbox","name","dark","id","checkbox",3,"click"],["for","checkbox","class","changeLight",4,"ngIf"],[4,"ngIf"],["for","checkbox",1,"changeLight"]],template:function(r,a){1&r&&(h.TgZ(0,"app-nav",0),h.NdJ("page",function(f){return a.changePage(f)}),h.qZA(),h.TgZ(1,"div",1),h.TgZ(2,"input",2),h.NdJ("click",function(f){return a.switchTheme(f)}),h.qZA(),h.YNc(3,aP,2,0,"label",3),h.YNc(4,uP,2,0,"label",3),h.qZA(),h.YNc(5,cP,1,0,"app-dashboard",4),h.YNc(6,lP,1,0,"app-projects",4),h.YNc(7,dP,1,0,"app-timer",4),h.YNc(8,hP,1,0,"app-setting",4),h.YNc(9,fP,1,0,"app-about",4)),2&r&&(h.xp6(3),h.Q6J("ngIf",0==a.day),h.xp6(1),h.Q6J("ngIf",1==a.day),h.xp6(1),h.Q6J("ngIf",a.dashboard),h.xp6(1),h.Q6J("ngIf",a.projects),h.xp6(1),h.Q6J("ngIf",a.timer),h.xp6(1),h.Q6J("ngIf",a.settings),h.xp6(1),h.Q6J("ngIf",a.about))},directives:[MO,xr,OO,GO,rP,sP,oP],styles:["#checkbox[_ngcontent-%COMP%]{height:0;width:0}.changeLight[_ngcontent-%COMP%]{cursor:pointer;position:center}.theme-switch[_ngcontent-%COMP%]{text-align:center;margin-top:110px;margin-bottom:-110px}"]}),i})();function gP(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"app-header",2),h.NdJ("loggedIn",function(c){return h.CHM(r),h.oxw().checkIsLoggedIn(c)}),h.qZA()}}function mP(i,n){1&i&&h._UZ(0,"app-start")}let _P=(()=>{class i{constructor(){this.loggedIn=!1}ngOnInit(){}checkIsLoggedIn(r){1==r&&(this.loggedIn=!0)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-app-pomodoro"]],decls:2,vars:2,consts:[[3,"loggedIn",4,"ngIf"],[4,"ngIf"],[3,"loggedIn"]],template:function(r,a){1&r&&(h.YNc(0,gP,1,0,"app-header",0),h.YNc(1,mP,1,0,"app-start",1)),2&r&&(h.Q6J("ngIf",0==a.loggedIn),h.xp6(1),h.Q6J("ngIf",1==a.loggedIn))},directives:[xr,NO,pP],styles:[""]}),i})(),yP=(()=>{class i{constructor(){this.title="POMOGURU"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(r,a){1&r&&h._UZ(0,"app-app-pomodoro")},directives:[_P],styles:[""]}),i})();const vP_firebase={apiKey:"AIzaSyD9x8SOTESWohB9wz8L28RvGYXBXslgP68",authDomain:"pomoguru-d0b61.firebaseapp.com",projectId:"pomoguru-d0b61",storageBucket:"pomoguru-d0b61.appspot.com",messagingSenderId:"585145924935",appId:"1:585145924935:web:cfd87a76e0f76f18552062",measurementId:"G-TF98GVXFLG"};let wP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i,bootstrap:[yP]}),i.\u0275inj=h.cJS({providers:[],imports:[[sl,tv,Ci.hO.initializeApp(vP_firebase),b,vR,lO,Uo,jh,fA]]}),i})();(0,h.G48)(),q_().bootstrapModule(wP).catch(i=>console.error(i))},4762:(Qe,De,F)=>{"use strict";function fe(oe,_e){var ae={};for(var ye in oe)Object.prototype.hasOwnProperty.call(oe,ye)&&_e.indexOf(ye)<0&&(ae[ye]=oe[ye]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(ye=Object.getOwnPropertySymbols(oe);he<ye.length;he++)_e.indexOf(ye[he])<0&&Object.prototype.propertyIsEnumerable.call(oe,ye[he])&&(ae[ye[he]]=oe[ye[he]])}return ae}function de(oe,_e,ae,ye){return new(ae||(ae=Promise))(function(Q,Oe){function Je(ut){try{nt(ye.next(ut))}catch(cn){Oe(cn)}}function Tt(ut){try{nt(ye.throw(ut))}catch(cn){Oe(cn)}}function nt(ut){ut.done?Q(ut.value):function(Q){return Q instanceof ae?Q:new ae(function(Oe){Oe(Q)})}(ut.value).then(Je,Tt)}nt((ye=ye.apply(oe,_e||[])).next())})}function Y(oe,_e){var ye,he,Q,Oe,ae={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Oe={next:Je(0),throw:Je(1),return:Je(2)},"function"==typeof Symbol&&(Oe[Symbol.iterator]=function(){return this}),Oe;function Je(nt){return function(ut){return function(nt){if(ye)throw new TypeError("Generator is already executing.");for(;ae;)try{if(ye=1,he&&(Q=2&nt[0]?he.return:nt[0]?he.throw||((Q=he.return)&&Q.call(he),0):he.next)&&!(Q=Q.call(he,nt[1])).done)return Q;switch(he=0,Q&&(nt=[2&nt[0],Q.value]),nt[0]){case 0:case 1:Q=nt;break;case 4:return ae.label++,{value:nt[1],done:!1};case 5:ae.label++,he=nt[1],nt=[0];continue;case 7:nt=ae.ops.pop(),ae.trys.pop();continue;default:if(!(Q=(Q=ae.trys).length>0&&Q[Q.length-1])&&(6===nt[0]||2===nt[0])){ae=0;continue}if(3===nt[0]&&(!Q||nt[1]>Q[0]&&nt[1]<Q[3])){ae.label=nt[1];break}if(6===nt[0]&&ae.label<Q[1]){ae.label=Q[1],Q=nt;break}if(Q&&ae.label<Q[2]){ae.label=Q[2],ae.ops.push(nt);break}Q[2]&&ae.ops.pop(),ae.trys.pop();continue}nt=_e.call(oe,ae)}catch(ut){nt=[6,ut],he=0}finally{ye=Q=0}if(5&nt[0])throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}([nt,ut])}}}function X(oe){var _e="function"==typeof Symbol&&Symbol.iterator,ae=_e&&oe[_e],ye=0;if(ae)return ae.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&ye>=oe.length&&(oe=void 0),{value:oe&&oe[ye++],done:!oe}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(oe,_e){var ae="function"==typeof Symbol&&oe[Symbol.iterator];if(!ae)return oe;var he,Oe,ye=ae.call(oe),Q=[];try{for(;(void 0===_e||_e-- >0)&&!(he=ye.next()).done;)Q.push(he.value)}catch(Je){Oe={error:Je}}finally{try{he&&!he.done&&(ae=ye.return)&&ae.call(ye)}finally{if(Oe)throw Oe.error}}return Q}function ie(oe,_e,ae){if(ae||2===arguments.length)for(var Q,ye=0,he=_e.length;ye<he;ye++)(Q||!(ye in _e))&&(Q||(Q=Array.prototype.slice.call(_e,0,ye)),Q[ye]=_e[ye]);return oe.concat(Q||Array.prototype.slice.call(_e))}F.d(De,{_T:()=>fe,mG:()=>de,Jh:()=>Y,XA:()=>X,CR:()=>K,ev:()=>ie})},8239:(Qe,De,F)=>{"use strict";function h(V,fe,ve,ue,be,de,Y){try{var k=V[de](Y),L=k.value}catch(X){return void ve(X)}k.done?fe(L):Promise.resolve(L).then(ue,be)}function B(V){return function(){var fe=this,ve=arguments;return new Promise(function(ue,be){var de=V.apply(fe,ve);function Y(L){h(de,ue,be,Y,k,"next",L)}function k(L){h(de,ue,be,Y,k,"throw",L)}Y(void 0)})}}F.d(De,{Z:()=>B})}},Qe=>{Qe(Qe.s=8955)}]);